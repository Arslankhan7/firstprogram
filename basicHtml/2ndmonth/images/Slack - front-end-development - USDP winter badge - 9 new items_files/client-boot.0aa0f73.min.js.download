(()=>{var Ii=Object.defineProperty;var h=(H,n)=>Ii(H,"name",{value:n,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["client-boot"],{"+9Uj":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("weKX");const t={},a=Object(s.d)("QuipEmbed",t)},"+GhL":function(H,n,e){"use strict";e.d(n,"x",function(){return M}),e.d(n,"z",function(){return j}),e.d(n,"A",function(){return D}),e.d(n,"y",function(){return N}),e.d(n,"g",function(){return B}),e.d(n,"h",function(){return L}),e.d(n,"l",function(){return U}),e.d(n,"n",function(){return x}),e.d(n,"j",function(){return G}),e.d(n,"r",function(){return w}),e.d(n,"e",function(){return X}),e.d(n,"a",function(){return le}),e.d(n,"i",function(){return de}),e.d(n,"f",function(){return ie}),e.d(n,"p",function(){return pe}),e.d(n,"k",function(){return ne}),e.d(n,"w",function(){return q}),e.d(n,"b",function(){return ce}),e.d(n,"d",function(){return be}),e.d(n,"m",function(){return Q}),e.d(n,"s",function(){return re}),e.d(n,"D",function(){return z}),e.d(n,"c",function(){return Y}),e.d(n,"v",function(){return ve}),e.d(n,"t",function(){return Z}),e.d(n,"B",function(){return $}),e.d(n,"C",function(){return te}),e.d(n,"J",function(){return k}),e.d(n,"u",function(){return ae}),e.d(n,"q",function(){return Ee}),e.d(n,"K",function(){return _e}),e.d(n,"G",function(){return je}),e.d(n,"F",function(){return Ue}),e.d(n,"o",function(){return Ke}),e.d(n,"H",function(){return ke}),e.d(n,"I",function(){return Qe}),e.d(n,"E",function(){return Ze});var s=e("njXP"),t=e("Kmpi"),a=e("G0eX"),r=e("beVI"),l=e("xwCZ"),o=e("ByMX"),i=e("O86Y");function u(De,Fe){if(De.length<=Fe)return De;const Ve="\u2026",Je=De.substring(0,Fe),Ot=Je.lastIndexOf(" ");return Ot>0&&Ot>Fe-15?Je.substring(0,Ot)+Ve:Je.substring(0,Je.length-1)+Ve}h(u,"truncateToNearestWordBoundary");var d=u,c=h(De=>De.trim().split(/\s+/).length,"getWordCount"),E=e("C3vN"),f=e("Awbm"),O=e("E3dU"),p=e("ptQX");function b(De,Fe){const Ve=Object(O.m)(De,Fe&&Fe.id);return!(!Object(p.a)(De,Fe&&Fe.id||"")&&!Ve)&&!Object(E.ob)(De,Fe)}h(b,"isActionable");var T=e("5+iz"),v=e("yrot"),S=e("whaK"),A=e("nift"),I=e("V/As"),_=e("M4HD");const M=h(De=>!!(De&&De.installation&&De.installation.is_active),"isAppActive"),y=h(De=>!!(De&&De.app_type===s.a.Slack),"isAppSlackIntegration"),j=h(De=>!!(De&&De.app_type===s.a.CustomIntegration),"isAppCustomIntegration"),C=h(De=>!!(De&&De.directory_profile&&De.directory_profile.is_published),"isAppPublished"),D=h(De=>!!(De&&De.directory_profile&&De.directory_profile.is_distributed),"isAppDistributed"),N=h(De=>!!(De&&De.directory_profile&&De.directory_profile.is_approved),"isAppApproved"),B=h(De=>De&&De.app_id,"getAppId"),L=h(De=>{var Fe,Ve;return(Fe=De)===null||Fe===void 0||(Ve=Fe.profile)===null||Ve===void 0?void 0:Ve.name},"getAppName"),R=h(De=>De&&De.profile&&De.profile.color,"getAppColor"),U=h(De=>De&&De.profile&&De.profile.tagline,"getAppTagline"),W=h(De=>De&&De.profile&&De.profile.custom_integration_type,"getAppCustomIntegrationType"),x=h(De=>De&&De.app_type,"getAppType"),G=h(De=>De&&De.service_id,"getAppServiceId"),w=h(De=>De&&De.installation&&De.installation.installer_user_id,"getInstalledUserId"),se=h(De=>De&&De.installation&&De.installation.memberships_count||0,"getAppMembershipsCount"),ee=h(De=>De&&De.installation&&De.installation.date_created,"getAppDateCreated"),X=h(De=>De&&De.home_workspace_id,"getAppHomeWorkspaceId"),me=h(De=>De&&(De.home_enterprise_id||De.home_workspace_id),"getAppTopLevelTeamId"),Oe=h(De=>De&&j(De)&&De.profile&&De.profile.icons&&De.profile.icons.emoji?De.profile.icons.emoji:null,"getAppEmojiIcon"),Ce=h((De,Fe)=>{const Ve=X(Fe)||Object(r.g)(De).id,Je=Oe(Fe);return Je?Object(v.j)(De,{text:Je,teamId:Ve,emojiMode:Object(S.a)(De,{forceDisplay:!0}),emojiSize:A.a.LARGE}):Object(I.b)(Fe.profile,192)},"getAppAvatarUrl"),le=h(De=>De&&De.commands||[],"getAppCommands"),de=h(De=>De&&De.directory_profile&&De.directory_profile.screenshots||[],"getAppScreenshots"),ie=h(De=>De&&De.directory_profile&&De.directory_profile.home_url,"getAppHomepageUrl"),pe=h(De=>De&&De.directory_profile&&De.directory_profile.youtube_url,"getAppYoutubeUrl"),ne=h(De=>De&&De.directory_profile&&De.directory_profile.support_url,"getAppSupportUrl"),q=h(De=>{const Fe=De.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);return Fe[2]!==void 0?Fe[2].split(/[^0-9a-z_-]/i)[0]:""},"getYoutubeIdFromUrl"),ce=h(De=>De&&De.profile&&De.profile.description||"","getAppDescription"),ge=h(De=>De&&De.profile&&De.profile.formattedDescription||"","getAppFormattedDescription"),be=h((De,Fe)=>{let Ve=Ee(De,Fe);if(!Ve&&te(De,Fe)){const Je=X(Fe);Je&&(Ve=Object(r.s)(De,Je))}return Object(t.b)(Ve)?Object(a.h)(Ve):void 0},"getAppHomeTeamDisplayName"),Q=h(De=>d(ce(De),350),"getAppTruncatedDescription");function re(De,Fe){const Ve=Object(l.c)(De),Je=w(Fe);return Ve.id===Je}h(re,"getInstallerIsYou");function z(De){const Fe=!le(De),Ve=de(De)&&pe(De);return y(De)&&Fe||c(ce(De)||"")<350||!Ve&&Fe}h(z,"shouldHideDescriptionExpansion");function Y(De,Fe){if(!Fe)return"";const Ve=B(Fe);if(Ve===Object(T.c)())return"";const Je=j(Fe),Ot=y(Fe);if(!Je&&!Ot){const ht=$(De,Fe),Le=C(Fe),jt=D(Fe);if(!(ht?Le:jt))return""}return Object(a.v)(Object(r.g)(De),`/apps/${Ve}`)}h(Y,"getAppDirectoryUrl");function ve(De,Fe){if(!Fe)return"";const Ve=X(Fe),Je=G(Fe),Ot=Object(r.s)(De,Ve),ht=Object(l.c)(De),Le=Object(f.b)(ht);return $(De,Fe)||Object(t.e)(Ot)||!Je||Le||B(Fe)===Object(T.c)()?"":Object(a.v)(Ot,`/services/${Je}?settings=1`)}h(ve,"getSettingsUrl");function Z(De,Fe){if(!Fe)return"";const Ve=B(Fe),Je=X(Fe),Ot=Object(r.s)(De,Je);return Ot&&Ve&&Object(a.v)(Ot,`/apps/${Ve}`)}h(Z,"getManageUrl");function $(De,Fe){const Ve=Object(i.i)(De),Je=me(Fe);return Ve!==Je}h($,"isAppExternal");function te(De,Fe){const Ve=Object(i.g)(De);if(X(Fe)===Ve)return!1;const Je=Object(i.i)(De);return me(Fe)===Je}h(te,"isAppOrgShared");function J(De){return De&&De.installation&&De.installation.is_installed}h(J,"isAppInstalled");function k(De,Fe){return!Fe||Object(o.a)(De)||$(De,Fe)||Object(_.w)(Fe)?!1:J(Fe)&&!!(ve(De,Fe)||B(Fe))}h(k,"shouldShowSettingsButton");function ae(De,Fe,Ve){const Je=ve(De,Fe);if(Je)return Je;const Ot=B(Fe);if(Ot){const ht=`/apps/${Ot}?settings=1`;if(Ve){const Le=Object(r.s)(De,Ve);return Object(a.v)(Le,ht)}return ht}}h(ae,"getSettingsButtonUrl");function Ee(De,Fe){if(!Fe)return null;const Ve=$(De,Fe),Je=me(Fe);return Ve?Object(r.s)(De,Je):null}h(Ee,"getExternalTopLevelTeam");function _e(De,Fe){return!(!M(Fe)||$(De,Fe)||te(De,Fe))}h(_e,"shouldShowSlashCommands");function je(De,Fe){const Ve=M(Fe),Je=te(De,Fe),Ot=Object(l.c)(De),ht=Object(f.b)(Ot);return(Ve||Je)&&!ht}h(je,"shouldShowAppSettings");function Ue(De,Fe){return!!Y(De,Fe)}h(Ue,"shouldShowAppDirectoryLink");function Ke(De,Fe){var Ve;if(Object(t.e)(Fe))return null;const Je=(Ve=Fe.app_user)===null||Ve===void 0?void 0:Ve.id;if(Je){const Ot=Object(l.g)(De,Je);return Object(E.fb)(Ot)?null:Ot}if(!Je&&!$(De,Fe)){const Ot=B(Fe);return Object(l.e)(De,Ot)}return null}h(Ke,"getAppUser");function ke(De,Fe){if(Object(t.e)(Fe))return!1;const Ve=Ke(De,Fe);return $(De,Fe)?Ve&&Fe.app_type===s.a.Xoxp&&M(Fe):!!Ve}h(ke,"shouldShowAppSpace");function Qe(De,Fe){if(Object(t.e)(Fe))return!1;var Ve;const Je=(Ve=Ke(De,Fe))!==null&&Ve!==void 0?Ve:void 0,Ot=b(De,Je);return $(De,Fe)?Ot&&Fe.app_type===s.a.Xoxp:Ot}h(Qe,"shouldShowDirectMessageItem");function Ze(De,Fe){return Object(t.e)(Fe)||B(Fe)===Object(T.c)()?!1:$(De,Fe)?C(Fe)||Qe(De,Fe):!0}h(Ze,"shouldShowAboutApp")},"+HFy":function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("0VPD"),t=e("Wy5O"),a=e("Muja"),r=e("s4P+"),l=e("lhZz"),o=e("t4eE");const i={INCLUDE:"include",EXCLUDE:"exclude"};var u=e("KLFD"),d=e("j77i"),m=e("7xYR");const c="RTM-ROUTER";function E(p){if(!m.getBootedWorkspacesByOrg)return Object(r.a)({teamOrEnterpriseId:p,label:c}).error("RtmRouter called in a non-Gantry context"),[];const b=Object(l.getClientStoreInstance)().getState();return Object(m.getBootedWorkspacesByOrg)(b,p)}h(E,"getBootedTeamIdsForOrg");function f(p,b){return p.type===i.INCLUDE?Object(s.a)(b,p.ids):Object(t.a)(b,p.ids)}h(f,"filterTeamIds");class O{static get(b){let T=O.instances[b];return T||(T=new O(b),O.instances[b]=T),T}static clearForTest(){O.instances={}}static getFilters(b){return b.__filters}static isEqualFilters(b,T){return Object(a.a)(b,T)}getRouting(b){if(this.subscribedTeamIds.length===0)return this.logger.error("teamIds must be refreshed before routing"),{teamIds:[]};const T=E(this.enterpriseId),v=b==null?void 0:b.team;if(!v)return{enterpriseId:this.enterpriseId,teamIds:T};f(v,this.subscribedTeamIds).length===0&&this.logger.error(this.getFilterErrorLog("subscribed",this.subscribedTeamIds,v));const A=f(v,T);return A.length===0?(this.logger.warn(this.getFilterErrorLog("booted",T,v)),{teamIds:[]}):{teamIds:A}}refreshTeamIdsForSubscription(){const b=this.getSubscribedTeamIdsForOrg(this.enterpriseId);if(!Object(a.a)(this.subscribedTeamIds,b)){var T;this.logger.info(`Subscribed teamIds list has changed; Prev: (${(T=this.subscribedTeamIds)===null||T===void 0?void 0:T.join(",")}), Current: (${b==null?void 0:b.join(",")})`)}return this.subscribedTeamIds=b,this.subscribedTeamIds}getSubscribedTeamIds(){return this.subscribedTeamIds.length===0?(this.logger.error("teamIds must be refreshed before access"),[]):this.subscribedTeamIds}setTeamIdConnected(b){this.connectedTeamIds.add(b)}getSubscribedTeamIdsForOrg(b){return!u.c||!d.f?(this.logger.error("Attempting to call into RtmRouter from a non-Gantry context."),[]):Object(o.b)()?Object(u.c)(b):[Object(d.f)("lastActiveTeamId")]}getFilterErrorLog(b,T,v){return`No ${b} teamIds after filtering: ${T} with: { type: ${v.type}, ids: ${v.ids} }`}constructor(b){this.enterpriseId=b,this.connectedTeamIds=new Set,this.logger=Object(r.a)({teamOrEnterpriseId:b,label:c}),this.subscribedTeamIds=this.refreshTeamIdsForSubscription()}}h(O,"rtm_router_RtmRouter"),O.instances={}},"+KE1":function(H,n,e){"use strict";e.d(n,"a",function(){return re});var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("m8R6"),l=e("3Hq1"),o=e("zmn3"),i=e("yM+I"),u=e("3REw"),d=e("WSQ4"),m=e("Cfcg"),c=e("9Gfp"),E=e("pFNT"),f=e("LZPg"),O=e("nNoG");const p=new O.b("calls"),b=h(z=>{let{displayName:Y,id:ve,userId:Z,color:$}=z;return t.a.createElement("div",{className:"p-huddles_draw__name_tag",style:$?{background:$}:{}},t.a.createElement(E.c,{className:"p-huddles_draw__name_tag_avatar",key:ve,size:24,userId:Z,isInteractive:!1,tabIndex:-1}),t.a.createElement("div",{className:"p-huddles_draw__name_tag_text"},Y))},"NameTag"),T=h((z,Y)=>{let{id:ve}=Y;return{displayName:ve==="self"?p.t("You"):Object(f.G)(z,ve),userId:ve==="self"?Object(c.a)(z):Object(f.E)(z,ve).userId}},"mapStateToProps");var v=Object(m.a)(T)(b);const S=-21,A=-15,I=h(z=>{let{peerId:Y,width:ve,height:Z,leftOffset:$,topOffset:te,color:J,renderNameTag:k=!0,isWindowDrawMode:ae=!1,xWindowPosition:Ee=0,yWindowPosition:_e=0}=z;const je=Object(s.useRef)(null);let Ue,Ke;const ke=$*ve,Qe=te*Z;Ue=Math.round(ke+A),Ke=Math.round(Qe+S),ae&&(Ue+=Ee,Ke+=_e);const Ze=Object(s.useMemo)(()=>[Ue,Ke],[Ue,Ke]),De=h(Fe=>{const Ve=je.current;Ve&&(Ve.style.setProperty("transform",`translate(${Fe[0]}px, ${Fe[1]}px)`),Ve.style.setProperty("visibility","initial"))},"updateCursorPosition");return Object(s.useEffect)(()=>{De(Ze)},[Ze]),t.a.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.a.createElement("div",{key:`cursor-${Y}`,className:"p-huddles_cursor_tracking__cursor",ref:je},k&&t.a.createElement(v,{key:`name-tag-${Y}`,id:Y,color:J})))},"HuddlesCursor");I.displayName="HuddlesCursor";var _=t.a.memo(I,a.a),M=e("KciV"),y=e("uXea"),j=e("Atq3");function C(z,Y,ve,Z){return`hsla(${z}, ${Y}%, ${ve}%, ${Z})`}h(C,"makeColorString");const D=h((z,Y)=>C(z,100,75,Y),"makeBaseColorString"),N=h(z=>C(z,80,50,1),"makeShadowColorString"),B=3;class L{static renderBaseStyle(Y){Y.lineJoin="round",Y.lineCap="round",Y.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=L.initialWidth,this.opacity=1,this.color=D(this.hue,this.opacity))}setHue(Y){this.hue=Y,this.color=D(this.hue,this.opacity),this.shadowColor=N(this.hue),this.observer.requestRenderOnNextFrame()}render(Y){this.fade(),Y.lineWidth=this.width,Y.strokeStyle=this.color,Y.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const Y=Math.min(1,(performance.now()-this.startedFadingTimestamp)/L.fadeDuration);this.width=L.initialWidth-Y*B,this.opacity=1-Y/1,this.color=D(this.hue,this.opacity),Y<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(Y){this.observer=Y,this.width=L.initialWidth,this.opacity=1,this.hue=0,this.color=D(this.hue,this.opacity),this.shadowColor=N(this.hue)}}h(L,"LineStyle"),L.displayName="LineStyle",L.initialWidth=7,L.fadeDuration=3e3;let R=h(class{getSegments(){return this.segments}addNewSegment(Y){this.segments.push(Y)}editLastSegment(Y){this.segments.pop(),this.segments.push(Y)}constructor(){this.segments=[]}},"ProgressivePlotter");class U extends R{draw(Y){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const $=this.getSegments();Y.beginPath();for(let te=0;te<$.length;te++){const J=$[te];Y.moveTo(J.a[0]*ve,J.a[1]*Z),Y.lineTo(J.b[0]*ve,J.b[1]*Z)}Y.stroke()}}h(U,"ProgressiveLineSegmentPlotter");class W extends R{draw(Y){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const $=this.getSegments();Y.beginPath();for(let te=0;te<$.length;te++){const J=$[te];Y.moveTo(J.a[0]*ve,J.a[1]*Z),Y.bezierCurveTo(J.b[0]*ve,J.b[1]*Z,J.c[0]*ve,J.c[1]*Z,J.d[0]*ve,J.d[1]*Z)}Y.stroke()}}h(W,"ProgressiveBezierCurvePlotter");const x=700,G=5e3;class w{onFadeCompleted(){this.plotter=new W,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,G)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,x)}update(Y){if(this.resetVestigialLineTimeout(),Y.type===u.c.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(Y.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(Y.type===u.c.Edit)this.plotter.editLastSegment(Y.segment);else if(Y.type===u.c.End)this.resetInactivityTimeout();else if(Y.type===u.c.ChangeHue)this.style.setHue(Y.hue);else{if(Y.type===u.c.Position)return;Object(j.a)(Y.type)}this.observer.requestRenderOnNextFrame()}render(Y,ve,Z){this.style.render(Y),this.plotter.draw(Y,ve,Z)}setLineVisibility(Y){Object.assign(this.visibilityState,Y)}getColor(){return this.style.getColor()}constructor(Y){this.observer=Y,this.plotter=new W,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new L({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}h(w,"line_DrawLine"),w.displayName="DrawLine";const se=h(z=>{let{refToForward:Y,isHidden:ve,numVisibleLines:Z,top:$,left:te,width:J,height:k,doNotApplyTargetRect:ae}=z;if(ae){const _e={display:ve||Z===0?"none":"block"};return t.a.createElement("canvas",{ref:Y,style:_e,"data-qa":"huddles-drawing-canvas"})}const Ee={display:ve||Z===0?"none":"block",...Object(y.a)({left:te,top:$,width:J,height:k})};return t.a.createElement("canvas",{ref:Y,style:Ee,"data-qa":"huddles-drawing-canvas"})},"Canvas");se.displayName="Canvas";var ee=t.a.memo(se,a.a),X=e("uxre");const me=new O.b("calls"),Oe=10,Ce=10,le=h(z=>{let{displayName:Y,coord:[ve,Z]}=z;return t.a.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${ve+Oe}px`,top:`${Z+Ce}px`}},Y)},"name_tag_NameTag"),de=h((z,Y)=>{let{id:ve}=Y;return{displayName:ve==="self"?me.t("You"):Object(f.G)(z,ve)}},"name_tag_mapStateToProps");var ie=Object(m.a)(de)(le);const pe=-33,ne=-9,q=h(z=>{let{top:Y,left:ve,width:Z,height:$,leftOffset:te,topOffset:J,id:k}=z;const ae=ve+te*Z,Ee=Y+J*$,_e={left:`${ae+ne}px`,top:`${Ee+pe}px`},je=Object(s.useMemo)(()=>[ae,Ee],[ae,Ee]);return t.a.createElement(t.a.Fragment,null,k!=="self"&&t.a.createElement("div",{key:`cursor-${k}`,className:"p-calls_draw__pencil_cursor",style:_e}),t.a.createElement(ie,{key:`name-tag-${k}`,id:k,coord:je}))},"Cursor");q.displayName="Cursor";var ce=t.a.memo(q,a.a);function ge(){return ge=Object.assign||function(z){for(var Y=1;Y<arguments.length;Y++){var ve=arguments[Y];for(var Z in ve)Object.prototype.hasOwnProperty.call(ve,Z)&&(z[Z]=ve[Z])}return z},ge.apply(this,arguments)}h(ge,"_extends");var be;class Q extends(be=t.a.Component){shouldComponentUpdate(Y,ve){return!Object(a.a)(this.props,Y)||!Object(a.a)(this.state,ve)}getOrCreatePeerLine(Y){return this.peerLines[Y]=this.peerLines[Y]||new w({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:ve=>this.setState(Z=>({numVisibleLines:Z.numVisibleLines+(ve?1:-1)}))}),this.peerLines[Y]}onIncomingPeerLine(Y){if(this.props.itemId&&Y.itemId&&Y.itemId!==this.props.itemId)return;const ve=this.getOrCreatePeerLine(Y.id);switch(ve.update(Y),Y.type){case u.c.New:{this.setState(Z=>{let{tagCoords:$,userColors:te}=Z;return{tagCoords:{...$,[Y.id]:Y.segment.d},userColors:{...te,[Y.id]:ve.getColor()}}});break}case u.c.Edit:{this.setState(Z=>{let{tagCoords:$}=Z;return{tagCoords:{...$,[Y.id]:Y.segment.d}}});break}case u.c.ChangeHue:{this.setState(Z=>{let{userColors:$}=Z;return{userColors:{...$,[Y.id]:ve.getColor()}}});break}case u.c.End:{this.setState(Z=>{let{tagCoords:$}=Z;return{tagCoords:Object(r.a)($,Y.id)}});break}case u.c.Position:{const Z=[Y.x,Y.y];this.setState($=>{let{tagCoords:te}=$;return{tagCoords:{...te,[Y.id]:Z}}});break}default:break}}componentDidMount(){i.a.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(Y,ve){Y.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&Object(M.c)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&ve.numVisibleLines>0||this.state.numVisibleLines>0&&ve.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){Object(l.a)(this.rafId)||this.context.window.cancelAnimationFrame(this.rafId),i.a.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,L.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.window.requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const Y=this.props.targetRect.width,ve=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,Y,ve);const Z=Object.values(this.peerLines);for(let $=0;$<Z.length;$++)Z[$].render(this.ctx,Y,ve)}renderCursor(Y,ve,Z){const{targetRect:$,useHuddlesCursor:te,itemId:J,isHostDrawWindow:k,isWindowDrawing:ae}=this.props;if(te){const Ee=this.state.userColors[Y],_e=J!=="self",je=k&&ae;return t.a.createElement(_,{key:Y,peerId:Y,topOffset:ve,leftOffset:Z,width:$.width,height:$.height,color:Ee,renderNameTag:_e,isWindowDrawMode:je,xWindowPosition:$.left,yWindowPosition:$.top})}return t.a.createElement(ce,ge({key:Y,id:Y,topOffset:ve,leftOffset:Z},$))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:Y}=this.props,ve={...Object(y.a)({left:Y.left,top:Y.top,width:Y.width,height:Y.height})};return t.a.createElement("div",{className:"p-calls_draw__renderer",style:ve},t.a.createElement(ee,ge({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),Object(o.a)(this.state.tagCoords,(Z,$)=>{let[te,J]=Z;return this.renderCursor($,J,te)}))}return t.a.createElement("div",{className:"p-calls_draw__renderer"},t.a.createElement(ee,ge({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),Object(o.a)(this.state.tagCoords,(Y,ve)=>{let[Z,$]=Y;return this.renderCursor(ve,$,Z)}))}constructor(Y){super(Y),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}h(Q,"renderer_BaseDrawRenderer"),Q.displayName="BaseDrawRenderer",Q.contextType=d.a;const re=t.a.forwardRef((z,Y)=>t.a.createElement(Q,ge({refToForward:Y},z)))},"+N8b":function(H,n,e){"use strict";var s=e("ZvnG");n.a=new s.a},"+OS1":function(H,n,e){H.exports=e.p+"office-98668ce.jpg"},"+VTe":function(H,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return d});var s=e("rHDT"),t=e("QAer"),a=e("O86Y"),r=e("PMNn"),l=e("E3dU"),o=e("fq54");const i=h((m,c,E,f)=>{if(Object(o.a)(m))return!0;const O=Object(s.a)(m,c,E);return Object.entries(O).map(p=>{let[b,T]=p;return[b,f(T)]}).some(p=>{let[b,T]=p;return Object(t.c)(m,T,b)})},"canUserDoCustomTeamPrefForTeamIds"),u=h((m,c,E,f)=>{if(!E)return!1;const O=Object(r.b)(m,E);return O?i(m,c,O,f):!1},"canUserDoCustomTeamPrefForChannel"),d=h(m=>({getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:(c,E)=>Object(a.a)(c).filter(O=>i(c,E,[O],m)),canUserDoCustomTeamPrefInSomeWorkspace:(c,E)=>{const f=Object(a.a)(c);return i(c,E,f,m)},canUserDoCustomTeamPrefForChannel:(c,E,f)=>u(c,E,f,m),canUserDoCustomTeamPrefForChannelById:(c,E,f)=>{const O=Object(l.d)(c,f);return u(c,E,O,m)}}),"createUserCanDoCustomTeamPrefRules")},"+bQA":function(H,n,e){"use strict"},"+eea":function(H,n,e){"use strict";e.d(n,"a",function(){return S});var s=e("Olm7"),t=e("lCmp"),a=e("9ndk"),r=e("HKE1"),l=e("azkI"),o=e("ISSR"),i=e("Yauy"),u=e("E97Y"),d=e("E3dU"),m=e("G0eX"),c=e("C3vN"),E=e("+tZp"),f=e("xwCZ"),O=e("9Gfp"),p=e("Pw4T"),b=e("4qCO"),T=e("h2ws");const v={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let S=h(class{sort(I,_){var M;const y=Object(p.d)({state:I});y.mark("modern-searcher-sorting-mark");const{members:j,channels:C,mpims:D,ims:N,teams:B,userGroups:L,emoji:R,broadcastKeywords:U,views:W,modals:x,appActions:G,channelSections:w,emails:se,files:ee,links:X,lists:me,listRecords:Oe,slashCommands:Ce,slackGlobalActions:le,quipShortcutCommands:de,channelActions:ie,fakeGlobalActions:pe,callActions:ne,apps:q,helpArticles:ce,workflowTriggers:ge,salesListViews:be}=_,Q={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};C&&C.reduce(($,te)=>Object(o.a)(te.item)?($.archivedChannels.push(te),$):(Object(i.db)(te.item)?$.memberChannels.push(te):$.nonmemberChannels.push(te),$),Q);let re=[...j||[],...Q.memberChannels,...D||[],...N||[],...R||[],...L||[],...U||[],...W||[],...x||[],...G||[],...w||[],...se||[],...ee||[],...X||[],...me||[],...Oe||[],...ne||[],...ie||[],...pe||[],...q||[],...ce||[],...ge||[],...be||[]],z=[...Q.nonmemberChannels,...B||[],...Ce||[],...le||[],...de||[]],Y=Q.archivedChannels;const ve=this.getSortFuzzyFunction(I,{localeAware:!0});this.options.flat||(re=this.precomputeMatchNames(I,re).sort(ve),z=this.precomputeMatchNames(I,z).sort(ve),Y=this.precomputeMatchNames(I,Y).sort(ve));let Z=[...re,...z,...Y];return this.options.flat&&Z.sort(ve),this.options.preferExactMatch&&(Z=[...Object(s.a)(Z,te=>te.isExactMatch),...Z]),this.options.frecency&&(this.options.normalize=!0,y.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?Z=Object(l.m)(I,{query:this.query,list:Z,bonusPoints:this.getFrecencyBonusPointsFunction(I)}):Z=Object(l.n)(I,{query:this.query,list:Z,bonusPoints:this.getFrecencyBonusPointsFunction(I)}),y.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((M=Z[0])===null||M===void 0)&&M.isSelf)&&(Z=[...Object(s.a)(Z,te=>te.isSelf),...Z]),y.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),Z}precomputeMatchNames(I,_){return _.map(M=>({...M,name:this.getNameForComparison(I,M)}))}getSortFuzzyFunction(I,_){let{localeAware:M}=_;return(y,j)=>{if(Object(u.i)(y.item)&&!Object(u.i)(j.item))return 1;if(Object(u.i)(j.item)&&!Object(u.i)(y.item)||Object(u.g)(y.item)&&!Object(u.g)(j.item))return-1;if(Object(u.g)(j.item)&&!Object(u.g)(y.item))return 1;if(!Object(u.i)(y.item)&&!Object(u.i)(j.item)){const U=y.score-j.score;if(U!==0)return U}if(Object(u.i)(y.item)&&Object(u.i)(j.item)){const U=y.score-j.score;if(U!==0)return U;var C,D;const W=((C=Object(i.G)(y.item))!==null&&C!==void 0?C:0)-((D=Object(i.G)(j.item))!==null&&D!==void 0?D:0);if(W!==0)return W}var N;const B=(N=y.name)!==null&&N!==void 0?N:"";var L;const R=(L=j.name)!==null&&L!==void 0?L:"";return M?Object(b.a)(B,R):B>R?1:R>B?-1:0}}getFrecencyBonusPointsFunction(I){return _=>{var M,y;const{item:j}=_,C={};if(Object(u.i)(j)){if(C.isMpim=0,this.options.preferMpimsWithActiveMembers){const D=Object(i.C)(j);if(!D)return C;const N=D.map(B=>Object(f.g)(I,B));Object(t.a)(N,B=>Object(c.V)(B)||Object(c.mb)(B))&&(C.isMpimWithDeactivatedMember=v.mpimWithDeactivatedMember)}return C}if(_.isExactMatch?(C.isExactMatch=v.exactMatch,_.isEmojiExactMatch&&(C.isEmojiExactMatch=v.exactMatch)):_.emojiScore?C.emojiScoreBonus=this.calculateNormalizedFuzzyBonusPoints(_,"emojiScore",v.emojiMatch):Object(o.a)(j)||Object(c.V)(j)||Object(c.mb)(j)||(C.fuzzyScoreBonus=this.calculateNormalizedFuzzyBonusPoints(_,"score",v.fuzzyMatch)),_.bestPreviousNameMatch&&(C.onlyMatchesPreviousName=v.matchesPreviousName),this.options.preferChannelMembers&&j.presence&&this.options.currentChannel&&Object(T.a)(I,j,this.options.currentChannel)&&(C.isMemberOfThisChannel=v.memberOfThisChannel),Object(u.e)(j)&&Object(i.qb)(I,j)&&(C.isStarred=v.starredChannel),Object(c.db)(j)){const D=Object(d.m)(I,j.id);D&&Object(i.qb)(I,D)&&(C.isStarred=v.starredChannel)}return j.is_emoji&&(j.name==="thumbsup"||j.name==="point_up")&&(C.isPopularEmojiVariant=v.popularEmoji),this.options.selfFirst&&Object(c.jb)(j)&&(C.isSelf=v.isSelf),this.options.preferChannelWorkflows&&j.type==="channel_action"&&j.channelId===((M=this.options)===null||M===void 0||(y=M.currentChannel)===null||y===void 0?void 0:y.id)&&(C.isWorkflowAssociatedWithChannel=v.workflowAssociatedWithChannel),(Object(u.l)(j)||Object(u.k)(j))&&(Object(o.a)(j)&&(C.isArchived=v.archivedChannel),Object(u.l)(j)&&this.options.preferChannelsUserBelongsTo&&!Object(o.a)(j)&&!Object(i.db)(j)&&(C.isNotChannelMember=v.notInChannel),Object(O.m)(I)&&Object(i.X)(j)&&(C.isChannelFromAnotherTeam=v.channelFromAnotherTeam)),Object(c.db)(j)&&(Object(c.V)(j)||Object(c.mb)(j))&&(C.isDeactivatedMember=v.deactivatedMember),(j.is_usergroup||j.is_broadcast_keyword)&&(C.isUserGroupOrKeyword=v.userGroupOrKeyword),C}}calculateNormalizedFuzzyBonusPoints(I,_,M){const y=I[_];if(!Object(a.a)(y))return 0;const j=.5**y;return Math.round(M*j)}getNameForComparison(I,_){let M;const y=_.item;return Object(u.i)(y)?M=y.name_normalized:Object(u.d)(y)?M=Object(r.a)(Object(i.t)(I,y,{publicChannelIncludeHashSign:!1})):Object(c.db)(y)?M=Object(E.a)(I,y):y.is_usergroup?M=y.handle||y.name:y.team_name?M=Object(r.a)(Object(m.h)(y)):y.isEmail?M=Object(r.a)(y.value):y.title?M=y.title:M=y.name,M}constructor({query:I,options:_={}}){this.options=_,this.query=I}},"SearcherSorter")},"+fxZ":function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("/MKj"),l=e("nNoG"),o=e("s9Q6"),i=e("stkM");const u=new l.b("trials");var d;(function(c){c.HuddlesFreemium="huddles_freemium"})(d||(d={}));const m=h(c=>{let{isFreemium:E,tooltipText:f,promoType:O,promoSubtype:p,variant:b}=c;const T=Object(r.useDispatch)(),v=30,S=Object(a.d)(o.i);Object(s.useEffect)(()=>{O&&T(Object(i.a)({campaignType:O,campaignSubType:p,reason:"trial_tooltip"}))},[T,O,p]);const A=Object(a.d)(j=>O?Object(o.b)(j,O,p):!1),I=Object(a.d)(j=>O?Object(o.c)(j,O,p):!1),_=h(()=>{if(S)switch(b){case d.HuddlesFreemium:return u.t("Huddles with more than two people are a paid feature, available with your free trial");default:return u.t("This is a paid feature, available with your free trial")}if(I)switch(b){case d.HuddlesFreemium:return u.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:v});default:return u.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:v})}switch(b){case d.HuddlesFreemium:return u.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return u.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),M=h(()=>S?u.t("This feature is unlimited with your free trial"):I?u.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:v}):u.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(A)return{};const y=E?M():_();return f?{tooltipTitle:f,tooltipBody:y}:{tooltipTitle:y}},"useTrialProBadgeTooltipText");n.b=m},"+nBv":function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("1yap"),a=e("E3dU"),r=e("s4P+"),l=e("0iF4"),o=e("8z+9"),i=e("vr9t");const u=Object(s.c)("update a pin count for a channel",(d,m,c)=>{let{channelId:E,count:f,forceUpdate:O=!1}=c;const p=m(),b={...Object(a.d)(p,E)},T=Object(i.e)(p,E,{refetchIfNeeded:!1}),v=Object(i.c)(p,E),S=!O&&v===o.b.LOADED?T==null?void 0:T.length:f;if(S===b.pinned_items_count)return;Object(r.a)({state:p}).info("PINS",`Pins count updated for channel ${E}: ${S}`);const A={...b,pinned_items_count:S};d(Object(t.a)({channel:A})),Object(l.d)(b,f)});u.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},"+ujC":function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return m}),e.d(n,"c",function(){return E});var s=e("oTSI"),t=e("aVws"),a=e("uAML"),r=e("CQj+"),l=e("uubn");function o(f,O){return Object(r.a)(f,O).then(p=>Object(l.a)(f,p))}h(o,"fetchAndUpsertAppProfilesForTeam");const i=h(f=>Object(t.b)(f,"appProfiles"),"computeEffectiveTeamOrEnterpriseId"),u=Object(s.a)(()=>new a.b({fetch:o,isEnabled:()=>!0})),d=h((f,O)=>u().markObjectsAsFresh(i(f),O),"markObjectsAsFresh"),m=h((f,O)=>u().markObjectsAsStale(i(f),O),"markObjectsAsStale"),c=h(f=>u().getFreshObjects(i(f)),"getFreshObjects"),E=h((f,O)=>u().maybeRefetch(i(f),O),"maybeRefetch")},"/92K":function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return l});var s;(function(o){o.Internal="internal",o.External="external",o.Invalid="invalid"})(s||(s={}));var t=e("9oTK"),a=e("WCk1"),r=e("2XU3");const l=Object(a.a)("Classifies a set of provided emails",function(){var o=Object(t.coroutine)(function*(i,u,d){const m=[];return(yield i(Object(r.apiCall)({reason:"classify-emails",method:"emails.info",args:{emails:d.emails}}))).emails.forEach(E=>{let f;switch(E.classification){case"internal":f=s.Internal;break;case"external":f=s.External;break;default:f=s.Invalid;break}const O={email:E.email,classification:f};E.primary_sc_team&&(O.primaryScTeam=E.primary_sc_team),m.push(O)}),m});return function(i,u,d){return o.apply(this,arguments)}}());l.meta={name:"createFetcher",key:"createFetcherclassifyEmails",description:"Classifies a set of provided emails"}},"/DoU":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("cqtq"),l=e("nNoG"),o=e("WIr4"),i=e("Gs4e"),u=e("G7vT");const d=new l.b("form_inputs"),m={inline:"inline",multiline:"multiline"},c=h((T,v)=>T>v,"isCurrentCountInvalid"),E=h((T,v)=>v-T,"getCharacterCount"),f=h((T,v,S)=>!S||T>=S?E(T,v):"","getCharacterCountDisplay"),O=h(T=>T.toString().length,"getCharacterCountLength");let p=h(class extends s.Component{getSnapshotBeforeUpdate(v){if(v.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const S=E(this.props.currentCount,this.props.maxCharacterLimit),A=O(S);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==A&&this.setCharacterCountLength(A)}return null}componentDidUpdate(v,S){this.props.type===m.inline&&S.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(v){this.setState(()=>({characterCountLength:v}))}setCharactersRemainingMessage(v,S){const A=this.makeCharactersRemainingMessage(v,S);this.setState(()=>({charactersRemainingMessage:A}))}setCharactersRemainingRef(v){this.charactersRemainingElement=v}makeCharactersRemainingMessage(v,S){const A=E(v,S);return d.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:A})}measureCountWidth(){const v=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=v,v}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:v,maxCharacterLimit:S,counterMinimumCharacters:A}=this.props,I=f(v,S,A);return t.a.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},I)}render(){const{className:v,currentCount:S,maxCharacterLimit:A,children:I,isDisabled:_,size:M,type:y,id:j}=this.props,C=Object(a.default)(v,"c-input_character_count",{"c-input_character_count--multiline":y===m.multiline,"c-input_character_count--large":M===i.a.large,"c-input_character_count--small":M===i.a.small,"c-input_character_count--invalid":this.state.hasFocus&&c(S,A),"c-input_character_count--disabled":_}),D=this.shouldReadCharactersRemainingMessage&&t.a.createElement("div",{id:j,hidden:!0},this.state.charactersRemainingMessage);let N;return this.shouldReadCharactersRemainingMessage||(N=t.a.createElement(u.b,{assertive:!0,message:this.state.charactersRemainingMessage})),t.a.createElement("div",{role:"presentation",className:C,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},I,this.renderCharactersRemaining(),N,D)}constructor(v){super(v);const S=this.makeCharactersRemainingMessage(v.currentCount,v.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:S,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,Object(o.a)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=Object(r.a)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");p.displayName="CharacterCount",p.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:m.inline,size:i.a.medium,counterMinimumCharacters:0,id:void 0};var b=n.a=p},"/FOo":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("y9ga"),t=e("uwTK");const a=h(r=>{const l=s.b.WHO_CAN_MANAGE_SHARED_CHANNELS;return Object(t.a)(r,l)},"getWhoCanManageSharedChannelsPref")},"/Hvu":function(H,n,e){"use strict";e.d(n,"a",function(){return f}),e.d(n,"b",function(){return p});var s=e("oTSI"),t=e("046c"),a=e("417x"),r=e("s4P+"),l=e("CWPp");const o=h((b,T,v)=>{var S,A,I,_;return{triggerId:(b==null?void 0:b.id)||"",workflowId:(b==null?void 0:b.workflow.workflow_id)||(T==null?void 0:T.id),isWorkflowPublished:(b==null||(S=b.workflow_details)===null||S===void 0?void 0:S.is_published)||(T==null?void 0:T.is_published),appId:(b==null?void 0:b.workflow.app_id)||((A=b==null?void 0:b.workflow.app)===null||A===void 0?void 0:A.id),app:b==null?void 0:b.workflow.app,inputs:b==null?void 0:b.inputs,owningTeamId:b==null?void 0:b.owning_team_id,isWorkflowApp:(I=b==null?void 0:b.workflow.app)===null||I===void 0?void 0:I.is_workflow_app,salesHomeWorkflowAppType:(_=b==null?void 0:b.workflow.app)===null||_===void 0?void 0:_.sales_home_workflow_app_type,title:(b==null?void 0:b.name)||(b==null?void 0:b.workflow.title)||(T==null?void 0:T.title)||(v==null?void 0:v.title),description:(b==null?void 0:b.description)||(b==null?void 0:b.workflow.description)||(T==null?void 0:T.description)||(v==null?void 0:v.description),appCollaborators:(T==null?void 0:T.collaborators)||(v==null?void 0:v.appCollaborators),shareUrl:(b==null?void 0:b.share_url)||(v==null?void 0:v.shareUrl)}},"getCommonMetadataFromTriggerAndWorkflow"),i=h((b,T,v)=>({...o(b,T,v),triggerType:t.a.Shortcut,url:b.shortcut_url}),"createLinkShortcut"),u=h((b,T,v)=>({...o(b,T,v),triggerType:t.a.Webhook}),"createWebhookShortcut"),d=h((b,T,v)=>({...o(b,T,v),triggerType:t.a.External}),"createExternalShortcut"),m=h((b,T,v)=>{const{eventType:S,channelIds:A,teamIds:I,filter:_}=Object(a.a)(b),M={eventType:S,channelIds:A,teamIds:I,filter:_};return{...o(b,T,v),triggerType:t.a.Event,event:M}},"createEventShortcut"),c=h((b,T,v)=>{const S=Object(a.a)(b.schedule);return{...o(b,T,v),triggerType:t.a.Scheduled,schedule:S}},"createScheduledShortcut"),E=h((b,T,v)=>o(b,T,v),"createUnknownShortcut"),f=h(b=>{let{passedShortcutInfo:T,trigger:v,workflow:S}=b;if(Object(l.a)(v)){const A=v;switch(A.type){case t.a.Shortcut:return i(A,S,T);case t.a.Event:return m(A,S,T);case t.a.Scheduled:return c(A,S,T);case t.a.External:return d(A,S,T);case t.a.Webhook:return u(A,S,T);default:return E(A,S,T)}}return E(void 0,S,T)},"createShortcutFromTriggerAndWorkflow"),O=h(b=>{try{return JSON.stringify(b)}catch(T){throw Object(r.b)().error("stringify failed for workflow/trigger obj shortcut info"),T}},"memoizeCacheKeyResolver"),p=Object(s.a)(f,O)},"/K2e":function(H,n,e){"use strict";var s=e("n3tL"),t=e("q1tI"),a=e.n(t),r=e("TGBA"),l=e("vJtL"),o=e("UHsu"),i=e("i9y5"),u=e("7JHn"),d=e("x5cI"),m=e("GFD/"),c=e("NPyv"),E=e("tv4y"),f=e("rq2v");function O(){return O=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var A=arguments[S];for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(v[I]=A[I])}return v},O.apply(this,arguments)}h(O,"_extends");const p={type:s.default.oneOf(Object(r.a)(E.b)),label:s.default.node,description:s.default.string,children:s.default.element,key:s.default.string,click:s.default.func,danger:s.default.bool,dataQa:s.default.string,checked:s.default.bool,indeterminate:s.default.bool,ariaHidden:s.default.bool,target:s.default.string,href:s.default.string,download:s.default.string,action:s.default.func,payload:s.default.object,autoClogProps:s.default.object},b={template:s.default.arrayOf(s.default.shape({...p,renderSubmenu:s.default.func,template:s.default.arrayOf(s.default.shape(p)),submenu:s.default.arrayOf(s.default.shape(p)),checked:s.default.bool})).isRequired};let T=h(class cr extends t.PureComponent{render(){const{template:S,...A}=this.props,I=S.map((_,M)=>{if(!_)return null;if(_.type===E.b.separator)return a.a.createElement(m.a,O({},_,{key:_.key||`separator-${M}`}));if(_.type===E.b.sub_separator)return a.a.createElement(m.a,O({},_,{className:"c-menu_separator__li--sub",key:_.key||`separator-${M}`}));if(_.type===E.b.header)return a.a.createElement(c.a,{key:_.key||`header-${M}`,label:_.label,className:_.className});if(_.type===E.b.loading)return a.a.createElement(i.a,{key:_.key||"loading",size:"large"});const y={children:_.children,className:_.className,classNameListItem:_.classNameListItem,label:_.label,description:_.description,icon:_.icon,badgeCount:_.badgeCount,badgeLabel:_.badgeLabel,badgeClassName:_.badgeClassName,shortcut:_.shortcut,showEnter:_.showEnter,onSelected:_.click,target:_.target,href:_.href,download:_.download,danger:_.danger,type:_.type,"data-qa":_.dataQa,disabled:_.disabled,showOfflineIcon:_.showOfflineIcon,showLinkIndicatorIcon:_.showLinkIndicatorIcon,checked:_.checked,indeterminate:_.indeterminate,width:_.submenuWidth,autoClogProps:_.autoClogProps,megaphoneSpaceName:_.megaphoneSpaceName,megaphoneNotificationName:_.megaphoneNotificationName,onMount:_.onMount,onUnmount:_.onUnmount,ariaDescribedBy:_.ariaDescribedBy,ariaRole:_.ariaRole},j=_.key||_.label;if(_.type===E.b.submenu){const D=Object(l.a)(_.renderSubmenu)?_.renderSubmenu:N=>a.a.createElement(cr,O({template:_.template||_.submenu},N,{width:_.submenuWidth}));return a.a.createElement(o.a,O({},y,{label:_.label,renderSubmenu:D,key:j}))}if(_.type===E.b.custom)return _.ariaHidden===!1?_.children:a.a.createElement("div",{"aria-hidden":"true",key:_.key},_.children);if(_.type===E.b.subheaderChild)return a.a.createElement(d.a,O({key:j,type:E.b.subheaderChild},y));const C=a.a.createElement(d.a,O({key:j},y));return _.megaphoneSpaceName&&_.megaphoneNotificationName?a.a.createElement(f.c,{key:j,spaceName:_.megaphoneSpaceName,notifications:{[_.megaphoneNotificationName]:{component:()=>C}}}):C});return a.a.createElement(u.a,O({},A),I)}},"MenuFromTemplate");T.displayName="MenuFromTemplate",T.propTypes=b,n.a=T},"/Nz6":function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("A1dN"),l=e("zb/F"),o=e("PIf0"),i=e("oY18"),u=e("g3a/"),d=e("nNoG"),m=e("sgFo");const c=new d.b("huddles"),E=Object(a.c)("Copies Huddle link by Channel Id",(f,O,p,b)=>{let{channelId:T,suppressToast:v}=p;const{window:S}=b(o.a),A=Object(m.n)(O());T&&(f(Object(r.b)({reason:"copy",channelId:T})).then(I=>{Object(l.e)(I.link,S)}),A&&!v&&f(Object(i.a)({element:t.a.createElement(u.a,{icon:"check-large",duration:3e3},c.rt("Huddle link copied"))})))});E.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},"/Rv1":function(H,n,e){"use strict";e.d(n,"a",function(){return I});var s=e("9oTK"),t=e.n(s),a=e("Z44y"),r=e("s4P+"),l=e("rZ8V"),o=e("25cE"),i=e("SQ0V"),u=e("BbyF"),d=e("2VFn"),m=e("bHpg"),c=e("ie1g"),E=e("4hjS"),f=e("cU/a"),O=e("S36j"),p=e("3qtv"),b=e("xcHN"),T=e("u09r"),v=e("RV0M"),S=e("2XjL");const A=Object(i.c)("Handle focus transitions when thread closes",function(){var _=Object(s.coroutine)(function*(M,y){const j=y(),C=Object(E.d)(j);if(!(C!=null&&C.length))return;const{threadTs:D,channelId:N}=Object(b.d)(j,C[0]);!N||!D||M(Object(T.a)({threadTs:D,channelId:N}))});return function(M,y){return _.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunktransitionFocusOutOfThread",description:"Handle focus transitions when thread closes"};const I=Object(i.c)("Closes the flexpane",function(_,M){let{shouldReplaceState:y=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3?arguments[3]:void 0;const C=Object(r.a)({getState:M});C.info("FLEXPANE","Attempting to close flexpane");const{windowId:D,isChildWindow:N}=j(v.a);if(Object(l.o)(M())||N)return _(Object(u.a)({windowId:D??d.c,container:d.h.Secondary}));if(Object(a.a)())return C.info("FLEXPANE","Closing docs flexpane"),_(Object(S.a)());const B=M(),L=Object(E.l)(B),R=Object(E.a)(B);if(R){if(C.info("FLEXPANE",`Handling docked section (${R})`),R!==L){if(R==="activity")return C.info("FLEXPANE","Replacing flexpane with docked activity"),_(Object(p.a)());if(R==="starred_items"||R==="saved")return C.info("FLEXPANE","Replacing flexpane with docked starred items"),_(Object(p.e)());if(R==="notifications")return C.info("FLEXPANE","Replacing flexpane with docked notifications"),_(Object(p.c)());if(R==="reactions")return C.info("FLEXPANE","Replacing flexpane with docked reactions"),_(Object(p.d)())}C.info("FLEXPANE","Clearing docked flexpane"),_(Object(O.b)(null))}if(C.info("FLEXPANE","Closing flexpane"),L==="help"){const U=Object(c.e)(B);U!=null&&U.categoryId&&_(Object(m.e)({categoryId:null}))}else L==="thread"&&_(A());return _(Object(f.a)({routeName:o.b,flexName:void 0,flexParams:void 0,replaceHistoryState:y}))});I.meta={name:"createThunk",key:"createThunkcloseFlexpane",description:"Closes the flexpane"}},"/S0L":function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("T1zM"),a=e("s4P+");const r="IMPROVED_SEARCH",l="search_sort",o=Object(s.c)("Message Search: set sort method",(i,u,d)=>{let{sort:m}=d;Object(a.a)({getState:u}).info(r,`Set message sort method. messageSort: ${m}`),i(Object(t.f)({pref:l,value:m}))});o.meta={name:"createThunk",key:"createThunksetMessageSort",description:"Message Search: set sort method"}},"/XFw":function(H,n,e){"use strict";var s=e("ZKjC"),t=e("jlKB"),a=e("JoR1"),r=e("ciPa");const l=Object(s.b)(o=>!Object(t.a)(o)&&!!Object(a.t)(o,"jumbomoji")&&Object(r.a)(o)!=="dense");l.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:o=>!Object(t.a)(o)&&!!Object(a.t)(o,"jumbomoji")&&Object(r.a)(o)!=="dense"},n.a=l},"/aHE":function(H,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return u}),e.d(n,"c",function(){return d}),e.d(n,"g",function(){return m});var s=e("SQ0V"),t=e("T1zM"),a=e("sjOx");const r=Object(s.c)("Channel search: set hide my channels",(c,E,f)=>{let{value:O}=f;c(Object(t.f)({pref:a.G,value:O}))});r.meta={name:"createThunk",key:"createThunksetChannelSearchHideMemberChannels",description:"Channel search: set hide my channels"};const l=Object(s.c)("Channel Search: set sort method",(c,E,f)=>{let{sort:O}=f;c(Object(t.f)({pref:a.D,value:O}))});l.meta={name:"createThunk",key:"createThunksetChannelSearchSort",description:"Channel Search: set sort method"};const o=Object(s.c)("People Search: set sort method",(c,E,f)=>{let{sort:O}=f;c(Object(t.f)({pref:a.I,value:O}))});o.meta={name:"createThunk",key:"createThunksetPeopleSearchSort",description:"People Search: set sort method"};const i=Object(s.c)("Setting result Count Toggle",(c,E,f)=>{let{count:O}=f;c(Object(t.f)({pref:"result_count_toggle",value:O}))});i.meta={name:"createThunk",key:"createThunksetResultCountToggle",description:"Setting result Count Toggle"};const u=Object(s.c)("People search: set hiding deactivated users",(c,E,f)=>{let{value:O}=f;c(Object(t.f)({pref:a.F,value:O}))});u.meta={name:"createThunk",key:"createThunksetPeopleSearchHideDeactivatedUsers",description:"People search: set hiding deactivated users"};const d=Object(s.c)("Message/File search: set exclude bots",(c,E,f)=>{let{value:O}=f;c(Object(t.f)({pref:a.E,value:O}))});d.meta={name:"createThunk",key:"createThunksetMessageAndFileSearchExcludeBots",description:"Message/File search: set exclude bots"};const m=Object(s.c)("Message/File search: search only my channels",(c,E,f)=>{let{value:O}=f;c(Object(t.f)({pref:a.H,value:O}))});m.meta={name:"createThunk",key:"createThunksetSearchOnlyMyChannelsChanged",description:"Message/File search: search only my channels"}},"/cL/":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("Cfcg"),l=e("ktUG"),o=e("/0Xg"),i=e("zxER"),u=e("beVI"),d=e("s9Q6"),m=e("Trx9"),c=e("iUFw"),E=e("Tevt"),f=e("Tsh7");function O(){return O=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(S[_]=I[_])}return S},O.apply(this,arguments)}h(O,"_extends");const p=new a.b("plan_change"),b=h(S=>{let{children:A,planLevel:I,entryPoint:_,feature:M,hash:y,action:j,useLink:C,refToForward:D,productId:N,productLevel:B,team:L,isTeamInTrial:R,tooltipProps:U,...W}=S;const x=Object(i.d)(se=>Object(o.x)(se,{entryPoint:_,productId:N,productLevel:B,action:j,feature:M,hash:y,planLevel:I})),G=C?E.a:c.a,w=t.a.createElement(G,O({ref:D},W,{href:x}),A);return t.a.createElement(m.a,{eventId:l.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},U?t.a.createElement(f.d,O({tip:p.t("Upgrade")},U),w):w)},"PlansPageCTABase");b.displayName="PlansPageCTABase";const T=h(S=>({team:Object(u.g)(S),isTeamInTrial:Object(d.i)(S)}),"mapStateToProps"),v=Object(r.a)(T)(b);n.a=t.a.forwardRef((S,A)=>t.a.createElement(v,O({},S,{refToForward:A})))},"/q5d":function(H,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return d});var s=e("9oTK"),t=e.n(s),a=e("rkcT"),r=e("lhZz"),l=e("25cE"),o=e("i/F/");function i(c){return u.apply(this,arguments)}h(i,"getRouteInfo");function u(){return u=Object(s.coroutine)(function*(c){let{contextualInfo:E,channels:f}=c;const{teamId:O,isForegroundTeam:p}=E,b=Object(r.getStoreInstanceByTeamId)(O),T=Object(a.b)({store:b,shouldSetFocus:p});return T||d({contextualInfo:E,channels:f})}),u.apply(this,arguments)}h(u,"_getRouteInfo");function d(c){let{contextualInfo:E,channels:f}=c;const{teamId:O}=E;if(!O)return null;const p=Object(a.c)(O);if(p)return p;if(f){const b=E.userId;return m({channels:f,selfId:b})}return null}h(d,"calculateRouteInfo");function m(c){let{channels:E,selfId:f}=c;if(!E.length)return null;const O={routeName:l.b,params:{}},p=Object(o.a)({channels:E,selfId:f});return p&&(O.params.entityId=p),O}h(m,"getRouteFromBootData")},"/qcS":function(H,n,e){"use strict";var s=e("UnpP");e.d(n,"a",function(){return s.a}),n.b=s.b},"04K9":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("n3tL"),t=e("DwFS");const a=Object(t.a)("Start delete animation for a message");a.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"},a.propTypes={channelId:s.default.string.isRequired,ts:s.default.string.isRequired,isDeleting:s.default.bool}},"0csk":function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("nNoG");const r=new a.b("error_boundary");function l(o){let{errCode:i}=o;return t.a.createElement("p",{className:"p-error_boundary__error_code_container"},t.a.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},r.t("Error: "),i))}h(l,"ErrorCode")},"0zWI":function(H,n,e){"use strict";e.d(n,"b",function(){return a});var s=e("Lgge");let t=null;function a(){return t}h(a,"getLastTeamSwitchTimestamp"),n.a=l=>{let{prevTeamId:o,nextTeamId:i,navigationTimestamp:u}=l;return o===i||!u||(t=u),s.a.resolve()},Object.defineProperty({lastTeamSwitchTimestamp:null},"lastTeamSwitchTimestamp",{get:()=>t,set:l=>{t=l}})},"19Yv":function(H,n,e){"use strict";e.d(n,"a",function(){return b}),e.d(n,"c",function(){return I}),e.d(n,"b",function(){return _});var s=e("E3dU"),t=e("RVJP"),a=e("NjAx"),r=e("E97Y"),l=e("ISSR"),o=e("OOsk");const i={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},u={ok:!1,reason:i.ArchivedChannel},d={ok:!1,reason:i.InvalidDm},m={ok:!1,reason:i.RequiredChannel};function c(M,y){const j=Object(s.B)(M,y)?Object(s.d)(M,y):null;return Object(l.a)(j)?u:Object(r.g)(j)||Object(r.i)(j)?d:Object(r.o)(j)?m:o.a}h(c,"isChannelKickableWithReason");function E(M,y){return c(M,y).ok}h(E,"isChannelKickable");var f=e("ByMX"),O=e("clOX"),p=e("RTHw");const b={...i,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},T={ok:!1,reason:b.InvalidParams},v={ok:!1,reason:b.UserIsRestricted},S={ok:!1,reason:b.RestrictedPublicChannel},A={ok:!1,reason:b.RestrictedPrivateChannel};function I(M,y){const j=Object(s.B)(M,y)?Object(s.d)(M,y):null;if(!Object(r.e)(j))return T;if(Object(f.b)(M))return v;const C=c(M,y);if(!C.ok)return{ok:!1,reason:C.reason};if(Object(t.d)(M,"channel_owner_role_expanded_permissions")==="on"&&Object(a.O)(M,{channelId:y}))return o.a;const N=Object(r.l)(j)?"public":"private",B=N==="private"?p.a:p.c,L=N==="private"?p.b:p.d,R=B(M)||L(M),U=N==="private"?"who_can_kick_groups":"who_can_kick_channels",W=Object(O.a)(M,U,j);return!R&&!W?N==="private"?A:S:o.a}h(I,"canUserKickFromChannelWithReason");function _(M,y){return I(M,y).ok}h(_,"canUserKickFromChannel")},"1EwG":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("BJra");function l(){return l=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(i[m]=d[m])}return i},l.apply(this,arguments)}h(l,"_extends");function o(i){const{children:u,className:d}=i;return u?t.a.createElement("span",l({className:Object(a.default)(d,"c-base_entity__subtext")},Object(r.a)(i)),u):null}h(o,"BaseEntitySubtext"),o.displayName="BaseEntitySubtext",n.a=o},"1HOW":function(H,n,e){"use strict";e.d(n,"a",function(){return j}),e.d(n,"b",function(){return y}),e.d(n,"e",function(){return D}),e.d(n,"d",function(){return N}),e.d(n,"c",function(){return B});var s=e("ifKl"),t=e("oTSI"),a=e("WIr4"),r=e("vd/O"),l=e("q1tI"),o=e.n(l),i=e("BHdc"),u=e("Sf+H"),d=e("HP72"),m=e("YsXF"),c=e("FRd1"),E=e("ktUG"),f=e("yh68"),O=e("HUUN"),p=e("Pewd"),b=e("9ADk"),T=e("2K8U"),v=e("cRTT"),S=e("MYuU"),A=e("OmHH");function I(){return I=Object.assign||function(L){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(L[W]=U[W])}return L},I.apply(this,arguments)}h(I,"_extends");const _={onOptionSelected:{action:E.UiAction.SELECT}},M=h(L=>L.map(R=>{let{id:U}=R;return U}),"getIdsFromHintOrErrors");let y=h(class extends l.Component{maybeRenderOptionsList(){const{selectState:R,setSelectState:U,renderOption:W,width:x,inputRef:G,ariaLabel:w,resultsInPopover:se,overlayClassName:ee,onOptionSelected:X,className:me,classPrefix:Oe,optionsRowHeight:Ce,onOpen:le,emptyStateMessage:de,minOptionsListWidth:ie,maxOptionsListHeight:pe,isLoading:ne,onOptionsListClose:q,onScrollablePage:ce,enableLoadingState:ge,autoClogProps:be,shouldAllowUnselectInSingleSelectMode:Q,shouldOptionBeSelected:re,optionsListFooterBannerContent:z}=this.props;if(se&&(!this.props.inputRef||!this.props.inputRef.current))return null;const Y={key:`${R.selectId}-popover`};ee&&(Y.overlayClassName=ee);const ve=se?o.a.createElement(m.a,{selectState:R,setSelectState:U,renderOption:W,width:x,inputRef:G,ariaLabel:w,onOptionSelected:X,popoverProps:Y,measurePopoverEventName:this.measurePopoverEventName,className:me,classPrefix:Oe,selectDataQa:this.fallbackDataQa,optionsRowHeight:Ce,onOpen:le,emptyStateMessage:de,minOptionsListWidth:ie,maxListHeight:pe,isLoading:ne,onOptionsListClose:q,onScrollablePage:ce,enableLoadingState:ge,autoClogProps:be,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:Q,shouldOptionBeSelected:re,footerBannerContent:z}):o.a.createElement(d.b,{selectState:R,setSelectState:U,renderOption:W,width:x,inputRef:G,ariaLabel:w,onOptionSelected:X,classPrefix:Oe,selectDataQa:this.fallbackDataQa,emptyStateMessage:de,maxListHeight:pe,optionsRowHeight:Ce,onOptionsListClose:q,enableLoadingState:ge,shouldAllowUnselectInSingleSelectMode:Q,shouldOptionBeSelected:re,footerBannerContent:z});return o.a.createElement(c.a,{elementType:E.ElementType.DROPDOWN,actionProps:_,autoClogProps:be},ve)}render(){const{renderSelectedOption:R,className:U,classPrefix:W,placeholderText:x,size:G,width:w,selectState:se,setSelectState:ee,inputRef:X,focusOnMount:me,showDropdownIcon:Oe,isLoading:Ce,resultsInPopover:le,isDisabled:de,isRequired:ie,onFocus:pe,onEsc:ne,ariaLabelledBy:q,ariaDescribedBy:ce,inputIcon:ge,maxCharacterLimit:be,onOptionsListClose:Q,ariaLabel:re,expandOnClick:z,searchOnClick:Y,autoClogProps:ve,errors:Z,hints:$,expandOnFocus:te,hideSelectedOptionOnDropdownOpen:J}=this.props,{isInvalid:k}=se,ae=Object(r.a)(Z),Ee=Object(r.a)($);let _e;Z&&(_e=ae?M(Z):void 0);let je;$&&(je=Ee?M($):void 0);const Ue=Object(S.e)([ce,_e,je]),Ke=k||ae;return o.a.createElement("div",{className:Object(i.default)(U,"c-search-select"),"data-qa":this.fallbackDataQa},o.a.createElement(u.a,{selectState:{...se,isInvalid:Ke,isRequired:ie,isDisabled:de},setSelectState:ee,renderSelectedOption:R,placeholderText:x,size:G,width:w,selectDataQa:this.fallbackDataQa,inputRef:X,focusOnMount:me,showDropdownIcon:Oe,isLoading:Ce,resultsInPopover:le,measurePopoverEventName:le?this.measurePopoverEventName:void 0,classPrefix:W,onBlur:this.onBlur,onFocus:pe,onEsc:ne,"aria-label":re,ariaLabelledBy:q,ariaDescribedBy:Ue,icon:ge,maxCharacterLimit:be,onOptionsListClose:Q,expandOnClick:z,autoClogProps:ve,searchOnClick:Y,expandOnFocus:te,hideSelectedOptionOnDropdownOpen:J}),ae&&Z&&o.a.createElement(p.a,{errors:Z}),Ee&&$&&$.map(ke=>{let{id:Qe,message:Ze,className:De}=ke;return Ze&&o.a.createElement(b.a,{key:Qe,id:Qe,className:De},Ze)}),this.maybeRenderOptionsList())}constructor(R){super(R),this.onBlur=W=>{if(this.dropdownContainer){const x=this.dropdownContainer.current;if(x&&x.contains(W.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(W)};const{selectId:U}=R.selectState;this.measurePopoverEventName=`measureSelectPopover--${U}`,this.fallbackDataQa=R.selectDataQa||U,this.dropdownContainer=o.a.createRef()}},"ControlledSearchSelect");y.displayName="ControlledSearchSelect",y.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:L=>L.label,renderSelectedOption:L=>L.label,resultsInPopover:!0,overlayClassName:void 0,size:T.f.MEDIUM,width:360,optionsRowHeight:T.a,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:s.a,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:s.a,onFocus:s.a,onEsc:s.a,onOpen:s.a,onOptionsListClose:s.a,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:s.a,isInvalidStateControlled:!1};const j=Object(v.a)(y);let C=h(class extends l.Component{setSelectState(R,U){this.setState(W=>{let x=R();const{filter:G,options:w}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==W.filterQuery&&G&&(x=G(w,x)),x},U)}render(){const{isRequired:R,isInvalid:U,isDisabled:W,showConfirmDialog:x}=this.props,G=x?j:y,w=Object(t.a)(()=>({...this.state,isInvalid:U,isRequired:R,isDisabled:W}));return o.a.createElement(G,I({},this.props,{selectState:w(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(R){super(R),this.state={filterQuery:"",displayQuery:"",options:R.options,selectId:R.selectId,isExpanded:R.isExpanded,isInvalid:R.isInvalid,isDisabled:R.isDisabled,selectedOption:R.selectedOption},this.inputRef=this.props.inputRef?this.props.inputRef:o.a.createRef(),Object(a.a)(this,["setSelectState"])}},"SearchSelect");C.displayName="SearchSelect",C.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:A.a,onOptionSelected:s.a,selectId:`search-select-${Object(S.d)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},n.f=C;const D=Object(f.a)(y),N=Object(f.a)(Object(v.a)(y)),B=Object(O.a)(y)},"1Mwh":function(H,n,e){"use strict";e.d(n,"i",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"g",function(){return o}),e.d(n,"h",function(){return i}),e.d(n,"f",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"c",function(){return m});var s=e("DwFS");const t=Object(s.a)("Set tile");t.meta={name:"createAction",key:"createActionsetTileInternal",description:"Set tile"};const a=Object(s.a)("Open tile");a.meta={name:"createAction",key:"createActionopenTileInternal",description:"Open tile"};const r=Object(s.a)("Close the active tile");r.meta={name:"createAction",key:"createActioncloseActiveTileInternal",description:"Close the active tile"};const l=Object(s.a)("Closes the specified tile");l.meta={name:"createAction",key:"createActioncloseTileInternal",description:"Closes the specified tile"};const o=Object(s.a)("Set active tile key");o.meta={name:"createAction",key:"createActionsetActiveTileKeyInternal",description:"Set active tile key"};const i=Object(s.a)("Set docked view to restore");i.meta={name:"createAction",key:"createActionsetDockedViewToRestore",description:"Set docked view to restore"};const u=Object(s.a)("Replace entire tile state");u.meta={name:"createAction",key:"createActionreplaceTileStateInternal",description:"Replace entire tile state"};const d=Object(s.a)("Minimize a tile");d.meta={name:"createAction",key:"createActionminimizeTileInternal",description:"Minimize a tile"};const m=Object(s.a)("Maximize a tile");m.meta={name:"createAction",key:"createActionmaximizeTileInternal",description:"Maximize a tile"}},"1Odg":function(H,n,e){"use strict";e.d(n,"a",function(){return E}),e.d(n,"b",function(){return O});var s=e("046c"),t=e("417x"),a=e("s4P+"),r=e("oTSI");const l=h(p=>{const{functionTriggerId:b,workflowId:T,title:v,description:S,isWorkflowApp:A,salesHomeWorkflowAppType:I,owningTeamId:_,developerTraceId:M,botUserId:y,appCollaborators:j,appId:C,shareUrl:D}=Object(t.a)(p);return{triggerId:b,workflowId:T,title:v,description:S,isWorkflowApp:A,salesHomeWorkflowAppType:I,owningTeamId:_,developerTraceId:M,botUserId:y,appCollaborators:j,appId:C,shareUrl:D}},"getCommonMetadataFromBlock"),o=h(p=>p.url?{...l(p),triggerType:s.a.Shortcut,url:p.url}:{...l(p),triggerType:s.a.Shortcut,url:""},"createLinkShortcutFromBlock"),i=h(p=>({...l(p),triggerType:s.a.Webhook}),"createWebhookShortcutFromBlock"),u=h(p=>({...l(p),triggerType:s.a.External}),"createExternalShortcutFromBlock"),d=h(p=>{const{triggerSubtype:b}=p,T={eventType:b||""};return{...l(p),triggerType:s.a.Event,event:T}},"createEventShortcutFromBlock"),m=h(p=>l(p),"createUnknownShortcutFromBlock"),c=h(p=>{const b={startTime:""};return{...l(p),triggerType:s.a.Scheduled,schedule:b}},"createScheduledShortcutFromBlock"),E=h(p=>{switch(p.triggerType){case s.a.Event:return d(p);case s.a.Scheduled:return c(p);case s.a.Shortcut:return o(p);case s.a.Webhook:return i(p);case s.a.External:return u(p);case void 0:return o(p);default:return m(p)}},"createShortcutFromBlock"),f=h(p=>{try{return JSON.stringify(p)}catch(b){throw Object(a.b)().error("stringify failed for workflow/trigger obj shortcut info"),b}},"memoizeCacheKeyResolver"),O=Object(r.a)(E,f)},"1VgO":function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return a});function s(r,l){const{ref:o}=l;return a(r,o)}h(s,"mergeRefWithChildRef");function t(r){return l=>{typeof r=="function"?r(l):r&&(r.current=l)}}h(t,"makeRefBackwardsCompatible");function a(){for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return i=>{l.forEach(u=>{t(u)(i)})}}h(a,"mergeRefs")},"1WOA":function(H,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("9oTK"),t=e("KciV"),a=e("vfQU"),r=e("S4vl"),l=e("kBpe"),o=e("74PA"),i=e("ktUG"),u=e("mSpc");const d=window.RTCPeerConnection,m=window.MediaStream,c=window.RTCIceCandidate,E=window.navigator,f={height:116,width:168},O=9;let p=h(class{getScreenThumbnails(v){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;var A=this;return Object(s.coroutine)(function*(){const I=yield Object(a.z)();if(S||b(A.log,I),Object(l.y)()&&!S){const j=yield A.guessSourceIdOnWindows();if(I.length===1&&!A.isSingleAppShareEnabled)return[{mediaSourceId:j,displayId:I[0].id,bounds:I[0].bounds}]}const _=["screen"];(yield A.isSingleAppShareEnabled)&&(_.push("window"),f.width=(v==null?void 0:v.width)||200,f.height=(v==null?void 0:v.height)||150);let M;try{M=yield Object(a.V)(f,_)}catch(j){A.log.error(`Could not get screen thumbnails: ${j.message}`)}return M?M.map((j,C)=>{var D;const N=I.find(L=>parseInt(j.display_id,10)===L.id);!N&&!Object(l.z)()&&!Object(l.p)()&&!(!((D=j.id)===null||D===void 0)&&D.startsWith("window:"))&&A.log.error(`Could not find matching display for screen ${C} with id ${j.display_id}`);const B=N||(Object(l.z)()||Object(l.p)()?I[C]:void 0);return{mediaSourceId:j.id,thumbnail:j.thumbnail,displayId:B&&B.id,bounds:B&&B.bounds,name:j.name}}):[]})()}getCurrentlyActiveScreenTrack(){return this.screenTrack}startCapturingScreen(v){var S=this;return Object(s.coroutine)(function*(){if(Object(r.b)(!S.screenTrack,"Screen track should not already be active"),!v){if(!E.mediaDevices.getDisplayMedia)throw S.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const A={audio:!1,video:{frameRate:{max:15}}},I=yield E.mediaDevices.getDisplayMedia(A);return S.screenTrack=I.getVideoTracks()[0],S.log.info(`Start screen sharing with track id: ${S.screenTrack.id} in browser`),S.screenTrack}catch(A){if(A.name!=="NotAllowedError")throw S.log.error(`Error: ${A.name} while trying to screen share in browser`),Object(o.a)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:A.name}),A;return null}}try{const A={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:v,maxFrameRate:15}}};if(!Object(l.x)()){const _=yield S.getScreenDetailsByMediaSourceId(v);_&&_.bounds&&(A.video.mandatory.maxWidth=_.bounds.width,A.video.mandatory.maxHeight=_.bounds.height)}const I=yield E.mediaDevices.getUserMedia(A);return S.screenTrack=I.getTracks()[0],S.log.info("Start screen sharing with track id:",S.screenTrack.id,"and mediaSourceId:",v),S.screenTrack}catch(A){throw S.log.error(`Error: ${A.name} for screen ${v}`),Object(o.a)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:A.name}),A}})()}stopCapturingScreen(){if(!this.screenTrack){Object(r.b)("No screenTrack to stop.");return}this.screenTrack.stop();const v=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",v),v}clearScreenTrack(){delete this.screenTrack}guessSourceIdOnWindows(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;var S=this;return Object(s.coroutine)(function*(){const A=`screen:${v}:0`;try{return yield S.startCapturingScreen(A),S.stopCapturingScreen(),A}catch{if(v===O)throw new Error("Unable to guess sourceId");return S.guessSourceIdOnWindows(v+1)}})()}getScreenDetailsByMediaSourceId(v){var S=this;return Object(s.coroutine)(function*(){let A;const I=yield S.getScreenThumbnails();return I&&(A=I.find(_=>_.mediaSourceId===v,I)),A})()}constructor(v){this.isSingleAppShareEnabled=v,this.log=Object(t.c)("SCREENS")}},"ScreenManager");function b(T,v){if(!v.length){T.error("No screens available");return}const S=new u.a(["id","width","height","x","y","scaleFactor","rotation"]);v.forEach(A=>{S.add([A.id,A.bounds.width,A.bounds.height,A.bounds.x,A.bounds.y,A.scaleFactor,A.rotation].map(String))}),T.info(`Available screens:
${S.report()}`)}h(b,"logDisplays")},"1Zcw":function(H,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s="HUDDLES",t=864e5,a=2},"1h8Q":function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s=h(t=>t.filter(a=>{let{datasource_id:r}=a;return!r}),"getAvailableOrgs")},"1yap":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("Fqb6"),a=e("u/Sz");const r=Object(s.c)(a.a.ADD_CHANNEL,function(l,o){let{channel:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!i||!i.id||l(Object(t.a)({channel:i,reason:a.a.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:a.a.ADD_CHANNEL}},"1zvf":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("sSHp"),a=e("bHpg");const r=Object(s.c)("Fetch and upsert ticket stats into the store",l=>l(Object(t.a)({reason:"fetchAndUpsertTicketStats"})).then(o=>{const i={unreadCount:o.unread_count||0,openCount:o.open_count||0};return l(Object(a.n)(i)),i}));r.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},"20qZ":function(H,n,e){"use strict";e.d(n,"a",function(){return S});var s=e("9oTK"),t=e("OnlX"),a=e("Lgge"),r=e("5IZy"),l=e("ktUG"),o=e("8TXW"),i=e("KciV");function u(){return 2}h(u,"getVoiceFocusCacheVersion");var d;const m="voiceFocusCache";function c(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}h(c,"createDefaultVoiceFocusCapability");function E(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}h(E,"createDefaultVoiceFocusCachedConfig");function f(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(d=window.navigator)===null||d===void 0?void 0:d.userAgent,I=arguments.length>1?arguments[1]:void 0;const _=localStorage.getItem(m),M={version:u(),voiceFocusCapability:c(),voiceFocusCachedConfig:E()};if(!_)return M;let y;try{y=JSON.parse(_)}catch(j){return Object(i.c)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",j.message),M}return y.version!==u()?M:(y.voiceFocusCapability&&(y.voiceFocusCapability.userAgent!==A||y.voiceFocusCapability.sdkVersion!==I)&&(y.voiceFocusCapability=M.voiceFocusCapability,y.voiceFocusCachedConfig=M.voiceFocusCachedConfig),{...M,...y})}h(f,"readVoiceFocusCache");function O(A){try{localStorage.setItem(m,JSON.stringify(A))}catch(I){Object(i.c)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",I.message)}}h(O,"writeVoiceFocusCache");var p=e("QjW8"),b=e("+N8b");const T=1657647210615,v=1686248081659;let S=h(class{init(I){let{configOnly:_,shouldPreventAutoDisable:M}=I;var y=this;return Object(s.coroutine)(function*(){_||y.callLogger.info(`VF cache: ${!!y.cache}`),y.shouldPreventAutoDisable=!!M,y.isSupported=yield y.isCapable(!!_),y.isSupported&&y.prepare(_)})()}isAvailable(){return this.isSupported}getTransformDevice(){var I=this;return Object(s.coroutine)(function*(){if(I.isSupported&&(I.voiceFocusConfigPromise&&(yield I.voiceFocusConfigPromise),!!I.voiceFocusDeviceTransformerPromise)){try{yield I.voiceFocusDeviceTransformerPromise}catch{I.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(I.voiceFocusTransformDevicePromise)try{return yield I.voiceFocusTransformDevicePromise}catch{I.callLogger.error("Could not get VoiceFocusTransformDevice")}}})()}shouldDisable(){if(this.shouldPreventAutoDisable)return!1;const I=Date.now();this.cpuWarningTimes.push(I);const _=I-6e4;this.cpuWarningTimes=this.cpuWarningTimes.filter(y=>y>_);const M=this.cpuWarningTimes.length;return M<2?!1:this.cpuWarningTimes[M-1]-this.cpuWarningTimes[M-2]<3e3||M>2}setMute(I){var _=this;return Object(s.coroutine)(function*(){const M=yield _.getTransformDevice();M&&(yield M.mute(I))})()}isCapable(I){var _=this;return Object(s.coroutine)(function*(){if(_.isIFramed())return I||_.callLogger.warn("not supported due to IFrame"),!1;let M=!1;switch(_.cache.voiceFocusCapability.isSupported){case"yes":I||_.callLogger.info("cache says supported"),M=!0;break;case"no":I||_.callLogger.info("cache says not supported"),M=!1;break;case"unknown":{I||_.callLogger.info("cache says unknown, determining support..."),_.cache.voiceFocusCapability.userAgent=Object(t.a)(),_.cache.voiceFocusCapability.sdkVersion=o.s.sdkVersion,M=yield Object(o.H)().isSupported(),M?_.cache.voiceFocusCapability.isSupported="yes":_.cache.voiceFocusCapability.isSupported="no",O(_.cache),I||_.callLogger.info(`determined supported=${_.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:_.callLogger.warn(`Voice Focus capability pref bad: ${_.cache.voiceFocusCapability.isSupported}`);break}return M})()}isIFramed(){try{var I;return((I=window.frameElement)===null||I===void 0?void 0:I.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(I){const M=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,y=this.allowMaxModelsToBeUsed?v:T;return M===0||I-M>6048e5||M<y}prepare(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const _=Date.now(),M=this.cache.voiceFocusCachedConfig.vfConfig,y=this.isStale(_),j={},C={logger:this.chimeLogger};if(M!=="unknown"&&!y){if(I)return;if(!M.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(j,C,M);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=a.a.resolve(Object(o.H)().configure(j,C)),this.voiceFocusConfigPromise.then(D=>{var N;if(!D.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${D.reason}`);return}if(this.shouldPreventAutoDisable&&!(!(D==null||(N=D.model)===null||N===void 0)&&N.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const L=D;this.callLogger.info(`Got new config, variant: ${L.model.variant}, simd: ${L.model.simd}, executionQuanta: ${L.executionQuanta}`),this.storeVfConfig(_,L),I||this.setupDevice(j,C,L)}).catch(D=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${D.name}: ${D.message}`),I||this.setupDevice(j,C)}))}storeVfConfig(I,_){this.cache.voiceFocusCachedConfig.vfConfig=_,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=I,O(this.cache)}updateCacheWithUpdatedConfig(I){var _=this;return Object(s.coroutine)(function*(){_.callLogger.info("Updating VF cache with new modified model");const M={logger:_.chimeLogger},y={variant:I},j=yield Object(o.H)().configure(y,M);j.supported&&_.storeVfConfig(Date.now(),j)})()}setupDevice(I,_,M){const y=I;let j=M,C,D;M?(C=M.model.variant,D=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),C="c10",D=!1);let N=!0;this.allowMaxModelsToBeUsed&&(N=!1);const B=this.chooseModelVariant(C,D,N);if(B.modelWasAdjusted&&(y.variant=B.chosenModel,j=void 0,this.callLogger.info(`VF Model was adjusted from ${M==null?void 0:M.model.variant} to ${B.chosenModel} Reason: ${B.adjustmentReason}`),this.updateCacheWithUpdatedConfig(B.chosenModel)),M){Object(r.a)().track(l.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:M.model.variant,model_variant_override:y.variant,simd:M.model.simd,execution_quanta:M.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const R={...M};R.model.variant=B.chosenModel,b.a.publish({type:p.a.VoiceFocusConfig,update:R}),this.callLogger.info(`model_variant_determined: ${M.model.variant}, model_variant_override: ${B.chosenModel}, simd: ${M.model.simd}, execution_quanta: ${M.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=a.a.resolve(Object(o.H)().create(y,_,j));var L=this;this.voiceFocusDeviceTransformerPromise.then(function(){var R=Object(s.coroutine)(function*(U){L.voiceFocusTransformDevicePromise=a.a.resolve(U.createTransformDevice(null))});return function(U){return R.apply(this,arguments)}}()).catch(R=>{this.callLogger.info(`Could not create voice device transformer exp: ${R.name}: ${R.message}`)})}chooseModelVariant(I,_,M){const y={c10:1,c20:2,c50:3,c100:4},j=navigator==null?void 0:navigator.hardwareConcurrency;if(!j)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${I}`),{modelWasAdjusted:!1,chosenModel:I,adjustmentReason:""};let C;return j<=4?C="c10":j<=6?C="c20":j<=8?C="c50":C="c100",y[C]<y[I]&&!M?{modelWasAdjusted:this.wasModelAdjusted(C,I,_),chosenModel:C,adjustmentReason:"Using CPU restricted model variant which is weaker"}:y[C]>y[I]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${I}`),C=I,!M)?{modelWasAdjusted:!1,chosenModel:I,adjustmentReason:""}:C==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",I,_),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",I,_),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(I,_,M){return I===_&&!M||I!==_}tearDown(){var I=this;return Object(s.coroutine)(function*(){const _=yield I.getTransformDevice();_&&(I.callLogger.info("Attempting to destroyVoiceFocus"),o.u.destroyVoiceFocus(_))})()}constructor(I,_){this.chimeLogger=I,this.allowMaxModelsToBeUsed=_,this.callLogger=Object(i.a)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cpuWarningTimes=[],this.cache=f(Object(t.a)(),o.s.sdkVersion)}},"VoiceFocusManager")},"2B42":function(H,n,e){H.exports=e.p+"slack-salesforce@2x-06b5868.png"},"2K8U":function(H,n,e){"use strict";e.d(n,"f",function(){return s}),e.d(n,"g",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"c",function(){return l}),e.d(n,"b",function(){return o}),e.d(n,"e",function(){return i});const s={SMALL:"small",MEDIUM:"medium",LARGE:"large"},t={BASIC:"basic",SEARCH:"search",MULTI:"multi"},a=28,r=2,l="12px 0",o=16,i=240},"2OfI":function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return!!(t&&t!=="-")}h(s,"isValidFieldValue")},"2Pfg":function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s=new Map},"2QJ2":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("G4qV"),t=e("O86Y");const a=Object(s.a)(t.e,r=>(r==null?void 0:r.length)===1?{eventCount:"single",destinationWorkspaceId:r[0]}:{eventCount:r!=null&&r.length?"multiple":"none"})},"2XjL":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("JfJV"),a=e("uNaj");const r=Object(s.c)("Close flexpane for docs",(l,o,i)=>{var u;!(i==null||(u=i.event)===null||u===void 0)&&u.preventDefault&&i.event.preventDefault();const d=Object(a.a)();return Object(t.h)("ROUTE_ENTITY",d.params)});r.meta={name:"createThunk",key:"createThunkcloseFlexpane",description:"Close flexpane for docs"},r.propTypes={}},"2kWh":function(H,n,e){"use strict";e.d(n,"b",function(){return be}),e.d(n,"c",function(){return Q});var s=e("9oTK"),t=e.n(s),a=e("q1tI"),r=e.n(a),l=e("BHdc"),o=e("/MKj"),i=e("zxER"),u=e("DneB"),d=e("GJt6"),m=e("Kmpi"),c=e("7xYR"),E=e("x5lL"),f=e("9Gfp"),O=e("E3dU"),p=e("+CZ0"),b=e("to1N"),T=e("0dq7"),v=e("VKu5"),S=e("sgFo"),A=e("SIMs"),I=e("Wn1n"),_=e("Trx9"),M=e("qZ3p"),y=e("LqER"),j=e("t35X"),C=e("ejLy"),D=e("E97Y"),N=e("gVOt"),B=e("Yauy"),L=e("3vtZ"),R=e("ZobM"),U=e("G7vT"),W=e("pFNT"),x=e("iUFw"),G=e("eBYm"),w=e("Ccc1"),se=e("HKlo"),ee=e("g3a/"),X=e("nNoG"),me=e("ktUG"),Oe=e("zZZw"),Ce=e("mQiU"),le=e("2VFn"),de=e("v7mh"),ie=e("Q0mH");function pe(){return pe=Object.assign||function(z){for(var Y=1;Y<arguments.length;Y++){var ve=arguments[Y];for(var Z in ve)Object.prototype.hasOwnProperty.call(ve,Z)&&(z[Z]=ve[Z])}return z},pe.apply(this,arguments)}h(pe,"_extends");const ne=new X.b("huddles"),q={elementName:"huddles_invite_decline",eventId:me.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ce={elementName:"huddles_invite_joining_soon",eventId:me.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ge={elementName:"huddles_invite_join",eventId:me.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},be=h(z=>{let{topic:Y,formattedTopic:ve,channel:Z,channelName:$,otherMemberNamesString:te,imMemberName:J,experimentHuddlesLaterGroupOn:k}=z;if(!k)return r.a.createElement(r.a.Fragment,null);let ae=Y?ne.rt("Join the scheduled huddle about {topic}",{topic:ve}):ne.rt("Join the scheduled huddle");return Object(D.g)(Z)&&J?ae=Y?ne.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:ve,imMemberName:J}):ne.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:J}):Object(D.i)(Z)?ae=Y?ne.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:ve,otherMemberNamesString:te}):ne.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:te}):Object(m.b)(Z)&&!Object(D.g)(Z)&&(ae=Y?ne.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:ve,channelName:$}):ne.rt("Join the scheduled huddle in {channelName}",{channelName:$})),ae},"getScheduledHuddleInviteCopy");function Q(z){let{channelId:Y,senderUserId:ve,callId:Z,teamId:$,isInviter:te}=z;const J=Object(o.useDispatch)(),{shouldUseNavigate:k,activeTab:ae}=Object(a.useContext)(Ce.a),Ee=Object(i.d)(S.C),_e=Object(i.d)(f.a),je=Object(i.d)(et=>Object(C.a)(et,ve)),Ue=Object(i.d)(et=>Object(O.d)(et,Y)),Ke=Object(i.d)(et=>{if(!Ue||!Ee||!Object(D.g)(Ue))return;const Ft=Object(N.a)(Ue);if(Ft)return Object(C.a)(et,Ft)}),ke=Object(i.g)(et=>Object(D.i)(Ue)?(Object(B.C)(Ue)||[]).filter(mt=>mt!==ve&&mt!==_e).map(mt=>Object(C.a)(et,mt)).filter(mt=>mt):[]),Qe=Object(u.b)(p.s),Ze=Object(L.J)(Qe),Fe=Object(i.d)(et=>Object(E.o)(et,Z,_e))==="joining_soon",Ve=Object(i.d)(et=>Object(E.f)(et,Z));var Je;const Ot=(Je=Ve==null?void 0:Ve.isScheduled)!==null&&Je!==void 0?Je:!1,ht=Object(i.d)(I.a),Le=Object(i.d)(et=>{if(k){var Ft;return(Ft=Object(de.g)(et,{tab:ae,container:le.h.Primary}))===null||Ft===void 0?void 0:Ft.id}return ht}),jt=Object(u.b)(c.getFocusedWorkspace),Ut=Y===Le&&jt&&$&&jt===$,Ie=Object(a.useCallback)(()=>{J(Object(j.b)({callId:Z,channelId:Y,inviteResponse:j.a.DECLINE}))},[Z,Y,J]),[oe,ye]=Object(a.useState)(!1),[Ne,Ge]=Object(a.useState)(!1),st=Object(a.useCallback)(()=>{(function(){var Ft=Object(s.coroutine)(function*(){Ge(!0),ye(!1);const mt=J(Object(j.b)({callId:Z,channelId:Y,inviteResponse:j.a.JOINING_SOON}));if(mt)try{yield mt}catch{ye(!0)}finally{Ge(!1)}else Ge(!1)});return h(function(){return Ft.apply(this,arguments)},"respondToInvite")})()()},[Z,Y,J]),$e=Object(a.useCallback)(()=>{J(Object(b.a)({channelId:Y,callId:Z,entryPoint:T.e.SIDEBAR_HUDDLE_INVITE}))},[Y,Z,J]),It=Object(i.d)(et=>Y&&Object(v.a)(et,Y))||"",Lt=It?r.a.createElement("span",{className:"p-huddle_invite__topic"},r.a.createElement(M.a,{text:It})):null,St=r.a.createElement("span",{className:"p-huddle_invite__sender_name"},je);let vt;if(Ot){const et=r.a.createElement(w.a,{channelId:Y,boldIcon:!0});vt=be({topic:It,formattedTopic:Lt,channel:Ue,channelName:et,experimentHuddlesLaterGroupOn:!0})}else if(Object(D.g)(Ue))te?vt=be({topic:It,formattedTopic:Lt,channel:Ue,imMemberName:Ke,experimentHuddlesLaterGroupOn:Ee}):vt=ne.rt("Join huddle with {senderName}",{senderName:St});else if(Object(D.i)(Ue)){const et=Object(Oe.a)(ke,{react:!0}).join("");if(te)vt=be({topic:It,formattedTopic:Lt,channel:Ue,otherMemberNamesString:et,experimentHuddlesLaterGroupOn:Ee});else{const Ft=Object(Oe.a)([je].concat(ke),{react:!0}).join(""),mt=r.a.createElement("span",{className:"p-huddle_invite__all_member_names"},Ft);vt=ne.rt("Join huddle with {allMemberNames}",{allMemberNames:mt})}}else{const et=r.a.createElement(w.a,{channelId:Y,boldIcon:!0});te?vt=be({topic:It,formattedTopic:Lt,channel:Ue,channelName:et,experimentHuddlesLaterGroupOn:Ee}):Ut?vt=ne.rt("{senderName} is inviting you to a huddle in this channel",{senderName:St}):vt=ne.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:St,channelName:et})}return{avatarOverflowBadgeCount:Object(D.i)(Ue)?ke.length+1:0,didRespondingToInviteFail:oe,formattedTopic:Lt,handleDecline:Ie,handleJoiningSoon:st,handleJoin:$e,inviteText:vt,isCurrentUserJoiningSoon:Fe,isJoiningSoonResponsePending:Ne,isLoading:Ze}}h(Q,"useHuddleInviteProps"),Q.displayName="useHuddleInviteProps";const re=h(z=>{let{channelId:Y,senderUserId:ve,callId:Z,teamId:$,isIA4EnabledForCurrentTeam:te}=z;const J=Object(i.d)(S.C),k=Object(i.d)(f.a),ae=J&&k===ve,Ee=Object(y.b)(Y),{avatarOverflowBadgeCount:_e,didRespondingToInviteFail:je,formattedTopic:Ue,handleDecline:Ke,handleJoiningSoon:ke,handleJoin:Qe,inviteText:Ze,isCurrentUserJoiningSoon:De,isJoiningSoonResponsePending:Fe,isLoading:Ve}=Q({channelId:Y,senderUserId:ve,callId:Z,teamId:$,isInviter:ae}),Je=Object(a.useRef)(null),Ot=Object(a.useCallback)(()=>{var st;(st=Je.current)===null||st===void 0||st.focus()},[]);Object(d.a)(se.c.HUDDLE_INVITE_JOIN,Ot);const ht="huddle-invite-text",Le=r.a.createElement(x.d,{type:"outline",className:"p-huddle_invite__button",onClick:Ke,"data-qa":"huddle_invite_declined",disabled:Ve,autoClogProps:q},r.a.createElement("span",{className:"p-huddle_invite__label"},ne.t("Decline"))),jt=r.a.createElement(G.a,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:Fe,onClick:ke,disabled:Ve,autoClogProps:ce},r.a.createElement("span",{className:"p-huddle_invite__label"},ne.t("Be there soon"))),[Ut,Ie]=Object(a.useState)(!1);Object(a.useEffect)(()=>{let st=0;return De&&(Ie(!0),st=window.setTimeout(()=>{Ie(!1)},6e3)),()=>{st&&clearTimeout(st)}},[De]);const oe=Ut?r.a.createElement("div",{className:"p-huddle_invite__header_notif"},r.a.createElement("div",{className:"p-huddle_invite__header_notif_content"},r.a.createElement(R.a,{name:"clock",size:"20"}),r.a.createElement("span",{className:"margin_left_50"},ne.t("Join when you\u2019re ready!")))):null,ye=r.a.createElement(G.a,{ref:Je,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:Ve,onClick:Qe,"data-qa":"huddle_invite_join",autoClogProps:ge},r.a.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},ne.t("Join"))),Ne=Object(i.d)(A.K),Ge=te&&Ne?{width:Ne}:null;return r.a.createElement(_.a,pe({eventId:me.EventId.CANVAS_EVENT,uiComponentName:me.UiComponentName.HUDDLES_INVITE,clogImpression:!0},Ee),r.a.createElement("div",pe({className:Object(l.default)("p-huddle_invite",{"p-huddle_invite--with_header":!!Ue,"p-huddle_invite--ia4":te})},Ge&&{style:Ge}),r.a.createElement("div",{className:"p-huddle_invite__content"},oe,Ue&&r.a.createElement("div",{className:"p-huddle_invite__message_header"},Ue),r.a.createElement("div",{className:"p-huddle_invite__message"},!ae&&r.a.createElement("div",{className:Object(l.default)("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!_e})},r.a.createElement(W.c,{key:ve,className:"p-huddle_invite__avatar",size:_e?14:20,userId:ve,isInteractive:!1}),!!_e&&r.a.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},_e)),r.a.createElement(U.a,null,r.a.createElement("div",{className:"p-huddle_invite__text",id:ht},Ze,r.a.createElement("span",{className:"offscreen"},ne.rt("Press {key} to join",{key:Object(L.n)(),fallbackHash:"bd062cb22cea3388535c0f834ebf6df702757691",fallbackHashNs:"keyboard_keys"}))))),r.a.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":ht},ye,!De&&jt,Le)),je&&r.a.createElement(ee.a,{icon:"warning"},ne.t("Something went wrong responding to the invite."))))},"HuddleInvite");re.displayName="HuddleInvite",n.a=re},"2m2s":function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return r});var s=e("LK2A"),t;(function(l){l.BOLD="bold",l.STRIKE="strike",l.ITALIC="italic",l.CODE="code",l.LINK="link",l.UNDERLINE="underline"})(t||(t={}));const a=new Map([[s.DocInlineStyle.BOLD,t.BOLD],[s.DocInlineStyle.STRIKETHROUGH,t.STRIKE],[s.DocInlineStyle.ITALIC,t.ITALIC],[s.DocInlineStyle.CODE,t.CODE],[s.DocInlineStyle.LINK,t.LINK]]);function r(l){return a.get(l)}h(r,"inlineStyleToFormat")},"2xcd":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("nNoG"),l=e("i9y5"),o=e("+bQA");const i=new r.b("form_inputs"),u={count:a.default.number,theme:a.default.oneOf(["light","dark"]),spinnerSize:a.default.string},d={count:0,theme:"light",spinnerSize:"large"},m=h(c=>{let{count:E,theme:f,spinnerSize:O}=c;return t.a.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.a.createElement(l.a,{color:f==="dark"?"white":"blue",size:O,inline:!0})),i.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:E}))},"MultiSelectLoadingText");m.propTypes=u,m.defaultProps=d,n.a=m},3203:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s=/^p?(\d{10})\.?(\d{6})$/;function t(r){return!r||!s.test(r)?null:r.replace(s,"$1.$2")}h(t,"formatMessageTimestamp");function a(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now();if(!r)return null;const l=String((+r/1e3).toFixed(6));return t(l)}h(a,"getFormattedMessageTimestamp")},"35RN":function(H,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});const s="huddles_play_music_when_last",t="huddles_play_music_timeout",a="huddles_music_player_song_key"},3956:function(H,n,e){"use strict";e.d(n,"a",function(){return T});var s=e("SQ0V"),t=e("4hjS"),a=e("4iK2"),r=e("bcZH"),l=e("uNaj"),o=e("CnKg"),i=e("9Gfp"),u=e("PIf0"),d=e("6inW"),m=e("HoeF");const c=Object(s.c)("Opens member profile in the huddle window flexpane if the window is open",(v,S,A,I)=>{let{memberId:_}=A;const{window:M,windowId:y}=I(u.a);return Object(d.b)(y)&&!!M?(v(Object(m.I)({userId:_})),!0):!1});c.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var E=e("rZ8V"),f=e("I0j/"),O=e("37+L"),p=e("cU/a"),b=e("25cE");const T=Object(s.c)("Show the member profile",function(v,S){let{memberId:A,teamId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _=S(),M=Object(t.l)(_);let y,j;if(M===a.a||Object(r.a)(_)){var C;const B=Object(l.a)(),{fileIdOrQuipThreadId:L}=Object(o.i)(B==null||(C=B.params)===null||C===void 0?void 0:C.entityId);y=a.a,j=L}const D=A||Object(i.a)(_);if(!v(c({memberId:D}))){if(Object(E.o)(_)){v(Object(f.a)(Object(O.P)(D)));return}return v(Object(p.a)({routeName:b.s,flexName:"rimeto_profile",flexParams:{memberId:D},flexOrigin:y,flexOriginId:j,teamId:I}))}});T.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},"3KJg":function(H,n,e){"use strict";e.d(n,"c",function(){return j}),e.d(n,"d",function(){return D}),e.d(n,"b",function(){return R}),e.d(n,"a",function(){return U});var s=e("fujP"),t=e("lhZz"),a=e("Z7Ay"),r=e("O86Y"),l=e("p+AA"),o=e("1Np4"),i=e("PLUl"),u=e("s4P+"),d=e("aVws"),m=e("rIJ2"),c=e("n0Pp"),E=e("4cU5");const f="RTM-EVENT-METRICS",O=4;let p=!1,b;const T=50;function v(){return p?!0:Object(l.a)()?(b===void 0&&(b=Object(m.a)(T),b&&Object(u.b)({label:f}).info("Metrics collection enabled for the current interval.")),b):!1}h(v,"shouldSampleForInterval");let S={},A={},I={},_={},M={},y={};function j(se){let{teamOrEnterpriseId:ee,rtmEventType:X,duration:me,msgs:Oe,fromEvtLog:Ce}=se;var le;if(!v())return;const de=Object(r.i)((le=Object(t.getStoreOrSharedStoreInstanceByTeamOrEnterpriseId)(ee))===null||le===void 0?void 0:le.getState());de&&(Ce&&C({bucket:M,teamOrEnterpriseId:de,eventType:X,value:Oe.length}),C({bucket:A,teamOrEnterpriseId:de,eventType:X,value:1}),C({bucket:I,teamOrEnterpriseId:de,eventType:X,value:Oe.length}),C({bucket:_,teamOrEnterpriseId:de,eventType:X,value:me}))}h(j,"incrementMetrics");function C(se){let{bucket:ee,teamOrEnterpriseId:X,eventType:me,value:Oe}=se;var Ce;const le=(Ce=ee[X])!==null&&Ce!==void 0?Ce:{};var de;const ie=(de=le[me])!==null&&de!==void 0?de:0;le[me]=ie+Oe,ee[X]=le}h(C,"incrementBucket");function D(se,ee){if(Object(s.a)(I)&&Object(s.a)(S)){W();return}const X=Object.keys({...I,...S}),me=setInterval(()=>{const Oe=Object(u.b)({label:f}),Ce=X.pop();if(!Ce){Oe.info("Completed metrics aggregation",{traceId:se.getTraceId()}),clearInterval(me);return}Oe.info(`Sending metric report for id: ${Ce}`),L({teamOrEnterpriseId:Ce,clientMetricsTrace:se,performanceTracingMetatags:ee}),B({teamOrEnterpriseId:Ce,clientMetricsTrace:se,performanceTracingMetatags:ee}),x(Ce)},1e3)}h(D,"reportRtmMetrics");function N(se,ee){const X=Object(d.a)(se),me=Object(t.getStateByTeamId)(X);return{...ee,metric_version:O,slow_connection_count:Object(c.e)(me)}}h(N,"getMetricsTraceMetatags");function B(se){let{teamOrEnterpriseId:ee,clientMetricsTrace:X,performanceTracingMetatags:me}=se;const Oe=S[ee];if(!Oe)return;const Ce=Object(o.a)({teamOrEnterpriseId:ee}),le=Ce.createMetricsTrace({label:"rtm_incoming",tags:N(ee,me),traceId:X.getTraceId(),parentSpanId:X.getRootSpanId()});var de;const ie=(de=y[ee])!==null&&de!==void 0?de:{};let pe=0,ne=0;Object.entries(Oe).forEach(q=>{let[ce,ge=0]=q;var be;const Q=(be=ie[ce])!==null&&be!==void 0?be:0;pe+=ge,ne+=Q,le.store({name:"rtm_incoming:event_count",value:ge}).addTags({event_type:ce,eventlog_count:Q,socket_count:ge-Q})}),le.store({name:"rtm_incoming:total_event_count",value:pe}),le.store({name:"rtm_incoming:total_event_count:socket",value:pe-ne}),le.store({name:"rtm_incoming:total_event_count:eventlog",value:ne}),Object(u.b)({label:f}).info(`${ee} total incoming event count: ${pe}`),Ce.reportTrace(le)}h(B,"maybeReportRawEventCount");function L(se){let{teamOrEnterpriseId:ee,clientMetricsTrace:X,performanceTracingMetatags:me}=se;const Oe=I[ee];if(!Oe)return;const Ce=Object(o.a)({teamOrEnterpriseId:ee}),le=Ce.createMetricsTrace({label:"rtm_dispatch",tags:N(ee,me),traceId:X.getTraceId(),parentSpanId:X.getRootSpanId()});var de;const ie=(de=A[ee])!==null&&de!==void 0?de:{};var pe;const ne=(pe=_[ee])!==null&&pe!==void 0?pe:{};var q;const ce=(q=M[ee])!==null&&q!==void 0?q:{};let ge=0,be=0;Object.entries(Oe).forEach(Q=>{let[re,z]=Q;const Y=ie[re],ve=ne[re];if(Y===void 0||ve===void 0)return;var Z;const $=(Z=ce[re])!==null&&Z!==void 0?Z:0;ge+=z,be+=$,le.store({name:"rtm_dispatch:duration",value:ve}).addTags({event_type:re,total_events:z,total_batches:Y,per_event_duration:ve/z,eventlog_count:$,socket_count:z-$})}),le.store({name:"rtm_dispatch:total_event_count",value:ge}),le.store({name:"rtm_dispatch:total_event_count:socket",value:ge-be}),le.store({name:"rtm_dispatch:total_event_count:eventlog",value:be}),Object(u.b)({label:f}).info(`${ee} total dispatch event count: ${ge}`),Ce.reportTrace(le)}h(L,"maybeReportEventMetrics");function R(se){let{teamId:ee,msgs:X}=se;if(!v())return;const me=Object(t.getStateByTeamId)(ee);var Oe;const Ce=(Oe=Object(r.i)(me))!==null&&Oe!==void 0?Oe:ee,le=X.reduce((de,ie)=>(!ie||!ie.type||(de[ie.type]?de[ie.type]+=1:de[ie.type]=1),de),{});Object.entries(le).forEach(de=>{let[ie,pe]=de;C({bucket:S,teamOrEnterpriseId:Ce,eventType:ie,value:pe}),C({bucket:y,teamOrEnterpriseId:Ce,eventType:ie,value:pe})})}h(R,"countRawEventsVolumeFromEventLog");function U(se){let{teamId:ee,msg:X}=se;if(!v()||!X||!X.type)return;const me=Object(t.getStateByTeamId)(ee);var Oe;const Ce=(Oe=Object(r.i)(me))!==null&&Oe!==void 0?Oe:ee;C({bucket:S,teamOrEnterpriseId:Ce,eventType:X.type,value:1})}h(U,"countRawEventVolume");function W(){b=void 0,S={},I={},A={},_={},M={},y={},Object(u.b)({label:f}).info("Metrics collection sampling has been reset.")}h(W,"resetAllCollections");function x(se){b=void 0,delete S[se],delete I[se],delete A[se],delete _[se],delete M[se],delete y[se],Object(u.b)({label:f}).info(`Metrics collection sampling has been reset for id: ${se}`)}h(x,"resetCollections");const G=h(()=>({rawEventCountBuckets:S,eventCountBuckets:I,batchCountBuckets:A,durationBuckets:_,eventLogEventCountBuckets:M,eventLogRawEventCountBuckets:y}),"debugGetBuckets");Object(a.a)("rtmEventMetrics",{debugGetBuckets:G,debugToggleSampling:()=>{p=!p,W(),Object(u.b)({label:f}).info(`Interval sampling: ${p?"ON":"OFF"}`)},debugReportMetrics:()=>{const se=Object(i.a)(),ee=se.createMetricsTrace({samplingOptions:{sampleType:E.g.ALWAYS}});D(ee,{}),se.reportTrace(ee)}}),Object.defineProperty({resetAllCollections:W,debugGetBuckets:G,reportRtmMetrics:D,intervalSampleCache:b},"intervalSampleCache",{get:()=>b,set:se=>{b=se}})},"3KdQ":function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Upsert fetched ordered membership list for channel");t.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},"3RZE":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("DQNL"),o=e("GhjL"),i=e("RVJP"),u=e("O86Y"),d=e("beVI"),m=e("G0eX"),c=e("nNoG"),E=e("CD4m"),f=e("sGXp"),O=e("ZobM"),p=e("dl0f"),b=e("JfyJ");function T(){return T=Object.assign||function(_){for(var M=1;M<arguments.length;M++){var y=arguments[M];for(var j in y)Object.prototype.hasOwnProperty.call(y,j)&&(_[j]=y[j])}return _},T.apply(this,arguments)}h(T,"_extends");const v=new c.b("user_group_entity");function S(_){let{className:M,invert:y,showDescription:j=!0,userGroup:C,userGroupTeamName:D,experimentXwsUsergroupDecoratorsGroupTreatment:N,isDeactivated:B}=_;const L=B||!Object(l.x)(C),R=Object(s.useCallback)(me=>t.a.createElement("span",{className:"margin_right_50"},t.a.createElement(O.a,T({},me,{name:"user-groups",size:"18"}))),[]);if(Object(l.u)(C)||Object(l.t)(C)){const me=Object(r.default)("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":y});return t.a.createElement("div",{className:"c-small_user_group__missing"},t.a.createElement("div",{className:me},t.a.createElement(O.a,{name:"user-groups",size:"18"})),t.a.createElement(p.a,{type:Object(l.u)(C)?"unknown":"non-existent",invert:y}))}const U=Object(l.i)(C),W=t.a.createElement("span",{className:"c-user_group__name c-small_user_group__name"},U),x=Object(l.e)(C),G=Object(l.m)(C),w="\xB7",se="\xA0\xA0";let ee;if(N){const me=D&&t.a.createElement(t.a.Fragment,null,"\xA0\xA0",t.a.createElement("span",{className:"c-small_user_group__team"},D));ee=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"c-small_user_group__count"},"(",v.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:G}),")"),me)}else ee=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"c-small_user_group__count"},[w,se],v.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:G}),x&&[se,w,se]),t.a.createElement("span",{className:"c-small_user_group__description"},x));let X;return L?X=f.d.dim:y&&(X=f.d.highlightDark),t.a.createElement(E.d,{avatar:R,className:M,size:"small",style:X,text:t.a.createElement(E.c,null,W,j&&ee),"data-usergroup-id":C.id})}h(S,"SmallUserGroupEntity"),S.displayName="SmallUserGroupEntity";const A=h((_,M)=>{let{id:y,userGroup:j}=M;const C=j||Object(o.d)(_,y),D=Object(u.g)(_),N=Object(l.k)(C),B=N!==D&&Object(m.h)(Object(d.s)(_,N));return{userGroup:C,userGroupTeamName:B,experimentXwsUsergroupDecoratorsGroupTreatment:Object(i.d)(_,"xws_usergroup_decorators")==="treatment"}},"mapStateToProps");var I=n.a=Object(a.a)(A)(S)},"3V+Q":function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("nNoG");function l(){return l=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var f=arguments[E];for(var O in f)Object.prototype.hasOwnProperty.call(f,O)&&(c[O]=f[O])}return c},l.apply(this,arguments)}h(l,"_extends");const o=new r.b("app_dialog"),i={block:"block",inline:"inline"};var u;let d=h(class extends(u=t.a.Component){getCursor(){const{cursor:E,htmlFor:f}=this.props;return typeof E>"u"&&f?"pointer":E}renderOptionalTextMaybe(){const{optional:E}=this.props,f=o.t("(optional)");return E?t.a.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},f):null}renderSubtextMaybe(){const{subtext:E}=this.props;return E?t.a.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},E):null}render(){const{className:E,cursor:f,htmlFor:O,optional:p,subtext:b,text:T,type:v,isDisabled:S,dataQaLabel:A,...I}=this.props,_=Object(a.default)("c-label",E,{"c-label--block":v===i.block,"c-label--inline":v===i.inline,"c-label--with_subtext":b,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":S,"c-label--with_formatted_text":typeof T!="string"});return t.a.createElement("label",l({},I,{htmlFor:O,className:_,"data-qa-label":A,"data-qa-label-type":v}),t.a.createElement("span",{className:"c-label__text","data-qa-label-text":!0},T,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.a.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");d.displayName="Label",d.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"};var m=n.b=d},"3cIe":function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},"3i7m":function(H,n,e){H.exports=e.p+"slackbot_frowny_32-8a50a23.png"},"3krt":function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return c});var s=e("J2yf"),t=e("C9cw"),a=e("s4P+"),r=e("1Np4"),l=e("4cU5"),o=e("H+tl"),i=e("sEH6");const u="survey";var d;(function(E){E.Good="good",E.Bad="bad",E.Dismiss="dismiss",E.Timeout="timeout"})(d||(d={}));const m="HUDDLES-SURVEY-TRACE",c=h(E=>{let{teamId:f,callId:O,results:p}=E;const b=f?Object(a.a)({label:m,teamId:f}):Object(a.b)({label:m});if(!f){b.warn("Missing team id. Exiting early");return}const T=Object(r.a)({teamOrEnterpriseId:f}),v=T.createTrace({traceName:t.e,tags:{__dataset:t.b},samplingOptions:{sampleRate:1,sampleType:l.g.SESSION}}),S=v.startSpan(u),A={...p};Object(s.a)(A,"comments");const{notOkResponses:I,summary:_}=A||{};if(!O){b.warn("Missing callId. Exiting early");return}if(!_){b.warn("Missing summary. Exiting early");return}try{b.info(`Processing huddle survey response. callId: ${O} - traceId: ${v.getTraceId()} - results: ${JSON.stringify(A)}`)}catch(j){b.error(j)}const M={teamId:f,callId:O,surveySummary:_,surveyResponseCount:(I==null?void 0:I.length)||0,surveyResponses:I==null?void 0:I.join(" ")},y=Object(i.b)({...M,...Object(o.b)()});S.addTags(y),S.close(),b.info(`Reporting huddle survey trace with ${Object.keys(y).length} tags (${v.getTraceId()})`),b.debug("Tags attached",y),T.reportTrace(v),T.clearTrace(v)},"reportHuddleSurveyResultsTrace")},"3mGd":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("ZKjC"),t=e("kZhr");const a=Object(s.b)(function(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.a;var o,i;return r==null||(o=r.searchHistory)===null||o===void 0||(i=o[l])===null||i===void 0?void 0:i.lastExecutedEncodedSearchString});a.meta={name:"createSelector",key:"createSelectorgetLastExecutedEncodedSearchString",description:function(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.a;var o,i;return r==null||(o=r.searchHistory)===null||o===void 0||(i=o[l])===null||i===void 0?void 0:i.lastExecutedEncodedSearchString}}},"3mLu":function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("7nxQ");function t(a){const r=Object(s.i)().toLowerCase();return r==="en-us"?a:`/intl/${r}${a}`}h(t,"getLocalizedPath")},"3qtv":function(H,n,e){"use strict";e.d(n,"a",function(){return T}),e.d(n,"c",function(){return v}),e.d(n,"d",function(){return S}),e.d(n,"e",function(){return A}),e.d(n,"b",function(){return I});var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("SQ0V"),l=e("4hjS"),o=e("25cE"),i=e("i9jZ"),u=e("RV0M"),d=e("2VFn"),m=e("cU/a"),c=e("S36j"),E=e("gpLM"),f=e("UAMj"),O=e("rZ8V"),p=e("uiBO");const b=Object(r.c)("Opens a given flexpane view or focuses if already open",(_,M,y,j)=>{let{routeName:C,view:D}=y;var N;const B=M(),{shouldUseNavigate:L,getSiblingView:R}=j(u.a),U=L?(N=R(B,{container:d.h.Secondary}))===null||N===void 0?void 0:N.id:Object(l.l)(B);return!U||!D.includes(U)?_(Object(m.a)({routeName:C,flexName:D[0]})):(Object(l.n)(B)||(_(Object(c.e)(!0)),_(Object(E.a)({id:U,container:d.h.Secondary}))),a.a.resolve())});b.meta={name:"createThunk",key:"createThunkshowOrFocusFlexpane",description:"Opens a given flexpane view or focuses if already open"};const T=Object(r.c)("Opens or focuses the Activity flexpane",function(){var _=Object(s.coroutine)(function*(M){return M(b({routeName:o.c,view:["activity"]}))});return function(M){return _.apply(this,arguments)}}());T.meta={name:"createThunk",key:"createThunkshowOrFocusActivityFlexPane",description:"Opens or focuses the Activity flexpane"};const v=Object(r.c)("Opens or focuses the Notifications flexpane",function(){var _=Object(s.coroutine)(function*(M){return M(b({routeName:o.n,view:["notifications"]}))});return function(M){return _.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkshowOrFocusNotificationsFlexPane",description:"Opens or focuses the Notifications flexpane"};const S=Object(r.c)("Opens or focuses the Reactions flexpane",function(){var _=Object(s.coroutine)(function*(M){return M(b({routeName:o.r,view:["reactions"]}))});return function(M){return _.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkshowOrFocusReactionsFlexPane",description:"Opens or focuses the Reactions flexpane"};const A=Object(r.c)("Opens or focuses the list of Starred Items",function(){var _=Object(s.coroutine)(function*(M){return M(b({routeName:o.t,view:["saved","starred_items"]}))});return function(M){return _.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunkshowOrFocusStarredItemsList",description:"Opens or focuses the list of Starred Items"};const I=Object(r.c)("Opens or focuses the Feedback flexpane",(_,M)=>{const y=M();return Object(i.b)()||Object(O.o)(y)?_(Object(f.a)({id:"feedback",viewType:p.b.Feedback})):_(b({routeName:o.h,view:["feedback"]}))});I.meta={name:"createThunk",key:"createThunkshowOrFocusFeedbackFlexpane",description:"Opens or focuses the Feedback flexpane"}},"3vtZ":function(H,n,e){"use strict";e.d(n,"a",function(){return Z}),e.d(n,"b",function(){return $}),e.d(n,"N",function(){return J}),e.d(n,"f",function(){return k}),e.d(n,"y",function(){return ae}),e.d(n,"H",function(){return Ee}),e.d(n,"e",function(){return je}),e.d(n,"d",function(){return Ue}),e.d(n,"g",function(){return Ze}),e.d(n,"cb",function(){return Fe}),e.d(n,"o",function(){return Ve}),e.d(n,"p",function(){return Je}),e.d(n,"J",function(){return Ot}),e.d(n,"E",function(){return ht}),e.d(n,"L",function(){return Le}),e.d(n,"I",function(){return jt}),e.d(n,"K",function(){return Ut}),e.d(n,"V",function(){return Ie}),e.d(n,"w",function(){return oe}),e.d(n,"c",function(){return ye}),e.d(n,"B",function(){return Ne}),e.d(n,"A",function(){return Ge}),e.d(n,"db",function(){return st}),e.d(n,"v",function(){return $e}),e.d(n,"n",function(){return It}),e.d(n,"bb",function(){return Lt}),e.d(n,"P",function(){return St}),e.d(n,"Q",function(){return vt}),e.d(n,"q",function(){return Yt}),e.d(n,"r",function(){return mt}),e.d(n,"s",function(){return gt}),e.d(n,"t",function(){return at}),e.d(n,"D",function(){return it}),e.d(n,"X",function(){return dt}),e.d(n,"eb",function(){return _t}),e.d(n,"u",function(){return Dt}),e.d(n,"z",function(){return Ye}),e.d(n,"Y",function(){return Xe}),e.d(n,"W",function(){return kt}),e.d(n,"F",function(){return Bt}),e.d(n,"G",function(){return wt}),e.d(n,"x",function(){return we}),e.d(n,"R",function(){return yt}),e.d(n,"S",function(){return Kt}),e.d(n,"l",function(){return gn}),e.d(n,"k",function(){return vn}),e.d(n,"j",function(){return lt}),e.d(n,"m",function(){return ct}),e.d(n,"M",function(){return Rt}),e.d(n,"i",function(){return zt}),e.d(n,"C",function(){return mn}),e.d(n,"Z",function(){return fn}),e.d(n,"ab",function(){return ln}),e.d(n,"T",function(){return Ln}),e.d(n,"U",function(){return In}),e.d(n,"O",function(){return Dn}),e.d(n,"h",function(){return _n});var s=e("fujP"),t=e("3Hq1"),a=e("lCmp"),r=e("Z0Cl"),l=e("NFsq"),o=e("9068"),i=e("9Gfp"),u=e("C3vN"),d=e("52Wj"),m=e("V+O/"),c=e("E3dU"),E=e("4tnk"),f=e("RVJP"),O=e("LvvF"),p=e("ZOzc"),b=e("JoR1"),T=e("9MPI"),v=e("LZPg"),S=e("GNR7"),A=e("SIMs"),I=e("0dq7"),_=e("ISSR"),M=e("pZC0"),y=e("vfvl"),j=e("/JQq"),C=e("Yauy"),D=e("gVOt"),N=e("E97Y"),B=e("mzZe"),L=e("lhZz"),R=e("sgFo"),U=e("vYXD"),W=e("xwCZ"),x=e("dlm8"),G=e("GlHf"),w=e("Cudo"),se=e("QIbu"),ee=e("RBHu"),X=e("RpF1"),me=e("kBpe"),Oe=e("nNoG"),Ce=e("Enx8"),le=e("+CZ0"),de=e("3REw"),ie=e("K7jq"),pe=e("RcBX"),ne=e("ajVY"),q=e("UIWO"),ce=e("SZMM"),ge=e("r6c4"),be=e("wNji"),Q=e("qMw6"),re=e("IaLB"),z=e("SpKr"),Y=e("Iwbv"),ve=e("wk/L"),Z;(function(qe){qe.EXTERNALLY_SHARED_CHANNEL="externally_shared_channel",qe.ADMIN_DISABLED="admin_disabled",qe.UNSUPPORTED_BROWSER="unsupported_browser"})(Z||(Z={}));var $;(function(qe){qe[qe.BROWSER=1]="BROWSER",qe[qe.MAC=2]="MAC",qe[qe.WINDOWS=3]="WINDOWS"})($||($={}));const te=new Oe.b("huddles"),J=Object(be.a)(qe=>{const Et=Object(Y.a)(qe);return((Object(q.a)(qe)?cn(qe,"allow_huddles"):Object(p.a)(qe,"allow_huddles"))||!1)&&!Et});function k(qe,Et){if(!Et)return[!1,void 0];if(Object(M.a)(Et))return[!1,void 0];const Wt=J(qe),qt=Wt||Object(ge.a)(qe,Et.id);if(!Wt&&!Object(ge.a)(qe,Et.id))return[!1,Z.ADMIN_DISABLED];if(!Object(o.a)(Et)||Object(j.a)(qe,Et)||Object(C.Z)(qe,Et.id)||!Object(B.b)(qe,Et.id)||Object(C.lb)(Et)||Object(_.a)(Et)||Object(y.a)(Et)||Object(pe.a)(Et)||Object(C.cb)(qe,Et)||!qt)return[!1,void 0];if(Object(U.c)())return[!1,Z.UNSUPPORTED_BROWSER];const nn=Object(f.d)(qe,"huddles_channel_properties")==="on";let rn=!1;if(nn){var hn;rn=!!(!(Et==null||(hn=Et.properties)===null||hn===void 0)&&hn.huddles_restricted)}else{const Un=Object(T.a)(qe,Et.id,"can_huddle");rn=Un&&(Un==null?void 0:Un.enabled)===!1}const en=ot(qe,Et.id);return rn?[!1,Z.ADMIN_DISABLED]:en===!1?[!1,Z.ADMIN_DISABLED]:[!0,void 0]}h(k,"doesChannelSupportHuddlesWithReason");const ae=h(()=>{const qe=Object(L.getClientStoreInstance)();if(!qe)return!1;const Et=qe.getState(),Wt=Object(le.c)(Et);return!Object(s.a)(Wt)},"hasActiveHuddleReferenceInClientStore"),Ee=h(qe=>{const Et=J(qe),Wt=ae();return Et||Wt},"isHuddleEnabledOrHasActiveHuddle");function _e(qe,Et){var Wt;const qt=(Wt=Object(W.g)(qe,Et))!==null&&Wt!==void 0?Wt:void 0;return!Object(u.T)(qt)&&!Object(m.b)(qt)&&!Object(ie.a)(qt)}h(_e,"canUserBeInvitedToHuddle");function je(qe,Et){return k(qe,Et)[0]}h(je,"doesChannelSupportHuddles");function Ue(qe,Et){return J(qe)?Object(S.e)(qe,Et)>0:!1}h(Ue,"doesChannelHaveHuddle");function Ke(qe,Et){const Wt=Object(C.t)(qe,Et,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});let qt=[],nn="";if(Object(N.i)(Et))qt=Object(C.I)(qe,Et)||[],nn="Waiting for others...";else if(Object(N.g)(Et)){const en=Object(D.a)(Et);en&&qt.push(en),nn=`Waiting for ${Wt}`}else return Wt;const rn=Object(S.h)(qe)||[];if(rn.length===0)return nn;const hn=rn.map(en=>en.userId);return qt.filter(en=>hn.includes(en)).map(en=>Object(Ce.a)(qe,en)).join(", ")}h(Ke,"getDisplayNameActiveParticipants");const ke=new Set([w.a.SpeakingWhenMuted,w.a.UpdateSlack,w.a.RemotePeerMuted,w.a.RemotePeerSlowConnection,w.a.ScreenShareFreeTeam,w.a.NoGroupCallsForFreeTeam,w.a.PeerMuteRequest]),Qe=new Set([w.a.SpeakingWhenMuted,w.a.UpdateSlack,w.a.RemotePeerMuted,w.a.RemotePeerSlowConnection,w.a.ScreenShareFreeTeam,w.a.NoGroupCallsForFreeTeam]);function Ze(qe){return Object(w.g)(qe).find(Wt=>!ke.has(Wt.type))}h(Ze,"getAlertForHuddlesBanner");function De(qe){return Ee(qe)&&!!Ze(qe)}h(De,"shouldShowHuddlesBanner");function Fe(qe){const Et=Object(L.getStateForClientStore)();return De(qe)&&!Object(le.l)(Et)}h(Fe,"shouldShowHuddlesBannerInWorkspace");function Ve(qe,Et,Wt){const qt=Object(S.e)(qe,Et),nn=Object(c.d)(qe,Et),rn=Object(N.d)(nn)||void 0,hn=Object(L.getStateForClientStore)(),{callId:en}=Object(le.p)(hn)||{};return{channel_id:Et,channel_type:rn,num_participants:qt,is_recommended:Wt,room_id:en}}h(Ve,"getHuddlesClogContext");function Je(qe,Et){return{...Ve(qe,Et),window_focused:Object(G.m)(qe),window_visible:Object(E.k)(qe)}}h(Je,"getHuddlesClogContextForBackgroundActions");function Ot(qe){return[I.a.STARTING,I.a.PENDING,I.a.COMPLETING_PRE_JOIN].includes(qe)}h(Ot,"isHuddleLoadingState");function ht(qe){return Ot(qe)||qe===I.a.STARTED}h(ht,"isHuddleActiveState");function Le(qe){return Ot(qe)||qe===I.a.ENDING}h(Le,"isHuddleTransitionState");function jt(qe){return[I.a.NOT_STARTED,I.a.SURVEY,I.a.SURVEY_GOOD].includes(qe)}h(jt,"isHuddleEndState");function Ut(qe){return[I.a.SURVEY,I.a.SURVEY_GOOD].includes(qe)}h(Ut,"isHuddleSurveyState");function Ie(qe,Et){const Wt=Object(i.a)(qe);return!!Object(S.g)(qe,Et).find(qt=>{let{id:nn}=qt;return nn===Wt})}h(Ie,"isUserHuddlingInChannel");function oe(qe){var Et;const Wt=qe==null||(Et=qe.meeting)===null||Et===void 0?void 0:Et.ExternalMeetingId;var qt;return(qt=Wt==null?void 0:Wt.split("-")[1])!==null&&qt!==void 0?qt:null}h(oe,"getRoomIdFromCredentials");function ye(qe,Et,Wt){if(!Et)return!1;const qt=Object(C.T)(Object(c.m)(qe,Et.id));return!(!J(qe)||!Object(o.a)(Et)||Object(u.jb)(Et)&&!Wt||!Object(u.N)(Et)||qt)}h(ye,"canHuddleWithMember");function Ne(qe){return qe===I.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE||qe===I.d.INITIAL_ALONE_NOTICE_ACTIVE}h(Ne,"isAloneInHuddleCoachmarkOpen");function Ge(qe){return qe===I.d.INITIAL_ALONE_NOTICE_DISMISSED||qe===I.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED}h(Ge,"isAloneInHuddleCoachmarkDismissed");function st(qe,Et,Wt){var qt,nn;if(Et===null||Object(S.e)(qe,Et)>0||((qt=Object(le.f)(Object(L.getStateForClientStore)()))===null||qt===void 0?void 0:qt.channelId)===Et)return!1;const rn=Object(c.d)(qe,Et);if(!rn||!Object(o.a)(rn))return!1;if(Wt)return!0;if(!rn||Object(N.h)(rn))return!1;const hn=Object(x.d)(qe,Et),en=Object(b.t)(qe,"huddles_show_shouty_rooster"),Un=hn==null||(nn=hn.counts)===null||nn===void 0?void 0:nn.member_count;return!(!Un||Un<=ee.r||en===!1)}h(st,"shouldShowHuddlesShoutyRoosterWarning");function $e(qe){return ee.g}h($e,"getParticipantLimit");function It(){return Object(me.p)()?Object(me.i)()?te.t("Command + Shift + H"):te.t("Command + Shift + Option + H"):Object(me.i)()?te.t("Ctrl + Shift + H",{fallbackHash:"dd419ad8c41aa45554059b0e4a54e75fe21b1e1b"}):te.t("Ctrl + Shift + Alt + H",{fallbackHash:"6975e2b6527423e4f9f6019c7433b21d3222caf3"})}h(It,"getHuddleToggleKeyboardShortcutString");const Lt=h((qe,Et,Wt)=>{const qt=J(qe)&&Object(R.l)(qe);if(Et)return qt&&ye(qe,Et);if(Wt){const nn=Object(c.d)(qe,Wt),rn=nn&&je(qe,nn);return qt&&rn}return qt},"shouldShowCallMenuHuddleDiscoveryLink"),St=h((qe,Et)=>Object(t.a)(Et)?Object(p.a)(qe,"allow_huddles_transcriptions")||!1:Object(q.a)(qe)?Xt(qe,"allow_huddles_transcriptions",Et):Object(p.a)(qe,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForChannel"),vt=h(qe=>Object(q.a)(qe)?cn(qe,"allow_huddles_transcriptions"):Object(p.a)(qe,"allow_huddles_transcriptions")||!1,"isHuddlesTranscriptionsEnabledForOrgWorkspaces"),Yt=h((qe,Et)=>{const Wt=Object(i.a)(qe);return Object(W.g)(qe,Object(v.Y)(Et)?Wt:Et.userId)},"getMemberFromPeer"),et=h((qe,Et)=>Object(O.b)(qe,Et==null?void 0:Et.id)?te.t("Name hidden"):Object(d.e)(Et)||Object(d.c)(Et),"getMemberName"),Ft=h((qe,Et)=>{const Wt=Object(i.a)(qe);if(Object(v.Z)({id:Et}))return Object(W.g)(qe,Wt);const qt=Object(S.C)(qe,Et);if(qt)return Yt(qe,qt)},"getMemberFromPeerId"),mt=h((qe,Et)=>{const Wt=Yt(qe,Et);return et(qe,Wt)},"getMemberNameFromPeer"),Zt=h((qe,Et)=>{if(!Et)return;const Wt=Ft(qe,Et);return et(qe,Wt)},"getMemberNameFromPeerId"),gt=h((qe,Et)=>{const Wt=Object(W.g)(qe,Et);return et(qe,Wt)},"getMemberNameFromUserId"),at=h((qe,Et)=>{const Wt=Object(W.g)(qe,Et);return Object(u.x)(Wt)},"getMemberPronounsFromUserId"),it=h(qe=>{let{state:Et,roomId:Wt}=qe;const qt=Object(S.r)(Et,Wt);return!qt||qt.hasEnded?!1:qt.allParticipants.length===0?!0:!(qt.allParticipants.length>0&&qt.activeParticipants.length===0)},"isHuddleActive"),dt=h(qe=>{let{state:Et,roomId:Wt,userId:qt}=qe;if(!Wt||!qt||!it({state:Et,roomId:Wt}))return!1;const nn=Object(S.r)(Et,Wt);return nn?Object(a.a)(nn.activeParticipants,rn=>Object(de.g)(rn)&&rn.slackId===qt):!1},"isUserInActiveHuddle"),_t=h(qe=>{let{state:Et,roomId:Wt,userId:qt}=qe;if(!Wt||!qt||it({state:Et,roomId:Wt}))return!1;const nn=Object(S.r)(Et,Wt);return nn?Object(a.a)(nn.allParticipants,rn=>Object(de.g)(rn)&&rn.slackId===qt):!1},"wasUserInEndedHuddle"),Dt=h(qe=>{let{participantsIds:Et,userIdsToExclude:Wt}=qe;return!Et||!Et.length?[]:Object(r.a)(Et,qt=>!Object(l.a)(Wt,qt))},"getParticipantIdsFiltered"),Ye=h(qe=>{let{state:Et,channel:Wt,roomId:qt}=qe;if(!Wt||!qt||!Object(N.g)(Wt))return!1;const nn=Object(D.a)(Wt),rn=Object(S.r)(Et,qt);return rn?!dt({state:Et,roomId:qt,userId:nn})&&Object(a.a)(rn.allParticipants,hn=>Object(de.g)(hn)&&hn.slackId===nn):!1},"hasImUserJoinedAndLeft"),Xe=h((qe,Et)=>{if(!Et)return!1;const Wt=Object(c.d)(qe,Et);if(!Wt)return!1;const qt=je(qe,Wt);return!!Wt&&!Object(C.pb)(Wt)&&!Object(j.a)(qe,Wt)&&!!qt},"isValidChannelForHuddleNux"),kt=h((qe,Et)=>{let{channelId:Wt}=Et;if(!Wt)return!1;const qt=Object(L.getStateForClientStore)(),rn=Object(le.b)(qt)===Wt;return Ie(qe,Wt)&&!rn},"isUserHuddlingOnAnotherDevice"),Bt=h(qe=>{let{isDM:Et,escImOrMpimMemberIds:Wt,huddlesDisabledUserIds:qt}=qe;return Et&&Wt&&qt&&qt.length===1&&qt[0]===Wt[0]},"isHuddleDisabledForDM"),wt=h(qe=>{let{isMPDM:Et,escImOrMpimMemberIds:Wt,huddlesDisabledUserIds:qt}=qe;return Et&&Wt&&qt&&qt.length===Wt.length-1},"isHuddleDisabledForMPDM"),we=h(()=>Object(ce.d)()?Object(me.p)()?$.MAC:$.WINDOWS:$.BROWSER,"getTitlebarVariant");function ot(qe,Et){return Xt(qe,"allow_huddles",Et)}h(ot,"getIsHuddlesAllowedTeamPrefForChannel");function yt(qe,Et){return Object(t.a)(Et)?Object(p.a)(qe,"allow_huddles_video")||!1:Object(q.a)(qe)?Xt(qe,"allow_huddles_video",Et):Object(p.a)(qe,"allow_huddles_video")||!1}h(yt,"isHuddlesVideoEnabledForChannel");function Kt(qe){return Object(q.a)(qe)?cn(qe,"allow_huddles_video"):Object(p.a)(qe,"allow_huddles_video")||!1}h(Kt,"isHuddlesVideoEnabledForOrgWorkspaces");function Xt(qe,Et,Wt){if(Object(q.a)(qe)){const qt=Object(c.d)(qe,Wt);return Object(N.j)(qt)?Object(ne.d)(qe,Et):Object(ne.b)(qe,Et,Wt)}return Object(p.a)(qe,Et)||!1}h(Xt,"getIsHuddlesOrgAllowedPrefEnabledForChannel");function cn(qe,Et){return Object(ne.d)(qe,Et)}h(cn,"isCurrentUserWhoCanDoTeamPrefOnSelfWorkspaces");function gn(qe,Et){let{huddleId:Wt}=Et;var qt;const nn=Object(A.W)(qe,{huddleId:Wt});return{canvas_thread_channel_id:nn==null?void 0:nn.channelId,canvas_thread_id:nn==null||(qt=nn.ts)===null||qt===void 0?void 0:qt.replace(".","")}}h(gn,"getHuddleClogContext");function vn(qe){return{canvas_huddle_session_id:Object(le.d)(qe)}}h(vn,"getHuddleClogClientContext");function lt(qe){const Et=Object(le.a)(qe),Wt=Object(le.b)(qe);return{room_id:Et,channel_id:Wt}}h(lt,"getHuddleClogCallsContext");function ct(qe){return!qe||qe.closed?null:qe.innerWidth<=X.g?se.b.WINDOW_COMPACT:se.b.WINDOW_FULL}h(ct,"getHuddleSurfaceFromWindowSize");function Rt(qe){const Wt=qe.screen.availTop,qt=isNaN(Wt)?!0:Math.abs(Wt-qe.screenTop)<=20,nn=qe.screen.availLeft,rn=isNaN(nn)?!0:Math.abs(nn-qe.screenLeft)<=20,hn=Math.abs(qe.screen.availHeight-qe.outerHeight)<=20,en=Math.abs(qe.screen.availWidth-qe.outerWidth)<=20;return qt&&rn&&(hn&&en)}h(Rt,"isHuddleWindowMaximized");function zt(qe){let{self:Et,peers:Wt}=qe;const nn=Wt.filter(hn=>hn.isCameraEnabled).length||Et.isCameraEnabled&&!Et.isHidingSelf,rn=Wt.length+(Et.isHidingSelf?0:1);if(nn){if(rn>=5)return X.c;if(rn===4)return X.d;if(rn===3)return X.b}return X.a}h(zt,"getCompactWindowDefaultHeight");const mn=h(qe=>Object(ce.e)()?!!qe.document.fullscreenEnabled:!1,"isFullscreenEnabled"),fn=h(qe=>!!qe.document.fullscreenElement,"isWindowFullscreen"),ln=h((qe,Et)=>Et?qe.document.body.requestFullscreen():qe.document.exitFullscreen(),"setFullscreen");function Ln(qe){let{message:Et,parentMessage:Wt,viewContext:qt}=qe;return!!(Wt&&Wt.room_id&&(!qt||Q.a.MESSAGE_PANE===qt)&&(Et==null?void 0:Et.ts)!==(Et==null?void 0:Et.thread_ts))}h(Ln,"isMessageHuddleRecapMessage");function In(qe){if(Object(re.l)(qe))return!1;const Wt=Object(z.a)(qe);return Wt?Wt<=5:!0}h(In,"isSelfUserNewToHuddles");function Dn(qe){return J?Object(ve.e)(qe):!1}h(Dn,"isHuddlesPageEnabled");function _n(qe){const Wt=Object(c.i)(qe),qt=[];return Wt.forEach(nn=>{qt.length<3&&je(qe,nn)&&qt.push(nn)}),qt}h(_n,"getChannelHuddleSuggestionsForNUX")},"4+kD":function(H,n,e){H.exports=e.p+"slack_logo-ebd02d1.svg"},"42/h":function(H,n,e){H.exports=e.p+"template_screenshot_help-28aeb89.png"},"4CqU":function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("Lgge"),t=e("n3tL"),a=e("S1sa"),r=e("4TP3"),l=e("SQ0V"),o=e("E97Y"),i=e("gVOt"),u=e("lhZz"),d=e("9Gfp"),m=e("O86Y"),c=e("E3dU"),E=e("y6S6"),f=e("yQzy");const O=Object(l.c)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(p,b){let{channelId:T,userIds:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=b(),[A,I]=Object(a.a)(v,y=>Object(E.d)(S,T,y)),_=Object(c.d)(S,T);if(Object(o.g)(_)){const y=Object(i.a)(_),j=Object(d.a)(S);Object(r.a)(I,y,j),v!=null&&v.includes(y)&&A.push(y),v!=null&&v.includes(j)&&A.push(j)}const M={};return A.forEach(y=>{M[y]=Object(E.b)(S,T,y)}),I.length?Object(u.dispatchForTeamId)(Object(m.g)(S),Object(f.a)({channelId:T,userIds:I})).then(y=>y&&y.payload&&y.payload.membershipInfo?{membershipInfo:{...y.payload.membershipInfo,...M}}:{membershipInfo:M}):s.a.resolve({membershipInfo:M})});O.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"},O.propTypes={channelId:t.default.string.isRequired,userIds:t.default.array.isRequired}},"4Fy9":function(H,n,e){H.exports=e.p+"slackbot_frowny_24-2246c7b.png"},"4GGS":function(H,n,e){"use strict";var s=e("vJtL"),t=e("s4P+"),a=e("ykb+"),r=e("mXhK"),l=e("Z7Ay");let o=[];const i=Object(t.b)(),u=Object(r.b)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(c,E,f)=>{const O=[],p=c.getState();o.forEach(v=>{O.push(v(p,f))});const b=E(f),T=c.getState();return o.forEach((v,S)=>{const A=v(T,f);if(O[S]!==A){const I=["Redux Watcher:",`Value has changed! 
Action: `,f,`
Before: `,O[S],`
After:  `,A];if(O[S]!==void 0&&A!==void 0){const _=O[S]===void 0?{}:O[S],M=A===void 0?{}:A;I.push(`
Diff: `,Object.keys({..._,...M}).filter(y=>_[y]!==M[y]).map(y=>({key:y,before:_[y],after:M[y]})))}if(i.warn(...I),Object(a.b)()||Object(a.c)())debugger}}),b});u.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"},n.a=u;function d(c){if(!Object(s.a)(c)){i.error("watcherFn passed in to addWatcher must be a function");return}o.push(c)}h(d,"addWatcher");function m(){o=[]}h(m,"clearAllWatchers"),Object(l.a)("reduxWatcher",{addWatcher:d,clearAllWatchers:m})},"4HNC":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("BJra"),l=e("sGXp");function o(){return o=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(d[E]=c[E])}return d},o.apply(this,arguments)}h(o,"_extends");let i=h(class extends s.Component{render(){const{className:m,ariaLabel:c,primaryContent:E,secondaryContent:f,size:O=l.c.medium,style:p=l.d.normal,padding:b=l.b.normal}=this.props;return t.a.createElement("div",o({className:Object(a.default)(m,"c-base_list_entity",`c-base_list_entity--${O}`,{"c-base_list_entity--dim":p===l.d.dim,"c-base_list_entity--highlight-dark":p===l.d.highlightDark,"c-base_list_entity--highlight-dim":p===l.d.highlightDim,"c-base_list_entity--highlight-light":p===l.d.highlightLight,"c-base_list_entity--no-pad":b===l.b.none})},Object(r.a)(this.props),{"aria-label":c}),t.a.createElement("div",{className:"c-base_list_entity__primary_content"},E),f&&t.a.createElement("div",{className:"c-base_list_entity__secondary_content"},f))}},"BaseListEntity");i.displayName="BaseListEntity";var u=n.a=i},"4KfL":function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return i});var s=e("RVJP"),t=e("dmdh"),a=e("ZOzc");const r="canvas_version_history_enabled",l=h(u=>Object(a.a)(u,r),"getCanvasVersionHistoryEnabledTeamPref"),o=h((u,d)=>{const m=Object(t.e)(u,d);return m?m.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),i=h((u,d)=>{const m=Object(s.d)(u,"canvas_9740")==="on";if(m&&!d)return!1;const c=!!l(u);return m?c&&!!o(u,d):c},"isCanvasVersionHistoryEnabled")},"4MOp":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Xfqj");let t=null;function a(){if(t===null){var r,l;t=(document==null||(r=document.documentElement)===null||r===void 0||(l=r.dataset)===null||l===void 0?void 0:l.app)===s.a.APP_POPOUTS}return t}h(a,"isAppPopouts")},"4SNR":function(H,n,e){H.exports=e.p+"template_screenshot_triage_slack-9ef91ec.png"},"4Vim":function(H,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return l}),e.d(n,"c",function(){return o});var s=e("ZKjC"),t=e("UOL+");const a=Object(s.b)(i=>{var u;return(u=Object(t.a)(i))===null||u===void 0?void 0:u.quipDocEmbeds});a.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:i=>{var u;return(u=Object(t.a)(i))===null||u===void 0?void 0:u.quipDocEmbeds}};const r=Object(s.b)(i=>{const u=a(i);return u&&Object.keys(u).length>0});r.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:i=>{const u=a(i);return u&&Object.keys(u).length>0}};const l=Object(s.b)(i=>{const u=a(i);return Object.keys(u)});l.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:i=>{const u=a(i);return Object.keys(u)}};const o=Object(s.b)((i,u)=>{const d=a(i);var m;return((m=d[u])!==null&&m!==void 0?m:0)>0});o.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(i,u)=>{const d=a(i);var m;return((m=d[u])!==null&&m!==void 0?m:0)>0}}},"4YJR":function(H,n,e){"use strict";e.d(n,"u",function(){return t}),e.d(n,"y",function(){return a}),e.d(n,"W",function(){return r}),e.d(n,"F",function(){return l}),e.d(n,"l",function(){return o}),e.d(n,"M",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"Y",function(){return d}),e.d(n,"S",function(){return m}),e.d(n,"T",function(){return c}),e.d(n,"Q",function(){return E}),e.d(n,"m",function(){return f}),e.d(n,"e",function(){return O}),e.d(n,"b",function(){return p}),e.d(n,"C",function(){return b}),e.d(n,"f",function(){return T}),e.d(n,"E",function(){return v}),e.d(n,"O",function(){return S}),e.d(n,"N",function(){return A}),e.d(n,"P",function(){return I}),e.d(n,"k",function(){return _}),e.d(n,"I",function(){return M}),e.d(n,"H",function(){return y}),e.d(n,"G",function(){return j}),e.d(n,"d",function(){return C}),e.d(n,"c",function(){return D}),e.d(n,"h",function(){return N}),e.d(n,"g",function(){return B}),e.d(n,"U",function(){return L}),e.d(n,"V",function(){return R}),e.d(n,"K",function(){return U}),e.d(n,"L",function(){return W}),e.d(n,"r",function(){return x}),e.d(n,"o",function(){return G}),e.d(n,"z",function(){return w}),e.d(n,"x",function(){return se}),e.d(n,"t",function(){return ee}),e.d(n,"J",function(){return X}),e.d(n,"B",function(){return me}),e.d(n,"n",function(){return Oe}),e.d(n,"w",function(){return Ce}),e.d(n,"s",function(){return le}),e.d(n,"A",function(){return de}),e.d(n,"X",function(){return ie}),e.d(n,"p",function(){return pe}),e.d(n,"D",function(){return ne}),e.d(n,"i",function(){return q}),e.d(n,"v",function(){return ce}),e.d(n,"j",function(){return ge}),e.d(n,"q",function(){return be}),e.d(n,"R",function(){return Q});var s=e("DwFS");const t=Object(s.a)("Sets the isAddingProgressiveDisclosureTipTimestamp status");t.meta={name:"createAction",key:"createActionsetIsAddingProgressiveDisclosureTipTimestamp",description:"Sets the isAddingProgressiveDisclosureTipTimestamp status"};const a=Object(s.a)("Sets the isSetupCoachmarkShowing status");a.meta={name:"createAction",key:"createActionsetIsSetupCoachmarkShowing",description:"Sets the isSetupCoachmarkShowing status"};const r=Object(s.a)("Updates the team name");r.meta={name:"createAction",key:"createActionsetTeamNameValue",description:"Updates the team name"};const l=Object(s.a)("Updates current user full name");l.meta={name:"createAction",key:"createActionsetProfileStepFullNameValue",description:"Updates current user full name"};const o=Object(s.a)("Sets current step of the team creation setup wizard");o.meta={name:"createAction",key:"createActionsetCurrentStep",description:"Sets current step of the team creation setup wizard"};const i=Object(s.a)("Sets the current setup creation flow (ex: default vs shared channel vs. tada from pricing or promo)");i.meta={name:"createAction",key:"createActionsetSetupCreationFlow",description:"Sets the current setup creation flow (ex: default vs shared channel vs. tada from pricing or promo)"};const u=Object(s.a)("Add channels as users selects them");u.meta={name:"createAction",key:"createActionaddChannel",description:"Add channels as users selects them"};const d=Object(s.a)("Update the name of a channel");d.meta={name:"createAction",key:"createActionupdateChannel",description:"Update the name of a channel"};const m=Object(s.a)("Set skipped invites");m.meta={name:"createAction",key:"createActionsetSkippedInvites",description:"Set skipped invites"};const c=Object(s.a)("Set skipped select people");c.meta={name:"createAction",key:"createActionsetSkippedPeople",description:"Set skipped select people"};const E=Object(s.a)("Set shared invite link");E.meta={name:"createAction",key:"createActionsetSharedInviteLink",description:"Set shared invite link"};const f=Object(s.a)("Set invite emails");f.meta={name:"createAction",key:"createActionsetEmails",description:"Set invite emails"};const O=Object(s.a)("Remove email");O.meta={name:"createAction",key:"createActionremoveEmail",description:"Remove email"};const p=Object(s.a)("Clear invite emails");p.meta={name:"createAction",key:"createActionclearEmails",description:"Clear invite emails"};const b=Object(s.a)("Set selected members");b.meta={name:"createAction",key:"createActionsetMembers",description:"Set selected members"};const T=Object(s.a)("Remove selected member");T.meta={name:"createAction",key:"createActionremoveMember",description:"Remove selected member"};const v=Object(s.a)("Set Joiner setup people step is loading");v.meta={name:"createAction",key:"createActionsetPeopleStepIsLoading",description:"Set Joiner setup people step is loading"};const S=Object(s.a)("Sets the shared-invite details");S.meta={name:"createAction",key:"createActionsetSharedInviteDetails",description:"Sets the shared-invite details"};const A=Object(s.a)("Sets the shared-invite acceptance result");A.meta={name:"createAction",key:"createActionsetSharedInviteAcceptanceResult",description:"Sets the shared-invite acceptance result"};const I=Object(s.a)("Sets the error result for fetching shared-invite info");I.meta={name:"createAction",key:"createActionsetSharedInviteInfoError",description:"Sets the error result for fetching shared-invite info"};const _=Object(s.a)("Set store state for progressive disclosure tips");_.meta={name:"createAction",key:"createActionsetCurrentProgressiveDisclosureTip",description:"Set store state for progressive disclosure tips"};const M=Object(s.a)("Save a timer for delayed progressive disclosure tip");M.meta={name:"createAction",key:"createActionsetProgressiveDisclosureTipTimer",description:"Save a timer for delayed progressive disclosure tip"};const y=Object(s.a)("Set progressive disclosure sent message counter");y.meta={name:"createAction",key:"createActionsetProgressiveDisclosureSentMessageCounter",description:"Set progressive disclosure sent message counter"};const j=Object(s.a)("Set progressive disclosure last message timestamp for Megaphone controlled tip");j.meta={name:"createAction",key:"createActionsetProgressiveDisclosureLastMessageTsForMegaphoneControlledTip",description:"Set progressive disclosure last message timestamp for Megaphone controlled tip"};const C=Object(s.a)("Check if progressive disclosure is currently enabled");C.meta={name:"createAction",key:"createActioninitProgressiveDisclosure",description:"Check if progressive disclosure is currently enabled"};const D=Object(s.a)("Disable progressive disclosure");D.meta={name:"createAction",key:"createActiondisableProgressiveDisclosure",description:"Disable progressive disclosure"};const N=Object(s.a)("Set requestId from the contacts request");N.meta={name:"createAction",key:"createActionsetContactsRequestId",description:"Set requestId from the contacts request"};const B=Object(s.a)("Set calendar contact import step");B.meta={name:"createAction",key:"createActionsetCalendarContactImportStep",description:"Set calendar contact import step"};const L=Object(s.a)("Set teammate invitation suggestions from calendar app");L.meta={name:"createAction",key:"createActionsetSuggestedContactsFromImport",description:"Set teammate invitation suggestions from calendar app"};const R=Object(s.a)("Set teammate invitation external suggestions from calendar app");R.meta={name:"createAction",key:"createActionsetSuggestedExternalContactsFromImport",description:"Set teammate invitation external suggestions from calendar app"};const U=Object(s.a)("Set selected teammates to invite from calendar app suggestions");U.meta={name:"createAction",key:"createActionsetSelectedContacts",description:"Set selected teammates to invite from calendar app suggestions"};const W=Object(s.a)("Set selected external teammates to invite from calendar app suggestions");W.meta={name:"createAction",key:"createActionsetSelectedExternalContacts",description:"Set selected external teammates to invite from calendar app suggestions"};const x=Object(s.a)("Set hasSuccessfullyHuddled value");x.meta={name:"createAction",key:"createActionsetHasSuccessfullyHuddled",description:"Set hasSuccessfullyHuddled value"};const G=Object(s.a)("Set hasSeenHuddlesExplainer value");G.meta={name:"createAction",key:"createActionsetHasSeenHuddlesExplainer",description:"Set hasSeenHuddlesExplainer value"};const w=Object(s.a)("Set isSwitchOnExplainerVisible value");w.meta={name:"createAction",key:"createActionsetIsSwitchOnExplainerVisible",description:"Set isSwitchOnExplainerVisible value"};const se=Object(s.a)("Set isOnboardingHuddlesTipVisible value");se.meta={name:"createAction",key:"createActionsetIsOnboardingHuddlesTipVisible",description:"Set isOnboardingHuddlesTipVisible value"};const ee=Object(s.a)("Set inviterUserId value");ee.meta={name:"createAction",key:"createActionsetInviterUserId",description:"Set inviterUserId value"};const X=Object(s.a)("Set sidebar index of click on recommended dm for clogging send action");X.meta={name:"createAction",key:"createActionsetRecommendedDmSidebarIndex",description:"Set sidebar index of click on recommended dm for clogging send action"};const me=Object(s.a)("Set recommended channels for the joiner launchpad page");me.meta={name:"createAction",key:"createActionsetLaunchpadRecommendedChannels",description:"Set recommended channels for the joiner launchpad page"};const Oe=Object(s.a)("Set when there are new, unseen joiner launchpad recommendations");Oe.meta={name:"createAction",key:"createActionsetHasNewLaunchpadRecommendations",description:"Set when there are new, unseen joiner launchpad recommendations"};const Ce=Object(s.a)("Set the value of isFocusedOnEmailInvitesInput");Ce.meta={name:"createAction",key:"createActionsetIsFocusedOnEmailInvitesInput",description:"Set the value of isFocusedOnEmailInvitesInput"};const le=Object(s.a)("Set the value of hasUploadedPhoto");le.meta={name:"createAction",key:"createActionsetHasUploadedPhoto",description:"Set the value of hasUploadedPhoto"};const de=Object(s.a)("Set when Welcome DM message suggestion tip is visible");de.meta={name:"createAction",key:"createActionsetIsWelcomeDmTipOpen",description:"Set when Welcome DM message suggestion tip is visible"};const ie=Object(s.a)("Set the channelId when welcome DM message is being sent");ie.meta={name:"createAction",key:"createActionsetWelcomeDmSentToChannel",description:"Set the channelId when welcome DM message is being sent"};const pe=Object(s.a)("Set when PD First message flag was shown");pe.meta={name:"createAction",key:"createActionsetHasSeenPDFirstMessageFlag",description:"Set when PD First message flag was shown"};const ne=Object(s.a)("Set when PD First message success coachmark was dismissed");ne.meta={name:"createAction",key:"createActionsetPDFirstMessageSuccessClosed",description:"Set when PD First message success coachmark was dismissed"};const q=Object(s.a)("set the current IA4 NFX step");q.meta={name:"createAction",key:"createActionsetCurrentIA4NFXStep",description:"set the current IA4 NFX step"};const ce=Object(s.a)("Set whether a user exited early from the NFX tour");ce.meta={name:"createAction",key:"createActionsetIsEarlyExitFromNFX",description:"Set whether a user exited early from the NFX tour"};const ge=Object(s.a)("set the current IA4 NUX step");ge.meta={name:"createAction",key:"createActionsetCurrentIA4NUXStep",description:"set the current IA4 NUX step"};const be=Object(s.a)("Set whether user has seen the resurrected user welcome page");be.meta={name:"createAction",key:"createActionsetHasSeenResurrectedUserWelcomePage",description:"Set whether user has seen the resurrected user welcome page"};const Q=Object(s.a)("Set whether we should decay the resurrected user welcome page");Q.meta={name:"createAction",key:"createActionsetShouldDecayResurrectedUserWelcomePage",description:"Set whether we should decay the resurrected user welcome page"}},"4ZsU":function(H,n,e){H.exports=e.p+"ava_0022-72-5a52d67.png"},"4cJY":function(H,n,e){"use strict";e.d(n,"a",function(){return B}),e.d(n,"b",function(){return x});var s=e("7EGn"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),l=e("nNoG"),o=e("zxER"),i=e("E/AO"),u=e("B4ch"),d=e("E97Y"),m=e("E3dU"),c=e("Ccc1"),E=e("dlm8"),f=e("A4eW"),O=e.n(f),p=e("s9Q6"),b=e("beVI"),T=e("G0eX"),v=e("AKIH"),S=e("ktUG"),A=e("Trx9"),I=e("eWGC"),_=e("uVZW"),M=e("rq2v"),y=e("69o4");function j(){return j=Object.assign||function(G){for(var w=1;w<arguments.length;w++){var se=arguments[w];for(var ee in se)Object.prototype.hasOwnProperty.call(se,ee)&&(G[ee]=se[ee])}return G},j.apply(this,arguments)}h(j,"_extends");const C=new l.b("huddles"),D={elementName:"cancel",onClick:{enableClogAction:!0}},N={elementName:"start-huddle",onClick:{enableClogAction:!0}},B=h(G=>{let{channelId:w,channelType:se,channelMembersCount:ee,isTeamOnTrial:X,isFreeTeam:me,trialExpirationTS:Oe,handleOnSubmit:Ce,closeModal:le,UNSAFE_parentSelector:de}=G;const ie=C.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),pe=a.a.createElement(c.a,{channelId:w});let ne,q;switch(se){case d.b.mpim:X?(ne=C.rt("Use this message as a jumping off point for a huddle with anyone in this this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:Object(v.a)(Oe)}),q=S.UiComponentVariant.TRIAL_TEAM):me?(ne=C.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."),q=S.UiComponentVariant.FREE_TEAM):(ne=C.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:ee}),q=S.UiComponentVariant.PAID_TEAM);break;case d.b.im:ne=C.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:X?(ne=C.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:pe,trialEndDate:Object(v.a)(Oe)}),q=S.UiComponentVariant.TRIAL_TEAM):me?(ne=C.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:pe}),q=S.UiComponentVariant.FREE_TEAM):(ne=C.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:ee,channelName:pe}),q=S.UiComponentVariant.PAID_TEAM)}return a.a.createElement(A.a,{uiComponentName:S.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:S.EventId.CANVAS_EVENT,uiComponentVariant:q},a.a.createElement(i.a,{isOpen:!0,centered:!0,onClose:le,contentLabel:ie,describedby:"huddle-in-thread-speed-bump-modal-body-text","data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:C.t("Start huddle"),title:ie,onSubmit:Ce,submitAutoClogProps:N,onCancel:le,cancelAutoClogProps:D,headerImageSrc:O.a,className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:C.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:de},a.a.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},ne)))},"BaseHuddleInThreadSpeedBumpModalBase");B.displayName="BaseHuddleInThreadSpeedBumpModalBase";const L=h(G=>{let{channelId:w,onConfirm:se,closeModal:ee}=G;const X=Object(r.useDispatch)(),me=Object(o.d)(q=>Object(m.d)(q,w)),Oe=Object(d.d)(me),Ce=Object(o.d)(q=>Object(E.d)(q,w)),le=Object(s.a)(Ce,"counts.member_count")||0,de=Object(T.G)(Object(o.d)(b.g)),ie=Object(o.d)(p.i),pe=Object(o.d)(p.g);Object(t.useEffect)(()=>(X(Object(I.a)({notificationName:_.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:_.f.IMPRESSION})),()=>{X(Object(y.a)({spaceName:_.g.LAUNCH_MODAL,action:_.f.DISMISS}))}),[X]);const ne=Object(t.useCallback)(()=>{se(),ee==null||ee()},[ee,se]);return a.a.createElement(B,{channelType:Oe,channelMembersCount:le,isFreeTeam:de,isTeamOnTrial:ie,trialExpirationTS:pe,handleOnSubmit:ne,channelId:w,onConfirm:se,closeModal:ee})},"HuddleInThreadSpeedBumpModalBase");L.displayName="HuddleInThreadSpeedBumpModalBase";const R={spaceName:_.g.LAUNCH_MODAL,notifications:{[_.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:L}}},U=h(G=>{let{channelId:w,onConfirm:se,closeModal:ee}=G;return a.a.createElement(M.c,j({},R,{channelId:w,onConfirm:se,closeModal:ee}))},"HuddleInThreadSpeedBumpModal");U.displayName="HuddleInThreadSpeedBumpModal";var W=U;const x=Object(u.a)(U)},"4iK2":function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s="history",t="main-client-flexpane",a=["comment_thread","files","rimeto_profile","thread"]},"4tnk":function(H,n,e){"use strict";e.d(n,"g",function(){return f}),e.d(n,"k",function(){return T}),e.d(n,"h",function(){return S}),e.d(n,"i",function(){return _}),e.d(n,"j",function(){return M}),e.d(n,"e",function(){return y}),e.d(n,"b",function(){return j}),e.d(n,"d",function(){return C}),e.d(n,"f",function(){return D}),e.d(n,"c",function(){return N}),e.d(n,"a",function(){return B});var s=e("ZKjC"),t=e("Z7Ay"),a=e("O86Y"),r=e("vfQU"),l=e("9Gfp"),o=e("kBpe"),i=e("QOYf"),u=e("BeUZ");const d=Object(s.b)(L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.downloads});d.meta={name:"createSelector",key:"createSelectorgetDownloads",description:L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.downloads}};const m=Object(s.b)(L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.windows});m.meta={name:"createSelector",key:"createSelectorgetWindows",description:L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.windows}};const c=Object(s.b)(function(L){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object(r.Q)();const U=m(L);return U==null?void 0:U[R]});c.meta={name:"createSelector",key:"createSelectorgetWindowState",description:function(L){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object(r.Q)();const U=m(L);return U==null?void 0:U[R]}};const E=Object(s.b)(L=>c(L));E.meta={name:"createSelector",key:"createSelectorgetMainWindowState",description:L=>c(L)};const f=Object(s.b)(L=>!!d(L)&&!!Object(a.g)(L)&&!!Object(l.a)(L)&&Object.values(d(L)[Object(a.g)(L)]||{}).filter(R=>{const U=Object(u.b)(R.appVersion),W=Object(u.b)("4.0.0");return R.appVersion&&Object(u.a)(U,W)!==-1?R.userId&&R.userId===Object(l.a)(L):!0}));f.meta={name:"createSelector",key:"createSelectorgetTeamDownloads",description:L=>!!d(L)&&!!Object(a.g)(L)&&!!Object(l.a)(L)&&Object.values(d(L)[Object(a.g)(L)]||{}).filter(R=>{const U=Object(u.b)(R.appVersion),W=Object(u.b)("4.0.0");return R.appVersion&&Object(u.a)(U,W)!==-1?R.userId&&R.userId===Object(l.a)(L):!0})};const O=Object(s.b)(L=>{const R=f(L);return R&&R.map(U=>{let{id:W}=U;return W})});O.meta={name:"createSelector",key:"createSelectorgetTeamDownloadIds",description:L=>{const R=f(L);return R&&R.map(U=>{let{id:W}=U;return W})}};const p=Object(s.b)(L=>{var R,U;return(L==null||(R=L.desktop)===null||R===void 0||(U=R.environment)===null||U===void 0?void 0:U.titleBarStyle)||(Object(r.kb)()?"frameless":"default")});p.meta={name:"createSelector",key:"createSelectorgetTitleBarStyle",description:L=>{var R,U;return(L==null||(R=L.desktop)===null||R===void 0||(U=R.environment)===null||U===void 0?void 0:U.titleBarStyle)||(Object(r.kb)()?"frameless":"default")}};const b=Object(s.b)(L=>{const R=E(L);return R&&R.frame.isFullScreen});b.meta={name:"createSelector",key:"createSelectorisFullScreen",description:L=>{const R=E(L);return R&&R.frame.isFullScreen}};const T=Object(s.b)(L=>{const R=E(L);return R&&R.frame.isVisible});T.meta={name:"createSelector",key:"createSelectorisMainWindowVisible",description:L=>{const R=E(L);return R&&R.frame.isVisible}};const v=Object(s.b)(L=>{var R,U,W;const x=(R=window)===null||R===void 0?void 0:R.browserWindowId;return x?(U=m(L))===null||U===void 0||(W=U[x])===null||W===void 0?void 0:W.frame.isVisible:!1});v.meta={name:"createSelector",key:"createSelectorisCurrentWindowVisible",description:L=>{var R,U,W;const x=(R=window)===null||R===void 0?void 0:R.browserWindowId;return x?(U=m(L))===null||U===void 0||(W=U[x])===null||W===void 0?void 0:W.frame.isVisible:!1}};const S=Object(s.b)((L,R)=>{var U;const W=c(L,R);return W==null||(U=W.frame)===null||U===void 0?void 0:U.hasVibrancy});S.meta={name:"createSelector",key:"createSelectorhasVibrancy",description:(L,R)=>{var U;const W=c(L,R);return W==null||(U=W.frame)===null||U===void 0?void 0:U.hasVibrancy}};let A=!1,I=!1;const _=Object(s.b)(L=>A||!I&&p(L)==="custom-extension"&&!b(L));_.meta={name:"createSelector",key:"createSelectorisCustomTitlebarShown",description:L=>A||!I&&p(L)==="custom-extension"&&!b(L)};const M=Object(s.b)(L=>I||!A&&p(L)==="frameless"&&Object(o.p)()&&Object(i.a)()&&!b(L));M.meta={name:"createSelector",key:"createSelectorisFrameless",description:L=>I||!A&&p(L)==="frameless"&&Object(o.p)()&&Object(i.a)()&&!b(L)};const y=Object(s.b)(L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.settings});y.meta={name:"createSelector",key:"createSelectorgetSettings",description:L=>{var R;return L==null||(R=L.desktop)===null||R===void 0?void 0:R.settings}};const j=Object(s.b)((L,R)=>{const U=y(L);return!U||U[R]===void 0?Object(r.J)("settings",R):U[R]});j.meta={name:"createSelector",key:"createSelectorgetDesktopSetting",description:(L,R)=>{const U=y(L);return!U||U[R]===void 0?Object(r.J)("settings",R):U[R]}};const C=Object(s.b)(L=>{const R=j(L,"keyboardLayout");return R!==void 0?R:Object(r.pb)()&&Object(r.vb)().currentKeybordLayout});C.meta={name:"createSelector",key:"createSelectorgetKeyboardLayout",description:L=>{const R=j(L,"keyboardLayout");return R!==void 0?R:Object(r.pb)()&&Object(r.vb)().currentKeybordLayout}};const D=Object(s.b)(L=>{var R,U;return L==null||(R=L.desktop)===null||R===void 0||(U=R.app)===null||U===void 0?void 0:U.systemLockedStatus});D.meta={name:"createSelector",key:"createSelectorgetSystemLockedStatus",description:L=>{var R,U;return L==null||(R=L.desktop)===null||R===void 0||(U=R.app)===null||U===void 0?void 0:U.systemLockedStatus}};const N=Object(s.b)(L=>{var R,U;return!!(!(L==null||(R=L.desktop)===null||R===void 0||(U=R.debug)===null||U===void 0)&&U.isPerformanceMonitorEnabled)});N.meta={name:"createSelector",key:"createSelectorgetIsPerformanceMonitorEnabled",description:L=>{var R,U;return!!(!(L==null||(R=L.desktop)===null||R===void 0||(U=R.debug)===null||U===void 0)&&U.isPerformanceMonitorEnabled)}};const B=Object(s.b)(L=>{var R;return(R=L==null?void 0:L.desktop)===null||R===void 0?void 0:R.activeTeamId});B.meta={name:"createSelector",key:"createSelectorgetActiveTeamId",description:L=>{var R;return(R=L==null?void 0:L.desktop)===null||R===void 0?void 0:R.activeTeamId}},Object(t.a)("fakeCustomTitlebar",()=>{if(I){console.error("fakeFrameless is on -- reload first");return}if(!document.querySelector("window-chrome")){const L=document.createElement("window-chrome");L.style.cssText=["display: block","height: 31px","line-height: 31px","text-align: center","background: #000","color: #fff","-webkit-app-region: drag"].join(";"),L.innerText="Fake Windows Title Bar",document.body.prepend(L)}A=!0,I=!1,window.slackDebug.dispatchNoop()}),Object(t.a)("fakeFrameless",()=>{if(A){console.error("fakeCustomTitlebar is on -- reload first");return}const L="fake-mac-traffic-lights";if(!document.querySelector(`#${L}`)){const R=document.createElement("span");R.style.cssText=["position: fixed","top: 0","left: 0","padding: 5px 0 5px 8px","z-index: 9999","line-height: 1"].join(";");const U=h(W=>{const x=document.createElement("span");return x.style.cssText=["display: inline-block",`background: ${W}`,"margin-right: 8px","height: 12px","width: 12px","border-radius: 12px"].join(";"),x},"makeLight");R.appendChild(U("#ff6159")),R.appendChild(U("#ffbd2e")),R.appendChild(U("#28c941")),document.body.appendChild(R)}I=!0,window.slackDebug.dispatchNoop()})},"4unc":function(H,n,e){"use strict";var s=e("zNRp");e.d(n,"a",function(){return s.a}),n.b=s.b},"4w5y":function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("WIr4"),l=e("nNoG"),o=e("G0eX"),i=e("beVI"),u=e("O86Y"),d=e("jWAO"),m=e("SgHf"),c=e("Ufq/");const E=new l.b("enterprise_calls");var f;(function(v){v.GLOBAL="GLOBAL",v.US="US"})(f||(f={}));const O=[{label:E.t("Global",{fallbackHash:"5f1184f7df96c5928092ad9c6b550699bf887826",fallbackHashNs:"enterprise_dashboard"}),value:f.GLOBAL},{label:E.t("US",{fallbackHash:"aa3093554472fd113135bed5b63e12f84c2e9fe8",fallbackHashNs:"enterprise_dashboard"}),value:f.US}];let p=h(class extends s.Component{render(){const{appsState:S,featureCallsLocationLock:A,isLockedByOrgAdmin:I,selectedCallLocation:_,isFreeTeam:M}=this.props,y=S&&S.video&&Object.keys(S.video).find(L=>L==="A00");if(!A||!y||M)return null;const j=O.find(L=>L.value===_),C=A?E.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",D=A?E.t("Call location options"):"Call location options",N=A?E.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",B=A?E.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.a.createElement("span",{className:"p-calls_location_lock__title"},A?E.t("Calls location"):"Calls location"),t.a.createElement("span",{className:"p-calls_location_lock__description"},C),t.a.createElement("div",{className:"p-calls_location_lock__options_container"},t.a.createElement(m.d,{className:"p-calls_location_lock__options",size:"medium",isDisabled:I,options:O,selectedOption:j,onOptionSelected:this.handleOptionSelected,ariaLabel:D}),I&&t.a.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},B))),_===f.US&&t.a.createElement(d.d,{type:d.c.boxed,level:d.b.warning,icon:"warning",align:d.a.left,className:"p-calls_location_lock__alert"},t.a.createElement("span",null,N)))}handleOptionSelected(S){this.props.setSelectedCallLocation(S.value)}constructor(S){super(S),Object(r.a)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");p.displayName="CallsRegionLockOptions";const b=h(v=>{const S=Object(u.d)(v);return{isFreeTeam:!Object(o.K)(Object(i.g)(v))&&!S,featureCallsLocationLock:Object(c.d)(v)}},"mapStateToProps");var T=n.b=Object(a.a)(b)(p)},"5+iz":function(H,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"c",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"a",function(){return u});var s=e("ykb+"),t=e("nNoG"),a=e("MzqU");const r=h((d,m)=>{let c=null,E="",f={},O=!1;const{conversation_email_address:p,conversation_email_addresses:b}=d;if(p)c=p.address,E=p.name,f=p.icons,O=!0;else if(b&&b.length>0){const[T]=b;c=T.address,E=T.name,f=T.icons}return c&&m?{address:c,channelId:m,name:E,icons:f,createdNew:O,id:m}:{channelId:m}},"extractChannelEmailAddressFromApi"),l=h(()=>Object(s.e)()||Object(s.i)()?a.b:a.a,"getChannelEmailAddressesAppId"),o=h(d=>{if(d&&d.icons){const{image_36:m,image_48:c,image_72:E,image_original:f}=d.icons,O=m||c||E||f||null;if(O)return{url:O,src:O}}return null},"maybeExtractChannelEmailAddressIcon"),i=h(d=>d&&d.icons&&d.icons.emoji?d.icons.emoji:null,"maybeExtractChannelEmailAddressEmoji"),u=h(d=>[{type:"section",block_id:"cea_ephemeral_msg_blk",text:{type:"plain_text",text:new t.b("channel-email-addresses").t("Now that you have set an email address for {channelDisplayName}, would you like me to share it with everyone else in this channel? They\u2019ll see it along with some brief instructions for how to use it.",{channelDisplayName:d})}},{type:"actions",block_id:"cea_actions_blk",elements:[{type:"button",text:{type:"plain_text",text:"Dismiss"},value:"dismiss",action_id:"cea_dismiss_cta"},{type:"button",style:"primary",text:{type:"plain_text",text:"Share Email Address"},value:"share_email",action_id:"cea_share_email_cta"}]}],"createCeaEphemeralBlocks")},"52XJ":function(H,n,e){"use strict";e.d(n,"c",function(){return E}),e.d(n,"a",function(){return O}),e.d(n,"d",function(){return p}),e.d(n,"b",function(){return b});var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("lhZz"),l=e("Z7Ay"),o=e("/MKj"),i=e("zxER"),u=e("MRve"),d=e("Cyb+"),m=e("u0LO");let c=1;const E=h((T,v)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:S=!1,component:A=m.c.HuddleCallNudgesBanner}=v;if(!S||!Object(d.f)(T,A,m.a.Click)&&!Object(d.f)(T,A,m.a.Dismiss))return!1;var I;const _=(I=Object(d.a)(T,A,m.a.Click))!==null&&I!==void 0?I:0;var M;const y=(M=Object(d.a)(T,A,m.a.Dismiss))!==null&&M!==void 0?M:0;return!(_>=c||y>=c)},"shouldShowHuddleDiscoveryBanner"),f=h(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:T=!1,component:v=m.c.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:m.c.HuddleCallNudgesBanner};const S=Object(o.useDispatch)();Object(s.useEffect)(()=>{T&&S(Object(u.a)({interactions:[{component:v,type:m.a.Click},{component:v,type:m.a.Dismiss}],useCache:!0,cacheFilter:d.f,reason:"huddle-discovery-calls"}))},[S,T,v])},"useHuddleDiscoveryCallsUserInteractions"),O=Object(a.c)("Send interaction to dismiss nudge",(T,v,S)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:A,interactionType:I}=S;if(!A)return;const _=v();Object(d.a)(_,m.c.HuddleCallNudgesBanner,I)>c||T(Object(u.b)({component:m.c.HuddleCallNudgesBanner,type:I,reason:"huddle-discovery-calls"}))});O.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const p=h(T=>{let{component:v,type:S}=T;const A=Object(o.useDispatch)();return Object(s.useEffect)(()=>{A(Object(u.a)({interactions:[{component:v,type:S}],reason:v}))},[A,v,S]),Object(i.d)(I=>Object(d.f)(I,v,S)?Object(d.i)(I,v):null)},"useTrialProBannerInteraction"),b=Object(a.c)("Record trial pro banner interaction",(T,v,S)=>{let{component:A,type:I}=S;return T(Object(u.b)({component:A,type:I,reason:A}))});b.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},Object(l.a)("huddleInteractionUtils",{addOneMoreThanClickCount:T=>{const v=Object(r.getStateByTeamId)(T);c=Object(d.a)(v,m.c.HuddleCallNudgesBanner,m.a.Click)+1},addOneMoreThanDismissCount:T=>{const v=Object(r.getStateByTeamId)(T);c=Object(d.a)(v,m.c.HuddleCallNudgesBanner,m.a.Dismiss)+1}})},"53Bt":function(H,n,e){"use strict";var s=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("HMe0"),l=e("1Mwh"),o=e("j77i");const i=Object(s.c)("Entirely replaces tile state",(u,d,m)=>{let{tilesState:c}=m;if(!c)return;const E=Object(t.g)(d());Object(o.x)(E,a.a.TILES,c.tiles),Object(o.x)(E,a.a.LAYOUT,c.layout),Object(o.x)(E,a.a.ACTIVE_TILE,c.activeTile),Object(o.x)(E,a.a.MINIMIZED_LAYOUT,c.minimizedLayout),u(Object(l.f)({tilesState:c}));const f=Object(r.a)(d());Object(o.x)(E,a.a.HISTORY,f)});i.meta={name:"createThunk",key:"createThunkreplaceTileState",description:"Entirely replaces tile state"},n.a=i},"54tk":function(H,n,e){"use strict";var s=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),l=e("zxER"),o=e("nNoG"),i=e("ktUG"),u=e("AKIH"),d=e("+kJ4"),m=e("ohbk"),c=e("q6Tz"),E=e("uVZW"),f=e("TsqY"),O=e("RVJP"),p=e("TiPP"),b=e("PFo8"),T=e("xLpb"),v=e("ZobM"),A=h(se=>{let{checklistItems:ee,checklistHeading:X}=se;return a.a.createElement("div",{className:"p-modal_content_checklist__checklist"},a.a.createElement("div",{className:"p-modal_content_checklist__heading"},X),ee.map(me=>a.a.createElement("div",{key:me,className:"p-modal_content_checklist__checklist_item"},a.a.createElement("div",{className:"p-modal_content_checklist__checklist_check"},a.a.createElement(v.a,{name:"check",size:"16",variation:"filled"})),a.a.createElement("div",null,me))))},"ModalContentChecklist"),I=e("j/0O"),_=e("Trx9"),M=e("/cL/"),y=e("dHXs"),j=e("mcZN"),C=e("YUBf"),D=e("I0j/"),N=e("37+L"),B=e("mQiU"),L=e("UmHn"),R=e("i5Ig");const U=new o.b("trials"),W={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},x={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},G=h(se=>{let{modalClassName:ee,modalCloseButtonTheme:X,modalSubtitle:me,modalTitle:Oe,modalType:Ce=T.a.VERTICAL_BANNER,modalVideoClassName:le,modalVideoFileName:de,modalLottieAnimation:ie,modalVideoPosterExtension:pe="",modalBannerBackgroundColor:ne="",modalChecklistHeading:q="",modalChecklistItems:ce=R.a,promoType:ge,promoSubtype:be,imgSrc:Q,isEligibleForTrial:re,startTrialContext:z,uiPage:Y,uiComponentVariant:ve,uiStep:Z,onSpeedbumpContinue:$,onSpeedbumpContinueLabel:te,onTrialStart:J,"data-qa":k}=se;const{shouldUseNavigate:ae}=Object(t.useContext)(B.a),Ee=Object(r.useDispatch)(),_e=Object(l.d)(f.a),je=Object(l.d)(ye=>Object(O.d)(ye,"shorter_guided_trials")==="treatment1"),Ue=Object(l.d)(ye=>Object(O.d)(ye,"shorter_guided_trials")==="treatment2"),Ke=je||Ue,[ke,Qe]=Object(t.useState)(!1),Ze=Object(t.useRef)(""),De=Object(t.useCallback)(()=>{Ee(Object(d.a)())},[Ee]),Fe=Object(t.useCallback)(Object(s.coroutine)(function*(){let{trialExpirationDate:ye}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ye&&(Ze.current=ye,yield Ee(Object(c.b)({event:{type:E.e.REQUEST_SPACES,spaces:[E.g.SIDEBAR_FOOTER]}})),J==null||J(),Qe(!0))}),[Ee,J]),Ve=Object(t.useCallback)(()=>{De(),Ee(ae?Object(D.a)(Object(N.N)(L.a.PaidBenefits)):Object(m.a)({id:p.a}))},[Ee,De,ae]),Je=Object(t.useCallback)(()=>{De(),$==null||$()},[De,$]),Ot=a.a.createElement(A,{checklistHeading:q,checklistItems:ce}),ht=a.a.createElement(y.a,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:W,reason:"start_trial_from_trial_entry_point_modal",context:z,promoType:ge,promoSubtype:be,onRequestComplete:Fe},U.t("Start Free Trial")),Le=a.a.createElement(M.a,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:x,onClick:De},U.t("See Upgrade Options")),jt=re?ht:Le,Ut=h(()=>{if(!Ze.current)return null;const ye=a.a.createElement("div",{className:"display_flex"},a.a.createElement(I.a,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),U.t("Ta-da! Your team\u2019s on a free trial")),Ne=a.a.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},U.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:Object(u.a)(Ze.current)})),st=h(()=>te||($?U.t("Continue"):U.t("Find Out More")),"getContinueButtonLabel")();let $e=U.t("Dismiss"),It=Ve,Lt=De,St="speedbump_learn_more",vt="speedbump_dismiss";return $&&($e=U.t("Learn More"),It=Je,Lt=Ve,St="speedbump_continue",vt="speedbump_learn_more"),a.a.createElement(C.k,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:ye,description:Ne,continueButtonLabel:st,cancelButtonLabel:$e,onCancel:Lt,onContinue:It,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:St,onClick:{enableClogAction:!0}},cancelButton:{elementName:vt,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Ut.displayName="renderSpeedbump";const Ie=a.a.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},U.t("No credit card required.")),oe=a.a.createElement("div",{className:"p-trial_entry_point_modal__footer"},jt,re&&Ie,re&&Ke&&a.a.createElement(j.a,{shouldShow:_e}),ke&&Ut());return a.a.createElement(_.a,{eventId:i.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:i.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:ve,uiStep:Z,uiPage:Y},a.a.createElement(b.a,{bannerBackgroundColor:ne,"data-qa":k,imgSrc:Q,title:Oe,subtitle:me,bodyContent:Ot,footerContent:oe,onRequestClose:De,maxWidth:"586px",className:ee,closeButtonTheme:X,type:Ce,videoFilename:de,videoPosterExtension:pe,videoClassName:le,lottieAnimation:ie}))},"TrialEntryPointModal");G.displayName="TrialEntryPointModal";var w=n.a=G},"55av":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("n3tL"),o=e("Kmpi"),i=e("Yauy"),u=e("E3dU"),d=e("CD4m"),m=e("sGXp"),c=e("pFNT"),E=e("zNRp"),f=e("e7up"),O=e("Tsh7"),p=e("QaYX"),b=e("NK7x"),T=e("zm5I"),v=e("RVJP"),S=e("xwCZ"),A=e("C3vN"),I=e("+tZp"),_=e("Fn/R"),M=e("zUbs");const y=20,j={id:l.default.string.isRequired,invert:l.default.bool,isDeactivated:l.default.bool,isHidden:l.default.bool,member:l.default.object,memberPrimaryName:l.default.string},C={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},D=t.a.forwardRef((ne,q)=>{const{id:ce,invert:ge,member:be,memberPrimaryName:Q,isDeactivated:re,isHidden:z}=ne,Y=Object(_.a)(be),ve=Object(A.rb)(be),Z=Object(A.V)(be),$=Object(o.c)(be),te=Object(o.d)(be),J=$||te,k=ge&&!re,ae=t.a.createElement(M.a,{"data-qa":"mpim-entity__name",name:Q,invert:k,isAppOrBot:Y,isWorkflowBot:ve,isDeleted:Z,isNonExistent:$,isUnknown:te});let Ee;J?Ee=t.a.createElement(f.a,{isNonExistent:$,size:y}):Ee=t.a.createElement(c.c,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:m.a.small,userId:ce,tabIndex:-1,isInteractive:!1});const _e=Object(r.default)("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":Z,"c-small_mpim_entity__member--hidden":z});return t.a.createElement("div",{className:_e,"data-id":ce,ref:q},Ee,ae)});D.propTypes=j,D.defaultProps=C;function N(ne,q){let{id:ce}=q;const ge=Object(S.g)(ne,ce);return{member:ge,memberPrimaryName:Object(I.a)(ne,ge,!1,!1)}}h(N,"mapStateToProps");var B=Object(a.a)(N,null,null,{forwardRef:!0})(D),L=e("zxER"),R=e("9Gfp"),U=e("VSuV"),W=e("nNoG");const x=new W.b("channel_token"),G=10,w=h(ne=>{let{memberIds:q}=ne;var ce;const ge=(ce=Object(L.d)(R.a))!==null&&ce!==void 0?ce:void 0;let be=q.map((Q,re)=>t.a.createElement(U.a,{key:Q,userId:Q,isFirst:re===0,isSelf:ge===Q}));return q.length>G+1&&(be=be.slice(0,G).concat(x.rt("{count} others",{count:q.length-G}))),t.a.createElement(t.a.Fragment,null,Object(W.h)(be))},"TooltipMemberNames");w.displayName="TooltipMemberNames";var se=w,ee=e("swWY"),X=e("Hm4q");function me(){return me=Object.assign||function(ne){for(var q=1;q<arguments.length;q++){var ce=arguments[q];for(var ge in ce)Object.prototype.hasOwnProperty.call(ce,ge)&&(ne[ge]=ce[ge])}return ne},me.apply(this,arguments)}h(me,"_extends");const Oe=m.a.small,Ce={className:l.default.string,"data-qa":l.default.string,"data-sk":l.default.string,mpim:l.default.object,id:l.default.string,invert:l.default.bool,isDeactivated:l.default.bool,memberIds:l.default.array,isActive:l.default.bool,clientTheme:l.default.oneOf(["light","dark"]),matchData:l.default.array,onlyBoldIfUnread:l.default.bool,showUnreadBadge:l.default.bool,unreadCount:l.default.number,shortenTooltipContents:l.default.bool,showAvatar:l.default.bool,experimentSidebarPrefsApplyToMenusGroupOn:l.default.bool},le={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,experimentSidebarPrefsApplyToMenusGroupOn:!1};function de(ne){let{className:q,"data-qa":ce,"data-sk":ge,id:be,invert:Q,isDeactivated:re,mpim:z,memberIds:Y,isActive:ve,clientTheme:Z,matchData:$,onlyBoldIfUnread:te,showUnreadBadge:J,unreadCount:k,shortenTooltipContents:ae,showAvatar:Ee,experimentSidebarPrefsApplyToMenusGroupOn:_e}=ne;const je=Object(o.c)(z),Ue=Object(o.d)(z),Ke=Object(i.G)(z),ke=be||(z==null?void 0:z.id),Qe=Q&&!re,Ze=J&&!!k&&t.a.createElement(E.b,{className:"c-member__unread_count",count:k,style:Qe?"white":"red","data-qa":"member-entity__mention-badge"}),De=Ze&&t.a.createElement("span",{className:"c-member__secondary_content"},Ze),Fe=Object(s.useCallback)(ht=>{if(je||Ue)return t.a.createElement(f.a,me({},ht,{isNonExistent:je,size:Oe,invert:Qe}));const Le=Y==null?void 0:Y[0];return t.a.createElement("span",{className:Object(r.default)("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",q,{"c-small_mpim_entity__mpim_avatars--inverted":Qe,[`c-small_mpim_entity__mpim_avatars--${Z}`]:Z!=="light"})},Ee&&t.a.createElement(c.c,{userId:Le,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.a.createElement("div",{className:Object(r.default)("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!Ee&&_e}),"data-qa":"small-mpim-entity-mpim-counter"},t.a.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},Ke)))},[q,Z,je,Ue,Ke,Qe,Y,Ee,_e]),Ve=Object(s.useCallback)(()=>{let ht;return ae?ht=t.a.createElement(se,{memberIds:Y}):ht=Y.map(Le=>t.a.createElement(B,{id:Le,key:Le})),t.a.createElement(t.a.Fragment,null,ht)},[Y,ae]);let Je=re?m.d.dim:null;Qe&&(Je=m.d.highlightDark);const Ot=t.a.createElement(d.d,{"data-id":ke,"data-qa":ce,"data-sk":ge,avatar:Fe,className:q,size:"small",style:Je,subtext:De,text:t.a.createElement(ee.a,{"data-qa":"name",id:ke,mpim:z,invert:Qe,matchData:$,onlyBoldIfUnread:te})});return t.a.createElement(O.d,{tip:Ve(),tipClassName:ae?"":"c-small_mpim_entity__tooltip",position:"top-right",shouldForceVisible:ve,shouldOnlyShowWhenTruncated:ve,zIndex:"above_fs"},t.a.createElement("div",null,Ot))}h(de,"SmallMpimEntity"),de.displayName="SmallMpimEntity",de.propTypes=Ce,de.defaultProps=le;function ie(ne,q){let{id:ce,mpim:ge,matchData:be}=q;const Q=ge||Object(u.d)(ne,ce),re=Object(b.b)(ne,ce),z=Object(v.d)(ne,"sidebar_prefs_apply_to_menus")==="on",Y=Object(p.a)({state:ne,mpim:Q,matchData:be}),ve=Object(T.a)(ne),Z=Object(i.d)(Q,re);return{mpim:Q,experimentSidebarPrefsApplyToMenusGroupOn:z,memberIds:Y,clientTheme:ve,unreadCount:Z}}h(ie,"small_mpim_entity_mapStateToProps");var pe=n.a=Object(a.a)(ie)(de)},"59s5":function(H,n,e){H.exports=e.p+"slackbot_neutral_48-9906623.png"},"59uo":function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return c}),e.d(n,"b",function(){return M});var s=e("ZKjC"),t=e("Zbwg"),a=e("i9jZ"),r;const l=Object(s.b)(j=>{var C;return(r=(C=j.tiles)===null||C===void 0?void 0:C.activeTile)!==null&&r!==void 0?r:null});var o;l.meta={name:"createSelector",key:"createSelectorgetActiveTileKey",description:j=>{var C;return(o=(C=j.tiles)===null||C===void 0?void 0:C.activeTile)!==null&&o!==void 0?o:null}};var i;const u=Object(s.b)(j=>{var C;return(i=(C=j.tiles)===null||C===void 0?void 0:C.tiles)!==null&&i!==void 0?i:{}});var d;u.meta={name:"createSelector",key:"createSelectorgetTiles",description:j=>{var C;return(d=(C=j.tiles)===null||C===void 0?void 0:C.tiles)!==null&&d!==void 0?d:{}}};var m;const c=Object(s.b)(j=>{var C;return(m=(C=j.tiles)===null||C===void 0?void 0:C.layout)!==null&&m!==void 0?m:[]});var E;c.meta={name:"createSelector",key:"createSelectorgetTilesLayout",description:j=>{var C;return(E=(C=j.tiles)===null||C===void 0?void 0:C.layout)!==null&&E!==void 0?E:[]}};const f=Object(s.b)((j,C)=>{var D;return((D=j.tiles)===null||D===void 0?void 0:D.tiles)&&j.tiles.tiles[C]});f.meta={name:"createSelector",key:"createSelectorgetTileByKey",description:(j,C)=>{var D;return((D=j.tiles)===null||D===void 0?void 0:D.tiles)&&j.tiles.tiles[C]}};const O=Object(s.b)(j=>{var C,D;return!!(!((C=j.tiles)===null||C===void 0||(D=C.layout)===null||D===void 0)&&D.length)&&!Object(a.a)(j)});O.meta={name:"createSelector",key:"createSelectorisTileOpen",description:j=>{var C,D;return!!(!((C=j.tiles)===null||C===void 0||(D=C.layout)===null||D===void 0)&&D.length)&&!Object(a.a)(j)}};var p;const b=Object(s.b)(j=>{var C;return(p=(C=j.tiles)===null||C===void 0?void 0:C.minimizedLayout)!==null&&p!==void 0?p:[]});var T;b.meta={name:"createSelector",key:"createSelectorgetMinimizedLayout",description:j=>{var C;return(T=(C=j.tiles)===null||C===void 0?void 0:C.minimizedLayout)!==null&&T!==void 0?T:[]}};const v=Object(s.b)(j=>{var C;if(!((C=j.tiles)===null||C===void 0)&&C.activeTile)return j.tiles.tiles[j.tiles.activeTile]});v.meta={name:"createSelector",key:"createSelectorgetActiveTile",description:j=>{var C;if(!((C=j.tiles)===null||C===void 0)&&C.activeTile)return j.tiles.tiles[j.tiles.activeTile]}};const S=Object(s.b)((j,C)=>{var D;if(!O(j))return!1;const N=u(j);return!!(!((D=c(j))===null||D===void 0)&&D.some(B=>{var L;return(N==null||(L=N[B])===null||L===void 0?void 0:L.view)===C}))});S.meta={name:"createSelector",key:"createSelectorisViewOpenInTile",description:(j,C)=>{var D;if(!O(j))return!1;const N=u(j);return!!(!((D=c(j))===null||D===void 0)&&D.some(B=>{var L;return(N==null||(L=N[B])===null||L===void 0?void 0:L.view)===C}))}};const A=Object(s.b)((j,C)=>{var D;if(!O(j)||!S(j,C))return null;const N=u(j);return(D=c(j))===null||D===void 0?void 0:D.find(B=>{var L;return(N==null||(L=N[B])===null||L===void 0?void 0:L.view)===C})});A.meta={name:"createSelector",key:"createSelectorgetTileKeyByView",description:(j,C)=>{var D;if(!O(j)||!S(j,C))return null;const N=u(j);return(D=c(j))===null||D===void 0?void 0:D.find(B=>{var L;return(N==null||(L=N[B])===null||L===void 0?void 0:L.view)===C})}};const I=Object(s.b)(j=>{var C;if(!O(j))return!1;const D=u(j);return!!(!((C=c(j))===null||C===void 0)&&C.some(N=>{var B,L;return(D==null||(B=D[N])===null||B===void 0?void 0:B.view)==="thread"||Object(t.a)(D==null||(L=D[N])===null||L===void 0?void 0:L.view)}))});I.meta={name:"createSelector",key:"createSelectorisChannelOrThreadOpenInTile",description:j=>{var C;if(!O(j))return!1;const D=u(j);return!!(!((C=c(j))===null||C===void 0)&&C.some(N=>{var B,L;return(D==null||(B=D[N])===null||B===void 0?void 0:B.view)==="thread"||Object(t.a)(D==null||(L=D[N])===null||L===void 0?void 0:L.view)}))}};const _=Object(s.b)(j=>{let C=v(j);if(!C&&O(j)){var D;const L=u(j),R=(D=c(j))===null||D===void 0?void 0:D.find(U=>{var W,x;return(L==null||(W=L[U])===null||W===void 0?void 0:W.view)==="thread"||Object(t.a)(L==null||(x=L[U])===null||x===void 0?void 0:x.view)});R&&(C=L==null?void 0:L[R])}if(!C)return{};const{view:N,params:B}=C;return N==="thread"?{threadId:B==null?void 0:B.threadId}:Object(t.a)(N)?{channelId:N}:{}});_.meta={name:"createSelector",key:"createSelectorinferChannelOrThreadIdInOpenTile",description:j=>{let C=v(j);if(!C&&O(j)){var D;const L=u(j),R=(D=c(j))===null||D===void 0?void 0:D.find(U=>{var W,x;return(L==null||(W=L[U])===null||W===void 0?void 0:W.view)==="thread"||Object(t.a)(L==null||(x=L[U])===null||x===void 0?void 0:x.view)});R&&(C=L==null?void 0:L[R])}if(!C)return{};const{view:N,params:B}=C;return N==="thread"?{threadId:B==null?void 0:B.threadId}:Object(t.a)(N)?{channelId:N}:{}}};const M=Object(s.b)(j=>{var C;return(C=j.tiles)===null||C===void 0?void 0:C.dockedViewToRestore});M.meta={name:"createSelector",key:"createSelectorgetDockedViewToRestore",description:j=>{var C;return(C=j.tiles)===null||C===void 0?void 0:C.dockedViewToRestore}};const y=Object(s.b)(j=>Object.values(u(j)||[]).filter(C=>{var D;return(D=C.params)===null||D===void 0?void 0:D.draftId}).map(C=>{var D;return(D=C.params)===null||D===void 0?void 0:D.draftId}));y.meta={name:"createSelector",key:"createSelectorgetDraftIdsInTiles",description:j=>Object.values(u(j)||[]).filter(C=>{var D;return(D=C.params)===null||D===void 0?void 0:D.draftId}).map(C=>{var D;return(D=C.params)===null||D===void 0?void 0:D.draftId})}},"5KsB":function(H,n,e){"use strict";var s=e("gSGL"),t=e("nNoG");const a=new t.b("emoji");n.a=function(r){const l=Object(s.a)(r)?r:r.toString(),o={1:()=>a.t("No skin tone"),2:()=>a.t("light skin tone"),3:()=>a.t("medium-light skin tone"),4:()=>a.t("medium skin tone"),5:()=>a.t("medium-dark skin tone"),6:()=>a.t("dark skin tone")},i={"2-3":()=>a.t("left light skin tone and right medium-light skin tone"),"2-4":()=>a.t("left light skin tone and right medium skin tone"),"2-5":()=>a.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>a.t("left light skin tone and right dark skin tone"),"3-2":()=>a.t("left medium-light skin tone and right light skin tone"),"3-4":()=>a.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>a.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>a.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>a.t("left medium skin tone and right light skin tone"),"4-3":()=>a.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>a.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>a.t("left medium skin tone and right dark skin tone"),"5-2":()=>a.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>a.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>a.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>a.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>a.t("left dark skin tone and right light skin tone"),"6-3":()=>a.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>a.t("left dark skin tone and right medium skin tone"),"6-5":()=>a.t("left dark skin tone and right medium-dark skin tone")},u=i[l]?i[l]():null;return u||o[l]&&o[l]()}},"5NQM":function(H,n,e){"use strict";e.d(n,"c",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"a",function(){return m});var s=e("9oTK"),t=e.n(s),a=e("oTSI"),r=e("ifKl"),l=e("Lgge");const o={didTimeout:!0,timeRemaining:()=>0},i=Object(a.a)(()=>!!(window.requestIdleCallback&&window.cancelIdleCallback));function u(E,f){return i()?window.requestIdleCallback(E,f):window.setTimeout(()=>E(o))}h(u,"requestIdleCallback");function d(E){return i()?window.cancelIdleCallback(E):window.clearTimeout(E)}h(d,"cancelIdleCallback");function m(E){return new l.a(function(f,O){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.a;const b=u(function(){var T=Object(s.coroutine)(function*(v){try{const S=yield l.a.resolve(E(v));f(S)}catch(S){O(S)}});return function(v){return T.apply(this,arguments)}}());p(()=>{d(b)})})}h(m,"awaitIdleCallback");const c={IDLE_DEADLINE_FALLBACK:o}},"5RQ4":function(H,n,e){H.exports=e.p+"beach-33258eb.jpg"},"5U8P":function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t,a){return!t||!a?!1:a(t)?!0:s(t.parentElement||void 0,a)}h(s,"isContainedBy")},"5Vg5":function(H,n,e){H.exports=e.p+"template_card_crowdsource_ideas-28f33da.png"},"5YDL":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("E3dU"),t=e("Yauy");function a(r,l){const o=Object(s.m)(r,l&&l.id);return o?Object(t.R)(o):null}h(a,"getImUnreadCountByMember")},"5Yu9":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("n3tL"),l=e("7JUD"),o=e("AEEY"),i=e("9org"),u=e("i9y5"),d=e("+kJ4"),m=e("9v4y");const c={className:r.default.string,closeModal:r.default.func.isRequired},E={className:void 0};function f(O){return t.a.createElement(l.a,{className:O.className,closeModal:O.closeModal},t.a.createElement(o.a,null,t.a.createElement(i.a,null,t.a.createElement("div",{className:"c-lazy_modal"},t.a.createElement(u.a,null)))))}h(f,"LoadingModal"),f.displayName="LoadingModal",f.propTypes=c,f.defaultProps=E,n.a=Object(a.a)(null,O=>({closeModal:function(){for(var p=arguments.length,b=new Array(p),T=0;T<p;T++)b[T]=arguments[T];return O(Object(d.a)(...b))}}))(f)},"5c3X":function(H,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"c",function(){return v}),e.d(n,"b",function(){return S});var s=e("Yauy"),t=e("g05w"),a=e("y/Pn"),r=e("IMMN"),l=e("NjAx"),o=e("E97Y"),i=e("clOX"),u=e("nePV"),d=e("Vu8N"),m=e("pZC0");const c={...d.a,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels"),WhoCanArchivePref:Symbol("who_can_archive_channels")},E={ok:!1,reason:c.ChannelNotFound},f={ok:!1,reason:c.ChannelTypeNotSupported},O={ok:!1,reason:c.CantDisconnectExtShared},p={ok:!1,reason:c.WhoCanManagePref},b={ok:!1,reason:c.WhoCanArchivePref},T={ok:!0},v=h((A,I)=>{if(!Object(o.e)(I))return E;if(Object(m.b)(A,I))return f;if(Object(a.a)(I)&&!Object(r.a)(A,I))return O;const _=Object(s.i)(I),M=Object(l.p)(A,{channelId:_});if(Object(t.a)(I)){if(M)return T;if(!Object(u.a)(A))return p}return M||Object(i.a)(A,"who_can_archive_channels",I)?Object(d.c)(A,I):b},"canUserArchiveChannelWithReasons"),S=h((A,I)=>v(A,I).ok,"canUserArchiveChannel")},"5eUS":function(H,n,e){"use strict";e.d(n,"b",function(){return T});var s=e("eVCY"),t=e("UUKI"),a=e("AFNo"),r=e("2VFn"),l=e("TdVx"),o=e("OaiI"),i=e("m5HF"),u=e("EAKl"),d=e("RVJP"),m=e("2QJ2"),c=e("Iwbv"),E=e("3vtZ"),f=e("PX9a"),O=e("8gWv"),p=e("kzto");const b={[r.d.Home]:S=>!Object(c.a)(S),[r.d.Activity]:()=>!0,[r.d.DMs]:()=>!0,[r.d.FilesPrototype]:S=>Object(p.a)(S),[r.d.Later]:S=>Object(i.s)(S),[r.d.Assistant]:S=>Object(O.b)(S),[r.d.Canvases]:S=>Object(l.a)(S)&&!Object(c.a)(S),[r.d.Files]:S=>!Object(c.a)(S),[r.d.Channels]:S=>!Object(c.a)(S),[r.d.Platform]:()=>!0,[r.d.People]:S=>!Object(c.a)(S),[r.d.Huddles]:S=>Object(E.O)(S)&&!Object(c.a)(S),[r.d.Browse]:()=>!0,[r.d.SalesHome]:S=>Object(s.z)(S),[r.d.Lists]:S=>Object(o.isListsEnabled)(S)&&!Object(c.a)(S),[r.d.CRM]:S=>Object(t.a)(S),[r.d.Search]:()=>!0,[r.d.ExternalConnections]:S=>Object(d.d)(S,"external_connections_browser")==="on",[r.d.ExternalConnectionsTemp]:S=>Object(d.d)(S,"external_connections_browser")!=="on",[r.d.ExternalWorkspace]:S=>Object(m.a)(S).eventCount!=="none"||Object(c.a)(S),[r.d.AiSummaryList]:S=>Object(u.b)(S)&&!Object(c.a)(S),[r.d.Records]:S=>Object(f.a)(S)},T=h(S=>Object(a.c)(A=>b[S](A)),"makeSelectVisibleTab"),v=h((S,A)=>T(A)(S),"getTabVisibility");n.a=v},"5pIt":function(H,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return l});var s=e("ZKjC");const t=Object(s.b)((o,i)=>{var u;return(u=o.channelCanvas)===null||u===void 0?void 0:u.byChannelId[i]});t.meta={name:"createSelector",key:"createSelectorgetByChannelIdState",description:(o,i)=>{var u;return(u=o.channelCanvas)===null||u===void 0?void 0:u.byChannelId[i]}};const a=Object(s.b)((o,i)=>{var u;return(u=t(o,i))===null||u===void 0?void 0:u.tempId});a.meta={name:"createSelector",key:"createSelectorgetChannelCanvasTempId",description:(o,i)=>{var u;return(u=t(o,i))===null||u===void 0?void 0:u.tempId}};const r=Object(s.b)((o,i)=>{var u;return(u=o.channelCanvas)===null||u===void 0?void 0:u.byTempId[i]});r.meta={name:"createSelector",key:"createSelectorgetChannelIdForTempId",description:(o,i)=>{var u;return(u=o.channelCanvas)===null||u===void 0?void 0:u.byTempId[i]}};const l=Object(s.b)((o,i)=>{var u,d;return(d=(u=t(o,i))===null||u===void 0?void 0:u.waitingForLock)!==null&&d!==void 0?d:!1});l.meta={name:"createSelector",key:"createSelectorgetChannelCanvasWaitingForLock",description:(o,i)=>{var u,d;return(d=(u=t(o,i))===null||u===void 0?void 0:u.waitingForLock)!==null&&d!==void 0?d:!1}}},"5ya7":function(H,n,e){"use strict";e.d(n,"a",function(){return M}),e.d(n,"c",function(){return y}),e.d(n,"b",function(){return N});var s=e("4qCO"),t=e("Bkx2"),a=e("Oy0v"),r=e("i5Ig"),l=e("NqdB"),o=e("uZL6"),i=e("beVI"),u=e("WwBA"),d=e("G0eX"),m=e("9Gfp"),c=e("JQ3U"),E=e("zxER"),f=e("AFNo"),O=e("UIhb"),p=e("B+uu"),b=e("YBS9"),T=e("WXix");const v=h(B=>{var L;return Array.isArray((L=B)===null||L===void 0?void 0:L.elements)},"hasElements"),S=h((B,L)=>Object(s.a)(B.emojiName,L.emojiName),"emojiNameSort"),A=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function I(B){var L;const R=(L=Object(a.a)(B))===null||L===void 0?void 0:L.name;return!!R&&A.has(R)}h(I,"isBuiltInEmoji");function _(B,L,R){return decodeURIComponent(L).includes(Object(u.a)())?!1:!(R&&(Object(t.a)(B,R)||I(R)))}h(_,"isCustomEmoji");const M=Object(f.c)((B,L,R)=>{if(!(L&&Object(m.h)(B)&&_(B,L,R)&&Object(l.a)(B)))return!1;const W=Object(i.i)(B);var x;const G=(x=W==null?void 0:W.id)!==null&&x!==void 0?x:"",w=Object(d.i)(W);return!!w&&L.indexOf(Object(d.b)(G,w))===-1&&L.indexOf(G.slice(1))===-1});M.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(B,L,R)=>{if(!(L&&Object(m.h)(B)&&_(B,L,R)&&Object(l.a)(B)))return!1;const W=Object(i.i)(B);var x;const G=(x=W==null?void 0:W.id)!==null&&x!==void 0?x:"",w=Object(d.i)(W);return!!w&&L.indexOf(Object(d.b)(G,w))===-1&&L.indexOf(G.slice(1))===-1}};function y(B,L){return Object(E.d)(R=>M(R,B,L))}h(y,"useCanImportThisEmoji");function j(B,L){for(const R of L||[])Object(T.a)(R)?R.display_url&&B.set(R.display_url,{emojiName:R.name,emojiUrl:R.display_url}):v(R)&&j(B,R.elements)}h(j,"collectMessageEmojis");function C(B,L){for(const{name:R,url:U}of L||[])U&&B.set(U,{emojiName:R,emojiUrl:U})}h(C,"collectMessageReactjis");const D=Object(o.a)((B,L)=>L,(B,L)=>Object(b.a)(B,Object(p.a)(L)),(B,L)=>{const R=new Map;return C(R,L),j(R,B.blocks),[...R.values()].sort(S)}),N=Object(f.c)((B,L)=>{let{channelId:R,ts:U}=L;if(!Object(l.a)(B)||!Object(m.h)(B))return r.a;const W=Object(O.b)(B,R,U);return!W||Object(c.k)(W)?r.a:D(B,W).filter(x=>{let{emojiName:G,emojiUrl:w}=x;return M(B,w,G)})});N.meta={name:"createSelector",key:"createSelectorgetImportableEmojis",description:(B,L)=>{let{channelId:R,ts:U}=L;if(!Object(l.a)(B)||!Object(m.h)(B))return r.a;const W=Object(O.b)(B,R,U);return!W||Object(c.k)(W)?r.a:D(B,W).filter(x=>{let{emojiName:G,emojiUrl:w}=x;return M(B,w,G)})}}},"68hO":function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("9oTK"),t=e.n(s),a=e("3Hq1"),r=e("Lgge"),l=e("s4P+"),o=e("1Zcw");class i{static getInstance(){if(!i.wakeLockManager)try{i.wakeLockManager=new i}catch(d){Object(l.b)({label:o.c}).warn("Error instantiating WakeLockManager,",d.message)}return i.wakeLockManager}static doesInstanceExist(){return!Object(a.a)(i.wakeLockManager)}request(){var d=this;return Object(s.coroutine)(function*(){if(d.wakeLockSentinel)return r.a.resolve();d.wakeLockSentinel=yield d.wakeLock.request("screen").catch(m=>(d.logger.warn("WakeLock acquire failed",m.message),null)),d.addHandlers()})()}release(){var d=this;return Object(s.coroutine)(function*(){if(!d.wakeLockSentinel)return r.a.resolve();d.shouldRemoveVisibilityHandler=!0,yield d.wakeLockSentinel.release(),d.logger.info("WakeLock released")})()}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}handleWakeLockReleased(){var d=this;return Object(s.coroutine)(function*(){d.logger.info("WakeLock released by browser"),d.cleanupHandlers()})()}handleDocumentVisibilityChange(){var d=this;return Object(s.coroutine)(function*(){document.visibilityState==="visible"&&d.request()})()}constructor(){if(this.logger=Object(l.b)({label:o.c}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}h(i,"WakeLockManager")},"69o4":function(H,n,e){"use strict";var s=e("s4P+"),t=e("SQ0V"),a=e("Lgge"),r=e("uVZW"),l=e("7+Lm"),o=e("u4cD"),i=e("eWGC"),u=e("bJfW");const d=Object(t.c)("record a dismissal on a megaphone notification",(m,c,E)=>{const{spaceName:f,...O}=E,p=E.channelId||E.entityId,b=Object(s.b)();if(!f)return b.error(r.d,"spaceName is required when dispatching recordAndClearNotification."),a.a.resolve();const T=c(),v=Object(l.c)(T,f,p);return Object(u.a)(p)&&E.entityType==="team"?m(Object(o.b)({spaceName:f,channelId:p})):m(Object(o.d)({spaceName:f,channelId:p})),m(Object(i.a)({notificationName:v,...O}))});d.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"},n.a=d},"6Bu2":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("q1tI"),t=e.n(s),a=e("yxNq");let r=h(class extends s.Component{shouldComponentUpdate(o,i){return!Object(a.a)(o,this.props,3)||!Object(a.a)(i,this.state,3)}},"PureComponentDepth3")},"6DCH":function(H,n,e){"use strict";e.d(n,"a",function(){return T});var s=e("9oTK"),t=e.n(s),a=e("zmn3"),r=e("hbEN"),l=e("t4/s"),o=e("SQ0V"),i=e("gsmS"),u=e("O86Y"),d=e("8j9e"),m=e("s4P+"),c=e("pgVm"),E=e("WA8N"),f=e("itAW");const O=Object(o.c)("Fetch triggers with query",function(){var S=Object(s.coroutine)(function*(A,I,_){let{query:M,currentChannelId:y,isShortcutsGallerySearch:j=!1,isWorkflowPickerSearch:C=!1}=_;const D=I(),N=Object(u.g)(D),B=Object(c.g)(D),L=Object(E.a)(D),W=!(B&&j||C),x=C;if(L.containsPrefixOf(M)){if(B&&j){const G=Object(f.f)(D,M);return A(Object(d.i)({results:G})),G}else if(C){const G=Object(f.l)(D,M);return A(Object(d.k)({results:G})),G}}else try{const w=(yield A(Object(l.a)({query:M,currentChannelId:y,strictExposureRules:W,triggerTypes:x?["shortcut","event","webhook","scheduled"]:["shortcut"],reason:"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,se=5;return w.length<se&&(L.addAsPrefix(M),L.clearRequestInFlight()),N&&Object(i.a)().markObjectsAsFresh(N,Object(a.a)(w,"id")),A(Object(d.l)({triggers:w})),B&&j&&A(Object(d.i)({results:w})),C&&A(Object(d.k)({results:w})),w}catch(G){return Object(m.b)().error(G,"There was an issue fetching triggers with query"),[]}return[]});return function(A,I,_){return S.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const p=500,b=Object(r.a)((S,A)=>S(O({query:A})),p,{leading:!0,trailing:!0}),T=Object(o.c)("debounced fetch and upsert triggers with query",(S,A,I)=>{let{query:_}=I;return b(S,_)});T.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"},n.b=O;const v={DEBOUNCE_MS:p}},"6FZx":function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"d",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"b",function(){return u});var s=e("n3tL"),t=e("OZf9"),a=e("s4P+"),r=e("ykb+");const l="_isSlackMenuItem",o={menuCallback:s.default.func,menuCallbackId:s.default.number,highlighted:s.default.bool};function i(d){return!!d[l]}h(i,"isMenuItem");function u(d){if(Object(r.b)()){const m=d.propTypes||{};let c;Object.defineProperty(d,"propTypes",{get:()=>c,set:E=>{const f=d.displayName||d.name||"Component";Object(t.a)(o,(O,p)=>{const b=E[p];b&&b!==O&&b!==O.isRequired&&Object(a.b)().warn(`${f}'s ${p} prop type doesn't match menu item`)}),c={...o,...E}}}),d.propTypes=m}return d[l]=!0,d}h(u,"wrapMenuItem")},"6JJY":function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("O9Jz"),l=e("QLhP");const o=Object(a.c)("Opens a member profile in a tile",function(){var i=Object(s.coroutine)(function*(u,d,m){Object(l.e)(d(),m)&&u(Object(r.a)({viewId:"rimeto_profile",params:{memberId:m}}))});return function(u,d,m){return i.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkopenProfileInWindow",description:"Opens a member profile in a tile"},n.a=o},"6SBE":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("7EGn"),r=e("Z3Pq"),l=e("oSkh"),o=e("zxER"),i=e("9Gfp"),u=e("y6S6"),d=e("xwCZ"),m=e("x5lL"),c=e("rIOq"),E=e("VkPA"),f=e("ZMRP"),O=e("ZobM"),p=e("Yauy"),b=e("E97Y"),T=e("gVOt"),v=e("Fn/R"),S=e("aqbC"),A=e("azkI"),I=e("nNoG"),_=e("4HNC"),M=e("sGXp");const y=new I.b("huddles");var j;(function(Oe){Oe[Oe.Channel=0]="Channel",Oe[Oe.Here=1]="Here"})(j||(j={}));const C=h(Oe=>{let{variation:Ce}=Oe;const le=Object(s.useMemo)(()=>{const de=Ce===j.Channel?y.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):y.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),ie=Ce===j.Channel?y.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):y.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.a.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.a.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.a.createElement(O.a,{name:"mentions",size:"24",variation:"large"})),t.a.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.a.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},de),t.a.createElement("span",{className:"c-base_entity__subtext"},ie)))},[Ce]);return t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.a.createElement(_.a,{size:M.c.medium,padding:M.b.normal,primaryContent:le}))},"HuddleInviteChannelListEntity");C.displayName="HuddleInviteChannelListEntity";var D=C,N=e("dlm8"),B=e("GNR7"),L=e("i5Ig"),R=e("sgFo"),U=e("RBHu");const W=new I.b("huddles");var x;(function(Oe){Oe.SUGGESTIONS="suggestions",Oe.INVITED="invited"})(x||(x={}));function G(Oe,Ce,le,de,ie,pe){return!(!Oe||Ce||Oe===le||de.includes(Oe)||ie.includes(Oe)||pe.includes(Oe))}h(G,"shouldSuggestMember");const w="channelEntityId",se="channelHereEntityId",ee=20,X=h(Oe=>{let{activeHuddleCallId:Ce,channel:le,isFreeTeam:de,onSuggestedUserSelected:ie,onChannelSelected:pe,onChannelHereSelected:ne,otherMembersInHuddle:q,selectedMemberIds:ce,channelSuggestionOptionSelected:ge=!1}=Oe;const be=Object(o.d)(i.a),Q=Object(o.d)(ye=>Object(N.d)(ye,le==null?void 0:le.id)),z=Object(o.d)(R.Y)?U.h:U.g,Y=Object(a.a)(Q,"counts.member_count")||void 0,ve=Object(b.h)(le),Z=Object(o.d)(B.j),$=Object(o.d)(ye=>Object(m.n)(ye,Ce)),te=Object(o.d)(ye=>Object(m.m)(ye,Ce)),k=Z+1+$+te,ae=Object(o.g)(ye=>Object(m.p)(ye,Ce)),Ee=Object(s.useMemo)(()=>ae?Object.keys(ae):[],[ae]),_e=Ee.length,je=25,Ue=Object(o.g)(ye=>Object(S.a)(ye,(le==null?void 0:le.id)||"",je,je,!0).map(Ge=>Ge.id));let Ke=[];if(Object(b.g)(le)){const ye=Object(T.a)(le);ye&&Ke.push(ye)}else if(Object(b.i)(le)){const ye=Object(p.C)(le);ye&&ye.length&&(Ke=[...ye])}else Ke=Ue;const ke=Object(o.e)(ye=>{if(ge||!Ke||!Ke.length)return L.a;const Ne=[];return Ke.forEach(Ge=>{const st=Object(d.g)(ye,Ge);G(Ge,Object(v.a)(st),be,q,Ee,ce)&&Ne.push({id:Ge,isMemberOfChannel:!0})}),Ne}),Qe=Object(o.e)(A.g),Ze=Object(o.e)(ye=>{if(!Qe||!Qe.length)return L.a;const Ne=[];return Qe.forEach(Ge=>{const st=Object(d.g)(ye,Ge.id);if(!G(Ge.id,Object(v.a)(st),be,q,Ee,ce)||Ke.includes(Ge.id))return;const $e=le&&Object(u.c)(ye,le.id,Ge.id),It=$e&&$e.isKnown&&$e.isMember;Ne.push({id:Ge.id,isMemberOfChannel:It})}),Ne}),De=Object(s.useMemo)(()=>pe?Y<ee&&k+Y<z&&!ge:!1,[Y,ge,k,z,pe]),Fe=Object(s.useMemo)(()=>ke.length>=je?ke.slice(0,je):[...ke,...Ze].slice(0,je),[ke,Ze]),Ve=Object(s.useMemo)(()=>Fe.map(ye=>ye.id),[Fe]),Je=Object(s.useMemo)(()=>Object(r.a)(Fe,"id"),[Fe]),Ot=Object(s.useMemo)(()=>Math.min(60*Math.max(_e,Ve.length),240),[Ve,_e]),ht=Object(s.useCallback)((ye,Ne)=>{if(Ne.key===w)return t.a.createElement(D,{variation:j.Channel});if(Ne.key===se)return t.a.createElement(D,{variation:j.Here});const Ge=Je[Ne.key];if(!Ge)return;let st=null;return Ge.isMemberOfChannel===!1&&(ve?st=W.t("Not in conversation"):st=W.t("Not in channel")),t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.a.createElement(c.a,{id:Ge.id,secondaryContent:st}))},[ve,Je]),Le=Object(s.useCallback)(ye=>{if(ye.id){if(ye.id===w){pe&&pe();return}if(ye.id===se){ne&&ne();return}ie(ye.id)}},[ne,pe,ie]),jt=Object(s.useCallback)(()=>{let ye=Ve;return De&&(ye=[w,...Ve]),t.a.createElement(l.a,{disableHeight:!0},Ne=>{let{width:Ge}=Ne;return t.a.createElement(f.b,{"aria-label":W.t("Suggested",{fallbackHash:"861edba00547bc9ce7a08df78d4378766418179f"}),keys:ye,rowRenderer:ht,onItemClick:Le,width:Ge,height:Ot})})},[De,ht,Ve,Le,Ot]),Ut=Object(s.useCallback)(ye=>{const Ne=Ee[ye],Ge=ae==null?void 0:ae[Ne];if(!Ge)return null;const st=Ge==="joining_soon",$e=t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.a.createElement(O.a,{name:st?"clock":"paper-plane",size:"20"}),t.a.createElement("span",null,st?W.t("Joining soon"):W.t("Invited")));return t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.a.createElement(c.a,{id:Ne,secondaryContent:$e}))},[Ee,ae]),Ie=Object(s.useCallback)(()=>t.a.createElement(l.a,{disableHeight:!0},ye=>{let{width:Ne}=ye;return t.a.createElement(f.b,{"aria-label":W.t("Invited"),keys:Ee,rowRenderer:Ut,width:Ne,height:Ot})}),[Ee,Ut,Ot]),oe=Object(s.useMemo)(()=>{const ye=[];return Ve.length&&ye.push({title:W.t("Suggested",{fallbackHash:"861edba00547bc9ce7a08df78d4378766418179f"}),id:x.SUGGESTIONS,content:jt()}),ye.push({title:W.t("Invited"),id:x.INVITED,titleCount:_e,content:Ie()}),ye},[Ve,_e,Ie,jt]);return!Ce||de?null:t.a.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.a.createElement(E.a,{fullHeight:!0,tabs:oe,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");X.displayName="HuddleInviteSuggestionTabs";var me=n.a=t.a.memo(X)},"6Tgc":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("oTSI"),o=e("WIr4"),i=e("vd/O"),u=e("ktUG"),d=e("2K8U"),m=e("ZobM"),c=e("MYuU"),E=e("khnw"),f=e("1ufr"),O=e("nNoG");function p(){return p=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var x in W)Object.prototype.hasOwnProperty.call(W,x)&&(R[x]=W[x])}return R},p.apply(this,arguments)}h(p,"_extends");const b=new O.b("select");let T=h(class extends s.Component{componentDidMount(){const{focusOnMount:U=!1}=this.props;U&&this.onClick()}onEscPressed(U){const{selectState:W,setSelectState:x}=this.props;W.isExpanded&&(U.stopPropagation(),x(()=>({isExpanded:!1})))}onKeyDown(U){if(!(U.shiftKey||U.ctrlKey||U.metaKey||U.altKey))switch(U.keyCode){case E.f:this.onEscPressed(U);break;case E.e:case E.p:this.onClick();break;case E.r:case E.c:this.onUpOrDownPressed(U);break;case E.q:this.onTabPressed();break;default:break}}onTabPressed(){const{setSelectState:U}=this.props;U(()=>({isExpanded:!1}))}onClick(){const{onClick:U=r.a,setSelectState:W,selectState:x}=this.props;this.updateOptionsListPosition(),U&&U(),W(()=>({isExpanded:!x.isExpanded}))}onUpOrDownPressed(U){const{selectState:W,setSelectState:x}=this.props,{isExpanded:G}=W;G||(U.stopPropagation(),this.updateOptionsListPosition(),x(()=>({isExpanded:!0})))}getSelectedOptionIndex(){const{selectState:U}=this.props,{selectedOption:W,options:x}=U;return W?x.findIndex(G=>G.label===W.label&&G.value===W.value):0}updateOptionsListPosition(){const{selectState:U}=this.props,{isExpanded:W}=U;if(!W&&this.measurePopoverEvent){var x;(x=this.props.window)===null||x===void 0||x.dispatchEvent(this.measurePopoverEvent)}}renderContent(U){const{renderSelectedOption:W,selectState:x,textSelect:G=!1,textSelectLabel:w=void 0,selectDataQa:se=void 0,placeholderText:ee=void 0}=this.props,{selectedOption:X,options:me}=x,Oe=X?W(X):t.a.createElement("span",{className:"c-select_button__placeholder"},ee||b.t("Please select an option")),Ce=G&&w?t.a.createElement("span",{className:"c-select_button--text-select-label"},w):void 0,le=me&&me.length,de=le||void 0,ie=le?this.getSelectedOptionIndex():void 0;return t.a.createElement("div",{id:U,role:"option","aria-selected":"true","aria-setsize":de,"aria-posinset":ie,"data-qa":se?`${se}-button-content`:null,className:"c-select_button__content"},Ce,Oe)}render(){const{ariaLabelledBy:U=void 0,ariaDescribedBy:W=void 0,ariaLabel:x=void 0,selectState:G,size:w,width:se,textSelect:ee=!1,selectDataQa:X=void 0,classPrefix:me=void 0,onBlur:Oe=r.a,onMouseEnter:Ce=void 0,onMouseLeave:le=void 0,refToForward:de}=this.props,{isDisabled:ie,isExpanded:pe,isInvalid:ne,selectId:q}=G,ce=Object(a.default)("c-select_button",`c-select_button--${w}`,{"c-select_button--disabled":ie,"c-select_button--expanded":pe,"c-select_button--text-select":ee,"c-select_button--invalid":ne,[`${me}__select_button`]:me}),ge=ee?{}:{width:se},be=w===d.f.SMALL?"caret-down":"caret-down-full",Q=Object(c.a)(q,"button"),re=`${Q}-option`;return t.a.createElement("div",{role:"listbox",tabIndex:0,className:ce,onClick:this.onClick,onKeyDown:this.onKeyDown,style:ge,"aria-disabled":ie?!0:void 0,"data-qa":X?`${X}-button`:null,id:Q,onBlur:Oe,onMouseEnter:Ce,onMouseLeave:le,"aria-labelledby":U,"aria-describedby":W,"aria-label":x,"aria-invalid":ne,"aria-activedescendant":ne?void 0:re,ref:de,"aria-expanded":pe,"aria-multiselectable":!1},this.renderContent(re),t.a.createElement("div",{className:`c-select_button__icon c-select_button__icon--${w}`},t.a.createElement(m.a,{name:be})))}constructor(U){super(U),Object(o.a)(this,["onUpOrDownPressed","onKeyDown","updateOptionsListPosition","onClick","onEscPressed","onTabPressed"]);const{measurePopoverEventName:W=null}=this.props;W&&(this.measurePopoverEvent=new Event(W))}},"SelectButton");T.displayName="SelectButton";const v=Object(f.a)(T);var S=t.a.forwardRef((R,U)=>t.a.createElement(v,p({},R,{refToForward:U}))),A=e("HP72"),I=e("YsXF"),_=e("Pewd"),M=e("9ADk"),y=e("FRd1");function j(){return j=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var x in W)Object.prototype.hasOwnProperty.call(W,x)&&(R[x]=W[x])}return R},j.apply(this,arguments)}h(j,"basic_select_extends");const C={onClick:{action:u.UiAction.CLICK}},D=h(R=>R.map(U=>{let{id:W}=U;return W}),"getIdsFromHintOrErrors");let N=h(class extends s.Component{renderOptionsList(){const{ariaLabel:U,onOptionSelected:W,onOptionsListClose:x,renderOption:G,resultsInPopover:w,overlayClassName:se,listClassName:ee,selectState:X,setSelectState:me,width:Oe,classPrefix:Ce,minOptionsListWidth:le,optionsRowHeight:de,maxListHeight:ie,onScrollablePage:pe,dynamicHeight:ne,forceMaxHeight:q,includePadding:ce,includeDividers:ge,preventScroll:be}=this.props,{isDisabled:Q}=X;return Q?null:w?t.a.createElement(I.a,{className:ee,selectState:X,setSelectState:me,renderOption:G,ariaLabel:U,onOptionSelected:W,onOptionsListClose:x,width:Oe,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:Ce,selectDataQa:this.fallbackDataQa,minOptionsListWidth:le,optionsRowHeight:de,focusOnMount:!0,popoverProps:se?{overlayClassName:se}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:ie,onScrollablePage:pe,dynamicHeight:ne,forceMaxHeight:q,includePadding:ce,includeDividers:ge,preventScroll:be}):t.a.createElement(A.b,{className:ee,selectState:X,setSelectState:me,renderOption:G,ariaLabel:U,onOptionSelected:W,onOptionsListClose:x,width:Oe,inputRef:this.inputContainerRef,classPrefix:Ce,selectDataQa:this.fallbackDataQa,optionsRowHeight:de,maxListHeight:ie,focusOnMount:!0,shouldAlwaysHaveActiveRow:!0,dynamicHeight:ne,forceMaxHeight:q,includePadding:ce,includeDividers:ge,preventScroll:be})}render(){const{resultsInPopover:U,selectState:W,setSelectState:x,className:G,textSelect:w,textSelectLabel:se,focusOnMount:ee,onBlur:X,ariaLabel:me,ariaLabelledBy:Oe,ariaDescribedBy:Ce,autoClogProps:le,buttonRef:de,errors:ie,hints:pe,size:ne,renderSelectedOption:q}=this.props,{isInvalid:ce}=W,ge=Object(i.a)(ie),be=Object(i.a)(pe);let Q;ie&&(Q=ge?D(ie):void 0);let re;pe&&(re=be?D(pe):void 0);const z=Object(c.e)([Ce,Q,re]),Y=t.a.createElement("div",{className:Object(a.default)(G,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.a.createElement(S,j({},this.props,{size:ne,renderSelectedOption:q,selectDataQa:this.fallbackDataQa,selectState:W,setSelectState:x,measurePopoverEventName:U?this.measurePopoverEventName:void 0,textSelect:w,textSelectLabel:se,focusOnMount:ee,onBlur:X,ariaLabel:me,ariaLabelledBy:Oe,ariaDescribedBy:z,"aria-invalid":ce,ref:de})),ge&&ie&&t.a.createElement(_.a,{errors:ie}),be&&pe&&pe.map(ve=>{let{id:Z,message:$}=ve;return t.a.createElement(M.a,{key:Z,id:Z},$)}),this.renderOptionsList());return le?t.a.createElement(y.a,{autoClogProps:le,actionProps:C,elementType:u.ElementType.DROPDOWN},Y):Y}constructor(U){super(U),Object(o.a)(this,["renderOptionsList"]),this.inputContainerRef=t.a.createRef();const{selectId:W}=U.selectState;this.measurePopoverEventName=`measureSelectPopover--${W}`,this.fallbackDataQa=U.selectDataQa||W}},"ControlledBasicSelect");N.displayName="ControlledBasicSelect",N.defaultProps={renderOption:R=>R.label,renderSelectedOption:R=>R.label,size:d.f.MEDIUM,width:225,optionsRowHeight:d.a,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:r.a,onOptionSelected:r.a,onOptionsListClose:r.a,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onBlur:r.a,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0};let B=h(class extends s.Component{static getDerivedStateFromProps(U,W){const{selectedOption:x}=U,{selectedOption:G}=W;return!G||x!==void 0&&x!==G?{selectedOption:x}:null}setSelectState(U,W){return this.setState(U,W)}render(){const{isDisabled:U,isInvalid:W,isRequired:x,errors:G}=this.props,w=W||Object(i.a)(G),se=Object(l.a)(()=>({...this.state,isDisabled:U,isInvalid:w,isRequired:x}));return t.a.createElement(N,j({},this.props,{selectState:se(),setSelectState:this.setSelectState}))}constructor(U){super(U),this.state={activeRowIndex:null,isDisabled:U.isDisabled,isExpanded:U.isExpanded,isInvalid:U.isInvalid,isRequired:U.isRequired,options:U.options,selectId:U.selectId,selectedOption:U.selectedOption,selectType:d.g.BASIC},Object(o.a)(this,["setSelectState"])}},"BasicSelect");B.displayName="BasicSelect",B.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:r.a,onOptionsListClose:r.a,selectedOption:void 0,selectId:`basic-select-${Object(c.d)()}`,maxListHeight:void 0,autoClogProps:void 0};var L=n.a=B},"6XI5":function(H,n,e){H.exports=e.p+"ava_0022-48-93db11d.png"},"6kzs":function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("OZf9"),t=e("Muja"),a=e("ifKl"),r=e("fDBt");let l=h(class{layout(){const{keys:i}=this,u={};let d=0;Object(s.a)(i,m=>{u[m]=d;const c=this.getHeight(m);d+=c+(c>0?this.gutter:0)}),Object(t.a)(u,this.tops)||(this.tops=u),d!==this.totalHeight&&this.onTotalHeightChange(d),this.totalHeight=d}getHeight(i){return this.heightCache.get(i)}getHeightValidity(i){return this.heightCache.getValidity(i)}getTop(i){return this.tops[i]}getBottom(i){return this.tops[i]+this.getHeight(i)}getTops(){return this.tops}getTotalHeight(){return this.totalHeight}getOffsetForKey(i){return i?this.getTop(i):this.totalHeight}getBounds(i,u){const d=this.keys;let m=0;for(;m+1<d.length;){const E=d[m+1];if(this.getTop(E)>i)break;m+=1}let c=m;for(;c<d.length;){const E=d[c];if(this.getTop(E)>u)break;c+=1}return{start:m,end:c}}setHeight(i,u,d){this.heightCache.set(i,u),this.layout()}setKeys(i,u){this.keys=i,this.layout()}constructor({keys:i=[],gutter:u=0,heightCache:d=new r.a,onTotalHeightChange:m=a.a}={}){this.keys=i,this.heightCache=d,this.onTotalHeightChange=m,this.gutter=u,this.tops={},this.totalHeight=0,this.layout()}},"Layout")},"6l10":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("nAEa");const t=window.navigator&&typeof window.navigator.sendBeacon=="function";function a(r){let{apiUrl:l,method:o,token:i,args:u={},versionTs:d="",versionUid:m=""}=r,c=!1;const E=Object(s.a)();let f=`${l}${o}?_x_id=${m.substring(0,8)}-${Date.now()/1e3}`;E!==null&&(f+=`&fp=${E}`);const O=new FormData;if(O.append("token",i),Object.keys(u).forEach(p=>O.append(p,u[p])),t)c=navigator.sendBeacon(f,O);else{const p=new XMLHttpRequest;p.addEventListener("load",()=>{const{readyState:b,status:T,DONE:v}=p;b===v&&T===200&&(c=!0)}),p.open("POST",f,!0),p.setRequestHeader("X-Slack-Version-Ts",d),p.send(O)}return c}h(a,"beaconApiCall")},"6rGi":function(H,n,e){"use strict";var s=e("9oTK"),t=e("oTSI"),a=e("LZPg"),r=e("x5lL"),l=e("3REw"),o=e("lhZz"),i=e("9Gfp"),u=e("JoR1"),d=e("NKMX"),m=e("jj3I"),c=e("dKQz"),E=e("lpU5"),f=e("SQ0V"),O=e("4CqU");const p=Object(f.c)("Fetch channel membership info for huddle member",(Ut,Ie,oe)=>{let{channelId:ye,userId:Ne}=oe;return Ut(Object(O.a)({channelId:ye,userIds:[Ne]})).then(Ge=>{let{membershipInfo:st}=Ge;return st[Ne]&&"isMember"in st[Ne]?!st[Ne].isMember:!0})});p.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var b=e("1Zcw"),T=e("HoeF"),v=e("GNR7"),S=e("sgFo"),A=e("beVI"),I=e("N1oM"),_=e("n3Lk"),M=e("0dq7"),y=e("RBHu"),j=e("q1tI"),C=e.n(j),D=e("/MKj"),N=e("zxER"),B=e("E/AO"),L=e("Tevt"),R=e("3vtZ"),U=e("nNoG"),W=e("B4ch"),x=e("E3dU"),G=e("Yauy"),w=e("+CZ0"),se=e("Kmpi"),ee=e("y/e0"),X=e("DneB");const me=new U.b("huddles");function Oe(Ut){let{errorCode:Ie,isJoinError:oe,closeModal:ye}=Ut;var Ne;const Ge=Object(D.useDispatch)(),st=(Ne=Object(X.b)(w.p))===null||Ne===void 0?void 0:Ne.channelId,$e=Object(N.d)(at=>Object(x.d)(at,st)),It=Object(N.d)(at=>Object(se.b)($e)?Object(G.t)(at,$e,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),St=Object(N.d)(S.Y)?me.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{fallbackHash:"564a9ff65bd9124b7d1a23726ab2a0bed74d59f7",maxAmount:y.h}):me.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{fallbackHash:"37677680a08b069935e88c6124e2676a7a095ce4",maxAmount:y.g}),vt=Object(j.useCallback)(()=>{Ge(Object(E.h)())},[Ge]),Yt=Object(j.useCallback)(()=>{Ge(Object(E.g)())},[Ge]),et=Object(ee.a)($e);if(!Object(N.d)(R.H))return null;if(Ie===M.c.FreemiumMaxParticipants)return vt(),null;const mt=(()=>{switch(Ie){case M.c.MaxParticipants:return St;case M.c.AudioJoinedFromAnotherDevice:return me.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.",{fallbackHash:"8e6fe75ad31740e7f9241ccbe132b69a85735e2f"});case M.c.ChimeMeetingEnded:return oe?me.rt("The Huddle has ended."):et?me.rt("We ended the huddle since you were the only one there for a bit."):me.rt("We ended your huddle since you were the only one there for a bit.");case M.c.PermissionDenied:case l.n.CallEnded:return me.rt("The Huddle has ended.");case M.c.DeviceLocked:return me.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,at=>{let{text:it,tag:dt}=at;return dt==="a"?C.a.createElement(L.a,{onClick:Yt},it):null});default:return me.rt("You\u2019ll have to go back and give it another try.")}})(),Zt=(()=>oe?me.t("Can\u2019t join the huddle",{fallbackHash:"4bf244efc6267525220c0012ba0550f91176cc14"}):Ie===M.c.AudioJoinedFromAnotherDevice?me.t("You\u2019ve joined the huddle on a different device"):Ie===M.c.ChimeMeetingEnded&&!oe?et?me.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:It}):me.t("You\u2019re no longer in a huddle"):Ie===M.c.DeviceLocked?me.t("You\u2019re no longer in a huddle"):me.t("Something went wrong with your huddle"))(),gt=(()=>Ie===M.c.AudioInputStreamEnded||Ie===M.c.MaxParticipants||Ie===M.c.ChimeMeetingEnded&&!oe?me.t("Got It"):me.t("OK"))();return C.a.createElement(B.a,{overlayClassName:"p-huddle_error_modal__overlay",onClose:ye,onSubmit:ye,showCancelButton:!1,showSubmitButton:!0,title:Zt,submitButtonText:gt},mt)}h(Oe,"HuddleErrorModal"),Oe.displayName="HuddleErrorModal";const Ce={HuddleErrorModal:Oe},le="huddle_error_modal";var de=Object(W.a)(Oe,{modalName:le,allowMultiple:!1,isStackable:!0}),ie=e("A1dN"),pe=e("Lgge"),ne=e("G0eX"),q=e("5IZy"),ce=e("ktUG"),ge=e("AWyR"),be=e("WJHF"),Q=e("QWPf"),re=e("Z7Ay"),z=e("TGBA"),Y=e("BEaa"),ve=e("s4P+"),Z=e("Pw4T"),$=e("tcZJ"),te=e("gPPH"),J=e("68hO"),k=e("35RN");const ae=60*1e3,Ee=15*1e3,_e=1e3*10,je=1e3*60,Ue=5e3;let Ke=!1;const ke=500,Qe=25;let Ze=h(class{setTargetState(Ie){var oe=this;return Object(s.coroutine)(function*(){oe.targetState=Ie;const{huddleState:ye,huddleSubState:Ne}=oe.targetState;oe.isValidHuddleSubState(ye,Ne)||(oe.targetState.huddleSubState=oe.getInitialSubStateForHuddleState(ye)),Object(o.dispatchForClientStore)(Object(c.ab)(oe.getOptimisticState(Ie))),yield oe.process()})()}setTargetChannel(Ie){this.targetState.channelId=Ie}setTargetSubState(Ie){var oe=this;return Object(s.coroutine)(function*(){oe.isValidHuddleSubState(oe.targetState.huddleState,Ie)&&(oe.targetState.huddleSubState=Ie,yield oe.process())})()}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:M.a.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId,experimentHuddlesLoungeMusicPlayerGroupOn:this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}waitForStartStop(){var Ie=this;return Object(s.coroutine)(function*(){return Ie.startStopDeferred||pe.a.resolve()})()}isProcessing(){var Ie;return(Ie=this.startStopDeferred)===null||Ie===void 0?void 0:Ie.isPending()}isTargetState(){const{teamId:Ie,channelId:oe,huddleState:ye}=this.getClientHuddleState();return Object(R.I)(this.targetState.huddleState)?ye===this.targetState.huddleState:Ie===this.targetState.teamId&&oe===this.targetState.channelId&&ye===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(Ie){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>Ie-ke:!1}isValidHuddleSubState(Ie,oe){return Ie===M.a.STARTED?oe===void 0?!1:Object(z.a)(M.d).includes(oe):oe===void 0}getInitialSubStateForHuddleState(Ie){if(Ie===M.a.STARTED)return M.d.INITIAL_ALONE}process(){var Ie=this;return Object(s.coroutine)(function*(){if(Ie.isProcessing())return Ie.waitForStartStop();Ie.startStopDeferred=Object(ge.a)();const oe=setTimeout(Object(s.coroutine)(function*(){var ye;if(!((ye=Ie.startStopDeferred)===null||ye===void 0)&&ye.isPending()){const Ne=new pe.a.TimeoutError("HuddleStateManager timeout");yield Ie.handleErrorAndDisconnect(Ne)}}),Ie.startStopTimeout);try{yield Ie.runLoop(),clearTimeout(oe),Ie.startStopDeferred.resolve()}catch(ye){yield Ie.handleErrorAndDisconnect(ye)}finally{clearTimeout(oe)}Ie.startStopDeferred=null})()}runLoop(){var Ie=this;return Object(s.coroutine)(function*(){let oe=0;for(;!Ie.isTargetState();){if(!Ie.isProcessing())return;if(oe+=1,oe>Qe)throw new Error("runLoop was stuck");const{teamId:Ge,channelId:st,huddleState:$e}=Ie.getClientHuddleState(),{teamId:It,channelId:Lt,huddleState:St,callId:vt}=Ie.targetState;if(Ge!==It&&(delete Ie.clogger,delete Ie.logger,delete Ie.telemeter),[M.a.STARTED,M.a.PRE_JOINED].includes(St)){if(Ge!==It||st!==Lt){switch($e){case M.a.PENDING:case M.a.STARTED:case M.a.PRE_JOINED:yield Ie.goToNext(M.a.ENDING);break;default:yield Ie.goToNext(M.a.STARTING)}continue}switch($e){case M.a.NOT_STARTED:yield Ie.goToNext(M.a.STARTING);break;case M.a.STARTING:try{yield Ie.goToNext(M.a.PENDING)}catch(Yt){var ye;if(!((ye=Ie.credentials)===null||ye===void 0)&&ye.isQuickJoinCredentials){if(delete Ie.credentials,yield Ie.clearQuickJoinCredentials(),Yt.message===M.c.ChimeMeetingEnded)throw Yt;if(vt){const et=Object(v.r)(Ie.getState(),vt);if(et&&et.hasEnded)throw new Error(M.c.ChimeMeetingEnded)}if(Object(S.h)(Ie.getState())){const et=Date.now(),Ft=!0;yield Ie.disconnect(Ft);const Zt=Date.now()-et;Ie.getLogger().info(`Disconnecting after failed attempt to join huddle added ${Zt}ms to TTI`)}else Ie.getLogger().warn("Initializing a new huddle without disconnecting the last one");yield Ie.goToNext(M.a.STARTING)}else throw Yt}break;case M.a.PENDING:yield Ie.goToNext(Ie.targetState.huddleState);break;case M.a.PRE_JOINED:yield Ie.goToNext(M.a.COMPLETING_PRE_JOIN);break;case M.a.COMPLETING_PRE_JOIN:yield Ie.completePrejoin({isStartMuted:Ie.targetState.muted}),yield Ie.goToNext(M.a.STARTED);break;case M.a.STARTED:throw new Error("This should not be possible");case M.a.ENDING:case M.a.SURVEY:case M.a.SURVEY_GOOD:default:yield Ie.goToNext(M.a.STARTING);break}continue}if([M.a.PENDING,M.a.STARTED,M.a.PRE_JOINED].includes($e)){yield Ie.goToNext(M.a.ENDING);continue}yield Ie.goToNext(St)}let Ne=0;for(;!Ie.isTargetSubState();){if(Ne+=1,Ne>Qe)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:Ge,huddleSubState:st}=Ie.getClientHuddleState(),{huddleSubState:$e}=Ie.targetState;if(!Ie.isValidHuddleSubState(Ge,$e)){const It=Ie.getInitialSubStateForHuddleState(Ge);Ie.targetState.huddleSubState=It,yield Ie.goToNextSubState(It),Ie.getLogger().warn(b.c,`attempted to reach invalid huddleSubstate (${$e}) for the given huddleState (${Ge})`);continue}if(Ge===M.a.STARTED){switch(st){case M.d.INITIAL_ALONE:if($e===M.d.INITIAL_ALONE_NOTICE_ACTIVE){yield Ie.goToNextSubState($e);break}yield Ie.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.INITIAL_ALONE_NOTICE_ACTIVE:if($e===M.d.INITIAL_ALONE_NOTICE_DISMISSED){yield Ie.goToNextSubState($e);break}yield Ie.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.INITIAL_ALONE_NOTICE_DISMISSED:yield Ie.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.IN_PROGRESS_TOGETHER:yield Ie.goToNextSubState(M.d.IN_PROGRESS_ALONE);break;case M.d.IN_PROGRESS_ALONE:if($e===M.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE){yield Ie.goToNextSubState($e);break}yield Ie.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if($e===M.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED){yield Ie.goToNextSubState($e);break}yield Ie.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;case M.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED:yield Ie.goToNextSubState(M.d.IN_PROGRESS_TOGETHER);break;default:yield Ie.goToNextSubState(M.d.INITIAL_ALONE)}continue}yield Ie.goToNextSubState(void 0)}})()}goToNext(Ie){var oe=this;return Object(s.coroutine)(function*(){var ye,Ne,Ge,st;oe.getLogger().info(`Marking huddle as ${Ie} [${(Ge=(ye=oe.targetState)===null||ye===void 0?void 0:ye.teamId)!==null&&Ge!==void 0?Ge:"N/A"}, ${(st=(Ne=oe.targetState)===null||Ne===void 0?void 0:Ne.channelId)!==null&&st!==void 0?st:"N/A"}]`);const $e=Date.now();oe.timeOfLastStateChange=$e,oe.timeOfLastSubStateChange=$e;const It=oe.getInitialSubStateForHuddleState(Ie);if(Ie===M.a.STARTING){var Lt,St;const et=oe.assertTargetTeamAndChannel(M.a.STARTING),Ft=oe.getOptimisticState(oe.targetState);oe.getLogger().info(`Optimistic state: ${Ft.optimisticHuddleState}`),Object(o.dispatchForClientStore)(Object(c.a)({huddleState:Ie,huddleSubState:It,...et,...Ft,isPrejoin:((Lt=oe.targetState)===null||Lt===void 0?void 0:Lt.huddleState)===M.a.PRE_JOINED,sessionId:Object(te.a)()})),oe.credentials=yield oe.fetchCredentials(),(St=oe.getTelemeter())===null||St===void 0||St.mark(y.d);return}if(Ie===M.a.PENDING){const et=oe.assert(oe.credentials,"Expected credentials to be set before PENDING");Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ie,huddleSubState:It,...oe.assertTargetTeamAndChannel(M.a.PENDING),callId:et.roomId})),yield oe.connectToChime(et,oe.targetState),delete oe.credentials;return}if(Ie===M.a.STARTED){var vt;const et=oe.assertTargetTeamAndChannel(M.a.STARTED);Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ie,huddleSubState:It,optimisticHuddleState:null,...et,isPrejoin:!1})),Object(u.t)(oe.getState(),"huddles_set_status")&&oe.scheduleHuddleStateExpirationIncrement(),oe.setCoachmarkTimeout(It),(vt=J.a.getInstance())===null||vt===void 0||vt.request()}else{var Yt;(Yt=J.a.getInstance())===null||Yt===void 0||Yt.release()}if(Ie===M.a.PRE_JOINED&&Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ie,huddleSubState:It,optimisticHuddleState:null,...oe.assertTargetTeamAndChannel(M.a.PRE_JOINED)})),Ie===M.a.ENDING){Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ie,huddleSubState:It})),yield oe.disconnect();return}Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:Ie,huddleSubState:It,optimisticHuddleState:null}))})()}goToNextSubState(Ie){var oe=this;return Object(s.coroutine)(function*(){Ie===M.d.IN_PROGRESS_ALONE&&setTimeout(()=>{var ye;((ye=oe.getClientHuddleState())===null||ye===void 0?void 0:ye.huddleSubState)===M.d.IN_PROGRESS_ALONE&&oe.hasBeenInSubStateForAtLeastApproxTime(_e)&&(oe.isMicEnabled()||oe.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&oe.setTargetSubState(M.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},_e),oe.timeOfLastSubStateChange=Date.now(),Object(o.dispatchForClientStore)(Object(c.ab)({huddleSubState:Ie}))})()}handleErrorAndDisconnect(Ie){var oe=this;return Object(s.coroutine)(function*(){var ye;oe.getLogger().error(Ie);const{huddleState:Ne}=oe.getClientHuddleState();if([M.a.PENDING,M.a.STARTED].includes(Ne))try{yield pe.a.race([new pe.a((Ge,st)=>{setTimeout(()=>st(new Error("HuddleStateManager disconnect timeout")),oe.disconnectTimeout)}),oe.disconnect()])}catch(Ge){oe.getLogger().error(Ge)}Object(o.dispatchForClientStore)(Object(c.ab)({huddleState:M.a.NOT_STARTED,optimisticHuddleState:null})),yield pe.a.resolve(oe.handleError(Ie,Ne)),(ye=oe.startStopDeferred)===null||ye===void 0||ye.reject(Ie)})()}getInitialAloneInHuddleTimeOutValue(){if(Ke)return Ue;if(!this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)return je;const Ie=this.getState(),oe=Object(u.t)(Ie,k.b);return oe?oe*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),je)}setCoachmarkTimeout(Ie){Ie===M.d.INITIAL_ALONE&&(setTimeout(()=>{var oe;((oe=this.getClientHuddleState())===null||oe===void 0?void 0:oe.huddleSubState)===M.d.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.isMicEnabled()||this.targetState.experimentHuddlesLoungeMusicPlayerGroupOn)&&(this.setTargetSubState(M.d.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var Ie;return!!(!((Ie=Object(a.V)(this.getState()))===null||Ie===void 0)&&Ie.isMicrophoneEnabled)}getClientHuddleState(){const Ie=Object(o.getStateForClientStore)(),oe=Object(w.g)(Ie),{channelId:ye,teamId:Ne}=Object(w.p)(Ie)||{};if(!oe||oe===M.a.NOT_STARTED)return{huddleState:M.a.NOT_STARTED,channelId:ye,teamId:Ne};const Ge=Object(w.h)(Ie);return{huddleState:oe,huddleSubState:Ge,channelId:ye,teamId:Ne}}assertTargetTeamAndChannel(Ie){const{teamId:oe,channelId:ye}=this.targetState;return{teamId:this.assert(oe,`Expected teamId to be set for ${Ie}`),channelId:this.assert(ye,`Expeted channelId to be set for ${Ie}`)}}getChannelIdOrDie(){const{channelId:Ie}=this.getClientHuddleState(),{channelId:oe}=this.targetState,ye=Ie||oe;return this.assert(ye,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:Ie}=this.getClientHuddleState(),{threadTs:oe}=this.targetState;return Ie||oe}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:Ie}=this.getClientHuddleState(),{teamId:oe}=this.targetState,ye=Ie||oe;return this.assert(ye,"No team ID or active huddle")}getCallIdOrDie(){const Ie=Object(o.getStateForClientStore)(),oe=Object(w.a)(Ie);return this.assert(oe,"No call ID or active huddle")}getHuddleState(){const{huddleState:Ie}=this.getClientHuddleState();return Ie}dispatch(Ie){const oe=this.getTeamIdOrDie();return Object(o.dispatchForTeamId)(oe,Ie)}getState(Ie){const oe=Ie||this.getTeamIdOrDie();return Object(o.getStateByTeamId)(oe)}assert(Ie,oe){if(Ie==null)throw new Error(oe);return Ie}getClogger(){if(this.clogger)return this.clogger;const{teamId:Ie}=this.getClientHuddleState();return this.clogger=Ie?Object(q.a)({state:Object(o.getStateByTeamId)(Ie)}):Object(q.a)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=Object(ve.b)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:Ie}=this.getClientHuddleState();return Ie?this.telemeter=Object(Z.d)({state:Object(o.getStateByTeamId)(Ie)}):this.telemeter=Object(Z.a)(),this.telemeter}constructor({logLabel:Ie=b.c,startStopTimeout:oe=ae,disconnectTimeout:ye=Ee}={}){this.targetState={huddleState:M.a.NOT_STARTED},this.startStopDeferred=null;var Ne=this;this.scheduleHuddleStateExpirationIncrement=Object(s.coroutine)(function*(){if(Ne.isTargetState()&&Ne.targetState.huddleState!==M.a.STARTED)return;const Ge=60*5,st={huddle_state_expiration_ts:new Date().getTime()/1e3+Ge};yield Ne.dispatch(Object($.a)({profile:st,reason:"increment-huddle-state-expiration-ts"})),setTimeout(Ne.scheduleHuddleStateExpirationIncrement,Object(Y.a)(12e4,-.1,.1))}),this.logLabel=Ie,this.startStopTimeout=oe,this.disconnectTimeout=ye,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");Object(re.a)("baseHuddleStateManager",{setShortTimeoutValue:()=>{Ke=!0},resetShortTimeoutValue:()=>{Ke=!1}}),Object.defineProperty({shouldUseDebugTimeout:Ke},"shouldUseDebugTimeout",{get:()=>Ke,set:()=>{Ke=!0}});var Fe=e("Erbp"),Ve=e("HPAj"),Je=e("SIMs"),Ot=e("ED8d");class ht extends Ze{start(Ie,oe,ye,Ne,Ge,st,$e,It){var Lt=this;return Object(s.coroutine)(function*(){yield Lt.startHuddleWithTargetState(M.a.STARTED,Ie,oe,ye,Ne,Ge,st,$e,It)})()}prejoin(Ie,oe,ye,Ne,Ge){var st=this;return Object(s.coroutine)(function*(){yield st.startHuddleWithTargetState(M.a.PRE_JOINED,Ie,oe,ye,Ne,void 0,Ge)})()}setOthersInHuddle(){var Ie=this;return Object(s.coroutine)(function*(){yield Ie.setTargetSubState(M.d.IN_PROGRESS_TOGETHER)})()}setAloneInHuddle(){var Ie=this;return Object(s.coroutine)(function*(){yield Ie.setTargetSubState(M.d.IN_PROGRESS_ALONE)})()}dismissAloneInHuddleWarning(Ie){var oe=this;return Object(s.coroutine)(function*(){const ye=Ie?M.d.INITIAL_ALONE_NOTICE_DISMISSED:M.d.IN_PROGRESS_ALONE_NOTICE_DISMISSED;yield oe.setTargetSubState(ye)})()}startHuddleWithTargetState(Ie,oe,ye,Ne,Ge,st,$e,It,Lt){var St=this;return Object(s.coroutine)(function*(){var vt;!((vt=St.currentHuddleDeferred)===null||vt===void 0)&&vt.isPending()||(St.currentHuddleDeferred=Object(ge.a)()),yield St.setTargetState({huddleState:Ie,teamId:oe,channelId:ye,muted:Ne,callId:Ge,threadTs:st,experimentHuddlesLoungeMusicPlayerGroupOn:$e,isMultiDevice:It,experimentStandaloneHuddlesOn:Lt})})()}stop(){var Ie=this;return Object(s.coroutine)(function*(){var oe;const ye=Ie.getState(),Ne=Ie.getHuddleState()!==M.a.PRE_JOINED&&Object(v.G)(ye)&&!Ie.isProcessing();Ne&&(Ie.getLogger().info(`Show huddle survey in ${Ie.getChannelIdOrDie()}`),Ie.dispatch(Object(_.d)({timeSeen:new Date().toISOString()}))),yield Ie.setTargetState({huddleState:Ne?M.a.SURVEY:M.a.NOT_STARTED}),Ie.getHuddleState()===M.a.NOT_STARTED&&(!((oe=Ie.currentHuddleDeferred)===null||oe===void 0)&&oe.isPending())&&Ie.currentHuddleDeferred.resolve()})()}enterTerminalState(Ie){var oe=this;return Object(s.coroutine)(function*(){var ye;!((ye=oe.pendingHuddleStart)===null||ye===void 0)&&ye.isPending()?oe.pendingHuddleStart.reject(Ie):yield oe.handleErrorAndDisconnect(Ie)})()}waitForHuddleToEnd(){return pe.a.resolve(this.currentHuddleDeferred)}handleError(Ie,oe){var ye;this.getLogger().error(Ie);const Ne=oe===M.a.STARTING||oe===M.a.PENDING;this.dispatch(de({errorCode:Object(M.f)(Ie.name)?Ie.name:Ie.message,isJoinError:Ne})),!((ye=this.currentHuddleDeferred)===null||ye===void 0)&&ye.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(Ie){let{teamId:oe,channelId:ye,huddleState:Ne}=Ie;if([M.a.NOT_STARTED].includes(Ne))return{optimisticHuddleState:M.a.ENDING};if([M.a.SURVEY].includes(Ne))return{optimisticHuddleState:null};if(Ne===M.a.PRE_JOINED)return{optimisticHuddleState:M.a.PRE_JOINED,isPrejoin:!0};if(Ne===M.a.STARTED&&oe){var Ge,st;const $e=Object(o.getStateByTeamId)(oe),It=Object(o.getStateForClientStore)(),Lt=Object(w.f)(It),St=(Lt==null?void 0:Lt.channelId)===ye||!((Ge=Object(v.a)($e,ye))===null||Ge===void 0||(st=Ge.activeParticipants)===null||st===void 0)&&st.length?null:M.a.STARTED;return Object(u.t)($e,"huddles_global_mute")&&Object(o.dispatchForClientStore)(Object(c.W)(!0)),{isPrejoin:!1,optimisticHuddleState:St}}return{}}fetchCredentials(){var Ie=this;return Object(s.coroutine)(function*(){const oe=Ie.getTeamIdOrDie(),ye=Ie.getChannelIdOrDie(),Ne=Ie.getThreadTsOrNothing(),Ge=Object(o.getStateForClientStore)(),st=Object(v.a)(Ie.getState(),ye),{ttiTrace:$e}=Object(Ot.a)().getAllTraceHandlers(),It=Object(w.r)(Ge,ye),Lt=Ie.getIsMultiDevice(),St=Object(Ve.a)(Ie.getState());if($e==null||$e.createFetchCredentialsSpan(),It){$e==null||$e.setCachedTag({cached:!0});const vt=(st==null?void 0:st.id)||Object(R.w)(It.credentials);if(vt){const Yt=Object(v.r)(Ie.getState(),vt);if(Yt&&Yt.hasEnded)throw yield Ie.clearQuickJoinCredentials(),new Error(M.c.ChimeMeetingEnded)}return Ie.getTelemeter().count(y.m),$e==null||$e.closeFetchCredentialsSpan(),{roomId:vt,server:It.credentials,isQuickJoinCredentials:!0}}if(Object(S.B)(Ie.getState(oe))){const vt=Object(Je.I)(Ie.getState(),{channelId:ye});if(vt)return{roomId:Object(R.w)(vt),server:vt,isQuickJoinCredentials:!1}}return Ie.getTelemeter().mark(y.o),$e==null||$e.setCachedTag({cached:!1}),Ie.dispatch(Object(ie.c)({teamId:oe,channelId:ye,shouldFetchRegion:!st,traceId:$e==null?void 0:$e.getTTITraceId(),parentSpanId:$e==null?void 0:$e.getFetchCredentialsSpanId(),...Ne&&{threadTs:Ne},...Lt&&{isMultiDevice:Lt}})).then(vt=>{var Yt,et;if(!(!(vt==null||(Yt=vt.server)===null||Yt===void 0)&&Yt.meeting)||!(!(vt==null||(et=vt.server)===null||et===void 0)&&et.attendee))throw new Error("create_meeting_failed");$e==null||$e.closeFetchCredentialsSpan(),Ie.getTelemeter().mark(y.n);const Ft=Ie.getTelemeter().measure(y.o,y.A,y.n);Ie.getTelemeter().count(y.A,Ft),Object(o.dispatchForClientStore)(Object(c.ab)({metrics:{roomsJoinTime:Ft}}));let mt=ye;return Ie.getIsExperimentStandaloneHuddlesOn()&&vt.channelId&&(mt=vt.channelId,Ie.setTargetChannel(mt),Object(o.dispatchForClientStore)(Object(c.Z)(mt))),Object(o.dispatchForClientStore)(Object(c.db)({channelId:mt,joinCredentials:vt.server,expiry:Date.now()+b.a,fromInvite:!1})),vt.rootThreadTs&&vt.roomId&&(Ie.dispatch(Object(T.P)({huddleId:vt.roomId,thread:{channelId:mt,ts:vt.rootThreadTs}})),Ie.dispatch(Object(I.e)({channelId:mt,threadTs:vt.rootThreadTs,lastRead:vt.rootThreadTs,reason:"canvas-rooms-join-api"})),Ie.dispatch(St?Object(Q.a)({channelId:mt,threadTs:vt.rootThreadTs,oldest:vt.rootThreadTs}):Object(be.a)({channelId:mt,threadTs:vt.rootThreadTs,oldest:vt.rootThreadTs}))),vt})})()}connectToChime(Ie,oe){let{server:ye,roomId:Ne}=Ie,{muted:Ge,huddleState:st}=oe;var $e=this;return Object(s.coroutine)(function*(){const{ttiTrace:It}=Object(Ot.a)().getAllTraceHandlers();return It==null||It.createConnectToMediaServiceSpan(),Object(o.dispatchForClientStore)(Object(c.e)({callResult:{server:ye,roomId:Ne,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:Ge,waitForHuddleStart:Object(ge.a)(),isPrejoin:st===M.a.PRE_JOINED})),$e.pendingHuddleStart=Object(ge.a)(),st===M.a.PRE_JOINED?pe.a.resolve():$e.pendingHuddleStart})()}resolvePendingJoin(Ie){var oe=this;return Object(s.coroutine)(function*(){try{var ye;const Ge=oe.getChannelIdOrDie(),{ttiTrace:st}=Object(Ot.a)().getAllTraceHandlers(),$e=oe.getState(),It=Object(o.getStateForClientStore)(),{callId:Lt,optimisticHuddleState:St}=Object(w.p)(It)||{},vt=Object(v.B)($e);if(oe.getLogger().info(`Resolve pending huddle (${Ge}, optimisticHuddleState: ${St}, has optimisticTopic: ${!!vt})`),!(!((ye=oe.pendingHuddleStart)===null||ye===void 0)&&ye.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const Yt=oe.assert(Lt,"Room ID is not defined for pending join"),et=Object(u.t)($e,"huddles_cc_by_default");if(Object(R.P)($e,Ge)&&et&&(oe.dispatch(Object(d.a)()),oe.dispatch(Object(m.f)(!0)),oe.dispatch(Object(m.d)(!0))),vt){try{yield oe.dispatch(Object(ie.e)({roomId:Yt,name:vt})),oe.dispatch(Object(r.E)({id:Yt,name:vt}))}catch(mt){oe.getLogger().error(mt)}oe.dispatch(Object(E.e)(null))}Object(o.dispatchForClientStore)(Object(c.c)(Ge)),st==null||st.closeConnectToMediaServiceSpan(),Object(q.a)({state:$e}).track(ce.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:Yt,duration_ms:Math.round(Ie),channel_id:Ge}}}),Object(o.dispatchForClientStore)(Object(c.ab)({metrics:{audioConnectedTime:Ie},isSelfJoined:!0})),oe.pendingHuddleStart.resolve()}catch(Ge){var Ne;(Ne=oe.pendingHuddleStart)===null||Ne===void 0||Ne.reject(Ge)}})()}completePrejoin(Ie){var oe=this;return Object(s.coroutine)(function*(){const ye=oe.getChannelIdOrDie(),Ne=Object(o.getStateForClientStore)(),{ttiTrace:Ge}=Object(Ot.a)().getAllTraceHandlers(),st=Object(w.r)(Ne,ye);return Ge==null||Ge.setCachedTag({cached:!!st}),Ge==null||Ge.createConnectToMediaServiceSpan(),Object(o.dispatchForClientStore)(Object(c.Y)({...Ie}))})()}clearQuickJoinCredentials(){return Object(s.coroutine)(function*(){const Ie=Object(o.getStateForClientStore)(),{channelId:oe}=Object(w.p)(Ie)||{};return Object(o.dispatchForClientStore)(Object(c.d)({channelId:oe}))})()}disconnect(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var oe=this;return Object(s.coroutine)(function*(){var ye;const Ne=oe.getState(),Ge=Object(o.getStateForClientStore)(),{channelId:st,teamId:$e}=Object(w.p)(Ge)||{};Object(o.dispatchForClientStore)(Object(c.W)(!1)),Object(S.G)(Ne)&&(Object(o.dispatchForClientStore)(Object(c.Q)()),Object(o.dispatchForClientStore)(Object(c.K)({song:void 0}))),Object(o.dispatchForClientStore)(Object(c.ab)({isSelfJoined:!1})),Ie||Object(Ot.a)().cleanup();const Lt=Object(i.a)(Ne),St=st&&Object(v.a)(Ne,st);if(St&&st){const vt=(St.activeParticipants||[]).filter(et=>!(Object(l.g)(et)&&et.slackId===Lt));oe.dispatch(Object(r.E)({id:St.id,activeParticipants:vt}));const Yt=Object(r.f)(oe.getState(),St.id);Yt&&oe.dispatch(Object(E.l)({call:Yt,channelId:st}))}if(st){const vt=yield Object(o.dispatchForTeamId)($e,p({channelId:st,userId:Lt})),Yt=Object(A.g)(Ne),et=Object(ne.G)(Yt);(vt||et)&&(yield oe.clearQuickJoinCredentials()),Object(o.dispatchForClientStore)(Object(c.c)(st))}try{const vt=Object(ge.a)();Object(o.dispatchForClientStore)(Object(c.f)({waitForHuddleEnd:vt})),yield vt}catch(vt){oe.getLogger().error(vt)}oe.dispatch(Object(a.gb)({huddlesVideoActive:!1})),oe.dispatch(Object(T.c)()),Object(o.dispatchForClientStore)(Object(c.o)()),!((ye=oe.pendingHuddleStart)===null||ye===void 0)&&ye.isPending()&&oe.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))})()}}h(ht,"huddle_state_manager_HuddleStateManager");const Le=Object(t.a)(()=>{const Ut=new ht;return Object(Fe.b)(Ut.waitForStartStop.bind(Ut)),Ut});var jt=n.a=Le},"6w/h":function(H,n,e){H.exports=e.p+"remote_work-preview-5fbbc32.jpg"},"6y7U":function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("Omjo"),t=e("lhZz"),a=e("2Pfg"),r=e("RU1E");function l(o){if(!o)return;const i=Object(t.getStoreInstanceByTeamId)(o);i&&(Object(s.b)("BOOT",`(${o}) Boot complete`),a.a.delete("setNavigatedDuringWarmBoot"),i.dispatch(Object(r.b)(!1)),i.dispatch(Object(r.a)(!1)))}h(l,"markTeamBootCompleted")},"7/Cr":function(H,n,e){H.exports=e.p+"template_card_project_tracker-342426e.png"},"74PA":function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("5IZy"),t=e("9Gfp"),a=e("S4nM"),r=e("M3pb");function l(o,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var m;const c=(m=Object(r.a)())===null||m===void 0?void 0:m.getState();if(!c)return;const E=Object(s.a)({state:c}).setUser(Object(t.a)(c));if(u){const f={...i,room_id:Object(a.c)(c)};E.track(o,f,{sendImmediately:d})}else E.track(o,i,{sendImmediately:d})}h(l,"trackCallsClog")},"7Bj1":function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("n3tL"),r=e("SQ0V"),l=e("l1I1"),o=e("ktUG"),i=e("2VFn"),u=e("NV6F"),d=e("i9jZ"),m=e("FVdo"),c=e("xcHN"),E=e("37+L"),f=e("oUrV");const O=Object(r.c)("Opens a channel in a new window",function(){var p=Object(s.coroutine)(function*(b,T,v){let{viewSet:S,viewType:A,shouldNavigateInContext:I,shouldShowSearch:_,containerOrigin:M,initialColumnMode:y,clogParams:j}=v;const C=T(),D=S[i.h.Primary],N=S[i.h.Secondary];if(D){if(A===m.a.Doc){var B;const se=(B=S.primary)===null||B===void 0?void 0:B.id;if(!se||!Object(l.a)(se))return;b(Object(u.v)({viewSet:S,clogParams:{entryPoint:"quip",uiComponentName:o.UiComponentName.QUIP_NEW_WINDOW_EMBED},shouldShowSearch:_}));return}if(Object(d.a)(C)){var L,R,U;if((D.id==="thread"||D.id==="comment_thread")&&(!((L=D.params)===null||L===void 0)&&L.threadId)){const{channelId:se}=Object(c.a)(D.params.threadId),ee=D.params.entityId,X=D.id==="comment_thread"?ee:se;b(Object(u.v)({viewSet:{[i.h.Primary]:Object(E.i)(X??D.params.entityId),[i.h.Secondary]:{id:D.id,params:D.params,viewType:D.viewType}},shouldNavigateInContext:I,containerOrigin:M,initialColumnMode:y,clogParams:j}))}else if((N==null?void 0:N.id)==="channel_canvas"&&(!((R=N.params)===null||R===void 0)&&R.quipDocId||!((U=N.params)===null||U===void 0)&&U.entityId)){var W,x,G,w;b(Object(u.v)({viewSet:{[i.h.Primary]:Object(E.i)(D.id),[i.h.Secondary]:Object(E.j)(((W=N.params)===null||W===void 0?void 0:W.quipDocId)||((x=N.params)===null||x===void 0?void 0:x.entityId),D.id,{fileId:((G=N.params)===null||G===void 0?void 0:G.quipDocId)||((w=N.params)===null||w===void 0?void 0:w.entityId),source:f.a.CHANNEL_CANVAS_FROM_CHANNEL_LIST_NEW_WINDOW,isChannelCanvas:!0})},shouldNavigateInContext:I,containerOrigin:M,initialColumnMode:y,clogParams:j}))}else b(Object(u.v)({viewSet:S,shouldNavigateInContext:I,shouldShowSearch:_,clogParams:j}))}}});return function(b,T,v){return p.apply(this,arguments)}}());O.meta={name:"createThunk",key:"createThunkopenInDetachedWindow",description:"Opens a channel in a new window"},O.propTypes={viewSet:a.default.object,viewType:a.default.string,fromTileKey:a.default.string},n.a=O},"7Ehu":function(H,n,e){H.exports=e.p+"template_card_team_priorities-f532f9e.png"},"7JHn":function(H,n,e){"use strict";e.d(n,"b",function(){return B});var s=e("q1tI"),t=e.n(s),a=e("gSGL"),r=e("/1FC"),l=e("XnHx"),o=e("ifKl"),i=e("BHdc"),u=e("Cfcg"),d=e("s4P+"),m=e("UHsu");function c(x){return x instanceof Array?x.map(G=>c(G)):x&&x.type===t.a.Fragment?c(x.props.children):x}h(c,"defragment");function E(x){return t.a.Children.toArray(c(x))}h(E,"flattenChildren");var f=e("lYQS"),O=e("Trx9"),p=e("ktUG"),b=e("6FZx"),T=e("GFD/"),v=e("NPyv");const S=h(x=>{let{"aria-labelledby":G,"aria-owns":w}=x;return w?t.a.createElement("div",{className:"offscreen",role:"group","aria-owns":w,"aria-labelledby":G}):null},"MenuItemGroup");S.displayName="MenuItemGroup";var A=S,I=e("YiJ7"),_=e("1ufr");function M(){return M=Object.assign||function(x){for(var G=1;G<arguments.length;G++){var w=arguments[G];for(var se in w)Object.prototype.hasOwnProperty.call(w,se)&&(x[se]=w[se])}return x},M.apply(this,arguments)}h(M,"_extends");function y(x){const G=x&&x.type;return!!G&&Object(b.c)(G)}h(y,"isMenuItem");function j(x){const G=x&&x.type;return!!G&&Object(m.b)(G)}h(j,"isSubmenu");function C(x){const G=x&&x.type;return G&&Object(T.b)(G)}h(C,"isSeparator");function D(x){const G=x&&x.type;return G&&Object(v.c)(G)}h(D,"isMenuItemHeader");let N=0;function B(){return N>0}h(B,"isMenuVisible");const L={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select",Home:"selectfirst",End:"selectlast"};let R=h(class extends s.Component{componentDidMount(){this.focus(),N+=1}componentDidUpdate(G){this.props.kbNavActive&&!G.kbNavActive&&this.activateKBNav()}componentWillUnmount(){N-=1,this.props.onUnmount&&this.props.onUnmount()}onMenuItemSelected(G,w){this.props.onMenuItemSelected&&this.props.onMenuItemSelected(G,w)}onMenuKeyDown(G){var w;const{kbNavActive:se,onMenuKeyDown:ee,onCloseSubmenu:X,onTriggerClose:me,window:Oe}=this.props;if(!se)return;const{key:Ce}=G,le=L[Ce],de=(w=this.keyboardShortcutsMap)===null||w===void 0?void 0:w[Ce],ie=this.getSelectedMenuItem(),pe=ie&&j(ie),ne=this.getAllMenuItemIndices();(le||de)&&(G.stopPropagation(),G.preventDefault()),(le==="selectnext"||le==="selectprevious")&&this.onMenuNavigation(le),le==="closesubmenu"&&(X==null||X(G)),(le==="select"||le==="opensubmenu")&&pe&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),le==="closemenu"&&(me==null||me(G)),le==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:ne[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),le==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:ne[ne.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const q=`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`;if(le==="select"&&q&&!pe){var ce;(ce=Oe.document.getElementById(q))===null||ce===void 0||ce.click(),me==null||me(G)}if(de){var ge;(ge=Oe.document.getElementById(de))===null||ge===void 0||ge.click(),me==null||me(G)}ee==null||ee(G,{isCurrentItemSubmenu:pe,closeMenu:me,selectedMenuItem:ie})}onMenuNavigation(G){const w=this.getIndexOfNextMenuItemInDirection(G);this.setState(()=>({highlightedMenuItemIndex:w,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(G){const w=this.state.highlightCanChangeOnMouseMovement?G:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:w,contingentHighlightedMenuItemIndex:G,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var se;(se=this.ariaMenuNode)===null||se===void 0||se.focus()}}onMouseLeaveMenu(){const G=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:G,contingentHighlightedMenuItemIndex:-1}))}getAllMenuItemIndices(){const G=[];return E(this.props.children).forEach((w,se)=>{(y(w)||j(w))&&G.push(se)}),G}getIndexOfNextMenuItemInDirection(G){const w=this.getAllMenuItemIndices(),se=w.indexOf(this.state.highlightedMenuItemIndex),ee=w.length-1;if(G==="selectnext"){const me=se<ee?se+1:0;return w[me]}const X=se-1>=0?se-1:ee;return w[X]}setAriaMenuRef(G){this.ariaMenuNode=G}activateKBNav(){var G;(G=this.ariaMenuNode)===null||G===void 0||G.focus(),this.setState(w=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:w.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):w.highlightedMenuItemIndex}))}allowHighlightChange(){this.setState(G=>({highlightedMenuItemIndex:G.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()}getSelectedMenuItem(){const{highlightedMenuItemIndex:G}=this.state;if(!(G<0)&&this.menuChildren)return this.menuChildren[G]}focus(){const{kbNavActive:G,isSubmenu:w}=this.props;if(!G)return;if(!w){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const se=this.getAllMenuItemIndices();if(!se.length){var ee;(ee=this.ariaMenuNode)===null||ee===void 0||ee.focus();return}this.setState(()=>({highlightedMenuItemIndex:se[0]}),()=>{var X;(X=this.ariaMenuNode)===null||X===void 0||X.focus()})}preventHighlightChange(){this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()}registerKeyboardShortcutForMenuItem(G,w){if(!G||!w)return;const{label:se,key:ee}=G;Object(a.a)(se)&&(Object(a.a)(ee)||Object(r.a)(ee))&&Object(l.a)(ee).forEach(X=>{this.keyboardShortcutsMap[X]=w})}renderMenuItem(G,w){const se=this.onMouseEnterMenuItem.bind(this,w),{highlightedMenuItemIndex:ee,highlightedMenuItemKbNavActive:X,isKeyboardHighlight:me}=this.state,{onMenuItemSelectedBefore:Oe,stripTerminalSeparators:Ce,isResponsive:le}=this.props;D(G)&&G.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[G.props.for]={key:G.props.for,"aria-labelledby":Object(v.b)(G.props.for),"aria-owns":[],index:w});const de={...G.props,onMouseEnter:se,key:w},ie=`${this.activeMenuId}-${w}`,{shortcut:pe}=G.props;if(pe&&this.registerKeyboardShortcutForMenuItem(pe,ie),y(G)||j(G)){const ge=ee===w;if(de.activeMenuId=ie,ge&&me){var ne,q,ce;(q=(ne=this.ariaMenuNode)===null||ne===void 0?void 0:ne.querySelector(`#${de.activeMenuId}`))===null||q===void 0||(ce=q.scrollIntoView)===null||ce===void 0||ce.call(q)}de.menuCallbackBefore=Oe,de.menuCallback=this.onMenuItemSelected,de.menuCallbackId||(de.menuCallbackId=w),de.highlighted=ee===w,de.isKeyboardHighlight=de.highlighted&&me,de.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[de.group]||(this.menuGroups[de.group]={key:de.group,"aria-owns":[],index:w}),this.menuGroups[de.group]["aria-owns"].push(de.activeMenuId))}if(j(G)&&(de.isOpen=de.highlighted&&!me||de.highlighted&&X,de.kbNavActive=de.highlighted&&X,de.returnKBNav=this.activateKBNav,de.preventHighlightChange=this.preventHighlightChange,de.allowHighlightChange=this.allowHighlightChange),C(G)&&Ce)if(!this.menuChildren)Object(d.b)().warn("Menu.renderMenuItem called without this.menuChildren");else{const ge=this.menuChildren[w-1];if(C(ge))return null;de.noFirstChild=!0,de.noLastChild=!0}return y(G)&&(de.isResponsive=le),t.a.cloneElement(G,de)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(G=>G["aria-owns"].length>0).map(G=>({group:t.a.createElement(A,{key:G.key,"aria-labelledby":G["aria-labelledby"],"aria-owns":G["aria-owns"].join(" ")}),index:G.index})).sort((G,w)=>w.index-G.index):[]}renderMenuItems(){this.menuChildren=E(this.props.children);const G=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(se=>{let{group:ee,index:X}=se;G.splice(X,0,ee)}),G}renderMenu(){const{noMargin:G,menuClassNames:w,"data-qa":se,isUnstyled:ee,isResponsive:X,experimentSkResponsiveMenusGroupOn:me}=this.props,Oe=Object(i.default)("c-menu__items",{"c-menu__items--no_margin":G}),Ce=this.state.highlightedMenuItemIndex!==-1?`${this.activeMenuId}-${this.state.highlightedMenuItemIndex}`:null,le=Object(i.default)({"c-menu":!ee,"c-menu--responsive":X&&me},w);return t.a.createElement("div",{className:le,"data-qa":se,style:{width:this.props.width}},t.a.createElement("div",{className:"c-menu__items_scroller"},t.a.createElement("div",{"aria-activedescendant":Ce??void 0,ref:this.setAriaMenuRef,className:Oe,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const G=this.renderMenu(),{autoClogProps:w}=this.props;return w?t.a.createElement(O.a,M({elementType:p.ElementType.MENU},w),G):G}constructor(G){super(G),this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1},this.setAriaMenuRef=this.setAriaMenuRef.bind(this),this.onMenuKeyDown=this.onMenuKeyDown.bind(this),this.onMouseLeaveMenu=this.onMouseLeaveMenu.bind(this),this.onMenuItemSelected=this.onMenuItemSelected.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.activateKBNav=this.activateKBNav.bind(this),this.activeMenuId=`menu-${Object(f.a)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.ariaMenuNode=void 0,this.menuGroups={}}},"Menu");R.displayName="Menu",R.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.a,onMenuItemSelectedBefore:o.a,onTriggerClose:o.a,onCloseSubmenu:o.a,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.a,allowHighlightChange:o.a,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.a,onUnmount:o.a,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0};const U=h(x=>({experimentSkResponsiveMenusGroupOn:Object(I.a)(x)}),"mapStateToProps");var W=n.a=Object(_.a)(Object(u.a)(U,null,null,{forwardRef:!0})(R))},"7K0/":function(H,n,e){"use strict";var s=e("w/U0"),t=e("MDjO");const a=h(r=>{if(!r)return!1;const l=Object(s.a)(r)?t.n:t.m;return r.replace(/[*?"]/g,"").length>=l},"isValidListViewSearchQuery");n.a=a},"7P6I":function(H,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return p}),e.d(n,"c",function(){return b});var s=e("vJtL"),t=e("G4qV"),a=e("nNoG"),r=e("JvzI"),l=e("RVJP"),o=e("WD3d"),i=e("bJNA"),u=e("2m2s"),d=e("X/Mv"),m=e("LK2A"),c=e("beVI"),E=e("G0eX");const f=new a.b("quip_shortcut_handlers");var O;(function(A){A[A.BASICS=0]="BASICS",A[A.MEDIA=1]="MEDIA",A[A.SLACK=2]="SLACK",A[A.LAYOUT=3]="LAYOUT"})(O||(O={}));const p=h(A=>({[O.BASICS]:A?f.t("Basics"):"",[O.MEDIA]:A?f.t("Media"):"",[O.SLACK]:A?f.t("Slack"):"",[O.LAYOUT]:A?f.t("Layout"):""}),"getCategoryDetailsV2"),b=h((A,I)=>{const _=Object(l.d)(A,"canvas_insert_workflow_menu")==="on",M=Object(E.K)(Object(c.g)(A)),y=p(I),j=y[O.BASICS],C=y[O.MEDIA],D=y[O.SLACK],N=y[O.LAYOUT];return[{id:m.SlackShortcutCommandType.CANVAS,name:()=>Object(o.a)(i.a.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:Object(d.a)(i.a.CANVAS).name,category:O.BASICS,aliases:[j]},{id:m.SlackShortcutCommandType.CHECKLIST,name:()=>Object(o.a)(i.a.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:Object(d.a)(i.a.CHECK_LIST).name,category:O.BASICS,aliases:[j]},{id:m.SlackShortcutCommandType.H1,name:()=>Object(o.a)(i.a.H1),canonicalName:"/largeheading",autocomplete:!0,icon:Object(d.a)(i.a.H1).name,category:O.BASICS,aliases:["h1",j]},{id:m.SlackShortcutCommandType.H2,name:()=>Object(o.a)(i.a.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:Object(d.a)(i.a.H2).name,category:O.BASICS,aliases:["h2",j]},{id:m.SlackShortcutCommandType.H3,name:()=>Object(o.a)(i.a.H3),canonicalName:"/smallheading",autocomplete:!0,icon:Object(d.a)(i.a.H3).name,category:O.BASICS,aliases:["h3",j]},{id:m.SlackShortcutCommandType.PLAIN,name:()=>Object(o.a)(i.a.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:Object(d.a)(i.a.PARAGRAPH).name,category:O.BASICS,aliases:[f.t("plain"),j]},{id:m.SlackShortcutCommandType.TABLE,name:()=>Object(o.a)(i.a.TABLE),canonicalName:"/table",autocomplete:!0,icon:Object(d.a)(i.a.TABLE).name,category:O.BASICS,aliases:[f.t("grid"),f.t("spreadsheet"),j]},{id:m.SlackShortcutCommandType.DIVIDER,name:()=>Object(o.a)(i.a.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:Object(d.a)(i.a.DIVIDER).name,category:O.BASICS,aliases:[f.t("horizontal line"),j]},{id:m.SlackShortcutCommandType.BULLET_LIST,name:()=>Object(o.a)(i.a.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:Object(d.a)(i.a.BULLET_LIST).name,category:O.BASICS,aliases:[j]},{id:m.SlackShortcutCommandType.ORDERED_LIST,name:()=>Object(o.a)(i.a.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:Object(d.a)(i.a.ORDERED_LIST).name,category:O.BASICS,aliases:[j]},{id:m.SlackShortcutCommandType.BLOCKQUOTE,name:()=>Object(o.a)(i.a.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:Object(d.a)(i.a.BLOCKQUOTE).name,category:O.BASICS,aliases:[j]},{id:m.SlackShortcutCommandType.CODE,name:()=>Object(o.a)(u.a.CODE),canonicalName:"/code",autocomplete:!0,icon:Object(d.a)(u.a.CODE).name,category:O.BASICS,aliases:[j]},{id:m.SlackShortcutCommandType.VIDEO,name:()=>Object(o.a)(i.a.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:Object(d.a)(i.a.VIDEO_CLIP).name,category:O.MEDIA,aliases:[C]},{id:m.SlackShortcutCommandType.AUDIO,name:()=>Object(o.a)(i.a.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:Object(d.a)(i.a.AUDIO_CLIP).name,category:O.MEDIA,aliases:[C]},{id:m.SlackShortcutCommandType.IMAGE,name:()=>Object(o.a)(i.a.IMAGE),canonicalName:"/image",autocomplete:!0,icon:Object(d.a)(i.a.IMAGE).name,category:O.MEDIA,aliases:[C]},{id:m.SlackShortcutCommandType.FILE,name:()=>Object(o.a)(i.a.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:O.MEDIA,aliases:[C]},..._&&M?[{id:m.SlackShortcutCommandType.WORKFLOW,name:()=>Object(o.a)(i.a.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:_}),canonicalName:"/workflow",autocomplete:!0,icon:Object(d.a)(i.a.WORKFLOW).name,category:O.SLACK,aliases:[D]}]:[],{id:m.SlackShortcutCommandType.TWO_COLUMNS,name:()=>f.t("Two columns"),canonicalName:"/twocolumns",autocomplete:!0,icon:"column-two",category:O.LAYOUT,aliases:[N]},{id:m.SlackShortcutCommandType.THREE_COLUMNS,name:()=>f.t("Three columns"),canonicalName:"/threecolumns",autocomplete:!0,icon:"column-three",category:O.LAYOUT,aliases:[N]},{id:m.SlackShortcutCommandType.CODEBLOCK,name:()=>Object(o.a)(i.a.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:Object(d.a)(i.a.CODE_BLOCK).name,category:O.LAYOUT,aliases:[N]}]},"getCommandsV2");function T(A,I){return Object(s.a)(I)?I(A):I}h(T,"maybePassState");function v(A,I){return{...I,autocomplete:T(A,I.autocomplete),name:T(A,I.name),type:"client"}}h(v,"formatShortcut");const S=Object(t.a)(A=>A,()=>Object(r.a)(),A=>{const I=Object(l.d)(A,"canvas_shortcut_commands_reorder")==="on";return b(A,I).map(M=>v(A,M))})},"7PnM":function(H,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return o}),e.d(n,"c",function(){return i});var s=e("n3tL"),t=e("2XU3"),a=e("WCk1"),r=e("e4zL");const l=Object(a.a)("Fetch all available and installed emoji collections from the API",function(u,d){let{reason:m}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u(Object(t.apiCall)({method:"emoji.collections.list",reason:m,args:{installed_only:"0"}}))});l.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},l.propTypes={reason:s.default.string.isRequired};const o=Object(a.a)("Add an emoji collection",(u,d,m)=>{let{collectionId:c,reason:E}=m;return u(Object(t.apiCall)({method:"emoji.addCollection",args:{collection_id:c},reason:E})).catch(f=>{if(f.name!=="already_installed")throw f})});o.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},o.propTypes={collectionId:s.default.string.isRequired,reason:s.default.string.isRequired};const i=Object(a.a)("Remove an emoji collection",(u,d,m)=>{let{collectionId:c,reason:E}=m;return u(Object(r.h)({collectionId:c})),u(Object(t.apiCall)({method:"emoji.removeCollection",reason:E,args:{collection_id:c}}))});i.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},i.propTypes={collectionId:s.default.string.isRequired,reason:s.default.string.isRequired}},"7T78":function(H,n,e){"use strict";e.d(n,"c",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"a",function(){return m});var s=e("9oTK"),t=e.n(s),a=e("WCk1"),r=e("o+v5"),l=e("O86Y"),o=e("5W60"),i=e("Yg2s");const u=Object(a.a)("Queries Flannel for a list of external connected orgs/teams",(c,E,f)=>{let{count:O,filter:p,marker:b}=f;return Object(o.d)(Object(l.h)(E()),{method:o.c.EXTERNAL_TEAMS_LIST,args:{count:O,filter:p,marker:b}}).then(T=>T)});u.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const d=Object(a.a)("Queries Flannel for channel counts of external connected orgs/teams",(c,E,f)=>{let{teamIds:O,count:p,marker:b}=f;return Object(o.d)(Object(l.h)(E()),{method:o.c.EXTERNAL_TEAMS_COUNTS,args:{team_ids:O,count:p,marker:b}}).then(T=>T)});d.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const m=Object(a.a)("Fetches and upserts external teams that match a query",function(){var c=Object(s.coroutine)(function*(E,f,O){const p=Object(l.h)(f());return Object(i.j)(p,O).then(b=>{let{objects:T,next_marker:v}=b;return E(Object(r.g)({teams:T})),{externalTeams:T,nextMarker:v}})});return function(E,f,O){return c.apply(this,arguments)}}());m.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},"7UGH":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("ZKjC"),t=e("z/sp");const a=Object(s.b)((r,l)=>{var o;return(o=Object(t.a)(r))===null||o===void 0?void 0:o[l]});a.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,l)=>{var o;return(o=Object(t.a)(r))===null||o===void 0?void 0:o[l]}}},"7lBi":function(H,n,e){"use strict";e.d(n,"v",function(){return s}),e.d(n,"u",function(){return t}),e.d(n,"j",function(){return a}),e.d(n,"h",function(){return r}),e.d(n,"i",function(){return l}),e.d(n,"C",function(){return o}),e.d(n,"p",function(){return u}),e.d(n,"o",function(){return d}),e.d(n,"d",function(){return m}),e.d(n,"e",function(){return c}),e.d(n,"c",function(){return E}),e.d(n,"t",function(){return f}),e.d(n,"a",function(){return O}),e.d(n,"w",function(){return p}),e.d(n,"k",function(){return b}),e.d(n,"q",function(){return v}),e.d(n,"g",function(){return S}),e.d(n,"f",function(){return A}),e.d(n,"s",function(){return _}),e.d(n,"r",function(){return M}),e.d(n,"B",function(){return y}),e.d(n,"D",function(){return C}),e.d(n,"y",function(){return D}),e.d(n,"z",function(){return N}),e.d(n,"l",function(){return B}),e.d(n,"m",function(){return L}),e.d(n,"x",function(){return R}),e.d(n,"A",function(){return U}),e.d(n,"E",function(){return W}),e.d(n,"b",function(){return x}),e.d(n,"n",function(){return G});const s=180,t=600,a=260,r=310,l=1e3,o=24,i=289,u=321,d=385,m=15;var c;(function(w){w.MANUAL="manual",w.AUTO="auto"})(c||(c={}));const E=500,f=140,O=[{minWidth:1420,sidebar:260,inspector:400},{minWidth:1200,sidebar:260,inspector:380},{minWidth:1080,sidebar:260,inspector:340},{minWidth:960,sidebar:220,inspector:320},{minWidth:860,sidebar:220,inspector:310},{minWidth:0,sidebar:200,inspector:310}],p=[{min:s,max:220,className:"p-workspace__sidebar--tiny"},{min:t-50,max:t,className:"p-workspace__sidebar--large"}],b=[{min:a,max:300,className:"p-workspace__secondary_view--tiny"},{min:301,max:399,className:"p-workspace__secondary_view--medium"},{min:400,max:l,className:"p-workspace__secondary_view--large"}],T=[{min:a,max:300,className:"p-workspace__tiles--tiny"},{min:301,max:499,className:"p-workspace__tiles--medium"},{min:500,max:l,className:"p-workspace__tiles--large"}],v=[{min:1,max:400,className:"p-workspace__primary_view--tiny"},{min:401,max:600,className:"p-workspace__primary_view--small"}],S=260,A=400,I=400,_=8,M=16,y=60,j=44,C=40,D="sidebarWidthIntent",N="sidebarWidthMode",B="inspectorWidthIntent",L="inspectorWidthMode",R="isSidebarVisible",U="isTeamSidebarVisible",W="userPrefersResponsiveSidebar",x="calculatedSidebarWidth",G="LAYOUT"},"7pFd":function(H,n,e){"use strict";e.d(n,"a",function(){return kt});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),l=e("BHdc"),o=e("+kJ4"),i=e("YUBf"),u=e("VkPA");function d(we){return we&&we.id}h(d,"getEmojiCollectionId");var m=e("k400");function c(we){return we&&we.author}h(c,"getEmojiCollectionAuthor");var E=e("s9IP");function f(we){return we&&we.localEmoji}h(f,"getEmojiCollectionLocalEmoji");var O=e("nNoG"),p=e("RVJP"),b=e("fujP"),T=e("Z0Cl"),v=e("TGBA"),S=e("1myf"),A=e("Fsnq"),I=e("ZBlo"),_=e("n3tL"),M=e("LvEQ"),y=e("8Vn2");function j(we){return we&&we.date_create}h(j,"getEmojiCollectionDateCreate");var C=e("VfSx"),D=e("JoR1"),N=e("T1zM"),B=e("zmn3"),L=e("UnpP"),R=e("oEDn"),U=e("GWPn"),W=e("6R8Z");const x=new O.b("custom_emoji_list"),G="emoji_packs_clicked_collection_cta",w=h(we=>{let{id:ot,name:yt,author:Kt,emoji:Xt,installed:cn,onClick:gn}=we;const vn=Object(a.useDispatch)(),lt=Object(r.d)(Dn=>Object(D.t)(Dn,G)),ct=Object(r.d)(M.h),Rt=Object(r.d)(M.e);if(!Xt)return null;const mn=d(Rt)===ot&&ct&&!lt;function fn(){mn&&vn(Object(N.f)({pref:G,value:!0})),gn()}h(fn,"handleOnClick");const ln=Object(B.a)(Xt,(Dn,_n)=>({name:_n,url:Dn})),Ln=Object(I.a)(ln,4),In=x.t("by {author}",{author:Kt});return t.a.createElement(W.a,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:fn},t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.a.createElement("div",{className:"flex_one"},t.a.createElement("div",{className:"p-emoji_pack_card__header"},yt,mn&&t.a.createElement("span",{className:"margin_left_25"},t.a.createElement(U.a,null,x.t("NEW")))),t.a.createElement("div",{className:"p-emoji_pack_card__subheader"},In)),cn&&!mn&&t.a.createElement("div",{className:"flex_none"},t.a.createElement(R.a,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.a.createElement("div",{className:"p-emoji_pack_card_rows"},Ln.map(Dn=>t.a.createElement("div",{key:Dn.map(_n=>`${_n.name}-card-`).join(),className:"p-emoji_pack_card__row"},Dn.map(_n=>t.a.createElement(L.b,{key:`emoji-pack-${_n.name}`,showTooltip:!1,text:`:${_n.name}:`,url:_n.url,emojiSize:L.a.LARGE})),[...new Array(4-Dn.length)].map((_n,qe)=>`emoji-pack-spacer-${qe}`).map(_n=>t.a.createElement("div",{key:_n,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");w.displayName="EmojiPackCard";var se=w;const ee=new O.b("custom_emoji_list"),X=h(()=>{const we=ee.t("STAY TUNED"),ot=ee.t("More emoji packs are on the way");return t.a.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.a.createElement(U.a,{className:"p-emoji_pack_coming_soon__pill"},we),t.a.createElement("div",{className:"p-emoji_pack_coming_soon__text"},ot),t.a.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.a.createElement("g",{opacity:"0.8"},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.a.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.a.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.a.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.a.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.a.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.a.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.a.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.a.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.a.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.a.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.a.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.a.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.a.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.a.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.a.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.a.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.a.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.a.createElement("defs",null,t.a.createElement("clipPath",null,t.a.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.a.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.a.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.a.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.a.createElement("g",{opacity:"0.8"},t.a.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.a.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.a.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.a.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.a.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.a.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");X.displayName="EmojiPackComingSoon";var me=X;const Oe=new O.b("custom_emoji_list");function Ce(we){let{row:ot,className:yt,onPackClick:Kt}=we;return t.a.createElement("div",{key:ot.map(Xt=>`${d(Xt)}-row`).join(),className:yt},ot.map(Xt=>{if(Xt.type==="coming_soon")return t.a.createElement(me,{key:"emoji-pack-coming-soon"});if(Xt.type==="spacer")return t.a.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const cn=Object(C.a)(Xt);return t.a.createElement(se,{key:`emoji-pack-${d(Xt)}`,installed:cn,id:d(Xt)||void 0,name:Object(m.a)(Xt),author:c(Xt),emoji:Object(E.a)(Xt),onClick:()=>Kt(Xt,{installed:cn})})}))}h(Ce,"Row"),Ce.displayName="Row",Ce.propTypes={row:_.default.arrayOf(_.default.object),className:_.default.string,onPackClick:_.default.func.isRequired},Ce.defaultProps={row:[],className:void 0};function le(we){let{orgName:ot,onPackClick:yt}=we;const Kt=Object(a.useDispatch)(),Xt=Object(r.d)(M.b);if(Object(s.useEffect)(()=>{Kt(Object(y.a)({reason:"emojiPack:dialog"}))},[Kt]),Object(b.a)(Xt))return null;const cn=Object(T.a)(Xt,ct=>Object(C.a)(ct)).length;let gn=Object(v.a)(Xt);gn=Object(S.a)(gn,ct=>-1*j(ct)),Object(A.a)(Xt)<2&&gn.push({type:"coming_soon"}),gn.length%2!==0&&gn.push({type:"spacer"});const vn=Object(I.a)(gn,2);let lt;return ot?lt=Oe.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.a.createElement("b",null,ot)}):lt=Oe.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.a.createElement(i.d,null,t.a.createElement(i.e,null,t.a.createElement("div",null,cn>0&&t.a.createElement("div",{className:"p-emoji_pack__header"},Oe.t("Added"),t.a.createElement("div",{className:"p-emoji_pack__pill"},cn)),t.a.createElement("div",{className:"p-emoji_pack__list"},vn.map(ct=>t.a.createElement(Ce,{key:ct.map(Rt=>`${d(Rt)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:ct,onPackClick:yt}))),t.a.createElement("div",{className:"p-emoji_pack__help"},lt))))}h(le,"AddEmojiPackDialogContent"),le.displayName="AddEmojiPackDialogContent";var de=le,ie=e("Cfcg"),pe=e("7EGn"),ne=e("ifKl"),q=e("hbEN"),ce=e("WIr4"),ge=e("5IZy"),be=e("95ku"),Q=e("/qcS"),re=e("rAyg"),z=e("jWAO"),Y=e("qDEp"),ve=e("nWdO"),Z=e("9Gfp"),$=e("oY18"),te=e("YlCL"),J=e("ktUG"),k=e("/1FC"),ae=e("Z3Pq"),Ee=e("2XU3"),_e=e("WCk1"),je=e("DmzU"),Ue=e("ZKjC");const Ke=Object(Ue.b)(we=>!we||!we.customizeEmoji||!we.customizeEmoji.customEmojiData||!we.customizeEmoji.customEmojiData.length?[]:we.customizeEmoji.customEmojiData);Ke.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:we=>!we||!we.customizeEmoji||!we.customizeEmoji.customEmojiData||!we.customizeEmoji.customEmojiData.length?[]:we.customizeEmoji.customEmojiData};const ke=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.customEmojiTotalCount?we.customizeEmoji.customEmojiTotalCount:0);ke.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.customEmojiTotalCount?we.customizeEmoji.customEmojiTotalCount:0};const Qe=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.currentPage?we.customizeEmoji.currentPage:0);Qe.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.currentPage?we.customizeEmoji.currentPage:0};const Ze=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.totalPages?we.customizeEmoji.totalPages:0);Ze.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.totalPages?we.customizeEmoji.totalPages:0};const De=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.isLoadingNewPage?we.customizeEmoji.isLoadingNewPage:!1);De.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.isLoadingNewPage?we.customizeEmoji.isLoadingNewPage:!1};const Fe=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.isLoadingNewSearchQuery?we.customizeEmoji.isLoadingNewSearchQuery:!1);Fe.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.isLoadingNewSearchQuery?we.customizeEmoji.isLoadingNewSearchQuery:!1};const Ve=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.deletedEmojiList?we.customizeEmoji.deletedEmojiList:[]);Ve.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.deletedEmojiList?we.customizeEmoji.deletedEmojiList:[]};const Je=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.disabledEmoji?we.customizeEmoji.disabledEmoji:{});Je.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.disabledEmoji?we.customizeEmoji.disabledEmoji:{}};const Ot=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.sortDir?we.customizeEmoji.sortDir:"asc");Ot.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.sortDir?we.customizeEmoji.sortDir:"asc"};const ht=Object(Ue.b)(we=>we&&we.customizeEmoji&&we.customizeEmoji.sortBy?we.customizeEmoji.sortBy:"name");ht.meta={name:"createSelector",key:"createSelectorgetSortBy",description:we=>we&&we.customizeEmoji&&we.customizeEmoji.sortBy?we.customizeEmoji.sortBy:"name"};const Le=Object(_e.a)("Load the next page of custom emoji data",function(we,ot){let{count:yt=100,queries:Kt,userIds:Xt,reason:cn="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const gn=ot();we(Object(je.d)(!0));const lt={page:Qe(gn)+1,count:yt,sort_by:ht(gn),sort_dir:Ot(gn)};return Kt&&(lt.queries=JSON.stringify(Kt)),Xt&&(lt.user_ids=JSON.stringify(Xt)),we(Object(Ee.apiCall)({method:"emoji.adminList",reason:cn,args:lt})).then(ct=>{we(Object(je.d)(!1));const Rt=Object(k.a)(ct.disabled_emoji)?Object(ae.a)(ct.disabled_emoji,"name"):ct.disabled_emoji;we(Object(je.a)({newCustomEmojiData:ct.emoji,disabledEmoji:Rt,customEmojiTotalCount:ct.custom_emoji_total_count,customEmojiSearchCount:ct.paging.total,currentPage:ct.paging.page,totalPages:ct.paging.pages}))}).catch(ct=>{throw ct})});Le.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},Le.propTypes={queries:_.default.array,userIds:_.default.array};const jt=Object(_e.a)("Load custom emoji data with a new search query",function(we,ot){let{queries:yt,page:Kt=1,count:Xt=100,sortBy:cn,sortDir:gn,userIds:vn,reason:lt="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};we(Object(je.e)(!0));const ct={page:Kt,count:Xt};return yt&&(ct.queries=JSON.stringify(yt)),vn&&(ct.user_ids=JSON.stringify(vn)),cn&&gn&&(ct.sort_by=cn,ct.sort_dir=gn),we(Object(Ee.apiCall)({method:"emoji.adminList",reason:lt,args:ct})).then(Rt=>{we(Object(je.e)(!1));const zt=Object(k.a)(Rt.disabled_emoji)?Object(ae.a)(Rt.disabled_emoji,"name"):Rt.disabled_emoji;we(Object(je.f)({newCustomEmojiData:Rt.emoji,disabledEmoji:zt,customEmojiTotalCount:Rt.custom_emoji_total_count,customEmojiSearchCount:Rt.paging.total,currentPage:Rt.paging.page,totalPages:Rt.paging.pages,sortBy:cn,sortDir:gn}))}).catch(Rt=>{throw Rt})});jt.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},jt.propTypes={queries:_.default.array,page:_.default.number,count:_.default.number,sortBy:_.default.oneOf(["created","name"]),sortDir:_.default.oneOf(["asc","desc"]),userIds:_.default.array};const Ut=Object(_e.a)("Deletes the given custom emoji",function(we,ot){let{emojiName:yt,isPrimaryEmoji:Kt=!1,synonyms:Xt=[],reason:cn="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return we(Object(je.b)({emojiName:yt,isPrimaryEmoji:Kt,synonyms:Xt})),we(Object(Ee.apiCall)({method:"emoji.remove",reason:cn,args:{name:yt}})).then(gn=>gn).then(()=>{Object(ge.a)({state:ot()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(gn=>{throw Object(ge.a)({state:ot()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),gn})});Ut.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},Ut.propTypes={emojiName:_.default.string,isPrimaryEmoji:_.default.bool,synonyms:_.default.array};const Ie=Object(_e.a)("Creates a new custom emoji or alias",function(we,ot){let{mode:yt,name:Kt,aliasFor:Xt,image:cn,searchArgs:gn={},reason:vn="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return we(Object(Ee.apiCall)({method:"emoji.add",reason:vn,args:{mode:yt,name:Kt,alias_for:Xt,image:cn}})).then(lt=>lt).then(()=>{we(jt(gn))}).catch(lt=>{throw lt})});Ie.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},Ie.propTypes={mode:_.default.string,name:_.default.string,aliasFor:_.default.string,image:_.default.object};const oe=Object(_e.a)("Gets the emoji data for a given emoji",function(we,ot){let{name:yt,reason:Kt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return we(Object(Ee.apiCall)({method:"emoji.getInfo",reason:Kt,args:{name:yt}})).then(Xt=>Xt).catch(Xt=>{throw Xt})});oe.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},oe.propTypes={name:_.default.string};const ye=Object(_e.a)("Renames the custom emoji with the new name",function(we,ot){let{oldName:yt,newName:Kt,reason:Xt="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return we(Object(Ee.apiCall)({method:"emoji.rename",reason:Xt,args:{name:yt,new_name:Kt}})).then(cn=>cn).then(()=>{we(jt()),we(Object(je.c)(yt))}).catch(cn=>{throw cn})});ye.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},ye.propTypes={oldName:_.default.string,newName:_.default.string};var Ne=e("HpkP"),Ge=e("E7hC"),st=e("1ufr");const $e=new O.b("custom_emoji_list"),It={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let Lt=h(class extends s.PureComponent{componentDidMount(){const{clogger:ot}=this.props;ot.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:ot,uploadedImage:yt,nameErrorText:Kt}=this.state,{emojiUrl:Xt}=this.props,cn=ot.length>100;return!ot||cn||!!Kt||!Xt&&!yt}onDragOver(ot){ot.preventDefault(),ot.dataTransfer.dropEffect="copy"}onDrop(ot){ot.preventDefault();const yt=ot.dataTransfer.files[0];if(yt){const Kt=yt.name,Xt=URL.createObjectURL(yt);this.updateAfterUpload({uploadedImage:yt,fileName:Kt,previewImageUrl:Xt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(ot){const{standardEmojiData:yt}=this.props;let Kt="";this.setState(()=>({newEmojiName:ot})),/[A-Z]/.test(ot)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(ot)?Kt=$e.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):ot in yt?Kt=$e.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):Object(Ge.a)(ot)?this.checkIfEmojiNameAlreadyExists(ot):Kt=$e.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:Kt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(ot){ot&&ot.preventDefault();const{newEmojiName:yt,uploadedImage:Kt}=this.state,{emojiUrl:Xt,experimentAddEmojiFiletypesGroupOn:cn}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const vn={...{reason:"add-custom-emoji-dialog-content",name:yt},...Xt?{mode:"url",url:Xt}:{mode:"data",searchArgs:this.props.searchArgs,...Kt?{image:Kt}:{}}};this.props.addCustomEmoji(vn).then(()=>{this.props.closeModal();const lt=this.renderToastMessage();this.props.enqueueToast({element:lt}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:Xt?"import_custom_emoji":"add_custom_emoji",action:Xt?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(lt=>{let ct;const Rt=Object(pe.a)(lt,"data.error");(Rt===Ne.a.NoUrlProvided||Rt===Ne.a.NoUrlImage)&&(ct=$e.t("Something happened that prevented the image from being imported. Try again?")),Rt==="error_bad_upload"?ct=$e.t("Something happened that prevented your file from being uploaded. Try again?"):Rt==="error_bad_format"?ct=cn?$e.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):$e.t("Please make sure your file is a GIF, JPEG, or PNG."):Rt==="resized_but_still_too_large"||Rt==="too_many_frames"?ct=$e.t("This image is a bit too big, even after resizing. A smaller file might help?"):Rt==="error_too_big"?ct=$e.t("Please choose an image smaller than 64KB."):Rt==="error_name_taken_i18n"?ct=$e.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:yt}):Rt==="error_name_taken"?ct=$e.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:yt}):(Rt==="error_bad_name"||Rt==="error_bad_name_i18n")&&(ct=$e.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:ct,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var ot,yt;const Kt=!((ot=this.fileInput)===null||ot===void 0||(yt=ot.current)===null||yt===void 0)&&yt.files?this.fileInput.current.files[0]:null;if(Kt){const Xt=Kt.name,cn=URL.createObjectURL(Kt);this.updateAfterUpload({uploadedImage:Kt,fileName:Xt,previewImageUrl:cn})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:ot}=this.props;ot&&this.setState(()=>({previewImageUrl:ot,imagePreviewError:!1}))}convertFileNameToEmojiName(ot){if(!ot)return null;const yt=ot.lastIndexOf("."),Kt=yt>0?ot.substring(0,yt):ot;return Kt?Kt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(ot){let{uploadedImage:yt,fileName:Kt,previewImageUrl:Xt}=ot;const{newEmojiName:cn,fileName:gn}=this.state;let vn=cn;(!cn||cn===this.convertFileNameToEmojiName(gn))&&(vn=this.convertFileNameToEmojiName(Kt)||vn),this.setState(()=>({uploadedImage:yt,fileName:Kt,previewImageUrl:Xt,imagePreviewError:!1}),()=>this.onEmojiNameChange(vn))}fileUpload(){const ot=this.props.window.document.getElementById("emojiimg");ot==null||ot.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:ot,nameErrorText:yt}=this.state;return t.a.createElement("ol",{className:"black margin_bottom_0",start:2},t.a.createElement("li",{className:"margin_bottom_0"},t.a.createElement("div",null," ",$e.t("Give it a name")," "),t.a.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},$e.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.a.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.a.createElement(be.a,{id:"emojiname",name:"name",value:ot,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:yt,"data-qa":It.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:ot,nameErrorText:yt}=this.state,Kt=$e.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return yt===Kt?t.a.createElement("div",{className:"inline_flex full_width","data-qa":It.ADD_DIALOG_DUPLICATE_PREVIEW},t.a.createElement(Q.b,{text:ot,alt:ot,emojiSize:"larger",className:"flex_shrink_none"}),t.a.createElement("div",{className:"padding_left_50 overflow_hidden"},t.a.createElement("strong",null,$e.t("Existing emoji")),t.a.createElement("span",{className:"block normal overflow_ellipsis"},":",ot,":"))):null}renderDialogMessage(){const{orgName:ot}=this.props;let yt;return ot?yt=$e.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:ot}):yt=$e.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.a.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":It.ADD_DIALOG_MESSAGE},t.a.createElement("div",null,yt),t.a.createElement("div",null,this.renderErrorMessage()),t.a.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.a.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:ot}=this.state;return ot?t.a.createElement(z.d,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":It.ADD_DIALOG_ERROR},t.a.createElement("span",null," ",ot," ")):null}renderImagePreview(){const{previewImageUrl:ot}=this.state,yt=t.a.createElement("img",{src:ot,alt:$e.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:Kt}=this.state;return Kt?t.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":It.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.a.createElement(ve.c,{tip:$e.t("We couldn't preview your image. Make sure it's a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.a.createElement(R.a,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.a.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":It.ADD_DIALOG_IMAGE_PREVIEW},yt)}renderPlaceholderText(){const{placeholder:ot}=this.state;let yt;return ot?yt=$e.t("avocado"):yt="",yt}renderToastMessage(){const{newEmojiName:ot,previewImageUrl:yt}=this.state,Kt=t.a.createElement(Q.b,{text:ot,url:yt,emojiSize:Q.a.MEDIUM}),Xt=$e.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:Kt,newEmojiName:ot});return t.a.createElement(re.a,{toastClasses:"p-customize_emoji_list__toast"},t.a.createElement("span",null,Xt))}renderUploadImagePrompt(){const{emojiUrl:ot}=this.props,yt=$e.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),Kt=t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),Xt=ot?$e.t("Import external emoji"):$e.t("Upload an image");return t.a.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":It.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.a.createElement("li",{className:"large_bottom_margin"},t.a.createElement("div",null," ",Xt," "),!ot&&t.a.createElement("div",{className:"normal sk_foreground_max"},yt),t.a.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},Kt,!ot&&t.a.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.a.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":It.ADD_DIALOG_FILE_INPUT}),t.a.createElement(Y.f,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":It.ADD_DIALOG_UPLOAD}," ",$e.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:ot}=this.state,{emojiUrl:yt}=this.props;let Kt;return ot||yt?Kt=this.renderImagePreview():Kt=t.a.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":It.ADD_DIALOG_UPLOAD_PREVIEW},t.a.createElement(R.a,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),Kt}renderUploadedFileText(){const{fileName:ot}=this.state;let yt;return ot?yt=t.a.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",ot," "):yt=t.a.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",$e.t("Select an image")," "),yt}render(){const{goButtonIsPending:ot}=this.state,yt=this.shouldPreventSubmit();return t.a.createElement(t.a.Fragment,null,t.a.createElement(i.d,null,t.a.createElement(i.e,{"data-qa":`${It.ADD_DIALOG}_body`},this.renderDialogMessage())),t.a.createElement(i.g,null,t.a.createElement(i.h,null,t.a.createElement(i.c,{type:"outline"},$e.t("Cancel")),t.a.createElement(Y.c,{type:"primary",onClick:this.onSubmit,loading:ot,disabled:yt,"data-qa":`${It.ADD_DIALOG}_go`},$e.t("Save")))))}constructor(ot){super(ot),this.fileInput=t.a.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=yt=>{this.props.getEmojiInfo({name:yt}).then(()=>{this.state.newEmojiName===yt&&this.setState(()=>({nameErrorText:$e.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(ne.a)},this.checkIfEmojiNameAlreadyExists=Object(q.a)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.a.createRef(),this.eventId=ot.clientApp?J.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:J.EventId.PAGE_CUSTOMIZE_EMOJI,Object(ce.a)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");Lt.displayName="AddCustomEmojiDialogContent",Lt.defaultProps={standardEmojiData:{},addCustomEmoji:ne.a,enqueueToast:ne.a,clientApp:!1,closeModal:ne.a,getEmojiInfo:ne.a,searchArgs:{},emojiNameSuggestion:"",experimentAddEmojiFiletypesGroupOn:!1,window};const St=h(we=>({addCustomEmoji:ot=>we(Object(Ne.b)(ot)),enqueueToast:function(){for(var ot=arguments.length,yt=new Array(ot),Kt=0;Kt<ot;Kt++)yt[Kt]=arguments[Kt];return we(Object($.a)(...yt))},closeModal:()=>we(Object(o.a)()),getEmojiInfo:function(){for(var ot=arguments.length,yt=new Array(ot),Kt=0;Kt<ot;Kt++)yt[Kt]=arguments[Kt];return we(oe(...yt))}}),"mapDispatchToProps"),vt=h(we=>({standardEmojiData:Object(te.d)(we),clientApp:Object(Z.h)(we),clogger:Object(ge.a)({state:we})}),"mapStateToProps");var Yt=Object(ie.a)(vt,St)(Object(st.a)(Lt)),et=e("7PnM"),Ft=e("e4zL"),mt=e("q0lC"),Zt=e("zb/F"),gt=e("nFQW"),at=e("puGG");const it=new O.b("custom_emoji_list"),dt=h(we=>{let{adding:ot,name:yt}=we;const Kt=Object(a.useDispatch)();return t.a.createElement(re.a,{onCloseComplete:()=>{ot&&Kt(Object(Ft.a)())}},t.a.createElement("span",{"data-qa":"emoji-pack-action"},ot&&it.rt("The {name} emoji pack has been added to your workspace.",{name:t.a.createElement("b",null,yt)}),!ot&&it.rt("The {name} emoji pack has been removed from your workspace.",{name:t.a.createElement("b",null,yt)})))},"InstallToast");dt.displayName="InstallToast";const _t=h(we=>{let{name:ot,url:yt,index:Kt,copyToClipboard:Xt}=we;const cn=Object(a.useDispatch)(),gn=t.a.createElement(L.b,{showTooltip:!0,text:ot,url:yt,emojiSize:L.a.LARGE});function vn(){Object(Zt.e)(ot),cn(Object(o.a)()),cn(Object($.a)({element:t.a.createElement(re.a,null,t.a.createElement("span",null,it.rt("Emoji copied to clipboard",{name:ot})))}))}return h(vn,"onClick"),vn.displayName="onClick",Xt&&Object(Zt.a)()?t.a.createElement(W.a,{className:"p-emoji_pack_details__button","data-color-index":Kt%at.e,onClick:vn},gn):gn},"EmojiButton");_t.displayName="EmojiButton";const Dt=h(we=>{let{collectionId:ot,name:yt,author:Kt,installed:Xt,emoji:cn,onCancelClick:gn}=we;const vn=Object(a.useDispatch)(),lt=Object(r.d)(mt.f),[ct,Rt]=Object(s.useState)(!1),zt=Object(s.useCallback)(()=>{Rt(!0),vn(Object(et.a)({collectionId:ot,reason:"emojiPack:dialog"})).then(()=>{Rt(!1),vn(Object(o.a)()),vn(Object($.a)({element:t.a.createElement(dt,{adding:!0,name:yt})}))})},[vn,ot,yt]),[mn,fn]=Object(s.useState)(!1),ln=Object(s.useCallback)(()=>{fn(!0),vn(Object(et.c)({collectionId:ot,reason:"emojiPack:dialog"})).then(()=>{fn(!1),vn(Object(o.a)()),vn(Object($.a)({element:t.a.createElement(dt,{adding:!1,name:yt})}))})},[vn,ot,yt]);if(!cn)return null;const Ln=Object(B.a)(cn,(Wt,qt)=>({name:qt,url:Wt})).map((Wt,qt)=>({...Wt,index:qt})),In=Object(I.a)(Ln,5),Dn=it.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:Object(A.a)(cn)}),_n=it.t("by {author}",{author:Kt}),qe=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},_n),Dn),Et=t.a.createElement(gt.a,{"aria-label":it.t("Go back"),icon:"chevron-large-left",onClick:()=>gn()});return t.a.createElement("div",{className:"p-emoji_pack_details"},t.a.createElement(i.i,null,t.a.createElement(i.l,{icon:Et,title:yt,subtitle:qe})),t.a.createElement(i.d,{className:"p-emoji_pack_details__content"},t.a.createElement(i.e,null,In.map(Wt=>t.a.createElement("div",{key:Wt.map(qt=>qt.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},Wt.map(qt=>t.a.createElement(_t,{key:`emoji-pack-details-${qt.name}`,name:`:${qt.name}:`,url:qt.url,index:qt.index,copyToClipboard:Xt})),[...new Array(5-Wt.length)].map((qt,nn)=>`emoji-pack-details-spacer-${nn}`).map(qt=>t.a.createElement("div",{key:qt,className:"p-emoji_pack_details__emoji_spacer"})))))),t.a.createElement(i.g,null,Xt&&Object(Zt.a)()&&t.a.createElement("span",{className:"p-emoji_pack_details__tip"},it.t("Click an emoji to copy to clipboard")),t.a.createElement(i.h,null,Xt&&lt&&t.a.createElement(Y.c,{autoFocus:!0,type:"danger",loading:mn,onClick:ln},it.t("Remove pack")),!Xt&&t.a.createElement(Y.c,{autoFocus:!0,loading:ct,onClick:zt},it.t("Add pack")))))},"EmojiPackDetails");Dt.displayName="EmojiPackDetails";var Ye=Dt;const Xe=new O.b("custom_emoji_list"),kt={CUSTOM:"custom",PACKS:"packs"},Bt=h(we=>{let{orgName:ot="",searchArgs:yt={},showEmojiPacks:Kt,initialTab:Xt=kt.CUSTOM,emojiNameSuggestion:cn="",emojiUrl:gn}=we;const vn=Object(a.useDispatch)(),lt=Object(r.d)(rn=>Object(p.d)(rn,"add_emoji_filetypes")==="on"),[ct,Rt]=Object(s.useState)(Xt),[zt,mn]=Object(s.useState)(!1),[fn,ln]=Object(s.useState)(null),Ln=gn?Xe.t("Add emoji to your organization"):void 0,In=Kt?Xe.t("Add emoji"):Xe.t("Add custom emoji"),Dn=Ln??In,_n=Xe.t("Emoji packs"),qe=Xe.t("Custom emoji"),Et=Object(s.useMemo)(()=>[{title:qe,id:kt.CUSTOM,onClick:()=>Rt(kt.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:_n,id:kt.PACKS,onClick:()=>Rt(kt.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[qe,_n]),Wt=Kt&&ct===kt.PACKS,qt=Kt?t.a.createElement(u.a,{tabs:Et,currentTabId:ct,className:"p-add_custom_emoji_dialog__tabs"}):null,nn=Object(l.default)("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!Kt});return Kt&&fn?t.a.createElement(i.a,{closeModal:()=>vn(Object(o.a)()),isOpen:!0,className:nn},t.a.createElement(Ye,{collectionId:d(fn),name:Object(m.a)(fn),author:c(fn),emoji:zt?f(fn):Object(E.a)(fn),installed:zt,onCancelClick:()=>{ln(null)}})):t.a.createElement(i.a,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:()=>vn(Object(o.a)()),isOpen:!0,className:nn},t.a.createElement(i.i,null,t.a.createElement(i.l,{title:Dn,className:"no_min_height padding_bottom_50"}),qt),Wt&&t.a.createElement(de,{orgName:ot,onPackClick:(rn,hn)=>{let{installed:en}=hn;mn(en),ln(rn)}}),!Wt&&t.a.createElement(Yt,{orgName:ot,searchArgs:yt,emojiNameSuggestion:cn,emojiUrl:gn,experimentAddEmojiFiletypesGroupOn:lt}))},"AddEmojiDialog");Bt.displayName="AddEmojiDialog";var wt=n.b=Bt},"7zTl":function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s=2e3,t=2e3},"81ps":function(H,n,e){"use strict";var s=e("AFNo"),t=e("v7mh");const a=Object(s.c)((r,l)=>{let{viewType:o}=l;const i=Object(t.a)(r),u=Object(t.h)(r,{tab:i});return u?Object.keys(u).some(c=>{var E;return((E=u[c])===null||E===void 0?void 0:E.viewType)===o}):!1});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInMainWindow",description:(r,l)=>{let{viewType:o}=l;const i=Object(t.a)(r),u=Object(t.h)(r,{tab:i});return u?Object.keys(u).some(c=>{var E;return((E=u[c])===null||E===void 0?void 0:E.viewType)===o}):!1}},n.a=a},"8K+h":function(H,n,e){H.exports=e.p+"No_Background-ad3fcdb.png"},"8NKP":function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i});var s=e("LK2A"),t;(function(u){u.PARAGRAPH="paragraph",u.H1="h1",u.H2="h2",u.H3="h3",u.CHECK_LIST="check-list",u.CHECK_LIST_TOGGLE="check-list-toggle",u.ORDERED_LIST="ordered-list",u.BULLET_LIST="bullet-list",u.BLOCKQUOTE="blockquote",u.CODE_BLOCK="code-block"})(t||(t={}));const a=[[s.DocBlockStyle.PLAIN,t.PARAGRAPH],[s.DocBlockStyle.H1,t.H1],[s.DocBlockStyle.H2,t.H2],[s.DocBlockStyle.H3,t.H3],[s.DocBlockStyle.LIST_CHECKLIST,t.CHECK_LIST],[s.DocBlockStyle.LIST_NUMBERED,t.ORDERED_LIST],[s.DocBlockStyle.LIST_BULLET,t.BULLET_LIST],[s.DocBlockStyle.BLOCKQUOTE,t.BLOCKQUOTE],[s.DocBlockStyle.CODE,t.CODE_BLOCK]],r=new Map(a),l=new Map(a.map(u=>[u[1],u[0]]));function o(u){return r.get(u)}h(o,"blockStyleToFormat");function i(u){return l.get(u)}h(i,"formatToBlockStyle")},"8TXW":function(H,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"f",function(){return m}),e.d(n,"g",function(){return c}),e.d(n,"h",function(){return E}),e.d(n,"i",function(){return f}),e.d(n,"j",function(){return O}),e.d(n,"k",function(){return p}),e.d(n,"n",function(){return b}),e.d(n,"p",function(){return T}),e.d(n,"r",function(){return v}),e.d(n,"a",function(){return _}),e.d(n,"l",function(){return U}),e.d(n,"m",function(){return W}),e.d(n,"o",function(){return x}),e.d(n,"q",function(){return ee}),e.d(n,"s",function(){return me}),e.d(n,"u",function(){return pe}),e.d(n,"b",function(){return be}),e.d(n,"t",function(){return re}),e.d(n,"J",function(){return ve}),e.d(n,"z",function(){return te}),e.d(n,"A",function(){return J}),e.d(n,"B",function(){return k}),e.d(n,"C",function(){return Ee}),e.d(n,"D",function(){return _e}),e.d(n,"E",function(){return Ue}),e.d(n,"F",function(){return Ke}),e.d(n,"H",function(){return ke}),e.d(n,"G",function(){return Qe}),e.d(n,"x",function(){return Ze}),e.d(n,"y",function(){return De}),e.d(n,"v",function(){return Fe}),e.d(n,"w",function(){return Ve}),e.d(n,"I",function(){return Je});var s=e("9oTK"),t=e.n(s),a=e("tA0R"),r=e.n(a),l=e("hGh8"),o=e.n(l);let i=a.CheckAudioConnectivityFeedback,u=a.CheckAudioInputFeedback,d=a.CheckAudioOutputFeedback,m=a.CheckCameraResolutionFeedback,c=a.CheckContentShareConnectivityFeedback,E=a.CheckNetworkTCPConnectivityFeedback,f=a.CheckNetworkUDPConnectivityFeedback,O=a.CheckVideoConnectivityFeedback,p=a.CheckVideoInputFeedback,b=a.LogLevel,T=a.MeetingSessionStatusCode,v=a.TranscriptItemType,S=a.TranscriptionStatusType;const A=a.MeetingSessionStatus;let I=a.ClientVideoStreamReceivingReport;const _=a.AllHighestVideoBandwidthPolicy;let M,y=a.ConnectionHealthData,j=a.DataMessage;const C=a.DefaultDeviceController;let D;const N=a.DefaultMeetingReadinessChecker;let B;const L=a.DefaultMeetingSession;let R,U=a.DefaultModality,W=a.DefaultVideoTile,x=a.MeetingSessionConfiguration,G=a.MeetingSessionStatus,w=a.MeetingSessionVideoAvailability,se=a.MutableVideoPreferences,ee=a.PermissionDeniedError,X=a.TargetDisplaySize,me=a.Versioning,Oe=a.VideoPreference,Ce=a.VideoPreferences,le=a.VideoPriorityBasedPolicy,de=a.VideoPriorityBasedPolicyConfig,ie=a.VideoTileState,pe=a.VoiceFocusDeviceTransformer,ne=a.DefaultBrowserBehavior,q=a.DefaultVideoTransformDevice,ce=a.BackgroundBlurVideoFrameProcessor,ge=a.BackgroundReplacementVideoFrameProcessor,be=a.CSPMonitor;const Q=a.ServerSideNetworkAdaption;let re=a.VideoFxProcessor,z=!1,Y=!1;function ve(Ot){return Z.apply(this,arguments)}h(ve,"setUseExpSDK");function Z(){return Z=Object(s.coroutine)(function*(Ot){if(z=Ot,!z||Y)return;const ht=yield Promise.resolve().then(e.t.bind(null,"hGh8",7));i=ht.CheckAudioConnectivityFeedback,u=ht.CheckAudioInputFeedback,d=ht.CheckAudioOutputFeedback,m=ht.CheckCameraResolutionFeedback,c=ht.CheckContentShareConnectivityFeedback,E=ht.CheckNetworkTCPConnectivityFeedback,f=ht.CheckNetworkUDPConnectivityFeedback,O=ht.CheckVideoConnectivityFeedback,p=ht.CheckVideoInputFeedback,I=ht.ClientVideoStreamReceivingReport,y=ht.ConnectionHealthData,j=ht.DataMessage,D=ht.DefaultDeviceController,B=ht.DefaultMeetingReadinessChecker,R=ht.DefaultMeetingSession,U=ht.DefaultModality,W=ht.DefaultVideoTile,b=ht.LogLevel,x=ht.MeetingSessionConfiguration,G=ht.MeetingSessionStatus,T=ht.MeetingSessionStatusCode,w=ht.MeetingSessionVideoAvailability,se=ht.MutableVideoPreferences,ee=ht.PermissionDeniedError,X=ht.TargetDisplaySize,v=ht.TranscriptItemType,S=ht.TranscriptionStatusType,me=ht.Versioning,Oe=ht.VideoPreference,Ce=ht.VideoPreferences,le=ht.VideoPriorityBasedPolicy,de=ht.VideoPriorityBasedPolicyConfig,ie=ht.VideoTileState,M=ht.AudioProfile,pe=ht.VoiceFocusDeviceTransformer,ne=ht.DefaultBrowserBehavior,q=ht.DefaultVideoTransformDevice,ce=ht.BackgroundBlurVideoFrameProcessor,ge=ht.BackgroundReplacementVideoFrameProcessor,be=ht.CSPMonitor,re=ht.VideoFxProcessor,Y=!0}),Z.apply(this,arguments)}h(Z,"_setUseExpSDK");function $(){return z}h($,"isUsingExpSDK");function te(){return D||C}h(te,"getDefaultDeviceController");function J(){return C}h(J,"getDefaultDeviceControllerDefault");function k(){return D}h(k,"getDefaultDeviceControllerExp");function ae(){return B||N}h(ae,"getDefaultMeetingReadinessChecker");function Ee(){return N}h(Ee,"getDefaultMeetingReadinessCheckerDefault");function _e(){return B}h(_e,"getDefaultMeetingReadinessCheckerExp");function je(){return R||L}h(je,"getDefaultMeetingSession");function Ue(){return L}h(Ue,"getDefaultMeetingSessionDefault");function Ke(){return R}h(Ke,"getDefaultMeetingSessionExp");function ke(){return pe}h(ke,"getVoiceFocusDeviceTransformer");function Qe(){return q}h(Qe,"getDefaultVideoTransformDevice");function Ze(){return ce}h(Ze,"getBackgroundBlurVideoFrameProcessor");function De(){return l.BackgroundReplacementVideoFrameProcessor}h(De,"getBackgroundReplacementVideoFrameProcessor");function Fe(){return a.AudioProfile}h(Fe,"getAudioProfileDefault");function Ve(){return M}h(Ve,"getAudioProfileExp");function Je(Ot){return!!Ot.type}h(Je,"isTranscriptEventTranscriptionStatus")},"8Vn2":function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("n3tL"),t=e("Z3Pq"),a=e("SQ0V"),r=e("7PnM"),l=e("ykb+"),o=e("LvEQ"),i=e("e4zL"),u=e("jF/p"),d=e("JoR1"),m=e("q0lC"),c=e("T1zM");const E=Object(a.c)("handle updating prefs if new emoji pack has become available",(p,b,T)=>{let{collections:v}=T;const S=b(),A=Object(m.f)(S),I=Object(d.t)(S,"emoji_packs_most_recent_available_time")||0,_=Object(u.a)(v,C=>C.date_create),{date_create:M,installed:y}=_||{};(A||y)&&M>I&&p(Object(c.e)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});E.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};var f=E;E.propTypes={collections:s.default.arrayOf(s.default.object)};const O=Object(a.c)("Process and add emoji collections",(p,b,T)=>{let{reason:v}=T;const S=b();Object(o.g)(S)||(p(Object(i.g)({hasFetched:!0})),p(Object(r.b)({reason:v})).then(A=>{const I=A.installed||[],_=A.available||[],M=Object(t.a)(I,"id"),y=_.map(j=>({...j,installed:!!M[j.id],localEmoji:M[j.id]?M[j.id].emoji:j.emoji}));p(f({collections:y})),Object(l.b)()?p(Object(i.f)({collections:y.filter(j=>!["1044122771874","11"].includes(j.id))})):p(Object(i.f)({collections:y}))}).catch(()=>{p(Object(i.g)({hasFetched:!1}))}))});O.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"},O.propTypes={reason:s.default.string.isRequired}},"8Xig":function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("owWc"),t=e("Bw5p"),a=e("OZf9"),r=e("ZKjC"),l=e("s4P+"),o=e("UIhb");const i="EPHEMERAL MESSAGES",u=Object(r.b)(m=>m.ephemeralMessages);u.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesState",description:m=>m.ephemeralMessages};const d=Object(r.b)((m,c)=>{const{ephemeralType:E,channelId:f,threadTs:O}=c,p=Object(l.a)({state:m});if(O&&!f)return p.error(i,"Can't remove ephemeral messages by thread without channel ID"),[];c.channel&&!f&&p.warn(i,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const T=u(m)[E];return Object(s.a)(f?Object(t.a)(T,[f]):T,(v,S,A)=>(Object(a.a)(S,(I,_)=>{if(!I)return;const M=Object(o.b)(m,A,_);M&&(!O||M.thread_ts===O)&&v.push(M)}),v),[])});d.meta={name:"createSelector",key:"createSelectorgetEphemeralMessagesByType",description:(m,c)=>{const{ephemeralType:E,channelId:f,threadTs:O}=c,p=Object(l.a)({state:m});if(O&&!f)return p.error(i,"Can't remove ephemeral messages by thread without channel ID"),[];c.channel&&!f&&p.warn(i,"`channel` passed to `getEphemeralMessagesByType`. Did you mean `channelId`?");const T=u(m)[E];return Object(s.a)(f?Object(t.a)(T,[f]):T,(v,S,A)=>(Object(a.a)(S,(I,_)=>{if(!I)return;const M=Object(o.b)(m,A,_);M&&(!O||M.thread_ts===O)&&v.push(M)}),v),[])}}},"8aX7":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("NZ+B"),o=e("Kmpi"),i=e("qt2r"),u=e("xwCZ"),d=e("C3vN"),m=e("52Wj"),c=e("Fn/R"),E=e("fi3B"),f=e("sGXp"),O=e("zUbs"),p=e("LvvF"),b=e("A4tE");function T(S){const{className:A,forceRealName:I=!1,id:_,member:M,truncate:y=!1,truncateWidth:j,withTruncationTooltip:C=!1,"data-qa":D="inline_member_entity",isBold:N=!0,showAppOrBotBadge:B,isUserHidden:L=!1}=S,R=Object(r.default)(A,"c-inline_member_entity"),U=Object(c.a)(M),W=Object(d.rb)(M),x=Object(d.V)(M),G=Object(o.c)(M),w=Object(o.d)(M),se=Object(m.e)(M),ee=Object(m.c)(M);let X;I||!ee?X=se:X=ee;const me=x?f.d.dim:void 0;return t.a.createElement(E.a,{className:R,"data-qa":D,"data-member-id":_||(M==null?void 0:M.id),style:me,truncate:y,truncateWidth:j,withTruncationTooltip:C,primaryContent:t.a.createElement("span",{className:"c-inline_member_entity__content"},t.a.createElement(O.a,{isBold:N,name:X,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:U,isWorkflowBot:W,isDeleted:x,isNonExistent:G,isUnknown:w,showAppOrBotBadge:B,isUserHidden:L}))})}h(T,"InlineMemberEntity"),T.displayName="InlineMemberEntity";function v(S,A){let{forceRealName:I,member:_,id:M}=A;const y=_||Object(u.g)(S,M);return{member:y??void 0,forceRealName:Object(l.a)(I)?I:Object(i.b)(S),isUserHidden:y&&Object(p.b)(S,y.id)}}h(v,"mapStateToProps"),n.a=Object(a.a)(v)(T)},"8f+r":function(H,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("otRl"),t=e("SQ0V"),a=e("O5bS"),r=e("Bi0v"),l=e("vlz8"),o=e("e33t"),i=e("RB1+"),u=e("qMw6"),d=e("WUSA"),m;(function(E){E.fancy="fancy",E.frowny="frowny",E.neutral="neutral",E.sadSurprise="sad_surprise"})(m||(m={}));const c=Object(t.c)("Add ephemeral feedback message to channel or thread",(E,f,O)=>{const{message:p,inputText:b,inputDelta:T,ephemeralType:v,ignoreExistingMessage:S}=O,A=O.temporary!==!1,I=p.channel,_=p.thread_ts,M=_?a.a.threadsTempSlashCmdFeedback:a.a.tempSlashCmdFeedback;if((b||T)&&I)if(_)Object(s.a)({inputText:b,inputDelta:T,channelId:I,threadTs:_});else{const y=Object(i.a)({viewContext:u.a.MESSAGE_PANE,channelId:I});y&&(T?y.setContents({contents:T.ops}):b&&y.setText(b))}A?E(Object(l.a)({ephemeralType:v||M,message:p,ignoreExistingMessage:S})):(E(Object(o.a)({ephemeralType:v||M,channelId:I})),E(Object(r.a)({message:p}))),p!=null&&p.text&&E(Object(d.a)({message:p.text}))});c.meta={name:"createThunk",key:"createThunkaddEphemeralFeedback",description:"Add ephemeral feedback message to channel or thread"},n.b=c},"8pYz":function(H,n,e){"use strict";e.d(n,"b",function(){return y}),e.d(n,"a",function(){return j});var s=e("nNoG"),t=e("yXH1"),a=e("IaLB"),r=e("UUKI"),l=e("LYDk"),o=e("UmHn"),i=e("rZ8V"),u=e("s4P+"),d=e("Atq3"),m=e("u0Q5"),c=e("OaiI"),E=e("pgVm"),f=e("48NQ");const O=new s.b("channel_sidebar"),p=new s.b("lists"),b=new s.b("crm"),T=new s.b("app_launcher"),v=new s.b("setup_page"),S=new s.b("client"),A=new s.b("search"),I=new s.b("modernselling"),_={[o.a.Composer]:C=>Object(i.o)(C)?O.t("New message",{fallbackHash:"1ed2e7b50fa1dbbf1693d1c38adf270c04db10c6",fallbackHashNs:"view"}):O.t("Composer"),[o.a.Notifications]:()=>Object(t.b)()?"Notifications":"Activity",[o.a.Reactions]:()=>"Reactions",[o.a.Drafts]:C=>Object(i.o)(C)?O.t("Drafts & sent",{fallbackHash:"50f1964d008cc3f1974523c1ac7b5a555460f87a",fallbackHashNs:"channel_sidebar"}):O.t("Drafts",{ns:"channel_sidebar"}),[o.a.ScheduledMessages]:()=>O.t("Scheduled",{ns:"channel_sidebar"}),[o.a.Sent]:()=>O.t("Sent",{fallbackHash:"35f49dcfbfb2e03fdce327671e82bf173b1ccb8b",fallbackHashNs:"sent-page"}),Pthread:()=>O.t("Thread",{fallbackHash:"7863f7503e5377891a3b7452c7d6cc377d443fe7",fallbackHashNs:"thread"}),[o.a.Example]:()=>"Example Page",[o.a.Empty]:()=>{},[o.a.Unreads]:()=>O.t("Unreads"),[o.a.Apps]:()=>T.t("Apps",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}),[o.a.Shortcuts]:C=>Object(i.o)(C)?T.t("Workflows",{fallbackHash:"d9a36850b7f3f78365a998cb16cb68b6fd79400d",fallbackHashNs:"channel_sidebar"}):O.t("Automations"),[o.a.BrowseWorkflowsManagedByYou]:C=>Object(E.b)(C)?O.t("Workflows managed by you"):"",[o.a.BrowseWorkflowTemplates]:()=>T.t("Templates",{fallbackHash:"f25b700ed9f092123a43acb205a6869342cf9dd6",fallbackHashNs:"workflow_builder"}),[o.a.Activity]:()=>O.t("Activity"),[o.a.Saved]:()=>O.t("Saved items",{fallbackHash:"c0ae8f6ea84111498894729659051ce9713aab42"}),[o.a.PaidBenefits]:()=>O.t("Paid Plan Benefits"),[o.a.BrowseChannels]:()=>O.t("All channels",{fallbackHash:"844df142c62832a202548680d3385ca47676ab85",fallbackHashNs:"channel_browser"}),[o.a.SetupTeamName]:()=>v.t("Setup Team Name"),[o.a.SetupProfile]:()=>v.t("Profile"),[o.a.SetupChannels]:()=>v.t("Setup Channels"),[o.a.SetupInvites]:()=>v.t("Setup Invites"),[o.a.SetupCalendarContactImport]:()=>"Setup Contact Import",[o.a.SetupTada]:()=>"Setup Tada",[o.a.SetupWelcome]:()=>v.t("Setup Welcome"),[o.a.SetupPeople]:()=>v.t("Setup People"),[o.a.SetupStraightToPaidPlans]:C=>{const D=Object(m.b)(C),N=Object(m.a)(C);return D||N?v.t("Setup Plans"):""},[o.a.JoinerLaunchpad]:()=>O.t("Get started"),[o.a.ResurrectedUserWelcome]:C=>Object(f.d)(C)?O.t("Welcome back"):"","Pbrowse-channels-prototype":()=>O.t("All channels"),[o.a.BrowseFiles]:C=>Object(i.o)(C)?A.t("All files"):O.t("Files"),[o.a.Calendar]:C=>Object(l.b)(C)?O.t("Calendar"):"",[o.a.BrowseChannelFiles]:()=>O.t("Channel file browser",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"}),[o.a.BrowsePeople]:C=>{const D=Object(a.mb)(C),N=Object(i.o)(C),B=D?v.t("People"):O.t("People & user groups");return N?v.t("All members"):B},[o.a.BrowseExternalContacts]:()=>O.t("External people",{fallbackHash:"3a2342a03de3fb3994d9c4fbdb18d17ec0367c35"}),[o.a.BrowseUserGroups]:()=>O.t("User groups"),[o.a.BrowseExternalWorkspaces]:()=>O.t("Events"),[o.a.AllDms]:()=>O.t("Direct messages"),[o.a.Search]:()=>S.t("Search Results",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"search"}),[o.a.SlackConnect]:()=>O.t("Slack Connect",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"}),[o.a.SlackConnectInvitation]:()=>O.t("Slack Connect Invitation",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"}),[o.a.OfflineOutbox]:()=>"Offline outbox",[o.a.Huddles]:()=>"Huddles",[o.a.Today]:()=>"Today",[o.a.Later]:()=>O.t("Later",{fallbackHash:"1d9c1a090774d038318b145c9edd2301568bdd93"}),[o.a.BrowseOrgChart]:C=>Object(i.o)(C)?A.t("Org chart"):"Org Chart",[o.a.Items]:C=>Object(c.isListsMyItemsEnabled)(C)?p.t("Items"):"Items",[o.a.CRM]:C=>Object(r.a)(C)?b.t("Sales",{fallbackHash:"2a13d05eafbca696358dac2f2d62668ecb928796"}):"Sales","Pasync-modals":()=>"Modals",[o.a.BrowseCanvases]:()=>O.t("Canvases"),[o.a.BrowseLists]:()=>"Lists",[o.a.SalesHome]:()=>I.t("Sales"),[o.a.SalesNotifications]:()=>I.t("Sales notifications"),[o.a.SalesOpportunities]:()=>I.t("Sales opportunities",{fallbackHash:"cbbcbc5770bdebd9c8405d23dc490765f1fb4d14"}),[o.a.SalesAdministration]:()=>I.t("Sales administration"),[o.a.SalesLeader]:()=>I.t("Sales leader",{fallbackHash:"aca8f0529392d14f86b177719cb4ad15164b51ad"}),[o.a.Recents]:C=>Object(i.o)(C)?A.t("Recently viewed"):A.t("Recents"),[o.a.DailyDigest]:()=>O.t("Digest",{fallbackHash:"b0a92efc30139c68fbe4f7f2381c73598aeaef64"})};Object(d.b)(!0);const M={Pdms:()=>O.t("All direct messages",{fallbackHash:"781373373e6fe8d45de2a1edd8dd880aaff75bce"})};function y(C){return!C||!_[C]?(Object(u.b)().error(`getLabelFunctionForPage called with invalid pageId: ${C}`),null):_[C]}h(y,"getLabelFunctionForPage");function j(C){return C?M[C]:null}h(j,"getAriaLabelFunctionForPage")},"8z+9":function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},t={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},"92pD":function(H,n,e){"use strict";e.d(n,"b",function(){return p}),e.d(n,"a",function(){return T});var s=e("9oTK"),t=e.n(s),a=e("Lgge"),r=e("coh6"),l=e("05YS"),o=e("Tkkt"),i=e("Yauy"),u=e("gVOt"),d=e("E97Y"),m=e("Zbwg"),c=e("i26o"),E=e("wQ1d"),f=e("E3dU"),O=e("wmIu");function p(A,I){const _=Object(l.b)(A),M=new RegExp(`\\b(${Object(E.j)().in}|in):(#([^\\s]+))`,"g"),y=c.a.fromString(A,_),j={};return y.suggestionTokenList.forEach(D=>{if(D instanceof O.e){const{id:N,name:B}=D.getRawIdAndNameForXwsChannelWorkaround();N&&Object(m.a)(N)&&B&&(j[B]||(j[B]=[]),j[B].push({id:N,name:B}))}}),I.replace(M,(D,N,B,L)=>{if(j[L]&&j[L].length>0){const{id:R,name:U}=j[L].shift()||{};return`${N}:<#${R}|${U}>`}return D})}h(p,"convertUserQueryXwsChannelStringsForXwsChannelWorkaround");function b(A,I){if(Object(d.g)(I))return`<@${Object(u.a)(I)}>`;const _=Object(i.t)(A,I,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1});return _?`<#${I.id}|${_}>`:`<#${I.id}>`}h(b,"formatInChannelValue");function T(A,I,_){const M=I(),y={},j=[],C={};(Object(l.n)(M)||[]).forEach(B=>{const L=Object(f.d)(M,B);L&&j.push(L)});const N=new RegExp(`\\b(${Object(E.j)().in}|in):(#([^\\s]+))`,"g");return v(_,N,(B,L,R,U)=>{const W=j.find(G=>Object(i.K)(G)===U&&!y[G.id]&&!C[G.id]);if(W)return y[W.id]=!0,C[W.id]=!0,a.a.resolve(`${L}:${b(M,W)}`);const x=Object(f.e)(M,U);return x&&!y[x.id]?(y[x.id]=!0,a.a.resolve(`${L}:${b(M,x)}`)):A(Object(r.F)({query:U,options:{fuzzyLimit:0,limit:150,entities:{channels:{includeArchived:!0,includeFromAnotherTeam:!0}},sort:{frecency:!1}}})).then(G=>{const w=I(),se=U&&U.replace("#",""),ee=G.find(me=>me.name===se&&!y[me.id]);if(!ee)return`${L}:${R}`;y[ee.id]=!0;const X=Object(l.a)(w).queryFilter;return X.in=Array.from(new Set([...X.in||[],ee.id])),A(Object(o.h)({queryFilter:X})),`${L}:${b(M,ee)}`})})}h(T,"convertContentsStringForEncodedXwsChannels");function v(A,I,_){return S.apply(this,arguments)}h(v,"replaceAsync");function S(){return S=Object(s.coroutine)(function*(A,I,_){const M=[];A.replace(I,function(j){for(var C=arguments.length,D=new Array(C>1?C-1:0),N=1;N<C;N++)D[N-1]=arguments[N];const B=_(j,...D);return M.push(B),A});const y=yield a.a.all(M);return A.replace(I,()=>y.shift()||"")}),S.apply(this,arguments)}h(S,"_replaceAsync")},"95ku":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("7EGn"),l=e("ifKl"),o=e("WIr4"),i=e("jWAO"),u=e("gZuW"),d=e("Gs4e"),m=e("9ADk");let c=h(class extends s.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:y,prefix:j,suffix:C}=this.props,D=Object(a.default)("c-input_text_overlay",{"c-input_text_overlay--large":y===d.a.large},this.props.className);return t.a.createElement("div",{className:D,"data-overlay-prefix":j,"data-overlay-suffix":C,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:y,suffix:j}=this.props;return t.a.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${j} appended to the text value.`},this.renderOverlay(),y)}},"TextInputOverlay");c.displayName="TextInputOverlay",c.defaultProps={className:"",placeholder:"",size:d.a.medium,value:"",prefix:"",suffix:""};var E=c,f=e("oEDn");const O={small:"small",medium:"medium",large:"large"},p=h(M=>{let{size:y,icon:j,children:C}=M;const D=Object(a.default)("c-input_text_icon",{"c-input_text_icon--small":y===O.small,"c-input_text_icon--large":y===O.large}),N=Object(a.default)("c-input_text_icon__icon",{"c-input_text_icon__icon--small":y===O.small,"c-input_text_icon__icon--large":y===O.large});return t.a.createElement("div",{className:D},t.a.createElement(f.a,{type:j,className:N,size:"inherit"}),C)},"TextInputIcon");p.displayName="TextInputIcon";var b=t.a.memo(p),T=e("/DoU"),v=e("MYuU");function S(){return S=Object.assign||function(M){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(M[C]=j[C])}return M},S.apply(this,arguments)}h(S,"_extends");const A=12;let I=h(class extends s.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(y,j){(this.props.value!==y.value||this.state.isFocused!==j.isFocused)&&this.getTextStyle(),this.props.value!==y.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(y)}onBlur(y){const{onBlur:j}=this.props;this.setState(()=>({isFocused:!1})),j&&j(y)}onFocus(y){const{onFocus:j}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),j&&j(y)}getPrefixStyle(){const{size:y,prefix:j}=this.props;if(!j)return;let C;const N=document.createElement("canvas").getContext("2d");return N&&(y===d.a.medium?(N.font="15px Slack-Lato",C=N.measureText(j).width+A):y===d.a.small?(N.font="13px Slack-Lato",C=N.measureText(j).width+A):(N.font="18px Slack-Lato",C=N.measureText(j).width+A)),{paddingLeft:C}}getTextStyle(){var y;const{maxCharacterLimit:j}=this.props;if(!j){this.setTextStyle({});return}const D={paddingRight:(y=this.characterCount)===null||y===void 0?void 0:y.getCharacterCountWidth()};this.setTextStyle(D)}setTextStyle(y){this.setState(()=>({textStyle:y}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(y){const{focusOnMount:j,forceSelectAll:C}=this.props;this.state.everFocused&&j&&y&&y.focusOnMount===j||!this.input||!this.input.current||!j||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),C&&this.input.current.select())}getIsInputLengthTooShort(){var y;const{isRequired:j,minCharacterLimit:C,value:D}=this.props,{everReceivedUserInput:N}=this.state;return!N||C==null||!j&&((y=D)===null||y===void 0?void 0:y.length)===0?!1:D.length<C}getIsInputLengthTooLong(){const{maxCharacterLimit:y,value:j}=this.props;return y==null?!1:j.length>y}renderDeprecatedErrorMaybe(){const{errorLevel:y,errorText:j,errorType:C,minCharacterLimit:D,maxCharacterLimit:N}=this.props;return j?t.a.createElement(i.d,{id:this.state.errorId,level:y,type:C,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},j):this.getIsInputLengthTooLong()?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:C,className:"margin_bottom_100"},Object(v.b)(N)):this.getIsInputLengthTooShort()?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:C,className:"margin_bottom_100"},Object(v.c)(D)):null}renderErrorMaybe(){const{errorText:y,minCharacterLimit:j,maxCharacterLimit:C}=this.props;return y?t.a.createElement(u.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},y):this.getIsInputLengthTooLong()?t.a.createElement(u.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},Object(v.b)(C)):this.getIsInputLengthTooShort()?t.a.createElement(u.a,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},Object(v.c)(j)):null}renderHintMaybe(){const{hintText:y}=this.props;return y?t.a.createElement(m.a,{id:this.state.hintId,"data-qa":"form-text-hint"},y):null}renderTextInput(){const{className:y,errorId:j,errorLevel:C,errorText:D,errorType:N,hintId:B,hintText:L,id:R,isRequired:U,isInvalid:W,labelId:x,name:G,onBlur:w,onChange:se,onCopy:ee,forceSelectAll:X,onFocus:me,size:Oe,prefix:Ce,suffix:le,maxCharacterLimit:de,minCharacterLimit:ie,counterMinimumCharacters:pe,icon:ne,focusOnMount:q,useInlineAlert:ce,showError:ge,inputRef:be,preventScrollOnFocus:Q,ariaDescribedById:re,autoComplete:z,type:Y,readOnly:ve,...Z}=this.props,$=!!D||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||W,te=Object(a.default)({[`c-input_text--with_${C}`]:$,"c-input_text--with_hint":L,"c-input_text--with_icon":ne},y),J=Object(v.e)([x,$?this.state.errorId:null]),k=Object(v.e)([re,this.state.hintId,this.characterCounterId]),ae={...this.state.textStyle,...this.getPrefixStyle()};return t.a.createElement(d.b,S({},Z,{style:ae,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:k,isInvalid:$,ariaLabelledby:J,ariaRequired:U,className:te,id:R,name:G,onChange:se,onCopy:ee,forceSelectAll:X,ref:this.input,size:Oe,autoComplete:z,type:Y,readOnly:ve??void 0}))}renderWrappedTextMaybe(){const{prefix:y,suffix:j,value:C,placeholder:D,maxCharacterLimit:N,counterMinimumCharacters:B,size:L,isDisabled:R,icon:U}=this.props;let W=this.renderTextInput();const x=C;return N&&(W=t.a.createElement(T.a,{id:this.characterCounterId,currentCount:x.length,isDisabled:R,maxCharacterLimit:N,counterMinimumCharacters:B,size:L,ref:G=>{this.characterCount=G}},W)),(y||j)&&(W=t.a.createElement(E,{className:U&&"c-input_text_overlay--icon",placeholder:D,size:L,prefix:y,suffix:j,value:C??void 0},W)),U&&(W=t.a.createElement(b,{icon:U,size:L},W)),W}render(){const y=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.a.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&y,this.renderHintMaybe())}constructor(y){super(y),Object(o.a)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:j}=y;this.state={errorId:Object(r.a)(this.props,"errorId",Object(v.a)(j,"error")),everReceivedUserInput:!1,hintId:Object(r.a)(this.props,"hintId",Object(v.a)(j,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},y.maxCharacterLimit&&(this.characterCounterId=Object(v.a)(j,"character-count")),this.input=y.inputRef||t.a.createRef()}},"FormTextInput");I.displayName="FormTextInput",I.defaultProps={className:null,errorId:void 0,errorLevel:i.b.error,errorText:null,errorType:i.c.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,onBlur:l.a,onChange:l.a,onCopy:l.a,forceSelectAll:!1,readOnly:!1,onFocus:l.a,placeholder:void 0,size:d.a.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:l.a,onMouseLeave:l.a,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:l.a,onKeyDown:l.a,onCompositionStart:l.a,onCompositionEnd:l.a};var _=n.a=I},"9ADk":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc");function r(){return r=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(i[m]=d[m])}return i},r.apply(this,arguments)}h(r,"_extends");let l=h(class extends s.PureComponent{render(){const{children:u,className:d,id:m}=this.props,c=Object(a.default)("c-hint",d);return!!u&&t.a.createElement("div",r({},this.props,{className:c,id:m}),u)}},"Hint");l.displayName="Hint",l.defaultProps={className:void 0,id:void 0};var o=n.a=l},"9BZl":function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("ZobM"),l=e("5ya7");const o=new a.b("import-external-emoji");function i(u){let{emojiUrl:d,emojiName:m}=u;return Object(l.c)(d,m)?t.a.createElement("div",{className:"margin_top_50"},t.a.createElement(r.a,{name:"right-click",inline:!0,size:"18"}),t.a.createElement("span",{className:"margin_left_25"},o.t("Right click to add to your organization"))):null}h(i,"ImportExternalEmojiTooltipInfo"),i.displayName="ImportExternalEmojiTooltipInfo"},"9I4P":function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return c}),e.d(n,"c",function(){return E}),e.d(n,"d",function(){return f});var s=e("NFsq"),t=e("bJfW"),a=e("s4P+"),r=e("+lUI"),l=e("C3vN"),o=e("V+O/"),i=e("O86Y"),u=e("beVI");function d(O){return O==null?void 0:O.name}h(d,"getBotName");function m(O){return O==null?void 0:O.real_name}h(m,"getBotRealName");function c(O,p){if(!O||!O.team_id&&!O.enterprise_user||Object(o.b)(O))return p;if(O.team_id&&Object(t.a)(O.team_id))return O.team_id;if(O.team_id&&Object(t.b)(O.team_id)&&Object(l.V)(O))return p;const b=O.enterprise_user&&O.enterprise_user.teams||[];if(b.length>0)return Object(s.a)(b,p)?p:b[0];if(p){const T=O.id;Object(r.a)(T,()=>{Object(a.a)({teamId:p}).warn("Cannot find workspace for app or bot user in this org.")})}return p}h(c,"getTeamIdFromBotAppUser");function E(){let{member:O,bot:p,botProfile:b,currentTeamId:T}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return p!=null&&p.team_id&&Object(t.a)(p.team_id)?p.team_id:b!=null&&b.team_id&&Object(t.a)(b.team_id)?b.team_id:c(O,T)}h(E,"getTeamIdFromBotOrUser");function f(O){let{member:p,bot:b,botProfile:T}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(p!=null&&p.team_id)return p.team_id;const v=(b==null?void 0:b.team_id)||(T==null?void 0:T.team_id);if(v){if(Object(t.b)(v))return v;const S=Object(u.s)(O,v);return S?S.enterprise_id||S.id:v}return Object(i.i)(O)}h(f,"getTopLevelTeamIdForBotOrUser")},"9MPI":function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)((a,r,l)=>{var o,i,u;return a==null||(o=a.prefs)===null||o===void 0||(i=o.channel)===null||i===void 0||(u=i[r])===null||u===void 0?void 0:u[l]});t.meta={name:"createSelector",key:"createSelectorgetChannelPref",description:(a,r,l)=>{var o,i,u;return a==null||(o=a.prefs)===null||o===void 0||(i=o.channel)===null||i===void 0||(u=i[r])===null||u===void 0?void 0:u[l]}}},"9Sxv":function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("iJ8e"),l=e("oEDn");const o=h(i=>{let{type:u,spacing:d="medium"}=i;const m=Object(a.default)("three_fourths_opacity",{margin_right_0:d==="none",margin_right_25:d==="small",margin_right_50:d==="medium"});return u===r.a||u===r.n||u===r.g?t.a.createElement(l.a,{type:"channel",size:"inherit",className:m}):u===r.f?t.a.createElement(l.a,{type:"dm",size:"inherit",className:m}):u===r.i?t.a.createElement(l.a,{type:"gn-menu",size:"inherit",className:m}):u===r.b||u===r.k?t.a.createElement(l.a,{type:"shared-channels-outline",size:"inherit",className:m}):u===r.m?t.a.createElement(l.a,{type:"star-o",size:"inherit",className:m}):t.a.createElement(l.a,{type:"star-o",size:"inherit",className:m})},"InlineChannelSectionFallbackIcon");o.displayName="InlineChannelSectionFallbackIcon"},"9ToC":function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a}),e.d(n,"d",function(){return l}),e.d(n,"b",function(){return i}),e.d(n,"e",function(){return d});var s=e("ltDl");const t=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function a(m){const c=typeof m=="string"&&m.match(t);return c&&c.length===1&&c[0]===m||!1}h(a,"isEmail");function r(m){const{pathname:c,protocol:E}=Object(s.a)(m);return E==="mailto:"&&a(c)}h(r,"isEmailUrl");function l(m){const{pathname:c,protocol:E}=m;return E==="mailto:"&&a(c)}h(l,"isEmailUrlFromUrlObject");const o=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function i(m){const c=typeof m=="string"&&m.match(o);return c&&c.length===1&&c[0]===m||!1}h(i,"isDomain");function u(m){return m.includes("@slack-bots.com")}h(u,"isSlackBotEmail");function d(m){let{csv:c,min:E=0,max:f=10}=m;const O=c.split(/\s*,\s*/).length;return{minViolation:O<E,maxViolation:O>f}}h(d,"validateCSV")},"9WS/":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("fujP"),o=e("nNoG"),i=e("ISSR"),u=e("vfvl"),d=e("Yauy"),m=e("G0eX"),c=e("beVI"),E=e("MUi8"),f=e("QpNZ"),O=e("BJra"),p=e("sGXp"),b=e("nvPh"),T=e("fMsH");function v(){return v=Object.assign||function(M){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(M[C]=j[C])}return M},v.apply(this,arguments)}h(v,"_extends");const S=new o.b("search"),A=new o.b("inline_channel");function I(M){const{bestFormerName:y,bold:j=!0,channel:C,channelName:D,overrideHiddenName:N,width:B,displayFormerNames:L=p.e.true,isChannelFrozenAndInGracePeriod:R,showTeam:U=!0,showTeamForLocalChannel:W=!1,showTeamName:x}=M,G=Object(i.a)(C)&&!R;let w=`${N??D}${G?` ${S.t("(archived)")}`:""}`,se;if(L)if(y){const X=t.a.createElement(f.a,{bold:j,className:"c-channel_name__former_channel_icon",channel:C}),me=t.a.createElement("span",{className:"c-channel_name__former_name_text"},t.a.createElement(b.a,{text:y,showTooltips:!1}));se=y&&t.a.createElement("span",{className:"c-channel_name__suffix"},A.rt(" (formerly {icon}{name})",{icon:X,name:me,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"',fallbackHash:"b574996f0134b62e0fae6797e7d969b04de6b482"}))}else{let X;const me=Object(d.q)(C);if(me&&!Object(l.a)(me)){const Oe=me.map(le=>`#${le}`);X=Object(o.h)(Oe,{noConj:!0}).join("")}X&&(w+=` ${A.t("(formerly {names})",{names:X,note:'Shown when a user is typing the old name of a channel, e.g. "#dogs (formerly #cats)" or "#dogs (archived) (formerly #cats)"'})}`)}const ee=Object(r.default)("c-channel_entity__name",{"c-channel_entity__name--bold":j});return t.a.createElement(t.a.Fragment,null,t.a.createElement("span",v({className:ee},Object(O.a)(M)),t.a.createElement(b.a,{text:w,showTooltips:!1}),L&&se),!B&&t.a.createElement(t.a.Fragment,null,U&&t.a.createElement(E.a,{className:"c-channel_entity__team",iconSize:p.a.inline,channel:C,"data-qa":"channel_entity__team",shouldRender:W,showTeamName:x})))}h(I,"ChannelName"),I.displayName="ChannelName";function _(M,y){let{channel:j,includeChannelPrefix:C}=y;const D=Object(c.g)(M)||Object(c.o)(M),N=Object(m.n)(D);var B;return{channelName:(B=Object(d.t)(M,j,{publicChannelIncludeHashSign:!!C,imIncludeAtSign:!1}))!==null&&B!==void 0?B:void 0,isChannelFrozenAndInGracePeriod:Object(u.b)(N,j)}}h(_,"mapStateToProps"),n.a=Object(a.a)(_)(I)},"9cNQ":function(H,n,e){"use strict";e.d(n,"b",function(){return d}),e.d(n,"a",function(){return m}),e.d(n,"c",function(){return c});var s=e("n3tL"),t=e("jeQL"),a=e("3Hq1"),r=e("WCk1"),l=e("2XU3"),o=e("0iF4"),i=e("E3dU");const u={"pins.list":{}},d=Object(r.a)("Get pinned items for channel",function(f,O){let{channelId:p,reason:b}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const T=u["pins.list"];return T[p]||(T[p]=f(Object(l.apiCall)({method:"pins.list",args:{channel:p},reason:b})),T[p].then(v=>{const S=O(),A=Object(i.d)(S,p);A&&Object(o.c)(v,A)}),T[p].finally(()=>delete T[p])),T[p]});d.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},d.propTypes={channelId:s.default.string.isRequired,reason:s.default.string.isRequired};const m=Object(r.a)("Pin Message to channel",(f,O,p)=>{let{ts:b,fileId:T,fileCommentId:v,channelId:S,reason:A}=p;return f(Object(l.apiCall)({method:"pins.add",reason:A,args:Object(t.a)({channel:S,timestamp:b,file:T,file_comment:v},a.a)}))});m.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},m.propTypes={channelId:s.default.string.isRequired,ts:s.default.string,fileId:s.default.string,fileCommentId:s.default.string,reason:s.default.string.isRequired};const c=Object(r.a)("Unpin Message from channel",(f,O,p)=>{let{ts:b,fileId:T,fileCommentId:v,channelId:S,reason:A}=p;return f(Object(l.apiCall)({method:"pins.remove",reason:A,args:Object(t.a)({channel:S,timestamp:b,file:T,file_comment:v},a.a)}))});c.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},c.propTypes={channelId:s.default.string.isRequired,ts:s.default.string,fileId:s.default.string,fileCommentId:s.default.string,reason:s.default.string.isRequired};const E={resetActiveCalls:()=>{Object.keys(u).forEach(f=>{u[f]={}})}}},"9gkt":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("YUBf");const l=h(o=>{let{headerClassName:i,titleClassName:u,children:d,title:m}=o;return t.a.createElement(r.i,{className:Object(a.default)("p-upgrades_modal__header",i)},d,t.a.createElement(r.l,{className:Object(a.default)("p-upgrades_modal__title",u),title:m}))},"ModalHeader");n.a=l},"9j5s":function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("lhZz"),t=e("LqbL"),a=e("7xYR"),r=e("toaU"),l=e("JfJV");function o(i){const u=Object(s.getClientStoreInstance)();var d;const m=(d=Object(a.getNavigateToUnbootedWorkspace)(u.getState()))!==null&&d!==void 0?d:{},{bootingTeamId:c,navigateToRouteProps:E}=m;return c===i?(Object(l.h)((E==null?void 0:E.routeName)||r.a,{teamId:i,...(E==null?void 0:E.params)||{}},{reason:"delayed-unbooted-team-switch",...(E==null?void 0:E.options)||{}}),u.dispatch(Object(t.setNavigateToUnbootedWorkspace)({})),!0):!1}h(o,"maybeNavigateToUnbootedWorkspace")},"9tyN":function(H,n,e){"use strict";var s=e("lCmp"),t=e("NFsq"),a=e("nNoG");const r=["`","\xB4","\u02C6","\xA8","\u02DC"],l=new RegExp(`[${r.join("")}]$`);var o=h(function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(l,"")},"trim_trailing_composition_char");const i={COMPOSITION_CHARS:r};var u=e("KPXh"),d=n.a=function(m,c){let{allowPartialMatches:E=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!c||!m)return!1;let f=c.toLowerCase().replace(/^\uFF0F/,"/");f=Object(a.a)(f),f=o(f);const O=[Object(u.g)(m),Object(u.e)(m),...Object(u.b)(m)||[]];return Object(s.a)(O,p=>{const b=Object(a.a)(p);return E?Object(t.a)(b,f):b===f})}},"9v4y":function(H,n,e){"use strict"},"9vpw":function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"g",function(){return l}),e.d(n,"d",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"f",function(){return u});var s=e("DwFS");const t=Object(s.a)("Toggle display of the huddle troubleshooting panel");t.meta={name:"createAction",key:"createActiontoggleTroubleshootingPanelDisplay",description:"Toggle display of the huddle troubleshooting panel"};const a=Object(s.a)("Update the state of the active tab in the huddle troubleshooting panel");a.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveTab",description:"Update the state of the active tab in the huddle troubleshooting panel"};const r=Object(s.a)("Update stable metrics state");r.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const l=Object(s.a)("Update unstable metrics and warnings state");l.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const o=Object(s.a)("Update stable warnings state");o.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const i=Object(s.a)("Update stable alert state");i.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const u=Object(s.a)("Update unstable alert state");u.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},"9wgI":function(H,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("bPB8"),t=e("E3dU"),a=e("miM7"),r=e("E97Y"),l=e("y/e0"),o=e("Yauy"),i=e("wGfi"),u=e("aykK"),d=e("oNuo"),m=e("2jZb"),c=e("PX9a"),E=e("nHh1"),f=e("8gWv"),O=e("pu3F");function p(b,T){const v=Object(t.d)(b,T),S=Object(f.b)(b);if(!v)return[];const A=[];if(Object(i.a)(b,T)&&A.push(Object(d.a)("BKeveryone")),(Object(l.a)(v)||Object(r.i)(v))&&(!Object(a.a)(v)||Object(i.a)(b,T))&&Object(u.a)(b,T)&&(A.push(Object(d.a)("BKchannel")),A.push(Object(d.a)("BKhere"))),Object(c.a)(b)&&Object(r.p)(v)){var I;switch((I=Object(m.b)(v).record_type)!==null&&I!==void 0?I:""){case E.b.Account:A.push(Object(d.a)("BKsf:accountteam",Object(o.t)(b,v),!0));break;case E.b.Opportunity:A.push(Object(d.a)("BKsf:dealteam",Object(o.t)(b,v),!0));break;default:break}}if(S){const _=Object(t.m)(b,O.W);(v==null?void 0:v.id)===(_==null?void 0:_.id)&&A.push(Object(d.a)("BKassistant:einstein",null,!1,!0))}return Object(s.a)(A)}h(p,"getBroadcastKeywordsForUser")},"A+YV":function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("SQ0V"),t=e("HoeF"),a=e("lhZz"),r=e("+CZ0"),l=e("QIbu"),o=e("PfQc"),i=e("gpLM"),u=e("HKlo"),d=e("SIMs"),m=e("HHxC"),c=e("LZPg");const E=Object(s.c)("Opens the canvas within the huddle window",(f,O,p)=>{let{fileId:b}=p;const T=O(),v=Object(d.A)(T),S=Object(c.o)(T),A=Object(a.getStateForClientStore)(),I=Object(r.a)(A);!(!!I&&Object(d.v)(T,{huddleId:I}))&&v&&b===S?f(Object(i.c)({focusKey:u.c.QUIP_EMBED})):(f(Object(o.a)({peerId:"self",contentViewType:l.a.QuipFile,contentViewConfig:{item:{type:l.a.QuipFile,fileId:b,id:b}}})),f(Object(m.a)({surface:l.b.WINDOW_FULL})),f(Object(t.t)({isNotesOpen:!0})))});E.meta={name:"createThunk",key:"createThunkopenHuddleCanvas",description:"Opens the canvas within the huddle window"}},"A+lB":function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){const a=(t||"").split("-");return a&&(a.length===3||a.length===4)?a[1]:null}h(s,"getCallIdFromExternalId")},"A+oD":function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("fujP"),t=e("ZKjC"),a=e("P9LH"),r=e("xwCZ"),l=e("QLhP"),o=e("C3vN"),i=e("Nnn3"),u=e("9I4P"),d=e("+GhL"),m=e("x/ke"),c=e("O86Y"),E=e("nNoG");const f=new E.b("files"),O=Object(t.b)((p,b)=>{if(!Object(a.Kb)(b))return null;let T=f.t("External App");const v=(b==null?void 0:b.bot_user_id)||(b==null?void 0:b.user);if(v){var S;const A=(S=Object(r.g)(p,v))!==null&&S!==void 0?S:void 0;if(Object(o.T)(A)){const I=Object(i.a)(p,A),_=Object(l.b)(p,I)||void 0,M=Object(u.a)(_);if(T=M||T,Object(s.a)(M)&&I){const y=Object(m.c)(p,{serviceId:I,homeWorkspaceId:Object(u.c)({bot:_,member:A,currentTeamId:Object(c.g)(p)})});T=Object(d.h)(y)||T}}}return T});O.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(p,b)=>{if(!Object(a.Kb)(b))return null;let T=f.t("External App");const v=(b==null?void 0:b.bot_user_id)||(b==null?void 0:b.user);if(v){var S;const A=(S=Object(r.g)(p,v))!==null&&S!==void 0?S:void 0;if(Object(o.T)(A)){const I=Object(i.a)(p,A),_=Object(l.b)(p,I)||void 0,M=Object(u.a)(_);if(T=M||T,Object(s.a)(M)&&I){const y=Object(m.c)(p,{serviceId:I,homeWorkspaceId:Object(u.c)({bot:_,member:A,currentTeamId:Object(c.g)(p)})});T=Object(d.h)(y)||T}}}return T}}},A1dN:function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"c",function(){return m}),e.d(n,"d",function(){return c}),e.d(n,"e",function(){return E}),e.d(n,"b",function(){return f});var s=e("Z0Cl"),t=e("DxSU"),a=e("AFNo"),r=e("2XU3"),l=e("Lgge"),o=e("s4P+"),i=e("3REw"),u=e("gHj1");const d=Object(a.a)("Get call info from callId",(O,p,b)=>{let{callIds:T,reason:v}=b;const S=Object(o.a)({getState:p});return T.length>3&&S.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${T.length}`),l.a.map(T,A=>O(Object(r.apiCall)({method:"screenhero.rooms.info",args:{room:A},reason:v||"huddles-call-info"})).then(I=>{let{room:_}=I;return Object(t.b)(_)}).catch(I=>(S.error(I,`Error while fetching call: ${A}`),null))).then(s.a)});d.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const m=Object(a.a)("Join a calls / huddle room",(O,p,b)=>{let{channelId:T,roomId:v,threadTs:S,shouldFetchRegion:A,teamId:I,traceId:_,parentSpanId:M,reason:y,isMultiDevice:j=!1}=b;return(A?u.a.getInstance().getNearestChimeMediaRegion(I):l.a.resolve("")).then(C=>O(Object(r.apiCall)({method:"rooms.join",args:{...v&&{id:v},...T&&{channel_id:T},...S&&{thread_ts:S},regions:C,multidevice:j},traceId:_,parentSpanId:M,reason:y||"calls-api/joinRoom"})).then(D=>{var N;return{server:Object(i.s)(D.call),roomId:D.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:v,channelId:(N=D.huddle)===null||N===void 0?void 0:N.channels[0],...D.canvas&&D.canvas.root_thread_ts&&{rootThreadTs:D.canvas.root_thread_ts},...D.canvas&&D.canvas.canvas_file_id&&{canvasFileId:D.canvas.canvas_file_id}}}))});m.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const c=Object(a.a)("Notify member to join huddle",(O,p,b)=>{let{reason:T,channelId:v,userId:S}=b;return O(Object(r.apiCall)({method:"rooms.notifyMember",args:{channel_id:v,user_id:S},reason:T}))});c.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const E=Object(a.a)("Set a huddle topic / rename the call",(O,p,b)=>{let{roomId:T,name:v}=b;return O(Object(r.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:T,room_name:v}}))});E.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const f=Object(a.a)("Get a link to a huddle",(O,p,b)=>{let{reason:T,channelId:v}=b;return O(Object(r.apiCall)({method:"rooms.getLink",reason:T,args:{channel_id:v}}))});f.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},A4eW:function(H,n,e){H.exports=e.p+"huddle-in-thread-da71b0e.png"},A4tE:function(H,n,e){"use strict"},A6se:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});function s(a){return a>=48&&a<=57}h(s,"isNumericKey");function t(a){const r=String.fromCharCode(a);return!!/[a-zA-Z0-9]/.test(r)}h(t,"isAlphaNumericKey")},A7BO:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("ktUG"),o=e("FRd1");function i(){return i=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var p=arguments[O];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(f[b]=p[b])}return f},i.apply(this,arguments)}h(i,"_extends");const u={small:"small",medium:"medium",large:"large"},d={onBlur:{action:l.UiAction.SAVE}};var m;let c=h(class extends(m=t.a.Component){componentDidMount(){var O;this.props.focusOnMount&&(!((O=this.textAreaRef)===null||O===void 0)&&O.current)&&this.textAreaRef.current.focus()}onChange(O){this.props.onChange(O.target.value)}render(){const{ariaDescribedby:O,isInvalid:p,ariaLabelledby:b,ariaRequired:T,className:v,placeholder:S,id:A,isDisabled:I,name:_,resize:M,size:y,focusOnMount:j,autoClogProps:C,...D}=this.props,N=Object(a.default)("c-input_textarea",{"c-input_textarea--large":y===u.large,"c-input_textarea--small":y===u.small,"c-input_textarea--resize_none":M==="none","c-input_textarea--resize_both":M==="both","c-input_textarea--resize_h":M==="horizontal","c-input_textarea--with_error":p,"c-input_textarea--with_inline_alert":p},v),B=t.a.createElement("textarea",i({},D,{"aria-describedby":O,"aria-invalid":p,"aria-labelledby":b,"aria-required":T,className:N,disabled:I,id:A,name:_,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,placeholder:S,ref:this.textAreaRef,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return C?t.a.createElement(o.a,{autoClogProps:C,actionProps:d,elementType:l.ElementType.TEXTAREA},B):B}constructor(O){super(O),this.onChange=this.onChange.bind(this),this.textAreaRef=t.a.createRef()}},"TextareaInput");c.displayName="TextareaInput",c.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:r.a,onFocus:r.a,onBlur:r.a,placeholder:"",resize:null,size:u.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0};var E=n.b=c},A7Fl:function(H,n,e){"use strict"},AFY6:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc");const r=h(l=>{let{className:o,subtitle:i}=l;return t.a.createElement("div",{className:Object(a.default)("p-upgrades_modal__subtitle",o)},i)},"ModalSubtitle");n.a=r},AIke:function(H,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("Lgge"),t=e("SQ0V"),a=e("Sl1j"),r=e("ohbk"),l=e("Fqb6"),o=e("u/Sz"),i=e("I0j/"),u=e("37+L"),d=e("RV0M");const m=Object(t.c)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(c,E,f,O)=>{let{channelId:p,users:b,subteams:T,inviteAll:v,force:S,propagateInviteResult:A}=f;return c(Object(a.e)({channelId:p,reason:o.a.CHILD_CHANNEL_CREATED})).then(function(){let{channel:I}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{shouldUseNavigate:_}=O(d.a);return c(Object(l.a)({channel:I,reason:o.a.CHILD_CHANNEL_CREATED})),c(_?Object(i.a)(Object(u.i)(I.id)):Object(r.a)({id:I.id})),A?v||b||T?c(Object(a.B)({channelId:I.id,users:b,subteams:T,inviteAll:v,force:S})).then(M=>({channel:I,inviteResult:M})):s.a.resolve({channel:I,inviteResult:{ok:!0}}):(c(Object(a.B)({channelId:I.id,users:b,subteams:T})),s.a.resolve({channel:I}))})});m.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},AKQE:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});let s=null;const t=h(()=>s,"getOpenChannelId"),a=h(r=>{s=r},"setOpenChannelId")},AO5M:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"e",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"d",function(){return l}),e.d(n,"b",function(){return o});var s=e("DwFS");const t=Object(s.a)("Push a fresh tile history entry");t.meta={name:"createAction",key:"createActionpushHistoryEntryInternal",description:"Push a fresh tile history entry"};const a=Object(s.a)("Update history index when moving through a tile\u2019s history");a.meta={name:"createAction",key:"createActionupdateHistoryIndex",description:"Update history index when moving through a tile\u2019s history"};const r=Object(s.a)("Replace the current history entry");r.meta={name:"createAction",key:"createActionreplaceHistoryEntry",description:"Replace the current history entry"};const l=Object(s.a)("Replace the entire tile history state");l.meta={name:"createAction",key:"createActionreplaceHistoryStateInternal",description:"Replace the entire tile history state"};const o=Object(s.a)("Remove history for a tile when it\u2019s closed");o.meta={name:"createAction",key:"createActionremoveHistoryForTile",description:"Remove history for a tile when it\u2019s closed"}},AQWg:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);function a(r,l){const o=Object(s.useRef)(l);o.current=l,Object(s.useEffect)(()=>{if(!r)return;const i=h((u,d)=>{if(d){var m;(m=o.current)===null||m===void 0||m.call(o,r)}},"renderListener");return i(void 0,r.rendered.get()),i.callbackRef=o,r.rendered.listen(i),()=>{r.rendered.unlisten(i)}},[r])}h(a,"useEmbedPartiallyRenderedEffect")},AaY3:function(H,n,e){"use strict";var s=e("9oTK"),t=e("vYXD"),a=e("AKQE"),r=e("q1tI"),l=e.n(r),o=e("zxER"),i=e("npde"),u=e("E/AO"),d=e("Tevt"),m=e("Trx9"),c=e("ktUG"),E=e("d/xU"),f=e("nNoG"),O=e("QcWC"),p=e("RVJP");const b=new f.b("huddles");function T(q){let{closeModal:ce}=q;const ge=Object(o.d)(O.a),be=Object(o.d)(z=>Object(p.d)(z,"adoption_instant_slack"))==="treatment";let Q,re;if(Object(t.c)())Q=b.t("Your browser does not support Huddles"),re=ge&&be?b.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},z=>{let{text:Y}=z;return l.a.createElement(d.a,{href:"https://www.google.com/chrome"},Y)}):b.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},z=>{let{tag:Y,text:ve}=z;switch(Y){case"desktop-link":return l.a.createElement(d.a,{href:`https://${Object(E.l)()}/downloads`},ve);case"chrome-link":return l.a.createElement(d.a,{href:"https://www.google.com/chrome"},ve);default:return null}});else if(Object(t.d)())Q=b.t("Please update Slack"),re=b.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return l.a.createElement(m.a,{eventId:c.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:c.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},l.a.createElement(u.a,{onClose:ce,onSubmit:ce,showCancelButton:!1,showSubmitButton:!0,title:Q,submitButtonText:b.t("OK")},re))}h(T,"HuddleUnsupportedAlert"),T.displayName="HuddleUnsupportedAlert";var v=Object(i.a)(T),S=e("Lgge"),A=e("SQ0V"),I=e("lpU5"),_=e("6rGi"),M=e("jj3I"),y=e("O86Y"),j=e("x5lL"),C=e("t3jr");const D=Object(A.c)("End active call",(q,ce)=>{const ge=Object(j.b)(ce());if(ge){const be=Object(j.t)(ge);be&&!be.isClosed()&&Object(C.a)(be,"endActiveCall")}});D.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var N=e("gpLM"),B=e("HKlo"),L=e("u0LO"),R=e("52XJ"),U=e("lhZz"),W=e("GNR7"),x=e("gHj1"),G=e("sgFo"),w=e("9Gfp"),se=e("+CZ0"),ee=e("0dq7"),X=e("XM5t"),me=e("5IZy"),Oe=e("3vtZ"),Ce=e("QjW8"),le=e("+N8b"),de=e("dKQz"),ie=e("ED8d");const pe=Object(A.c)("Start huddle",function(){var q=Object(s.coroutine)(function*(ce,ge,be){let{channelId:Q,threadTs:re,muted:z,callId:Y,forceFocus:ve,entryPoint:Z=ee.e.UNKNOWN,isMultiDevice:$,isStandaloneHuddle:te}=be;Object(U.dispatchForClientStore)(Object(de.z)(!1));const J=ge();if(ce(D()),ce(Object(M.e)(!1)),ce(Object(M.a)()),Object(t.d)()||Object(t.c)())return ce(v()),S.a.resolve();ce(Object(R.a)({experimentHuddlesDiscoveryCallsGroupTreatment:Object(G.l)(J),interactionType:L.a.Click})),Object(a.a)()!==Q&&ce(Object(I.j)({channelId:Q??"",open:!1}));const k=Object(w.i)(J,"feature_tinyspeck"),ae=Object(y.g)(J);Object(ie.a)().initializeTraces({teamId:ae,isTinySpeck:k});const Ee=!!Object(se.x)(Object(U.getStateForClientStore)()),_e=yield x.a.getInstance().getNearestChimeMediaRegion(ae),{ttiTrace:je,huddleEventsTrace:Ue}=Object(ie.a)().getAllTraceHandlers();je.addTTIMetaTags({entryPoint:Z,preferredMediaRegion:_e,isPrejoin:Ee,isCreate:!Object(W.a)(J,Q)}),Ue==null||Ue.recordEntryPoint(Z),le.a.publish({type:Ce.a.PreferredMediaRegion,update:{mediaRegionPreferred:_e}});const Ke=Object(_.a)(),ke=Object(G.q)(J),Qe=Object(w.a)(J);return Ke.start(ae,Q??"",z,Y,re,ke,$,te).then(Object(s.coroutine)(function*(){const Ze=Object(U.getStateForClientStore)(),De=Object(Oe.l)(J,{huddleId:Y}),Fe=Object(Oe.k)(Ze),Ve=Object(Oe.j)(Ze);Object(me.a)({state:J}).track(c.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:Z,ui_properties:{element_name:X.a.CANVAS_JOIN},action:c.UiAction.TOGGLE},calls:Ve},...De,...Fe}),ce(Object(N.c)({focusKey:B.c.HUDDLE_SIDEBAR_FOOTER,forceFocus:ve})),ce(Object(I.i)(!1)),Y&&ce(Object(j.B)({callId:Y,userId:Qe}))}))});return function(ce,ge,be){return q.apply(this,arguments)}}());pe.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};var ne=n.a=pe},Aebc:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("nNoG"),l=e("nWdO"),o=e("6R8Z"),i=e("ZobM");function u(){return u=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var p=arguments[O];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(f[b]=p[b])}return f},u.apply(this,arguments)}h(u,"_extends");const d=new r.b("presence");function m(f,O){return f?O?d.t("Active, notifications snoozed"):d.t("Active"):O?d.t("Away, notifications snoozed"):d.t("Away")}h(m,"getPresenceText");const c=h(f=>{let{inheritIconSize:O=!1,inline:p=!0,isActive:b=!1,isDnd:T=!1,isSelf:v=!1,isSlackbot:S=!1,invert:A=!1,userType:I="member",focusable:_=!1,showText:M=!1,resetIA:y=!1,className:j}=f,C=b?{name:"status-member",variation:"filled"}:{name:"status-member"};const D=Object(a.default)(j,"c-presence",{"c-presence--active":b&&!A,"c-presence--resetIA":y,"c-presence--away":!b&&!A,"c-presence--inverted":A,"is-inline":p,block:!p}),N=m(b,T);I==="member"?T?C=b?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:S&&(C={name:"status-slackbot",variation:"filled"}):I==="ra"||I==="external"?T?C=b?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:C=b?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:I==="ura"&&(T?C=b?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:C=b?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const B=t.a.createElement("span",{className:D},t.a.createElement(i.a,u({},C,{title:N,"aria-label":N,"aria-hidden":"false",size:O?"inherit":"20",inline:p,"data-qa":"presence_indicator","data-qa-type":C.name,"data-qa-presence-self":v,"data-qa-presence-active":b,"data-qa-presence-dnd":T})));return _?t.a.createElement(t.a.Fragment,null,t.a.createElement(l.c,{tip:N},t.a.createElement(o.a,null,B)),M&&t.a.createElement("span",{className:"padding_left_50","aria-hidden":"true"},N)):t.a.createElement(t.a.Fragment,null,B,M&&t.a.createElement("span",{className:"padding_left_50","aria-hidden":"true"},N))},"Presence");c.displayName="Presence";var E=n.a=t.a.memo(c)},Aqju:function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("mLC8"),t=e("rZ8V"),a=e("O86Y"),r=e("1Np4"),l=e("QBFz"),o=e("KQ0X"),i=e("4cU5"),u=e("NWwO");function d(m){let{state:c,channelId:E,isWorkspaceSwitch:f=!1}=m;if(Object(t.o)(c))return;const O=Object(a.g)(c),p=Object(l.a)(c,"channel_switch"),b=Object(u.a)();s.d.start({label:s.a.ChannelSwitch,id:Object(o.a)({teamId:O,channelId:E}),options:{phases:!0,tracer:Object(r.a)({state:c}),samplingOptions:b?{sampleType:i.g.ALWAYS}:void 0,teamId:O,tags:{view_name:"chat",is_workspace_switch:f?!0:void 0,user_based_sampled:b?!0:void 0,version:2},onCleanup(){p.stop()}}})}h(d,"traceChannelSwitch")},"B+uu":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("8agj"),t=e("jnGo");const a=h((r,l)=>{var o,i;let u,d,m;r&&(r.subtype==="file_comment"?[d,u]=["file_comment",r.comment]:Object(s.a)(r.subtype)?[d,u]=["file",l]:[d,u,m]=["message",r,r.channel]);const c=d==="message"?(o=u)===null||o===void 0?void 0:o.ts:(i=u)===null||i===void 0?void 0:i.id;return u&&(u._rxn_key||Object(t.a)(d,c,m))},"getReactionKey")},B1Qj:function(H,n,e){"use strict";e.d(n,"b",function(){return G});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("5RQ4"),l=e.n(r),o=e("v0Vs"),i=e.n(o),u=e("+OS1"),d=e.n(u),m=e("r9Lk"),c=e.n(m),E=e("LPwq"),f=e.n(E),O=e("RIOX"),p=e.n(O),b=e("8K+h"),T=e.n(b),v=e("IPMH"),S=e.n(v),A=e("onsa"),I=e.n(A),_=e("ksuf"),M=e.n(_),y=e("ITwW"),j=e.n(y),C=e("g9pr"),D=e.n(C),N=e("6w/h"),B=e.n(N),L=e("UWeq"),R=e.n(L),U=e("IXWQ"),W=e.n(U);const x=new a.b("huddles"),G=[{key:"NONE",preview:T.a},{key:"BLUR",preview:T.a},{key:"LIVING_ROOM",url:R.a,preview:W.a},{key:"REMOTE_WORK",url:D.a,preview:B.a},{key:"TOKYO_SIGHT",url:M.a,preview:j.a},{key:"GYM",url:S.a,preview:I.a},{key:"HOME",url:f.a,preview:p.a},{key:"OFFICE",url:d.a,preview:c.a},{key:"BEACH",url:l.a,preview:i.a}],w=h(()=>Object(s.useMemo)(()=>G.map(ee=>{let X,me;switch(ee.key){case"NONE":X=x.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":X=x.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":X=x.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),me=x.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":X=x.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),me=x.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":X=x.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),me=x.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":X=x.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),me=x.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":X=x.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":X=x.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":X=x.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:X="NO_NAME",me="NO_DESCRIPTION"}return{...ee,name:X,description:me}}),[]),"useGetVideoBackgrounds");n.a=w},B4ch:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("SQ0V"),l=e("lhZz"),o=e("O86Y"),i=e("stxl"),u=e("3l96"),d=e("4hjS"),m=e("PIf0"),c=e("azFB");function E(){return E=Object.assign||function(O){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(O[T]=b[T])}return O},E.apply(this,arguments)}h(E,"_extends");const f=h((O,p)=>Object(r.c)(`XWS open ${O.displayName} modal`,(b,T,v,S)=>{const{modalName:A,allowMultiple:I=!0,isStackable:_=!1,renderInChildWindow:M=!1}=p||{};let y,j=M;const C=S(m.a);if((C==null?void 0:C.window)!==c.a&&(C!=null&&C.windowId)&&(j=!0,y=C.windowId),!I&&A&&Object(i.a)(T(),y).find(x=>{let{name:G}=x;return G===A}))return;const D=Object(o.g)(T()),N=Object(d.f)(T()),B=Object(l.getStoreInstanceByTeamId)(D);let L,R=t.a.createElement(O,E({},v,{closeModal:()=>L==null?void 0:L()}));j||(R=t.a.createElement(a.Provider,{store:B},R));let U;return j?U=b(Object(u.a)({element:R,name:A||void 0,isStackable:_})):U=Object(l.dispatchForTeamId)(N,Object(u.a)({element:R,name:A||void 0,isStackable:_})),L=U.close,U}),"createXWSModalThunk");n.a=f},BEQu:function(H,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"a",function(){return l}),e.d(n,"e",function(){return i});var s=e("Z7Ay");const t=450,a=450,r=25,l=500;let o;const i=h(()=>o||[a,t,r,l],"getHuddleCameraQualityConstants");Object(s.a)("huddlesVideoConstants",{resetCameraQualityToDefaults:()=>{o=void 0},maxOutCameraQuality:()=>{o=[1280,720,30,2500]}})},BHH9:function(H,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.WEEKLY_REMINDER="SUGGESTED_WORKFLOW_WEEKLY_REMINDER",t.STANDUP="SUGGESTED_WORKFLOW_STANDUP",t.KUDOS="SUGGESTED_WORKFLOW_GIVE_KUDOS",t.PTO_REQUEST="PTO_REQUEST",t.LISTS_COLUMN_CHANGED="LISTS_COLUMN_CHANGED",t.ADD_RECORD_TO_LIST="ADD_RECORD_TO_LIST",t.ADD_RECORD_TO_LIST_NO_NOTIFICATION="ADD_RECORD_TO_LIST_NO_NOTIFICATION",t.FEEDBACK_FORM_FOR_LIST="FEEDBACK_FORM_FOR_LIST",t.BUG_FORM_FOR_LIST="BUG_FORM_FOR_LIST",t.HELP_FORM_FOR_LIST="HELP_FORM_FOR_LIST"})(s||(s={}))},BJra:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("u3oV"),t=e("X6iR");function a(r){return Object(s.a)(r,(l,o)=>Object(t.a)(o,"data-"))}h(a,"getDataProps")},BSP1:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("Eh7F");const t=h(r=>{const l=Date.now();var o;return l-((o=r.updatedTimestamp)!==null&&o!==void 0?o:l)>=s.c},"isAwarenessEntryExpired"),a=h(r=>r?[s.a.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},BTpy:function(H,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return d});var s=e("ZKjC"),t=e("dmdh"),a=e("6dQg"),r=e("CnKg"),l=e("9068");const o=Object(s.b)((m,c)=>{const{fileIdOrQuipThreadId:E}=Object(r.i)(c);if(Object(a.a)(E)){var f;return(f=Object(t.e)(m,E))!==null&&f!==void 0?f:null}return null});o.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(m,c)=>{const{fileIdOrQuipThreadId:E}=Object(r.i)(c);if(Object(a.a)(E)){var f;return(f=Object(t.e)(m,E))!==null&&f!==void 0?f:null}return null}};const i=Object(s.b)((m,c)=>{const E=o(m,c);return E&&Object(l.a)(E)?E:null});i.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(m,c)=>{const E=o(m,c);return E&&Object(l.a)(E)?E:null}};function u(m){return m.linked_channel_id}h(u,"getLinkedChannelId");function d(m){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(m)}h(d,"isSampleCanvas")},BbyF:function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("Dn5J"),r=e("2VFn"),l=e("SQ0V"),o=e("f24l"),i=e("H40f"),u=e("u+Mq"),d=e("PJXs"),m=e("QKJg"),c=e("1BWb"),E=e("n2bd"),f=e("v7mh"),O=e("gLZF"),p=e("u09r"),b=e("xcHN"),T=e("37+L"),v=e("LAdm"),S=e("W1L4"),A=e("iMEJ");const I=Object(l.c)("Handle focus transitions when thread closes",function(){var M=Object(s.coroutine)(function*(y,j,C){let{view:D,id:N}=C;var B;const L=D==null||(B=D.params)===null||B===void 0?void 0:B.threadId;if(!L)return;const{threadTs:R,channelId:U}=Object(b.d)(j(),L);!U||!R||y(Object(p.a)({threadTs:R,channelId:U,id:N}))});return function(y,j,C){return M.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunktransitionFocusOutOfThread",description:"Handle focus transitions when thread closes"};const _=Object(l.c)("Removes view from the specified viewSet",(M,y,j)=>{let{windowId:C,container:D}=j;const N=y();if(C===r.c){var B;const W=Object(f.a)(N);if(!W)return;const x=Object(f.h)(N,{tab:W}),G={...x};let w={};if(D===r.h.Secondary){var L;if(!G[r.h.Secondary])return;if(G[r.h.Secondary]=void 0,w={id:G[r.h.Primary].id,viewType:G[r.h.Primary].viewType,params:G[r.h.Primary].params,sourceContainer:D},!(x==null||(L=x[r.h.Secondary])===null||L===void 0)&&L.id){var R;M(Object(E.a)({entityId:x==null||(R=x[r.h.Primary])===null||R===void 0?void 0:R.id,windowId:C}))}}if(D===r.h.Primary){if(x!=null&&x[r.h.Secondary])return;G[r.h.Primary]=Object(T.n)({tab:W})}M(Object(S.a)({windowId:r.c,tab:W,viewSet:G})),M(Object(v.a)({prevViewSet:x,prevTab:W,nextViewSet:G,nextTab:W,navigateParams:w,triggerType:A.a.NAVIGATION})),(x==null||(B=x[D])===null||B===void 0?void 0:B.id)==="thread"&&M(I({view:x==null?void 0:x[D],id:w.id}));return}if(D===r.h.Secondary){const W={...Object(f.e)(N,{windowId:C})},x=W[r.h.Primary],G=W[r.h.Secondary];if(!G)return;const w=x!=null&&x.id?Object(d.b)(N,{entityId:x.id,windowId:C}):void 0,se=(w==null?void 0:w.origin)==="channel_canvas";Object(O.a)({primaryViewId:x==null?void 0:x.id,secondaryViewId:G==null?void 0:G.id})&&M(Object(E.a)({entityId:x==null?void 0:x.id,windowId:C}));const X=M(Object(i.a)({viewSet:{[r.h.Primary]:x},windowId:C}))[r.h.Secondary];if(X&&Object(a.a)(X)&&!Object(a.a)(G)&&(M(Object(o.a)({windowId:C,id:X.id,params:X.params,viewType:X.viewType})),M(Object(c.b)({channelId:x==null?void 0:x.id,isOverlay:!1,isFlex:!0,autoOpen:!0})),se)){var U;M(Object(u.b)({params:{entityId:(U=X.params)===null||U===void 0?void 0:U.quipDocId},uiState:{reason:u.a.ChannelSpaceOriginView}}))}(G==null?void 0:G.id)==="thread"&&M(I({view:W[D],id:x==null?void 0:x.id}))}M(Object(m.a)({windowId:C,container:D}))});_.meta={name:"createThunk",key:"createThunkremoveView",description:"Removes view from the specified viewSet"},n.a=_},BfA7:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("mQiU");function r(){return r=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(o[d]=u[d])}return o},r.apply(this,arguments)}h(r,"_extends");function l(o){const i=o,u=t.a.forwardRef((d,m)=>t.a.createElement(a.a.Consumer,null,c=>{let{view:E,closeView:f,windowId:O,container:p,isMainWindow:b,isChildWindow:T,shouldUseNavigate:v,activeTab:S,forceTabWhenNavigating:A,getSiblingView:I,getViewSet:_}=c;return t.a.createElement(i,r({ref:m},d,{view:E,closeView:f,windowId:O,container:p,isMainWindow:b,isChildWindow:T,shouldUseNavigate:v,activeTab:S,forceTabWhenNavigating:A,getSiblingView:I,getViewSet:_}))}));return u.displayName=`withViewContainerContext(${i.displayName})`,u}h(l,"withViewContainerContext"),l.displayName="withViewContainerContext",n.a=l},Bi0V:function(H,n,e){H.exports=e.p+"ava_0002-48-d3ba4ec.png"},Bi0v:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("SQ0V"),t=e("HxoY"),a=e("RkbV"),r=e("rRi9"),l=e("SRu2");const o=Object(s.c)("Add an ephemeral message to messages-store and ephemeral message map",(u,d,m)=>{let{ephemeralType:c,message:E}=m;const f=d(),O=Object(l.a)(f,E);O.ts||(O.ts=Object(t.a)()),c&&(O._ephemeral_type=c),u(Object(a.a)([O])),c&&u(Object(r.a)({ephemeralType:c,channelId:O.channel,ts:O.ts}))});o.meta={name:"createThunk",key:"createThunkaddEphemeralMessage",description:"Add an ephemeral message to messages-store and ephemeral message map"};const i=Object(s.c)("Add an ephemeral message from a bot (defaults to Slackbot)",(u,d,m)=>{let{ephemeralType:c,message:E}=m,f;E.username?f={...E,subtype:"bot_message"}:f={...E,user:"USLACKBOT"},u(o({ephemeralType:c,message:f}))});i.meta={name:"createThunk",key:"createThunkaddEphemeralBotMessage",description:"Add an ephemeral message from a bot (defaults to Slackbot)"}},Bwf8:function(H,n,e){"use strict";e.d(n,"a",function(){return Ce});var s=e("Kmpi"),t=e("xwCZ"),a=e("ZrLl"),r=e("M4HD"),l=e("Yauy"),o=e("pZC0"),i=e("E97Y"),u=e("gVOt"),d=e("p9fx");const m=h(le=>le&&(le.displayName||le.display_name||Object(d.a)(le)),"getEmojiDisplayName"),c=h(le=>le?(le.aliases?[le,...le.aliases]:[le]).map(ie=>({name:Object(d.a)(ie),displayName:m(ie)})):null,"getAllEmojiNameObjects");var E=e("jvEW"),f=e("C3vN"),O=e("52Wj"),p=e("G0eX"),b=e("DQNL"),T=e("vJdC"),v=e("s4P+");const S={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var A=e("Tb1M"),I=e("V96q"),_=e("ifKl"),M=e("uKXT"),y=e("lCmp"),j=e("BvK0"),C=e("DKof"),D=e("CpTu"),N=e("7EGn"),B=e("RwMM"),L=e("9tyN"),R=e("EzMJ"),U=e("KPXh"),W=e("4Ky9"),x=e("E3dU"),G=e("beVI"),w=e("P9LH"),se=e("BTpy"),ee=e("7ibc"),X=e("Ir4d"),me=e("O86Y"),Oe=e("rKeN");let Ce=h(class{filterMembers(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(Object(f.qb)(q)||this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery){const Q={item:q,score:0,id:q.id};return this.selfFirst&&Object(f.jb)(q)&&(Q.isSelf=!0),ne.push(Q),ne}const{score:ce,scoreDetails:ge}=this.scoreMember(q),be={item:q,score:ce,scoreDetails:ge,id:q.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(be.isExactMatch=this.isMemberExactMatch(q),be.exactMatchDetails=this.getMemberExactMatchDetails(q)),this.selfFirst&&Object(f.jb)(q)&&(be.isSelf=!0),ce<=this.fuzzyLimit&&ne.push(be),ne},[])}scoreMember(de){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const pe=1/0,ne={};if(this.queryIsMaybeSelf&&Object(f.jb)(de))ne.self_score=0;else{const be=Object(O.f)(de),Q=Object(O.d)(de);ne.real_name=be?ie.score(be):pe,ne.display_name=Q?ie.score(Q):pe}if(this.shouldMatchEmail){const be=Object(O.a)(de);ne.email=be?this.forwardOnlyMatcher.score(be):1/0}var q;const ce=(q=Object(M.a)(Object.values(ne)))!==null&&q!==void 0?q:pe,ge=Object.entries(ne).reduce((be,Q)=>{let[re,z]=Q;return isFinite(z)&&(be[re]=z),be},{});return{score:ce,scoreDetails:ge}}filterChannels(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(Object(i.r)(q)||Object(o.a)(q)||this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=Object(A.a)(Object(l.t)(de,q,{publicChannelIncludeHashSign:!1})),ge=this.matcher.score(ce),be={item:q,score:ge,id:q.id};this.preferExactMatch&&(be.isExactMatch=this.isChannelExactMatchPreNormalized(ce));const Q=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,re=q.previous_names&&q.previous_names.length;if(Q&&re){var z;const Y=q==null||(z=q.previous_names)===null||z===void 0?void 0:z.map(te=>({score:this.matcher.normalizeAndScore(te),name:te}));be.previousNameScores=Y;const ve=Object(y.a)(Y,te=>te.score<=this.fuzzyLimit),Z=ve&&ge>this.fuzzyLimit;let $;if(Z){const te=Object(j.a)(Y,"score");$=te&&te.name}return be.bestPreviousNameMatch=$,(ge<=this.fuzzyLimit||ve)&&ne.push(be),ne}return ge<=this.fuzzyLimit&&ne.push(be),ne},[])}filterTeams(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(Object(p.V)(q)||this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.matcher.normalizeAndScore(Object(p.h)(q)),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isTeamExactMatch(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}filterUserGroups(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(Object(b.v)(q)||this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.scoreUserGroupName(q),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isUsergroupExactMatch(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}scoreUserGroupName(de){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,pe=1/0,ne=1/0;const q=Object(b.j)(de)||Object(b.i)(de).toLocaleLowerCase(),ce=Object(b.g)(de,{includeAtSign:!1});return pe=ie.normalizeAndScore(q),ce&&(ne=ie.normalizeAndScore(ce)),Math.min(pe,ne)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(ie=>!!ie).map(ie=>{const pe=ie.charAt(0)==="@"?ie.substring(1):ie;return new B.b(pe,{fuzzyLimit:this.fuzzyLimit})})}filterMpims(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=Object(l.C)(q);if(!ce)return ne;const ge=ce.map($=>Object(t.g)(de,$)).filter($=>!Object(f.jb)($)&&!Object(f.qb)($)),be={},Q={},re=[];let z=0;const Y=this.getSubQueryMatchers();for(const $ of Y){const te=[];let J=1/0;for(const k of ge){const{score:ae,scoreDetails:Ee}=this.scoreMember(k,$),_e=be==null?void 0:be[k.id];ae<(_e!==void 0?_e:1/0)&&(be[k.id]=ae,Q[k.id]={score_details:Ee}),te.push({id:k.id,score:ae}),ae<J&&(J=ae)}re.push(te),z+=J}let ve;isFinite(z)?ve=Object(C.a)(Object.values(be).filter(isFinite)):ve=z;const Z={id:q.id,item:q,score:ve,scoreDetailsByMember:Q,subqueryScoresByMember:re};return ve<=this.fuzzyLimit&&ne.push(Z),ne},[])}filterIms(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;const ce=Object(u.a)(q);if(!ce)return ne;const ge=Object(t.g)(de,ce);if(Object(f.qb)(ge))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const{score:be,scoreDetails:Q}=this.scoreMember(ge),re={item:q,score:be,scoreDetails:Q,id:q.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(re.isExactMatch=this.isMemberExactMatch(ge),re.exactMatchDetails=this.getMemberExactMatchDetails(ge)),be<=this.fuzzyLimit&&ne.push(re),ne},[])}filterViews(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.matcher.normalizeAndScore(q.name),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isViewOrModalExact(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}filterModals(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.matcher.normalizeAndScore(q.name),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isViewOrModalExact(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}filterAppActions(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(Object(s.e)(q)||this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=Object(a.a)(q),ge=Object(W.a)(de,q.app_id),be=!Object(s.e)(ge)&&Object(r.r)(ge),Q=be?[`${ce} ${be}`,`${be} ${ce}`]:[ce],re=Q.map(ve=>this.matcher.normalizeAndScore(ve)),z=Math.min(...re),Y={item:q,score:z,id:q.id};return this.preferExactMatch&&(Y.isExactMatch=!!(this.query&&Q.map(A.a).includes(this.query))),z<=this.fuzzyLimit&&ne.push(Y),ne},[])}filterApps(de,ie,pe,ne){let q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.a;const ce={};return ie!=null&&ie.length&&ie.forEach(ge=>{const be=ge.app_id;be&&!ce[be]&&(ce[be]={id:be,name:ge.appName})}),pe!=null&&pe.length&&pe.forEach(ge=>{const be=ge==null?void 0:ge.appId;be&&!ce[be]&&(ce[be]={id:be,name:ge==null?void 0:ge.appName})}),ne!=null&&ne.length&&ne.forEach(ge=>{const be=ge.appId;be&&!ce[be]&&(ce[be]={id:be,name:ge.appName})}),this.filterShortcuts(de,Object.values(ce),!1,q)}filterShortcuts(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.a;return ie.reduce((q,ce)=>{if(Object(s.e)(ce)||this.shouldFilterItem(ce,ne))return q;if(!this.query&&this.allowEmptyQuery)return q.push({item:ce,score:0,id:ce.id}),q;const{score:ge,scoreDetails:be,bestNameMatch:Q,bestNameIsExactMatch:re}=this.scoreShortcut(ce,pe),z={item:ce,id:ce.id,score:ge};if(pe){z.firstWordOfRawQuery=Object(R.a)(this.query);const Y=Object(L.a)(ce,Object(R.b)(z.firstWordOfRawQuery),{allowPartialMatches:!1});z.commandMatch=Y&&this.isOpenedWithSlash,z.isExactMatch=z.commandMatch}return z.scoreDetails=be,z.bestNameMatch=Q,z.bestNameIsExactMatch=re,z.isExactMatch=z.isExactMatch||re,(ge<=this.fuzzyLimit||z.commandMatch)&&q.push(z),q},[])}scoreShortcut(de){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ne=this.isQueryExactlySlash?[]:de.aliases||[];let q=Object(A.a)(Object(U.g)(de));const ce={name:pe.score(q),label:pe.normalizeAndScore(de.label),desc:pe.normalizeAndScore(Object(U.f)(de)),app_name:pe.normalizeAndScore(Object(U.d)(de))};ie&&ce.name!==void 0&&ce.name>0&&(ce.name-=1);let ge,be,Q;ne.forEach(ve=>{let Z=Object(A.a)(ve);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(Z=Object(X.a)(Z));const $=pe.score(Z);Z=Object(X.a)(Z),!Q&&(ge===void 0||$<ge)&&(ge=$,be=Z),this.normalizedQuery===Z&&(Q=!0,be=Z)}),ge!==void 0&&isFinite(ge)&&(ce.aliases=ge);var re;const z=(re=Object(M.a)(Object.values(ce)))!==null&&re!==void 0?re:1/0;q=Object(X.a)(q),!Q&&isFinite(ce.name)&&(ge===void 0||ce.name<ge)&&(be=q),this.normalizedQuery===q&&(Q=!0,be=q);const Y=Object.entries(ce).reduce((ve,Z)=>{let[$,te]=Z;return isFinite(te)&&(ve[$]=te),ve},{});return{score:z,scoreDetails:Y,bestNameMatch:be,bestNameIsExactMatch:Q}}filterWorkflowTriggers(de,ie){return ie.reduce((pe,ne)=>{if(!this.query&&this.allowEmptyQuery)return pe.push({item:ne,score:0,id:ne.id}),pe;const q=this.scoreWorkflowTrigger(ne),ce={item:ne,score:q,id:ne.id};return this.preferExactMatch&&(ce.isExactMatch=this.isTriggerExactMatch(ne)),q<=this.fuzzyLimit&&pe.push(ce),pe},[])}scoreWorkflowTrigger(de){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;var pe;const ne={name:ie.normalizeAndScore(de.name),description:ie.normalizeAndScore(de.description),appName:ie.normalizeAndScore((pe=de.workflow.app)===null||pe===void 0?void 0:pe.name)};var q;return(q=Object(M.a)(Object.values(ne)))!==null&&q!==void 0?q:1/0}filterBroadcastKeywords(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.scoreBroadcastKeyword(q),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isBroadcastKeywordExactMatch(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}scoreBroadcastKeyword(de){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,pe=1/0,ne=1/0;const q=ie.normalizeAndScore(de.name);return de.id==="BKchannel"&&(pe=ie.normalizeAndScore("group")),de.ms_name!==de.name&&(ne=ie.normalizeAndScore(de.ms_name)),Math.min(q,ne,pe)}filterEmoji(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;const ne=[];return ie.forEach(q=>{if(this.shouldFilterItem(q,pe))return;if(!this.query&&this.allowEmptyQuery){var ce;ne.push({item:q,emojiScore:0,emojiMatchIndices:[],score:0,id:(ce=q.id)!==null&&ce!==void 0?ce:q.name});return}var ge;const be=(ge=c(q))!==null&&ge!==void 0?ge:[];let Q=1/0,re,z,Y,ve,Z,$;be.forEach(_e=>{let{name:je,displayName:Ue}=_e;if(je){const Ke=Object(A.a)(je),ke=this.scoreEmojiName(Ke);(ke.score<Q||Q===1/0)&&(Q=ke.score,re=ke.matchIndices,z=je,Y=je,Z=ke.queryLengthRatio,$=ke.totalComboBreaks,ve=this.query===Ke||je==="ok_hand"&&this.query==="ok")}if(Ue&&Ue!==je){const Ke=Object(A.a)(Ue),ke=this.scoreEmojiName(Ke);(ke.score<Q||Q===1/0)&&(Q=ke.score,re=ke.matchIndices,z=Ue,Y=je,Z=ke.queryLengthRatio,$=ke.totalComboBreaks,ve=this.query===Ke)}});const te=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,J=q.keywords,k=!!(J&&J.length&&Array.isArray(J));J&&J.length&&!Array.isArray(J)&&Object(v.a)({state:de}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${q.name} is not an array - ${q.keywords}`);let ae=!1;if(Q===1/0&&te&&k&&(ae=q.keywords.some(_e=>this.matcher.normalizeAndScore(_e)<1/0),ae&&(z=q&&(q.displayName||q.name))),Q!==1/0||ae){const _e=Object(D.a)(be,Ke=>{let{name:ke}=Ke;return ke===Y}),je=_e&&_e.displayName;var Ee;const Ue={item:q,score:Q,emojiScore:Q,emojiBestNameMatch:z,emojiBestNameMatchCanonical:Y,emojiBestNameMatchLocalized:je,emojiMatchIndices:re,emojiQueryLengthRatio:Z,emojiTotalComboBreaks:$,id:(Ee=q.id)!==null&&Ee!==void 0?Ee:q.name};this.preferExactMatch&&(Ue.isExactMatch=ve,Ue.isEmojiExactMatch=ve),ne.push(Ue)}}),ne}scoreEmojiName(de){const ie={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!de)return ie;if(de==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(S[this.query]&&S[this.query].indexOf(de)!==-1)return ie;const pe=this.query.length,ne=[];let q=2,ce=5;pe<3?(q=0,ce=0):pe===3?(q=1,ce=1):pe===4&&(q=1);let ge=1/0,be=0,Q=null,re=de.indexOf(this.query);if(re===-1&&(re=de.indexOf(this.query[0])),re!==-1){const z=/\s+/g,Y=/[-]+/g,ve=this.query.replace(z,"").replace(Y,"_"),Z=de.replace(Y,"_"),$=ve.split("");Q=0;let te=0,J=0,k=!0;for(let ae=re;ae<Z.length;ae++){if(Z[ae]===$[0]){if(k=!0,ne.push(ae),$.shift(),J>te&&(te=J),J=0,$.length===0)break}else k&&(Q+=1),k=!1,J+=1;if(Q>q)return{score:ge,matchIndices:ne,queryLengthRatio:be,totalComboBreaks:Q};if(J>ce)return{score:ge,matchIndices:ne,queryLengthRatio:be,totalComboBreaks:Q}}if($.length>0)return ie;be=ve.length/Z.length,ge=1-be,Q>0&&(ge+=Q)}return{score:ge,matchIndices:ne,queryLengthRatio:be,totalComboBreaks:Q}}filterFiles(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;const ne=Object(ee.p)(de),q=Object(me.i)(de),ce=Object(G.s)(de,q),ge=Object(Oe.a)(de),be=ce&&Object(p.K)(ce),Q=!ge&&!be;return ie.reduce((re,z)=>{var Y,ve;if(Object(s.e)(z))return re;const Z=(Y=this.options)===null||Y===void 0||(ve=Y.entities)===null||ve===void 0?void 0:ve.files,$=!!(Z!=null&&Z.includeChannelCanvases)||!!(Z!=null&&Z.onlyChannelCanvases);if(z&&Object(w.h)(z)&&!$)return re;const te=z&&Object(w.vb)(z,de),J=z==null?void 0:z.user_team,k=J?Object(G.s)(de,J):null;var ae;const _e=((ae=Object(p.k)(k??void 0))!==null&&ae!==void 0?ae:J)!==q;if(te&&(_e||Q)||z&&ne&&(Z!=null&&Z.onlyChannelCanvases||Q)&&Object(w.u)(z)||this.shouldFilterItem(z,pe))return re;if(!this.query&&this.allowEmptyQuery)return re.push({item:z,score:0,id:z.id}),re;const je=this.scoreFile(de,z),Ue={item:z,score:je,id:z.id};return this.preferExactMatch&&(Ue.isExactMatch=this.isFileExactMatch(z)),je<=this.fuzzyLimit&&re.push(Ue),re},[])}scoreFile(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const ne=ie.name?pe.normalizeAndScore(ie.name):1/0,q=ie.title&&ie.name!==ie.title?pe.normalizeAndScore(ie.title):1/0,ce=ie.external_url?pe.normalizeAndScore(ie.external_url):1/0;let ge=1/0;if(Object(w.h)(ie)){const be=Object(se.a)(ie),Q=Object(x.d)(de,be);if(Q){const re=Object(A.a)(Object(l.t)(de,Q,{publicChannelIncludeHashSign:!1}));ge=this.matcher.score(re)}}return Math.min(ne,q,ce,ge)}filterLinks(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(!q.id||Object(s.e)(q)||this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.scoreLink(q),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isLinkExactMatch(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}scoreLink(de){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const pe=Object(E.f)(de),ne=Object(E.g)(de)?Object(E.e)(de):void 0,q=Object(E.g)(de)?Object(E.d)(de):void 0,ce=pe?ie.normalizeAndScore(pe):1/0,ge=ne?ie.normalizeAndScore(ne):1/0,be=q?ie.normalizeAndScore(q):1/0;return Math.min(ce,ge,be)}filterLists(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.scoreList(q),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isListExactMatch(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}scoreList(de){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(de.title)}filterListRecords(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe)||!q.name||!q.listTitle)return ne;if(!this.query&&this.allowEmptyQuery)return ne.push({item:q,score:0,id:q.id}),ne;const ce=this.scoreListRecord(q),ge={item:q,score:ce,id:q.id};return this.preferExactMatch&&(ge.isExactMatch=this.isListRecordExactMatch(q)),ce<=this.fuzzyLimit&&ne.push(ge),ne},[])}scoreListRecord(de){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore(de.name)}filterChannelSections(de,ie){let pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.a;return ie.reduce((ne,q)=>{if(this.shouldFilterItem(q,pe))return ne;const ce=Object(T.b)(q,de),ge=this.matcher.normalizeAndScore(ce),be={item:q,score:ge,id:q.id};return!this.query&&this.allowEmptyQuery?(ne.push(be),ne):(ge<=this.fuzzyLimit&&ne.push(be),ne)},[])}shouldFilterItem(de,ie){return ie(de)===!1||this.filter(de)===!1}getMemberExactMatchDetails(de){const ie={},pe=Object(O.f)(de),ne=Object(O.d)(de);return ie.real_name=pe===this.query,ie.display_name=ne===this.query,this.shouldMatchEmail&&(ie.email=Object(O.a)(de)===this.query),ie}isMemberExactMatch(de){return!this.query||!this.query.length?!1:Object(y.a)(this.getMemberExactMatchDetails(de),Boolean)}isChannelExactMatchPreNormalized(de){return!this.query||!this.query.length?!1:de===this.query}isFileExactMatch(de){if(!this.query||!this.query.length)return!1;var ie;return Object(A.a)(de.name)===this.query||Object(A.a)(de.title)===this.query||Object(A.a)((ie=de.external_url)!==null&&ie!==void 0?ie:void 0)===this.query}isLinkExactMatch(de){if(!this.query||!this.query.length)return!1;const ie=Object(E.f)(de),pe=Object(E.g)(de)?Object(E.e)(de):void 0;return Object(A.a)(ie)===this.query||Object(A.a)(pe)===this.query}isListExactMatch(de){return!this.query||!this.query.length?!1:Object(A.a)(de.title)===this.query}isListRecordExactMatch(de){return!this.query||!this.query.length?!1:Object(A.a)(de.name)===this.query}isTeamExactMatch(de){return!this.query||!this.query.length?!1:Object(A.a)(Object(p.h)(de))===this.query}isUsergroupExactMatch(de){return!this.query||!this.query.length?!1:Object(A.a)(Object(b.g)(de))===this.query||Object(A.a)(Object(b.i)(de))===this.query}isTriggerExactMatch(de){return!this.query||!this.query.length?!1:Object(A.a)(de.name)===this.query}isBroadcastKeywordExactMatch(de){return!this.query||!this.query.length?!1:Object(A.a)(de.name)===this.query||Object(A.a)(de.ms_name)===this.query}isViewOrModalExact(de){return!this.query||!this.query.length?!1:Object(A.a)(de.name)===this.query}filterHelpArticles(de,ie){const ne=ie.reduce((q,ce)=>{const ge=Object(A.a)(ce.title),be=this.substringMatcher.normalizeAndScore(ce.title);return be>this.fuzzyLimit?q:q.concat({item:{...ce,id:String(ce.id)},score:be,isExactMatch:ge===this.query,id:String(ce.id)})},[]).sort((q,ce)=>q.score-ce.score);return ne.slice(0,Math.min(5,ne.length))}filterSalesListViews(de,ie){return ie.reduce((ne,q)=>{const ce=q.label;if(!ce)return ne;const ge=Object(A.a)(ce),be=this.substringMatcher.normalizeAndScore(ge);return be>this.fuzzyLimit?ne:ne.concat({item:{id:q.id,name:ce},score:be,isExactMatch:ge===this.query,id:q.id})},[])}constructor({query:de="",options:ie={entities:{}}}){var pe,ne,q,ce,ge,be,Q,re,z,Y,ve,Z,$;this.options=ie,this.query=Object(A.a)(de);var te;this.fuzzyLimit=(te=this.options.fuzzyLimit)!==null&&te!==void 0?te:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((pe=this.options)===null||pe===void 0||(ne=pe.sort)===null||ne===void 0)&&ne.avoidExactMatchForMembers),this.selfFirst=!!(!((q=this.options)===null||q===void 0||(ce=q.sort)===null||ce===void 0)&&ce.selfFirst),this.filter=this.options.filter||_.a,this.shouldMatchEmail=Object(N.a)(this.options,"entities.members.matchEmailField")||Object(N.a)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=Object(I.a)(de),this.normalizedQuery=this.query,!((ge=this.options)===null||ge===void 0||(be=ge.entities)===null||be===void 0||(Q=be.shortcuts)===null||Q===void 0)&&Q.queryStartsWithSlash&&(this.query=Object(R.b)(this.query)),this.matcher=new B.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK}),this.forwardOnlyMatcher=new B.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly}),this.substringMatcher=new B.b(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((re=this.options)===null||re===void 0||(z=re.entities)===null||z===void 0||(Y=z.shortcuts)===null||Y===void 0)&&Y.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((ve=this.options)===null||ve===void 0||(Z=ve.entities)===null||Z===void 0||($=Z.shortcuts)===null||$===void 0)&&$.isQueryExactlySlash)}},"SearcherMatcher")},Byhf:function(H,n,e){"use strict";e.d(n,"a",function(){return A});var s=e("SQ0V"),t=e("n3tL"),a=e("UIhb"),r=e("E3dU"),l=e("F294"),o=e("Wn1n"),i=e("4hjS"),u=e("GlHf"),d=e("04K9"),m=e("Q7We"),c=e("RV0M"),E=e("G5NC"),f=e("xcHN");const O=Object(s.c)("Checks if the message is in an active view before doing the animation",function(I,_){let{channelId:M,ts:y,threadTs:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments.length>3?arguments[3]:void 0;const D=_(),{shouldUseNavigate:N,getViewSet:B}=C(c.a),L=!Object(E.a)()||Object(i.o)(D),R=Object(u.m)(D)&&L,U=Object(i.d)(D);let W=Object(i.l)(D),x=Object(o.a)(D);if(N){var G;const{primary:se,secondary:ee}=(G=B(D))!==null&&G!==void 0?G:{};x=se==null?void 0:se.id,W=ee==null?void 0:ee.id}const w=h(()=>I(Object(d.a)({channelId:M,ts:y})),"doAnimation");if(R){if(j&&(W==="convo"||W==="thread")&&Object(l.a)(U)===Object(f.c)(M,j)){w();return}if(x===M){w();return}}I(Object(m.a)({channelId:M,ts:y,threadTs:j}))});O.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};var p=O,b=e("hcyO"),T=e("2Zgd"),v=e("lmdu"),S=e("s4P+");const A=Object(s.c)("Delete a message by channel ID and timestamp",function(I,_){let{deleted_ts:M,channel:y,_from_evt_log:j,previous_message:C}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var D;const N=_(),B=Object(S.a)({state:N});if(!M){B.error("Error in messageDeleted: no deleted_ts");return}const L=Object(r.B)(N,y)&&Object(r.d)(N,y);if(!L){B.error(`Unknown channelId: ${y}`);return}if((D=Object(v.a)(N,{channelId:y,ts:M}))===null||D===void 0?void 0:D.isDeleting)return;Object(T.b)(L,{deleted_ts:M});const U=!1,x=Object(a.b)(N,y,M,U)||C;I(x?p({channelId:y,ts:M,threadTs:x.thread_ts,fromEvtLog:j}):Object(m.a)({channelId:y,ts:M})),I(Object(b.a)({channelId:y,ts:M}))});A.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"},A.propTypes={deletedTs:t.default.string,channelId:t.default.string,fromEvtLog:t.default.bool}},Bz4R:function(H,n,e){"use strict";var s=e("CpTu"),t=e("ZKjC"),a=e("xwCZ"),r=e("aLx5"),l=e("GHHW");const o=Object(t.b)((i,u)=>{const d=Object(a.g)(i,u),{status_text_canonical:m}=d.profile;if(m){let c;const E=Object(r.a)(i);return E&&(c=(Object(s.a)(E,f=>f.canonical===m)||{}).text||null),m.toLowerCase()==="on a call"&&(c=a.p.t("On a call")),c||d.profile.status_text||""}return Object(l.a)(i,d)?a.p.t("In a huddle"):d.profile.status_text||""});o.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(i,u)=>{const d=Object(a.g)(i,u),{status_text_canonical:m}=d.profile;if(m){let c;const E=Object(r.a)(i);return E&&(c=(Object(s.a)(E,f=>f.canonical===m)||{}).text||null),m.toLowerCase()==="on a call"&&(c=a.p.t("On a call")),c||d.profile.status_text||""}return Object(l.a)(i,d)?a.p.t("In a huddle"):d.profile.status_text||""}},n.a=o},C0ks:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("8z+9");const t=h(a=>{switch(a.type){case s.a.MESSAGE:var r;return{type:a.type,channel:a.channel,ts:(r=a.message)===null||r===void 0?void 0:r.ts};case s.a.FILE:var l,o;return{type:a.type,id:a.file?a.file.id:(l=a.files)===null||l===void 0||(o=l[0])===null||o===void 0?void 0:o.id};case s.a.FILE_COMMENT:var i;return{type:a.type,id:a.comment.id,fileId:(i=a.file)===null||i===void 0?void 0:i.id};default:return{}}},"formatPinFromAPI")},C3NW:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("eBdR"),a=e("kZhr");const r=Object(s.c)("Sets a new ID for the query session",l=>{l(Object(t.a)({windowId:a.a}))});r.meta={name:"createThunk",key:"createThunkendQuerySession",description:"Sets a new ID for the query session"}},C9cw:function(H,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"d",function(){return t}),e.d(n,"k",function(){return a}),e.d(n,"g",function(){return r}),e.d(n,"i",function(){return l}),e.d(n,"j",function(){return o}),e.d(n,"h",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"a",function(){return d}),e.d(n,"b",function(){return m}),e.d(n,"f",function(){return c});const s=10*1e3,t=1e3,a=1e3,r="2.3",l=450*450,o=25,i=15,u="huddles_perf",d="app_metrics",m="client_metrics",c=5},CD4m:function(H,n,e){"use strict";var s=e("gv7z"),t=e("MC67");e.d(n,"c",function(){return t.a});var a=e("1EwG");e.d(n,"b",function(){return a.a});var r=e("iXLD");e.d(n,"a",function(){return r.a}),n.d=s.a},CDqL:function(H,n,e){"use strict";var s=e("A1dN"),t=e("Lgge"),a=e("SQ0V"),r=e("LZPg"),l=e("lhZz"),o=e("GNR7"),i=e("XM5t"),u=e("ktUG"),d=e("5IZy"),m=e("3vtZ");const c=Object(a.c)("Notify members to join huddle",(E,f,O)=>{let{channelId:p,userIds:b}=O;const T=[];if(b&&b.length>0){b.forEach(y=>{E(Object(r.b)({userId:y})),T.push(E(Object(s.d)({userId:y,channelId:p,reason:"huddle-notify-member"})))});const v=Object(l.getStateForClientStore)(),S=f(),A=Object(o.a)(S,p),I=Object(m.l)(S,{huddleId:A==null?void 0:A.id}),_=Object(m.k)(v),M=Object(m.j)(v);Object(d.a)({state:S}).track(u.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:i.a.INVITATION_SENT},action:u.UiAction.INVITE_PEOPLE},calls:M},invited_user_ids:b,...I,..._})}return t.a.all(T).then(v=>v)});c.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"},n.a=c},CFdI:function(H,n,e){H.exports=e.p+"template_card_help-97d17c4.png"},CJqd:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const l=Object(t.c)("Set the user-specified sidebar width and mode",(o,i,u)=>{let{inspectorWidthIntent:d,inspectorWidthMode:m}=u;Object(r.w)(s.l,d),Object(r.w)(s.m,m),o(Object(a.a)({inspectorWidthIntent:d,inspectorWidthMode:m}))});l.meta={name:"createThunk",key:"createThunksetInspectorColumn",description:"Set the user-specified sidebar width and mode"}},"CMT/":function(H,n,e){"use strict";e.d(n,"a",function(){return S});var s=e("Lgge"),t=e("fujP"),a=e("BeL+"),r=e("SQ0V"),l=e("9Gfp"),o=e("Yauy"),i=e("Sl1j"),u=e("ohbk"),d=e("37+L"),m=e("E3dU"),c=e("G0eX"),E=e("beVI"),f=e("Fqb6"),O=e("RV0M"),p=e("I0j/"),b=e("NV6F"),T=e("Oeqe"),v=e("O9Jz");const S=Object(r.c)("Create or open an MPIM",function(A,I){let{memberIds:_,shouldNavigateToChannel:M=!0,isQuiet:y=!1,shouldOpenInTile:j=!1,reason:C="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3?arguments[3]:void 0;if(Object(t.a)(_))return s.a.resolve();const{shouldUseNavigate:N}=D(O.a),B=I(),L=h(W=>{if(N)return A(Object(p.a)(Object(d.i)(W.id))),s.a.resolve(W);let x;return j?x=A(Object(v.a)({viewId:W.id})):Object(l.h)(B)?x=A(Object(u.a)({id:W.id})):x=A(Object(b.r)({permalink:Object(c.v)(Object(E.g)(B),Object(T.a)({channelId:W.id}))})),x.then(()=>W)},"navigateToChannel");let R,U;if(_.length===1)U=_,R=Object(m.m)(B,_[0]);else{const W=Object(l.a)(B);U=Object(a.a)([W,..._]),R=Object(m.q)(B,U)}return Object(o.jb)(R)?M?L(R):s.a.resolve(R):A(Object(i.r)({isQuiet:y,memberIds:U,reason:C})).then(W=>!W||!W.channel?s.a.reject(new Error("missing-channel")):(A(Object(f.a)({channel:W.channel})),M?L(W.channel):s.a.resolve(W.channel)))});S.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},"COk/":function(H,n,e){H.exports=e.p+"template_screenshot_crowdsource_ideas-8806de3.png"},"CQj+":function(H,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("lhZz"),t=e("Z0Cl"),a=e("Lgge"),r=e("SQ0V"),l=e("s4P+"),o=e("vdXo"),i=e("zwKj"),u=e("TGfC");const d=Object(r.c)("Fetch multiple app profiles by combined IDs",(E,f,O)=>{const p=Object(l.a)({getState:f});return a.a.all(O.map(b=>{const{serviceId:T,homeWorkspaceId:v}=Object(u.b)(b);return T?E(Object(o.b)({serviceId:T,homeWorkspaceId:v})).then(S=>({...Object(i.a)(T,S),id:b})).catch(S=>(p.warn(S,`Error while fetching profile ${b}`),null)):a.a.resolve(null)})).then(t.a)});d.meta={name:"createThunk",key:"createThunkfetchAppProfiles",description:"Fetch multiple app profiles by combined IDs"};var m=d;function c(E,f){return Object(s.dispatchForTeamId)(E,m(f))}h(c,"fetchAppProfilesForTeamId")},Cbpi:function(H,n,e){"use strict";var s=e("Lgge"),t=e("yIs4"),a=e("CpTu"),r=e("uXhx"),l=e("oTSI"),o=e("UXvI"),i=e("SQ0V"),u=e("lhZz"),d=e("9Gfp"),m=e("O86Y"),c=e("ZAxE"),E=e("J/RB"),f=e("E3dU"),O=e("cBLH"),p=e("E97Y"),b=e("+nBv"),T=e("xcHN"),v=e("Jhy3"),S=e("pOIg"),A=e("zADO"),I=e("s4P+"),_=e("n0Pp");const M=1e3,y=h((B,L,R)=>{if(L==="Vall_threads")return Object(u.dispatchForTeamId)(B,Object(S.e)()),s.a.resolve();const U=!1,W=Object(f.d)(Object(u.getStateByTeamId)(B),L,U);if(!W)return s.a.resolve();if(R)return j(B,L,R);const x=Object(p.d)(W);return Object(u.dispatchForTeamId)(B,Object(c.b)({channelId:L,type:x,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:G,hasMore:w,isLimited:se,pinCount:ee,deleted:X}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const me=Object(u.getStateByTeamId)(B);Object(_.h)(me)&&!Object(A.b)(me,L)&&!Object(A.b)(me,Object(d.a)(me))||(Object(u.dispatchForTeamId)(B,Object(O.e)({channelId:L})),Object(u.dispatchForTeamId)(B,Object(E.a)({msgs:G,channelId:L,isLimited:se,pinCount:ee,hasMore:{hasMoreStart:w,hasMoreEnd:!1},oldest:null,latest:null,deleted:X})),Object(t.a)(ee)&&Object(u.dispatchForTeamId)(B,Object(b.a)({channelId:L,count:ee})))}).catch(G=>{Object(I.a)({state:Object(u.getStateByTeamId)(B)}).error(`Failed to fetch offline history for ${L}: ${G}`)})},"fetchOfflineHistory");function j(B,L,R){const U=Object(T.c)(L,R);return Object(u.dispatchForTeamId)(B,Object(c.e)({channelId:L,threadTs:R,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:W,deleted:x,hasMore:G}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const w=Object(u.getStateByTeamId)(B);if(Object(_.h)(w)&&!Object(A.b)(w,L)&&!Object(A.b)(w,Object(d.a)(w)))return;let se=W;const ee=Object(a.a)(W,{ts:R});G&&(se=Object(r.a)(W,{ts:R})),Object(u.dispatchForTeamId)(B,Object(O.e)({channelId:U})),Object(u.dispatchForTeamId)(B,Object(E.a)({msgs:se,channelId:U,hasMore:{hasMoreStart:G,hasMoreEnd:!1},oldest:null,latest:null,deleted:x})),ee&&Object(u.dispatchForTeamId)(B,Object(v.a)([ee]))})}h(j,"fetchOfflineHistoryForThread");const C=(()=>{const B=Object(l.a)(()=>Object(o.a)(y,M),function(){for(var L=arguments.length,R=new Array(L),U=0;U<L;U++)R[U]=arguments[U];return JSON.stringify(R)});return function(){for(var L=arguments.length,R=new Array(L),U=0;U<L;U++)R[U]=arguments[U];return B(...R)(...R)}})(),D=Object(i.c)("Request offline history",function(B,L){let{channelId:R,threadTs:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return C(Object(m.g)(L()),R,U)});D.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},D.propTypes={},n.a=D;const N={fetchOfflineHistory:y,fetchOfflineHistoryForThread:j}},Ccc1:function(H,n,e){"use strict";e.d(n,"b",function(){return S});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("E3dU"),o=e("ISSR"),i=e("E97Y"),u=e("s4P+"),d=e("fi3B"),m=e("sGXp"),c=e("fZDj"),E=e("QpNZ"),f=e("MUi8"),O=e("9WS/"),p=e("djjd"),b=e("rZ8V"),T=e("fMsH");function v(){return v=Object.assign||function(j){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(j[N]=D[N])}return j},v.apply(this,arguments)}h(v,"_extends");function S(j){return!Object(i.g)(j)&&!Object(i.i)(j)}h(S,"shouldUseInlineChannelEntity");const A="INLINE-CHANNEL-ENTITY";function I(j){let{className:C,channel:D,bestFormerName:N,displayFormerNames:B=m.e.false,logger:L,boldIcon:R=!1,showTeam:U=!0,truncate:W=!1,truncateWidth:x,overrideHiddenName:G,overrideHiddenIcon:w,withTruncationTooltip:se,channelNameClassName:ee,omitNonExistentTooltip:X,channelHasNonUniqueName:me=!1,showDisambiguatingTeamName:Oe=!1}=j;const Ce=Object(i.q)(D),le=Object(i.j)(D||null),de=Object(s.useCallback)(be=>{let{className:Q,...re}=be;return(!le||w)&&t.a.createElement(E.a,v({},re,{bold:R,className:Q,channel:D,overrideHiddenIcon:w}))},[D,R,le,w]);if(!S(D||null))return L==null||L.warn(A,"InlineChannelEntity should not display IMs or MPIMs ... YET"),null;const ie=Object(r.default)(C,"c-inline_channel_entity"),pe=Object(o.a)(D)?m.d.dim:void 0,ne=D&&G?{...D,name:G}:D||void 0,q=Object(r.default)(ee,"c-inline_channel_entity__content"),ce=me&&Oe,ge=(Ce||le)&&!G?t.a.createElement(c.a,{"data-qa":"inline_channel_entity__missing",type:Ce?"unknown":"non-existent",size:"small",width:x,omitNonExistentTooltip:X}):t.a.createElement("span",{className:q},t.a.createElement(O.a,{bold:R,channel:ne,bestFormerName:N,displayFormerNames:B,showTeam:U,showTeamForLocalChannel:ce,width:x,"data-qa":"inline_channel_entity__name",overrideHiddenName:G}));return t.a.createElement(d.a,{avatar:de,className:ie,"data-qa":"inline_channel_entity","data-channel-id":D&&D.id,style:pe,truncate:W,truncateWidth:x,withTruncationTooltip:se,primaryContent:ge,secondaryContent:x&&t.a.createElement(t.a.Fragment,null,U&&t.a.createElement(f.a,{className:"c-inline_channel_entity__team",iconSize:14,channel:ne,"data-qa":"inline_channel_entity__team"}))})}h(I,"InlineChannelEntity"),I.displayName="InlineChannelEntity";function _(j){return Object.prototype.hasOwnProperty.call(j,"channel")}h(_,"propsContainsChannel");function M(j,C){const D=_(C)?C.channel:Object(l.d)(j,C.channelId);let N;return C.showDisambiguatingTeamName&&Object(b.o)(j)&&(N=Object(p.a)(Object(l.a)(j),D)),{channel:D,channelHasNonUniqueName:N,logger:Object(u.a)({state:j})}}h(M,"mapStateToProps");var y=n.a=Object(a.a)(M)(I)},Cudo:function(H,n,e){"use strict";e.d(n,"a",function(){return X}),e.d(n,"d",function(){return le}),e.d(n,"f",function(){return ie}),e.d(n,"b",function(){return pe}),e.d(n,"c",function(){return ne}),e.d(n,"i",function(){return q}),e.d(n,"e",function(){return ce}),e.d(n,"g",function(){return Q}),e.d(n,"h",function(){return re});var s=e("AFNo"),t=e("DwFS"),a=e("G4qV"),r=e("LZPg"),l=e("S4nM"),o=e("3REw"),i=e("ipyK"),u=e("1myf"),d=e("Z0Cl"),m=e("Muja"),c=e("3Hq1"),E=e("Fsnq"),f=e("CpTu"),O=e("KciV"),p=e("dqxO"),b=e("d3B0"),T=e("9oTK"),v=e("SQ0V"),S=e("SZMM"),A=e("pJ2S"),I=e("jUSB");const _=Object(t.a)("Start connecting to the media server");_.meta={name:"createAction",key:"createActionconnectToMediaServer",description:"Start connecting to the media server"};const M=Object(t.a)("Leave the room and stop media transmission");M.meta={name:"createAction",key:"createActiondisconnectFromMediaServer",description:"Leave the room and stop media transmission"};const y=Object(v.c)("Transition the UI to a terminal state and handle all teardown activities",(z,Y,ve)=>{z(Object(l.j)()),z(Object(l.i)()),z(Object(l.k)({terminalState:ve})),z(M()),Object(I.e)(A.n,{logFailure:!1}),z(Object(r.nb)())});y.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Transition the UI to a terminal state and handle all teardown activities"};var j=e("syB0"),C=e("T1zM"),D=e("JoR1"),N=e("n9FT"),B=e("Ufq/");const L=.005,R=.02;let U=!1;function W(){return U}h(W,"isClosingWindow");let x=!1;function G(z,Y){z(Object(C.f)({pref:"calls_survey_last_seen",value:Y}))}h(G,"setCallsLastSeenSurvey");function w(z,Y){const ve=new Date().toISOString(),Z=Object(l.e)(z);if(!Z)return!1;const $=Object(D.f)(z),te=new Date(ve).getTime()-new Date($).getTime();return Z&&Z.surveyInterval&&te<Z.surveyInterval?!1:(z.activeCall.hasVideoBeenEnabled||z.activeCall.hasScreenshareBeenEnabled)&&Z&&Z.surveyVideoSample&&Math.random()<Z.surveyVideoSample||Z&&Z.surveyAudioSample&&Math.random()<Z.surveyAudioSample?(G(Y,ve),!0):!1}h(w,"dynamicallyShowSurvey");function se(z,Y){return Object(B.h)(z)?w(z,Y):x||!Object(l.a)(z)?!1:Math.random()<(z.activeCall.hasVideoBeenEnabled||z.activeCall.hasScreenshareBeenEnabled?R:L)}h(se,"shouldShowSurvey");const ee=Object(v.c)("Close the window and leave the call",function(){var z=Object(T.coroutine)(function*(Y,ve){if(U=!0,Y(Object(l.f)()),Y(Object(l.b)()),Y(Object(N.a)()),se(ve(),Y)){x=!0,Y(y(o.n.ShowSurvey));return}Object(S.c)()?(Y(Object(r.nb)()),Object(O.c)("CALL-WINDOW").info("dispatching disconnect"),yield Y(M()),Object(j.a)(()=>{Object(O.c)("CALL-WINDOW").info("Closing call window (deferred)"),window.close()})):Y(y(o.n.UserEndedOrphanedCall))});return function(Y,ve){return z.apply(this,arguments)}}());ee.meta={name:"createThunk",key:"createThunkcloseWindow",description:"Close the window and leave the call"};var X;(function(z){z.Connecting="connecting",z.NoConnection="noConnection",z.NoUserAudioDevice="noUserAudioDevice",z.NoUserVideoDevice="noUserVideoDevice",z.NoSystemAudio="noSystemAudio",z.NoSystemVideo="noSystemVideo",z.NoSystemScreenShare="noSystemScreenShare",z.RemotePeerMuted="remotePeerMuted",z.PeerMuteRequest="peerMuteRequest",z.RemotePeerSlowConnection="remotePeerSlowConnection",z.DisplayDisconnected="displayDisconnected",z.UpdateSlack="updateSlack",z.ScreenShareFreeTeam="screenShareFreeTeam",z.NoGroupCallsForFreeTeam="noGroupCallsForFreeTeam",z.NoUserVideoStream="noUserVideoStream",z.NoUserAudioStream="noUserAudioStream",z.SlowNetwork="slowNetwork",z.NoAudioOutputAudioElementError="noAudioOutputAudioElementError",z.NoAudioOutputAudioLevelError="noAudioOutputAudioLevelError",z.NoOrLowInputAudioLevelError="noOrLowInputAudioLevelError",z.SpeakingWhenMuted="SpeakingWhenMuted",z.ScreenShareError="screenShareError",z.SSNotFoundError="ScreenShareNotFoundError",z.SSNotReadableError="ScreenShareNotReadableError",z.NoiseSuppressionCPUThrottled="NoiseSuppressionCPUThrottled",z.NoBrowserAudioPermission="NoBrowserAudioPermission",z.NoBrowserVideoPermission="NoBrowserVideoPermission",z.AudioInputTrackMuted="AudioInputTrackMuted",z.HiddenUserJoinedHuddle="HiddenUserJoinedHuddle",z.AudioOnlyModeRecommended="AudioOnlyRecommended",z.AudioOnlyModeActive="AudioOnlyModeActive"})(X||(X={}));const me=[X.RemotePeerMuted,X.SlowNetwork];function Oe(z,Y){switch(z){case X.NoConnection:return{priority:0,type:z,icon:"cloud-offline",isWarning:!0};case X.Connecting:return{priority:0,type:z,isWarning:!0};case X.NoSystemAudio:return{priority:200,type:z,dismissible:!0,isWarning:!0};case X.SpeakingWhenMuted:return{priority:200,type:z,dismissible:!0};case X.AudioInputTrackMuted:return{priority:200,type:z,dismissible:!0,isWarning:!0};case X.NoUserAudioDevice:return{priority:201,type:z,dismissible:!0,isWarning:!0};case X.NoUserAudioStream:return{priority:202,type:z,dismissible:!0,isWarning:!0};case X.NoiseSuppressionCPUThrottled:return{priority:203,type:z,dismissible:!0,isWarning:!0};case X.NoBrowserAudioPermission:return{priority:204,type:z,dismissible:!0,isWarning:!0};case X.AudioOnlyModeActive:return{priority:205,type:z,dismissible:!0,isWarning:!0};case X.AudioOnlyModeRecommended:return{priority:206,type:z,dismissible:!0,isWarning:!0};case X.NoSystemScreenShare:return{priority:300,type:z,dismissible:!0,isWarning:!0};case X.ScreenShareError:return{priority:301,type:z,dismissible:!0,isWarning:!0};case X.SSNotFoundError:return{priority:302,type:z,dismissible:!0,isWarning:!0};case X.SSNotReadableError:return{priority:303,type:z,dismissible:!0,isWarning:!0};case X.NoSystemVideo:return{priority:400,type:z,dismissible:!0,isWarning:!0};case X.NoUserVideoDevice:return{priority:401,type:z,dismissible:!0,isWarning:!0};case X.NoUserVideoStream:return{priority:402,type:z,dismissible:!0,isWarning:!0};case X.NoBrowserVideoPermission:return{priority:403,type:z,dismissible:!0,isWarning:!0};case X.ScreenShareFreeTeam:return{priority:500,type:z,dismissible:!0};case X.NoGroupCallsForFreeTeam:return{priority:500,type:z,dismissible:!0};case X.HiddenUserJoinedHuddle:return{priority:600,type:z,dismissible:!0,isWarning:!0};case X.SlowNetwork:return{priority:700,type:z,dismissible:!0,isWarning:!0,icon:"slow-network"};case X.NoAudioOutputAudioElementError:return{priority:701,type:z,dismissible:!0,isWarning:!0};case X.NoAudioOutputAudioLevelError:return{priority:701,type:z,dismissible:!0,isWarning:!0};case X.NoOrLowInputAudioLevelError:return{priority:701,type:z,dismissible:!0,isWarning:!0};case X.RemotePeerSlowConnection:return{priority:800,type:z,id:Y};case X.RemotePeerMuted:return{priority:801,type:z,id:Y,icon:"microphone-slash"};case X.PeerMuteRequest:return{priority:802,type:z,id:Y,dismissible:!0,isWarning:!0};case X.DisplayDisconnected:return{priority:900,type:z,dismissible:!0};case X.UpdateSlack:default:return{priority:1e3,type:z,dismissible:!0}}}h(Oe,"makeAlertObject");const Ce={alerts:[]};function le(z,Y,ve){if(W())return Object(O.c)("ALERTS").info(`Not adding alert '${Y}' because the window is closing`),z.alerts;const Z=Oe(Y,ve);return ve?Object(i.a)(Object(u.a)([Z,...z.alerts],["priority"]),($,te)=>$.id===te.id&&$.type===te.type):Object(i.a)(Object(u.a)([Z,...z.alerts],["priority"]),($,te)=>$.id?$.id===te.id&&$.type===te.type:$.type===te.type)}h(le,"createArrayWithNewAlert");function de(z,Y){return Object(d.a)(z.alerts,ve=>ve.type!==Y)}h(de,"filterAlertType");function ie(z,Y){return Object(d.a)(z.alerts,ve=>!Y.find(Z=>ve.type===Z))}h(ie,"filterAlertTypes");const pe=Object(t.a)("Add an alert from the alerts array");pe.meta={name:"createAction",key:"createActionaddAlert",description:"Add an alert from the alerts array"};const ne=Object(t.a)("Add an alert from the alerts array, specifying sender peer Id");ne.meta={name:"createAction",key:"createActionaddPeerAlert",description:"Add an alert from the alerts array, specifying sender peer Id"};const q=Object(t.a)("Remove an alert from the alerts array");q.meta={name:"createAction",key:"createActionremoveAlert",description:"Remove an alert from the alerts array"};const ce=h(()=>Object(s.b)({},Ce,{storeKey:"alert",persistenceEnabled:!1}).on(pe,(z,Y)=>{const ve=le(z,Y);return Object(m.a)(z.alerts,ve)?z:(Object(O.c)("ALERTS").info(`Added alert type: '${Y.toString()}'`),{alerts:ve})}).on(ne,(z,Y)=>{let{alert:ve,peerId:Z}=Y;const $=le(z,ve,Z);return Object(m.a)(z.alerts,$)?z:(Object(O.c)("ALERTS").info(`Added peer alert type: '${ve.toString()}'`),{alerts:$})}).on(q,(z,Y)=>{const ve=de(z,Y);return Object(m.a)(z.alerts,ve)?z:(Object(O.c)("ALERTS").info(`Removed alert type: '${Y.toString()}'`),{alerts:ve})}),"createDefaultAlertReducer");var be=ce().on(p.a,(z,Y)=>{let ve=z.alerts;return Object(b.h)(Y)?ve=Object(d.a)(z.alerts,Z=>Z.type!==X.NoUserAudioDevice):ve=le(z,X.NoUserAudioDevice),{alerts:ve}}).on(r.c,(z,Y)=>{let ve=z.alerts;return Y.isMicrophoneEnabled===!1&&(ve=le(z,X.RemotePeerMuted,Y.id)),Y.slowNetwork&&(ve=le(z,X.RemotePeerSlowConnection,Y.id)),{alerts:ve}}).on(r.fb,(z,Y)=>({alerts:Object(d.a)(z.alerts,Z=>Z.id!==Y)})).on(r.ob,(z,Y)=>{let ve=z.alerts;return Object(r.ab)(Y)?Object(c.a)(Y.isConnected)||(Y.isConnected?ve=de(z,X.Connecting):ve=le(z,X.Connecting,Y.id)):(Object(c.a)(Y.isMicrophoneEnabled)||(Y.isMicrophoneEnabled?ve=de(z,X.RemotePeerMuted):ve=le(z,X.RemotePeerMuted,Y.id)),Object(c.a)(Y.slowNetwork)||(Y.slowNetwork===!1?ve=de(z,X.RemotePeerSlowConnection):Y.slowNetwork&&(ve=le(z,X.RemotePeerSlowConnection,Y.id)))),{alerts:ve}});const Q=Object(s.c)(z=>z.alert.alerts);Q.meta={name:"createSelector",key:"createSelectorgetAllAlerts",description:z=>z.alert.alerts};const re=Object(a.a)(Q,r.T,l.d,(z,Y,ve)=>{let Z=z;ve===o.b.GALLERY&&(Z=Object(d.a)(z,J=>!me.includes(J.type)));let $=Z[0];return Object(E.a)(Y)>1&&($=Object(f.a)(z,J=>!J.id)),$})},Cwwo:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"e",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"d",function(){return l}),e.d(n,"f",function(){return o});const s={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},t={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},a={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class l{constructor(u){this.ok=u.ok,this.invitee=u.email,this.inviteeType=t.Email,this.accessType=u.inviteType||s.Member,this.error=u.error}}h(l,"InviteResult");function o(i){return i===s.Member||i===s.MultiChannelGuest||i===s.SingleChannelGuest}h(o,"isBaseInviteType")},D1k6:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("LK2A"),t=e("SQ0V"),a=e("IsIP"),r=e("gpLM"),l=e("HKlo");const o=Object(t.c)("Focuses the flexpane according to focusTarget",(i,u,d)=>{let{focusTarget:m,entityId:c,quipCommentThreadId:E}=d;if(m!==s.CommentFocusTarget.NONE){const f=m===s.CommentFocusTarget.THREAD_ROOT?l.c.THREAD_MESSAGE_LIST:Object(a.d)({focusKey:l.c.THREAD_MESSAGE_INPUT});i(Object(r.c)({focusKey:f,focusMetadata:{id:"thread",params:{entityId:c,commentThreadId:E}},forceFocus:!0}))}});o.meta={name:"createThunk",key:"createThunkmaybeFocusThreadsFlexpane",description:"Focuses the flexpane according to focusTarget"}},D4ee:function(H,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("SQ0V"),t=e("rZ8V"),a=e("CnKg"),r=e("E3dU"),l=e("I0j/"),o=e("37+L"),i=e("cU/a"),u=e("25cE"),d=e("u+Mq"),m=e("oUrV");const c=Object(s.c)("Open the quip doc in the flexpane",(E,f,O)=>{let{quipDocId:p,inTile:b,replaceHistoryState:T,source:v}=O;const S=f();if(Object(t.o)(S)&&p){const A=Object(a.f)(p),I=A?Object(r.f)(S,A):void 0;if(I){E(Object(l.a)(Object(o.j)(p,I,{fileId:A??p,source:v??m.a.CHANNEL_CANVAS_GENERIC_SOURCE,isChannelCanvas:!0})));return}}E(Object(i.a)({routeName:u.o,flexName:"docs",flexParams:{quipDocId:p},shouldOpenInTile:b??!1,replaceHistoryState:T})),b||E(Object(d.b)({params:{entityId:p},uiState:{reason:d.a.ShowDocFlexpane}}))});c.meta={name:"createThunk",key:"createThunkshowDocFlexpane",description:"Open the quip doc in the flexpane"}},D6Rr:function(H,n,e){"use strict";var s=e("Cfcg"),t=e("FUEd"),a=e("9Gfp"),r=e("FSos"),l=e("q1tI"),o=e.n(l),i=e("ifKl"),u=e("68qM"),d=e("Aebc");function m(){return m=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(S[_]=I[_])}return S},m.apply(this,arguments)}h(m,"_extends");const c=Object(l.memo)(S=>{let{addMemberToPresenceSubscription:A=i.a,memberId:I,removeMemberFromPresenceSubscription:_=i.a,renderDoublePresence:M=!1,firstElementExtraClassName:y="",...j}=S;return Object(u.a)(()=>(A(I),()=>_(I)),[I]),M?o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,m({},j,{className:`${j.className||""} ${y}`})),o.a.createElement(d.a,m({},j))):o.a.createElement(d.a,m({},j))});c.displayName="PresenceWithSubscriptions";var E=c,f=e("XcRx"),O=e("ivl2"),p=e("pu3F");const b=h((S,A)=>{const I=Object(t.c)(S,A.memberId),_=Object(f.a)(S,A.memberId),M=Object(O.a)(S,A.memberId),y=Object(a.a)(S)===A.memberId;return{...A,userType:_,isDnd:M,isSelf:y,isSlackbot:A.memberId===p.W,isActive:I==="active"}},"mapStateToProps"),T=h(S=>({addMemberToPresenceSubscription:A=>S(Object(r.a)({memberId:A})),removeMemberFromPresenceSubscription:A=>S(Object(r.c)({memberId:A}))}),"mapDispatchToProps");var v=n.a=Object(s.a)(b,T)(E)},DDZn:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);class a extends s.PureComponent{render(){return t.a.createElement(t.a.Fragment,null,this.props.children)}}h(a,"PassThrough"),a.displayName="PassThrough"},DNzI:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("8TXW"),t=e("KciV"),a=e("Pw5n"),r=e("Z7Ay");const l={debug:0,info:1,warn:2,error:3,action:0};class o{debug(u){if(!(this.level>s.n.DEBUG||!o.debugLogsEnabled))if(typeof u=="string"){const d=u;this.consoleLogger.debug(d)}else{const d=u();this.consoleLogger.debug(d)}}info(u){this.level>s.n.INFO||this.consoleLogger.info(u)}warn(u){this.level>s.n.WARN||this.consoleLogger.warn(u)}error(u){this.level>s.n.ERROR||this.callLogger.error(u)}setLogLevel(u){this.level=u}getLogLevel(){return this.level}getName(){return this.name}constructor(u,d){this.name=u,this.level=d||l[Object(a.e)()],this.consoleLogger=Object(t.b)(u),this.callLogger=Object(t.a)(u)}}h(o,"FreeWillyLogger"),o.debugLogsEnabled=!1,Object(r.a)("toggleChimeDebugLogs",()=>{o.debugLogsEnabled=!o.debugLogsEnabled})},DQKV:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("x91h"),r=e("wsJ+"),l=e("/qcS"),o=e("wA9Q");function i(u){let{text:d="",inputIsEscaped:m=!1,emojiSize:c=l.a.SMALL,showTooltips:E=!0,stopAnimations:f=!1,emojiDisplayInfo:O={}}=u;const p=[];let b=0;const T=m?Object(a.a)(d):d;if(T.replace(Object(r.a)(),(v,S,A)=>{if(A>b){const M=T.slice(b,A);p.push(t.a.createElement(t.a.Fragment,{key:`${A}-${M}`},M))}const{name:I=v,url:_=void 0}=Object(o.a)(v,O);return p.push(t.a.createElement(l.b,{text:I,emojiSize:c,key:`${A}-${I}`,showTooltip:E,stopAnimations:f,isEmojiInlineWithText:!0,url:_})),b=A+v.length,""}),!p.length)return t.a.createElement(t.a.Fragment,null,T);if(b<T.length){const v=T.substr(b);p.push(t.a.createElement(t.a.Fragment,{key:`last-${v}`},v))}return t.a.createElement(t.a.Fragment,null,p)}h(i,"FormatTextWithEmoji"),i.displayName="FormatTextWithEmoji",n.a=t.a.memo(i)},DS5W:function(H,n,e){"use strict";var s=e("ZKjC"),t=e("C3vN"),a=e("xwCZ"),r=e("GHHW");const l=Object(s.b)((o,i)=>{const u=Object(a.g)(o,i),{status_text_canonical:d}=u.profile;return d?Object(t.C)(u):Object(r.a)(o,u)?0:Object(t.C)(u)});l.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(o,i)=>{const u=Object(a.g)(o,i),{status_text_canonical:d}=u.profile;return d?Object(t.C)(u):Object(r.a)(o,u)?0:Object(t.C)(u)}},n.a=l},DcSV:function(H,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"e",function(){return E}),e.d(n,"a",function(){return f}),e.d(n,"c",function(){return O});var s=e("nNoG"),t=e("E3dU"),a=e("GhjL"),r=e("xwCZ"),l=e("rVFV");const o=new s.b("channel_modal"),i=new s.b("ui_validation"),u={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1,hasUnknownWarning:!1,hasRestriction:!1};function d(){return 80}h(d,"getMaxLength");const m=/[ .,;'`~!@#$%^&*+=)(\\/:"<>?|\u2018\u2019{}[\]]/;function c(p){return p?m.test(p.trim()):!1}h(c,"hasSpecialCharacters");function E(p){return p?p.replace(new RegExp(m,"g"),""):""}h(E,"replaceSpecialCharacters");function f(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:80,S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const A=!b.trim(),I=Object(l.a)(b)>v,_=c(b),M=/^[-|_]+$/.test(b),y=/[A-Z]/.test(b);let j=!1;return b!==T&&p&&!S&&(j=!!(Object(t.e)(p,b)||Object(r.s)(p,b)||Object(a.e)(p,b))),{hasNameRequiredWarning:A,hasMaxLengthWarning:I,hasSpecialsWarning:_,hasPunctuationWarning:M,hasLowercaseWarning:y,hasNameTakenWarning:j}}h(f,"channelNameValidation");function O(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxChannelNameLength:T,workspaceName:v}=b;if(p){if(p.hasNameRequiredWarning)return o.t("Give your channel a name to continue. You can always change the name later.");if(p.hasMaxLengthWarning)return i.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:T});if(p.hasSpecialsWarning||p.hasPunctuationWarning)return o.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(p.hasNameTakenWarning)return v?i.t("That name is already taken by a channel, username, or user group in {workspaceName}.",{workspaceName:v}):o.t("That name is already taken by a channel, username, or user group in this workspace.");if(p.hasRestriction)return o.t("Your organization\u2019s settings have changed and may limit who can create channels. Contact an Admin or channel Owner to add people.");if(p.hasUnknownWarning)return o.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}h(O,"getErrorStringFromChannelNameErrors")},DeaP:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("nNoG"),t=e("A+oD"),a=e("RVJP");const r=new s.b("files");function l(o,i){if(!o.is_external)return null;if(Object(a.d)(i,"file_consistency")==="treatment"){let d="File";switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":d=r.t("Google Sheet");break;case"gdoc":d=r.t("Google Doc");break;case"gpres":d=r.t("Google Slide");break;case"gdraw":d=r.t("Google Drawing");break;default:d=r.t("Google {fileType}",{fileType:o.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":d=r.t("{fileType}",{fileType:o.pretty_type});break;default:d=r.t("File")}return d}switch(o.external_type){case"gdrive":switch(o.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:o.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:o.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:o.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:o.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:o.pretty_type,appName:Object(t.a)(i,o)||""});default:return r.t("File")}}h(l,"getExternalFiletypeDescription")},DmzU:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"f",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"c",function(){return l}),e.d(n,"d",function(){return o}),e.d(n,"e",function(){return i}),e.d(n,"g",function(){return u});var s=e("DwFS");const t=Object(s.a)("Adds the new set of custom emoji to the existing store");t.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const a=Object(s.a)("Resets the array of custom emoji in the store");a.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=Object(s.a)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const l=Object(s.a)("Renames a disabled custom emoji");l.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const o=Object(s.a)("Set the loading status for the API request when a new page is loading");o.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const i=Object(s.a)("Set the loading status for the API request when a user searches for emojis");i.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const u=Object(s.a)("Set the current sort category and direction for the table");u.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},E7hC:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(t)}h(s,"isValidEmojiName")},ED1u:function(H,n,e){"use strict";e.d(n,"e",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"c",function(){return o}),e.d(n,"f",function(){return i});var s=e("DwFS");const t=Object(s.a)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");t.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const a=Object(s.a)("Set the user-specified sidebar width and mode (use setInspectorColumn instead)");a.meta={name:"createAction",key:"createActionsetInspectorColumnInternal",description:"Set the user-specified sidebar width and mode (use setInspectorColumn instead)"};const r=Object(s.a)("Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)");r.meta={name:"createAction",key:"createActionsetIsTeamSidebarVisibleInternal",description:"Sets whether or not the team sidebar is part of the grid layout (use setIsTeamSidebarVisible instead)"};const l=Object(s.a)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");l.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const o=Object(s.a)("Sets whether or not the sidebar is currently visible when in collapsed mode");o.meta={name:"createAction",key:"createActionsetIsSidebarVisibleWhenFloating",description:"Sets whether or not the sidebar is currently visible when in collapsed mode"};const i=Object(s.a)("Sets whether the user prefers a responsive sidebar");i.meta={name:"createAction",key:"createActionsetUserPrefersResponsiveSidebarInternal",description:"Sets whether the user prefers a responsive sidebar"}},ED8d:function(H,n,e){"use strict";var s=e("oTSI"),t=e("ykb+"),a=e("s4P+"),r=e("1Np4"),l=e("4cU5"),o=e("RBHu");let i=h(class{initializeHuddleReconnectTracer(){var g,P,F;this.reconnectSpan=(g=this.trace)===null||g===void 0?void 0:g.startSpan(o.G),this.reconnectSuccessSpan=(P=this.trace)===null||P===void 0?void 0:P.startSpan(o.I),this.reconnectFailureSpan=(F=this.trace)===null||F===void 0?void 0:F.startSpan(o.H)}traceReconnectAttemptOutcome(g){let{isSuccess:P}=g;var F;P?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(F=this.logger)===null||F===void 0||F.info(`Registered huddle reconnect attempt outcome - isSuccess: ${P}`)}traceReconnectAttempt(){var g;this.reconnectCount+=1,(g=this.logger)===null||g===void 0||g.info("Counted huddle reconnect attempt")}report(){var g,P,F,K,fe;(g=this.reconnectSpan)===null||g===void 0||g.addTags({metric_value:this.reconnectCount}).close(),(P=this.reconnectSuccessSpan)===null||P===void 0||P.addTags({metric_value:this.reconnectSuccessCount}).close(),(F=this.reconnectFailureSpan)===null||F===void 0||F.addTags({metric_value:this.reconnectFailureCount}).close(),(K=this.tracer)===null||K===void 0||K.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(fe=this.logger)===null||fe===void 0||fe.info("Reported reconnect attempt metric trace")}constructor({tracer:g,trace:P,logger:F}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=g,this.trace=P,this.logger=F,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),u=h(class{initializeHuddleNoAudioTracer(){var g;this.noAudioSpan=(g=this.trace)===null||g===void 0?void 0:g.startSpan(o.F)}incNoAudioInputCounter(){this.noAudioInputCount+=1}resetNoAudioInputCounter(){this.noAudioInputCount=0}closeHuddleNoAudioSpan(){var g;(g=this.noAudioSpan)===null||g===void 0||g.close()}report(){var g,P,F;(g=this.noAudioSpan)===null||g===void 0||g.addTags({metric_value:this.noAudioInputCount}),this.closeHuddleNoAudioSpan(),(P=this.tracer)===null||P===void 0||P.reportSpans([this.noAudioSpan]),this.resetNoAudioInputCounter(),(F=this.logger)===null||F===void 0||F.info("Reported no audio input span")}constructor({tracer:g,trace:P,logger:F}){this.noAudioInputCount=0,this.tracer=g,this.trace=P,this.logger=F,this.initializeHuddleNoAudioTracer()}},"HuddleNoAudioTracer"),d=h(class{addTTIMetaTags(g){let{entryPoint:P,preferredMediaRegion:F,isPrejoin:K,isCreate:fe}=g;var Me;(Me=this.trace)===null||Me===void 0||Me.addTags({entry_point:P,preferred_media_region:F,is_prejoin:K,is_create:fe,success:!1})}createFetchCredentialsSpan(){var g;this.fetchCredentialsSpan=(g=this.trace)===null||g===void 0?void 0:g.startSpan(o.b)}setCachedTag(g){let{cached:P}=g;var F;(F=this.trace)===null||F===void 0||F.addTags({cached:P})}closeFetchCredentialsSpan(){var g;(g=this.fetchCredentialsSpan)===null||g===void 0||g.close()}createConnectToMediaServiceSpan(){var g;this.connectToMediaServiceSpan=(g=this.trace)===null||g===void 0?void 0:g.startSpan(o.a)}closeConnectToMediaServiceSpan(){var g,P,F,K;(g=this.connectToMediaServiceSpan)===null||g===void 0||g.close(),(P=this.trace)===null||P===void 0||P.addTags({success:!0}),(F=this.tracer)===null||F===void 0||F.reportTrace(this.trace),this.traceReported=!0,(K=this.logger)===null||K===void 0||K.info("Reported TTI metric trace")}getTTITraceId(){var g;return(g=this.trace)===null||g===void 0?void 0:g.getTraceId()}getFetchCredentialsSpanId(){var g;return(g=this.fetchCredentialsSpan)===null||g===void 0?void 0:g.getId()}setMediaRegionTag(g){var P,F;const K=(P=this.trace)===null||P===void 0?void 0:P.getTags().preferred_media_region;(F=this.trace)===null||F===void 0||F.addTags({media_region:g,media_region_matches:g===K})}report(){var g,P;if(!this.traceReported){var F,K;(F=this.tracer)===null||F===void 0||F.reportTrace(this.trace),this.traceReported=!0,(K=this.logger)===null||K===void 0||K.info("Reported TTI metric trace in final clean up")}(g=this.tracer)===null||g===void 0||g.clearTrace(this.trace),(P=this.logger)===null||P===void 0||P.info("Cleaned up TTI metric trace")}constructor({teamId:g,logger:P}){this.traceReported=!1,this.tracer=Object(r.a)({teamOrEnterpriseId:g}),this.trace=this.tracer.createTrace({traceName:o.q,samplingOptions:{sampleRate:Object(t.b)()?1:.05,sampleType:l.g.SESSION}}),this.logger=P}},"HuddleTTITracer");var m=e("yIs4"),c=e("Uqsd"),E=e("QjW8"),f=e("9oTK"),O=e("C9cw"),p=e("sEH6");let b=h(class{recordAppMetrics(g){var P=this;return Object(f.coroutine)(function*(){const F=Date.now();if(F-P.lastRecordedSpanTs<P.reportingInterval)return;P.logger.debug(`Adding new ${O.e}:${O.a} span`);const fe=P.trace.startSpan(O.a),Me=Object(p.b)(g),Te=Object.keys(Me).length;fe.addTags(Me),fe.close(),P.logger.debug(`Added new ${O.e}:${O.a} span with ${Te} tags`),P.getSpanCount()>O.f&&P.report(),P.lastRecordedSpanTs=F})()}constructor({teamId:g,logger:P,callLogger:F,isTinySpeck:K}){var fe=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.getMetricsCollectionInterval=()=>Object(t.b)()?O.d:this.isTinyspeck?O.k:O.c,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:O.e,tags:{__dataset:O.b},samplingOptions:{sampleType:l.g.ALWAYS}}),this.trace),this.getSpanCount=()=>{var Me;const Te=(Me=this.trace)===null||Me===void 0?void 0:Me.getSpans();return Te?Object.keys(Te).length:0},this.report=function(){let Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(Me&&fe.callLogger.debug(`Huddle ${fe.callId} is ending. Reporting ${fe.getSpanCount()} remaining spans`),!fe.traceReported&&fe.getSpanCount()>0){var Te,xe;(Te=fe.tracer)===null||Te===void 0||Te.reportTrace(fe.trace),(xe=fe.tracer)===null||xe===void 0||xe.clearTrace(fe.trace),fe.logger.debug(`Cleared ${O.e}:${O.a} event trace`),Me?fe.traceReported=!0:fe.createNewTrace()}else fe.logger.debug(`Attempted to report ${O.e}:${O.a} trace but there was nothing to report`)},this.tracer=Object(r.a)({teamOrEnterpriseId:g}),this.isTinyspeck=K,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=P,this.callLogger=F}},"HuddlePerfTracer");const T=b;var v=e("TSHB"),S=e("Muja"),A=e("9vpw");const I=100,_=300,M=300,y=30,j=10,C=30,D=h(Pe=>function(g){for(var P=arguments.length,F=new Array(P>1?P-1:0),K=1;K<P;K++)F[K-1]=arguments[K];if(!(typeof g!="string"&&typeof g!="number"))return Pe(g,...F)},"makeDeduction"),N=D(Pe=>Pe>y?Pe/5:void 0),B=D(Pe=>Pe>400?Pe/20:void 0),L=D(Pe=>Pe>1?Pe:void 0),R=D(Pe=>Pe>M?Pe/7.5:void 0),U=D(Pe=>Pe>1?Pe*10:void 0),W=D(Pe=>Pe>I?Pe/2:void 0),x=D(Pe=>Pe>C?Pe*1.25:void 0),G=D(Pe=>Pe>_?Pe/10:void 0),w=D(Pe=>Pe>C?Pe*1.5:void 0),se=D(Pe=>Pe>j?Pe*1.5:void 0),ee=D(Pe=>Pe*2),X=D(Pe=>Pe&&Pe!=="udp"?40:void 0),me=D(Pe=>Pe&&Pe>500?Pe/100:void 0),Oe=D(Pe=>Pe>150?Pe/5:void 0),Ce=D(Pe=>Pe>15?Pe*2:void 0),le=D(Pe=>Pe>5?Pe:void 0),de=D(Pe=>Pe>20?Pe/5:void 0),ie=D(Pe=>Pe>1?Pe*2.5:void 0),pe=D(Pe=>!Pe||Pe==="none"?void 0:25),ne=D(Pe=>Pe>0?Pe*20:void 0),q=D(Pe=>Pe>1?Pe*1.25:void 0),ce=D(Pe=>Pe>300?Pe/10:void 0),ge=20,be=60,Q=60,re=h(Pe=>{const{audioDownstreamQualityScore:g,networkQualityScore:P,networkType:F,networkProtocol:K,networkRelayProtocol:fe,networkAvailableOutgoingBitrate:Me,audioDownstreamJitterMs:Te,audioDownstreamPacketLossPercent:xe,audioDownstreamJitterBufferDelay:He,networkCurrentRoundTripTimeMs:ze,mediaRegionSelected:Be,mediaRegionPreferred:Mt,cpuUse:Pt,cpuUseRelative:Qt,cpuCompetitionScore:tn,gpuUse:pt,batteryIsUsing:At,selectedMicrophone:an,selectedCamera:$t,selectedSpeakers:Mn,cameraIsBlocked:Cn,cameraIsAvailable:Rn,microphoneIsBlocked:An,microphoneIsAvailable:On,isMicrophoneBluetooth:bn,isSpeakerBluetooth:Pn,isMicrophoneAndSpeakerOnSameDevice:pn,isHardwareAccelerationEnabled:Wn,isDisconnected:Fn,noAudioInput:Bn}=Pe;return{metrics:{stable:{mediaRegionSelected:Be,mediaRegionPreferred:Mt,selectedMicrophone:an,selectedCamera:$t,selectedSpeakers:Mn},unstable:{cpuCompetitionScore:tn,cpuUse:Pt,gpuUse:pt,cpuUseRelative:Qt,audioQualityScore:g,jitterMs:Te,audioDelayMs:He,roundTripTimeMs:ze,packetLossPercent:xe,incomingBandwidth:Me,networkQualityScore:P}},warnings:{stable:{isVpnEnabled:F==="vpn",isSuboptimalProtocol:!!X(K)||!!X(fe),isMediaRegionSuboptimal:!!Be&&!!Mt&&Be!==Mt,isUsingBatteryPower:At,isMicrophoneBluetooth:bn,isMicrophoneAndSpeakerOnSameDevice:pn,isSpeakerBluetooth:Pn,isCameraProbablyIphone:/iphone/.test($t==null?void 0:$t.toLowerCase()),isHardwareAccelerationDisabled:Wn===!1},unstable:{isCpuUsePoor:!!Oe(Pt),isCpuUseRelativePoor:!!Ce(Qt),isGpuUsePoor:!!de(pt),isJitterPoor:!!W(Te),isRTTPoor:!!R(ze),isAudioDelayPoor:!!G(He),isPacketLossPoor:!!w(xe)}},alerts:{stable:{isCameraBlocked:Cn||!Rn,isMicrophoneBlocked:An||!On,isMicrophoneNotSendingAudio:!!Bn,isDisconnected:Fn},unstable:{isAudioQualityPoor:g<=ge,isNetworkQualityPoor:P<=be,isCpuCompetitionPoor:tn<=Q}}}},"getTroubleshootingMetricsFromTags");var z=e("OZf9"),Y=e("okoL");const ve=10*1e3,Z=30*1e3,$=.2;class te{constructor(g){this.logger=g,this.currentStableAlerts={},this.currentAlerts={},this.updateInterval=ve,this.updateIntervalIncrements=0,this.countRecentTimestamps=(P,F)=>{if(!P.length)return 0;const K=Date.now(),fe=[...P].reverse().findIndex(Me=>K-Me>F);return fe===-1?P.length:fe},this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(Z,this.updateInterval+1e3))},this.getStableAlerts=(P,F)=>{const K={};return Object(z.a)(P,(fe,Me)=>{if(fe===void 0)return;const Te=this.currentAlerts[Me]||[];fe&&(Te.push(Date.now()),this.currentAlerts[Me]=Object(Y.a)(Te,30));const xe=this.countRecentTimestamps(Te,F.interval);K[Me]=xe>=F.threshold}),K},this.getStabilityConfig=()=>{const P=Math.floor(this.updateInterval/1e3*$);return{interval:this.updateInterval,threshold:P}},this.getAlertUpdates=P=>{let{alerts:F}=P;const K=this.getStableAlerts(F,this.getStabilityConfig()),fe=!Object(S.a)(K,this.currentStableAlerts);if(this.maybeIncrementUpdateInterval(),fe)return this.currentStableAlerts=K,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),K}}}h(te,"alert_updater_AlertUpdater");const J=te,k="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",ae={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${k}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${k}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network."},je={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...ae},Ue={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class Ke{constructor({callLogger:g,logger:P,dispatch:F}){this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=K=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:fe,isUnifiedGrid:Me,visibleSidebarItemCount:Te,networkType:xe,networkProtocol:He,networkRelayProtocol:ze,isHardwareAccelerationEnabled:Be,batteryIsUsing:Mt}=K;this.callLogger.info(`Initial Huddle Config: Network Type=${xe}; Network Protocol=${He}; Network Relay Protocol=${ze}; IA4=${fe}; Unified Grid=${Me}; Hardware Acceleration=${Be??"unknown (browser)"}; Using Battery Power=${Mt}; Sidebar Size=${Te};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(K,fe)=>{Object.entries(K).forEach(Me=>{let[Te,xe]=Me;if(xe&&this.isRelevantWarning(Te,K)&&je[Te]){let He;if(Te in Ue){const Be=Ue[Te];Be&&(fe!=null&&fe[Be])&&(He=fe[Be])}this.callLogger.warn(`\u{1F6A8} WARNING! ${je[Te]}${He?` reasons: (${He})`:""}`)}})},this.isRelevantWarning=(K,fe)=>K==="isNetworkQualityPoor"||K==="isCpuCompetitionPoor"?"isAudioQualityPoor"in fe&&!!fe.isAudioQualityPoor:!0,this.logTags=K=>{const fe=Date.now();fe-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${O.e}:${O.a} event span tags`,K),this.lastLoggedTagsTs=fe)},this.getStatsDiff=K=>{const fe=this.lastProcessedStats;return Object(v.a)(K,(Me,Te)=>{var xe,He;return{stable:fe?!Object(S.a)((xe=fe[Te])===null||xe===void 0?void 0:xe.stable,Me==null?void 0:Me.stable):null,unstable:fe?!Object(S.a)((He=fe[Te])===null||He===void 0?void 0:He.unstable,Me==null?void 0:Me.unstable):null}})},this.maybeUpdateTroubleshootingPanel=K=>{var fe,Me,Te,xe,He,ze,Be,Mt,Pt;const Qt=Date.now(),tn=re(K),pt=this.getStatsDiff(tn);if(this.lastProcessedStats=tn,(!((fe=pt.alerts)===null||fe===void 0)&&fe.stable||((Me=pt.alerts)===null||Me===void 0?void 0:Me.stable)===null)&&tn.alerts.stable&&(this.dispatch(Object(A.b)(tn.alerts.stable)),pt.alerts.stable&&this.logWarningAndAlertUpdates(tn.alerts.stable)),(!((Te=pt.metrics)===null||Te===void 0)&&Te.stable||((xe=pt.metrics)===null||xe===void 0?void 0:xe.stable)===null)&&tn.metrics.stable&&this.dispatch(Object(A.c)(tn.metrics.stable)),(!((He=pt.warnings)===null||He===void 0)&&He.stable||((ze=pt.warnings)===null||ze===void 0?void 0:ze.stable)===null)&&tn.warnings.stable&&(this.dispatch(Object(A.d)(tn.warnings.stable)),pt.warnings.stable&&this.logWarningAndAlertUpdates(tn.warnings.stable)),!((Be=tn.alerts)===null||Be===void 0)&&Be.unstable){const At=this.alertUpdater.getAlertUpdates({alerts:tn.alerts.unstable});At&&(this.dispatch(Object(A.f)(At)),this.logWarningAndAlertUpdates(At,K))}tn.metrics.unstable&&tn.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||Qt-this.lastUnstableMetricsUpdateTs>1e4&&(!((Mt=pt.warnings)===null||Mt===void 0)&&Mt.unstable||!((Pt=pt.metrics)===null||Pt===void 0)&&Pt.unstable))&&(this.dispatch(Object(A.g)({metrics:tn.metrics.unstable,warnings:tn.warnings.unstable})),this.lastUnstableMetricsUpdateTs=Qt)},this.processTags=K=>{this.maybeUpdateTroubleshootingPanel(K),this.logHuddleConfigInfo(K),this.logTags(K),this.lastProcessedTagsTs=Date.now()},this.callLogger=g,this.logger=P,this.dispatch=F,this.alertUpdater=new te(P),this.callLogger.info("huddle perf observer initialized")}}h(Ke,"observer_HuddlePerfObserver");const ke=Ke;var Qe=Ke;const Ze=h(Pe=>{const{audioUpstreamAudioLevel:g,audioUpstreamTotalAudioEnergy:P,audioUpstreamTotalSamplesDuration:F,audioDownstreamLevel:K}=Pe;return{send:[{audioStats:{audioLevel:g,totalAudioEnergy:P,totalSamplesDuration:F}}],recv:[{audioStats:{audioLevel:K}}]}},"getStatsForAnomalyDetectorFromTags");var De=e("KciV"),Fe=e("DKof"),Ve=e("xnu4"),Je=e("fujP"),Ot=e("ZGcR"),ht=e("owWc"),Le=e("dhcM");const jt=h(Pe=>{if(Object(Je.a)(Pe))return;const g=Object(ht.a)(Pe,(P,F)=>Object(Le.a)(P,F,(K,fe)=>(K||0)+fe),{});return Object(v.a)(g,P=>P/Pe.length)},"calculateIncomingVideoStatsAverages"),Ut=h(Pe=>{if(!isNaN(Pe)&&!(typeof Pe>"u"||Pe===null))return Math.round(Pe)},"getScrubbedMetricValue"),Ie=h(Pe=>{let{clientMetricReport:g,direction:P}=Pe;const F=Object.keys(g.streamMetricReports);let K;return F.forEach(fe=>{const Me=Number(fe),Te=g.streamMetricReports[Me];Te.direction===P&&Te.mediaType===E.b.AUDIO&&(K=Me)}),K},"getAudioSsrcId"),oe=h((Pe,g,P,F,K)=>{const fe=Pe==null?void 0:Pe.getMetricMap(g,P)[F];if(fe!=null&&fe.transform)return fe.transform(F,K)},"getNonObservedMetric"),ye=h((Pe,g)=>{const P=g?Pe.replace(g,""):Pe;return P.charAt(0).toUpperCase()+P.slice(1)},"removeSubstringAndCapitalize");var Ne=e("5MVR"),Ge;(function(Pe){Pe[Pe.UPSTREAM=0]="UPSTREAM",Pe[Pe.DOWNSTREAM=1]="DOWNSTREAM"})(Ge||(Ge={}));var st;(function(Pe){Pe[Pe.AUDIO=0]="AUDIO",Pe[Pe.VIDEO=1]="VIDEO"})(st||(st={}));let $e,It;const Lt=h(function(Pe,g,P){let F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe||!g)return;const K=(g.timestamp-Pe.timestamp)/1e3,fe=g[P]-Pe[P];return F?fe/K:fe},"getNextStat"),St=h(Pe=>{let{clientMetricReport:g,selfAttendeeId:P}=Pe;const F=g.getObservableVideoMetrics();if(!F||!P)return;let K=0;const fe={},Me=[];return Object(z.a)(F,(Te,xe)=>{var He;const ze=Number((He=Object.keys(Te))===null||He===void 0?void 0:He[0]);if(!ze)return;const Be=Te[ze];if(xe.endsWith("#content")){K+=1,Object(z.a)(Be,(Mt,Pt)=>{fe[Object(Ve.a)(`screenshare_${Object(p.a)(Pt)}${K>1?`${K}_`:""}`)]=Ut(Mt)});return}P===xe?Be.videoUpstreamBitrate!==0&&(Object(z.a)(Be,(Mt,Pt)=>{fe[`self${ye(Pt,"Upstream")}`]=Ut(Mt)}),Object.assign(fe,{selfVideoHardwareEncoder:oe(g,st.VIDEO,Ge.UPSTREAM,"encoderImplementation",ze)})):Me.push(Be)}),Object(Je.a)(Me)||Object.assign(fe,jt(Me)),fe},"getVideoMetricTags"),vt=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],Yt=h(Pe=>{let{clientMetricReport:g}=Pe;const{audioDecoderLoss:P,audioPacketLossPercent:F,audioPacketsReceived:K,audioPacketsReceivedFractionLoss:fe,audioPacketsSent:Me,audioSpeakerDelayMs:Te,audioDownstreamJitterMs:xe,videoUpstreamBitrate:He,videoPacketSentPerSecond:ze,currentRoundTripTimeMs:Be,availableIncomingBitrate:Mt,availableOutgoingBitrate:Pt,nackCountReceivedPerSecond:Qt,audioUpstreamRoundTripTimeMs:tn,audioUpstreamJitterMs:pt}=g.getObservableMetrics(),At={audioDownstreamDecoderLoss:P,audioUpstreamPacketLossPercent:F,audioDownstreamPacketsReceived:K,audioDownstreamPacketLossPercent:fe,audioDownstreamJitterMs:xe,audioUpstreamPacketsSent:Me,audioDownstreamJitterBufferDelay:Te,selfVideoBitrate:He,selfVideoPacketsSentPerSecond:ze,audioUpstreamRoundTripTimeMs:tn,audioUpstreamJitterMs:pt,networkCurrentRoundTripTimeMs:Be,networkAvailableIncomingBitrate:Mt,networkAvailableOutgoingBitrate:Pt,networkNackCountReceivedPerSecond:Qt},an=Object(Ot.a)(At,(On,bn)=>vt.indexOf(bn)>-1?Object(Ve.a)(`network_${bn}`):bn),Mn={networkSocketPacketsDiscardedOnSend:g.globalMetricReport.currentMetrics.packetsDiscardedOnSend},Cn=Ie({clientMetricReport:g,direction:Ge.DOWNSTREAM});let Rn;if(Cn){const On=oe(g,st.AUDIO,Ge.DOWNSTREAM,"concealedSamples",Cn);Rn={audioDownstreamTotalSamplesReceived:oe(g,st.AUDIO,Ge.DOWNSTREAM,"totalSamplesReceived",Cn),audioDownstreamConcealedSamples:On}}return Object(v.a)({...an,...Mn,...Rn},On=>Ut(On))},"getAudioMetricTags"),et=h(Pe=>{const g={},P=[];let F;if(!Pe)return $e=void 0,g;Pe.forEach(fe=>{fe.type==="local-candidate"&&P.push(fe),fe.type==="media-source"&&fe.kind==="audio"&&(g.audioUpstreamTotalSamplesDuration=fe.totalSamplesDuration,g.audioUpstreamAudioLevel=fe.audioLevel,g.audioUpstreamTotalAudioEnergy=fe.totalAudioEnergy),fe.type==="candidate-pair"&&fe.state==="succeeded"&&fe.nominated&&fe.localCandidateId&&(F=fe.localCandidateId),fe.type==="inbound-rtp"&&fe.kind==="audio"&&(g.audioDownstreamLevel=fe.audioLevel),fe.type==="outbound-rtp"&&fe.kind==="video"&&(g.selfVideoQualityLimitationDurations=fe.qualityLimitationDurations&&Object(Ne.c)(fe.qualityLimitationDurations),g.selfVideoOutboundFramesPerSecond=fe.framesPerSecond,g.selfVideoPacketSendDelay=Lt($e,fe,"totalPacketSendDelay"),$e=fe),fe.type==="media-source"&&fe.kind==="video"&&(g.selfVideoSourceFramesPerSecond=fe.framesPerSecond)});const K=P.find(fe=>fe.id===F);if(K){const{networkType:fe,protocol:Me,relayProtocol:Te}=K;g.networkType=fe,g.networkProtocol=Me,g.networkRelayProtocol=Te}return g},"getRtcStatsTags"),Ft=h(Pe=>{if(!Pe){It=void 0;return}const g={};return Pe.forEach(P=>{if(P.type==="remote-inbound-rtp"&&P.kind==="video"){const{fractionLost:F,jitter:K,roundTripTime:fe}=P;Object.assign(g,{screenshareUpstreamJitter:K*1e3,screenshareUpstreamPacketLossPercent:F*100,screenshareUpstreamRoundTripTime:fe*1e3})}if(P.type==="outbound-rtp"&&P.kind==="video"){const{frameHeight:F,frameWidth:K,framesPerSecond:fe,targetBitrate:Me}=P;if(Object.assign(g,{screenshareUpstreamTargetBitrate:Me,screenshareUpstreamFrameWidth:K,screenshareUpstreamFrameHeight:F,screenshareUpstreamFramesPerSecond:fe}),!It){It=P;return}Object.assign(g,{screenshareUpstreamPacketsSent:Lt(It,P,"packetsSent"),screenshareUpstreamPacketSendDelay:Lt(It,P,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:Lt(It,P,"keyFramesEncoded"),screenshareUpstreamBitrate:Lt(It,P,"bytesSent",!0)}),It=P}}),Object(v.a)(g,P=>Ut(P))},"getScreenshareRtcStatsTags"),mt=h(Pe=>{let{clientMetricReport:g,selfAttendeeId:P}=Pe;const F=St({clientMetricReport:g,selfAttendeeId:P}),K=Yt({clientMetricReport:g});return{...F,...K}},"getClientMetricReportTags"),Zt={getVideoMetricTags:St,getAudioMetricTags:Yt,getClientMetricReportTags:mt,getScreenshareRtcStatsTags:Ft,getRtcStatsTags:et};var gt=e("8QLk");const at=0,it=100;function dt(Pe){return Pe.endsWith(",")?Pe.slice(0,-1):Pe}h(dt,"trimComma");const _t=h(()=>{let Pe=100,g="";return{deductFromScoreForReason:(P,F)=>{P&&(Pe-=P,g+=`${F},`)},getScore:()=>Object(gt.a)(Pe,at,it),getReasons:()=>dt(g)}},"trackScoreAndReasons"),Dt=h(Pe=>{const{deductFromScoreForReason:g,getScore:P,getReasons:F}=_t(),{screenshareUpstreamBitrate:K,screenshareUpstreamPacketLossPercent:fe,screenshareUpstreamJitter:Me,screenshareUpstreamRoundTripTime:Te,screenshareUpstreamFramesPerSecond:xe,screenshareUpstreamPacketSendDelay:He,screenshareUpstreamQualityLimitationReason:ze}=Pe;if(K)return g(se(fe),"screenshareUpstreamPacketLossPercent"),g(W(Me),"screenshareUpstreamJitter"),g(R(Te),"screenshareUpstreamRoundTripTime"),g(N(He),"screenshareUpstreamPacketSendDelay"),g(ie(O.h-xe),"screenshareUpstreamFramesPerSecond"),g(pe(ze),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:P(),screenshareUpstreamQualityScoreReasons:F()}},"getScreenshareUpstreamQualityScore"),Ye=h(Pe=>{const{selfVideoPacketLossPercent:g,selfVideoFrameHeight:P,selfVideoFrameWidth:F,selfVideoRoundTripTime:K,selfVideoJitterMs:fe,selfVideoFramesEncodedPerSecond:Me,isSelfVideoEnabled:Te}=Pe;if(!Te||!F)return;const{deductFromScoreForReason:xe,getScore:He,getReasons:ze}=_t();xe(se(g),"selfVideoPacketLossPercent");const Be=P*F;return xe(L(100-Be/O.i*100),"selfVideoFrameHeight,selfVideoFrameWidth"),xe(W(fe),"selfVideoJitterMs"),xe(R(K),"selfVideoRoundTripTime"),xe(ie(O.j-Me),"selfVideoFramesEncodedPerSecond"),{selfVideoQualityScore:He(),selfVideoQualityScoreReasons:ze()}},"getSelfVideoQualityScore"),Xe=h(Pe=>{const{videoDownstreamPacketLossPercent:g,videoDownstreamFramesDecodedPerSecond:P,videoDownstreamFrameHeight:F,videoDownstreamFrameWidth:K,videoDownstreamJitterMs:fe,videoDownstreamDelayMs:Me}=Pe;if(!K)return;const{deductFromScoreForReason:Te,getScore:xe,getReasons:He}=_t();Te(se(g),"videoDownstreamPacketLossPercent");const ze=F*K;return Te(L(O.i/ze),"videoDownstreamFrameHeight,videoDownstreamFrameWidth"),Te(G(Me),"videoDownstreamDelayMs"),Te(W(fe),"videoDownstreamJitterMs"),Te(ie(O.j-P),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:xe(),videoDownstreamQualityScoreReasons:He()}},"getVideoDownstreamQualityScore"),kt=h(function(Pe){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:P,getScore:F,getReasons:K}=_t();if(g){const{screenshareVideoDownstreamPacketLossPercent2:He,screenshareVideoDownstreamJitterMs2:ze,screenshareVideoDownstreamDelayMs2:Be,screenshareVideoDownstreamFrameHeight2:Mt}=Pe;return Mt?(P(se(He),"screenshareVideoDownstreamPacketLossPercent2"),P(W(ze),"screenshareVideoDownstreamJitterMs2"),P(G(Be),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:F(),screenshareVideoDownstreamQualityScoreReasons2:K()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:fe,screenshareVideoDownstreamJitterMs:Me,screenshareVideoDownstreamDelayMs:Te,screenshareVideoDownstreamFrameHeight:xe}=Pe;if(xe)return P(se(fe),"screenshareVideoDownstreamPacketLossPercent"),P(W(Me),"screenshareVideoDownstreamJitterMs"),P(G(Te),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:F(),screenshareVideoDownstreamQualityScoreReasons:K()}},"getScreenshareDownstreamQualityScore"),Bt=h(Pe=>{const{audioUpstreamPacketLossPercent:g,audioUpstreamRoundTripTimeMs:P,audioUpstreamJitterMs:F}=Pe;if(!P)return;const{deductFromScoreForReason:K,getScore:fe,getReasons:Me}=_t();return K(w(g),"audioUpstreamPacketLossPercent"),K(R(P),"audioUpstreamRoundTripTimeMs"),K(W(F),"audioUpstreamJitterMs"),{audioUpstreamQualityScore:fe(),audioUpstreamQualityScoreReasons:Me()}},"getAudioUpstreamQualityScore"),wt=h(Pe=>{const g={};return Pe.screenshareVideoDownstreamFrameHeight2&&Object.assign(g,kt(Pe,!0)),{...kt(Pe),...g}},"getScreenshareDownstreamQualityScores"),we=h(Pe=>{const{cpuUse:g,gpuUse:P,cpuUseRelative:F,longTasksPercentage:K}=Pe,{deductFromScoreForReason:fe,getScore:Me,getReasons:Te}=_t();return fe(q(K),"longTasksPercentage"),fe(Oe(g),"cpuUse"),fe(de(P),"gpuUse"),fe(Ce(F),"cpuUseRelative"),{cpuCompetitionScore:Me(),cpuCompetitionScoreReasons:Te()}},"getCpuCompetitionScoreTags"),ot=h(Pe=>{const{networkCurrentRoundTripTimeMs:g,networkNackCountReceivedPerSecond:P,networkSocketPacketsDiscardedOnSend:F,networkProtocol:K,networkRelayProtocol:fe,audioDownstreamJitterMs:Me,audioDownstreamPacketLossPercent:Te}=Pe,{deductFromScoreForReason:xe,getScore:He,getReasons:ze}=_t();return xe(X(K),"networkProtocol"),xe(X(fe),"networkRelayProtocol"),xe(ne(F),"networkSocketPacketsDiscardedOnSend"),xe(R(g),"networkCurrentRoundTripTimeMs"),xe(W(Me),"audioDownstreamJitterMs"),xe(U(P),"networkNackCountReceivedPerSecond"),xe(w(Te),"audioDownstreamPacketLossPercent"),{networkQualityScore:He(),networkQualityScoreReasons:ze()}},"getNetworkQualityScoreTags"),yt=h(Pe=>{const{audioDownstreamDecoderLoss:g,audioDownstreamJitterBufferDelay:P,audioDownstreamPacketLossPercent:F}=Pe,{deductFromScoreForReason:K,getScore:fe,getReasons:Me}=_t();return K(x(g),"audioDownstreamDecoderLoss"),K(G(P),"audioDownstreamJitterBufferDelay"),K(w(F),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:fe(),audioDownstreamQualityScoreReasons:Me()}},"getAudioDownstreamQualityTags");var Xt=h(Pe=>({...yt(Pe),...ot(Pe),...Bt(Pe),...Ye(Pe),...wt(Pe),...Dt(Pe),...we(Pe),...Xe(Pe),qualityScoringVersion:O.g}),"getQualityScoreTags");const cn={[E.a.BluetoothDevices]:(Pe,g)=>{let{sharedTags:P}=g;Object.assign(P,Pe)},[E.a.MemoryLeaks]:(Pe,g)=>{let{name:P,leakCount:F}=Pe,{sharedTags:K}=g;const fe=K.memoryLeakCount;Object.assign(K,{type:"shared",tags:{[`memoryLeaks-${P}`]:F,memoryLeakCount:fe?fe+F:F}})},[E.a.SelectedMediaRegion]:(Pe,g)=>{let{mediaRegionSelected:P}=Pe,{sharedTags:F}=g;const{mediaRegionPreferred:K}=F;Object.assign(F,{mediaRegionSelected:P,mediaRegionMatchesPreference:K&&P?K===P:!0})},[E.a.PreferredMediaRegion]:(Pe,g)=>{let{sharedTags:P}=g;Object.assign(P,Pe)},[E.a.VoiceFocusConfig]:(Pe,g)=>{let{sharedTags:P}=g;Pe&&Object.assign(P,{vfSimdSupported:Pe.model.simd,vfModelVariant:Pe.model.variant,vfSupported:Pe.supported})},[E.a.NetworkDisconnect]:(Pe,g)=>{let{peerId:P}=Pe,{transientTags:F}=g;P==="self"&&Object.assign(F,{selfDisconnectCount:(F.selfDisconnectCount||0)+1})},[E.a.CallId]:(Pe,g)=>{let{sharedTags:P}=g;Object.assign(P,Pe)},[E.a.ScreenshareContentType]:(Pe,g)=>{let{sharedTags:P}=g;Object.assign(P,Pe)},[E.a.NoAudio]:(Pe,g)=>{let{sharedTags:P}=g;Pe.direction==="send"?Object.assign(P,{noAudioInput:Pe.noAudio}):Object.assign(P,{noAudioOutput:Pe.noAudio})},[E.a.CameraResolution]:(Pe,g)=>{let{sharedTags:P}=g;Object.assign(P,Pe)},[E.a.SetIsDebugApp]:(Pe,g)=>{Object.assign(g,{isDebugApp:!0})}},gn=cn;var vn=cn,lt=e("ZvnG");const ct=Object(a.b)({label:"COMPUTE-PRESSURE"}),Rt={nominal:1,fair:2,serious:3,critical:4};class zt{constructor(){this.defaultSampleRate=.5,this.pubSub=new lt.a,this.isObserving=!1,this.currentLevel=null;var g=this;this.startObserving=Object(f.coroutine)(function*(){if(!g.isObserving){try{var F;g.isObserving=!0,yield(F=g.pressureObserver)===null||F===void 0?void 0:F.observe("cpu")}catch(K){g.isObserving=!1,ct.error("An error occurred while attempting to observe compute pressure",K)}ct.info("Observing compute pressure")}}),this.getPressureLevelFromRecord=F=>F?Rt[F.state]:void 0,this.pressureObserverCallback=F=>{const K=F.pop();if(!K)return;const fe=this.getPressureLevelFromRecord(K);fe&&(this.currentLevel=fe,fe===1?ct.debug(`Compute pressure updated to ${K.state} (${fe} of 4)`):ct.warn(`Compute pressure updated to ${K.state} (${fe} of 4)`),this.pubSub.publish(fe))};var P=this;this.subscribe=function(){var F=Object(f.coroutine)(function*(K){P.pubSub.subscribe(K),yield P.startObserving()});return function(K){return F.apply(this,arguments)}}(),this.unsubscribe=F=>{if(this.pubSub.unsubscribe(F),!this.pubSub.subscriberCount)try{var K;(K=this.pressureObserver)===null||K===void 0||K.disconnect(),ct.debug("No longer observing compute pressure.")}catch(fe){ct.error("An error occurred attempted to disconnect from the compute pressure observer",fe)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let F;try{var K;F=(K=this.pressureObserver)===null||K===void 0?void 0:K.takeRecords()}catch(Me){ct.error("An error occurred attempting to get latest compute pressure reports",Me)}const fe=F?this.getPressureLevelFromRecord(F.pop()):void 0;return fe&&(this.currentLevel=fe),fe},ct.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(F){ct.error("An error occurred creating a new instance of the PressureObserver",F)}if(!this.pressureObserver){ct.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}h(zt,"compute_pressure_observer_ComputePressureObserver"),zt.isSupported=()=>"PressureObserver"in globalThis;let mn;const fn=h(()=>{if(mn)return mn;if(!zt.isSupported()){ct.info("Compute Pressure API is not supported.");return}try{mn=new zt}catch(Pe){ct.error("An error occurred while attempting to create compute pressure observer",Pe);return}return mn},"getComputePressureObserver"),ln=zt,Ln=fn;var In=fn;const Dn={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let _n=h(class{initializeReport(){this.report={...Dn},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const P=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/P*100));const F={...this.report};return this.initializeReport(),F}constructor(){this.report={...Dn},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=g=>{const P=g.getEntries();let F=0,K=0;P.forEach(fe=>{const Me=fe.duration;F+=Me,Me>K&&(K=Me)}),this.report.longTasksTotalDuration+=F,this.report.longTasksCount+=P.length,K>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=K)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const qe=_n;var Et=_n;let Wt=0;const qt={traceName:O.e},nn="HUDDLES-PERF";let rn=h(class{constructor(){var g;this.callLogger=Object(De.c)(nn),this.logger=Object(a.b)({label:nn}),this.sharedTags=qt,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new Et,this.initSharedTags=()=>{Wt+=1,this.updateSharedTags({huddlesCountSinceRefresh:Wt})},this.initComputePressureObserver=()=>{this.computePressureObserver=In(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var P;const F=(P=this.computePressureObserver)===null||P===void 0?void 0:P.getCurrentLevel();this.computePressure=F})},this.updateSharedTags=P=>{this.sharedTags={...this.sharedTags,...P}},this.updateTransientTags=P=>{this.transientTags={...this.transientTags,...P}},this.updateComputePressure=P=>{const F=this.computePressure;this.computePressure=P;let K;switch(P){case 1:K="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:K="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:K="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:K="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:K="Unknown system workload condition."}P>2?this.callLogger.warn(`Compute pressure updated to level ${P} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${P} suggests that: ${K}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):F&&F>2&&this.logger.debug(`Compute pressure updated to level ${P} of 4 from ${F}. ${K}`)},this.updateState=(P,F)=>{if(P===E.a.RenderTiming)this.renderTimings.push(F);else if(P===E.a.RtmMetrics)this.rtmProcessingTimings.push(F);else if(P===E.a.AppMetrics)this.updateMetrics(F);else{const K=cn[P];if(!K)return;const{sharedTags:fe,transientTags:Me}=this;K(F,{sharedTags:fe,transientTags:Me})}},this.updateMetrics=P=>{let{huddleStateSnapshot:F,clientMetricReport:K,screenshareRtcStats:fe}=P;const Me=K?mt({clientMetricReport:K,selfAttendeeId:K.selfAttendeeId}):{},Te=K?et(K.getRTCStatsReport()):{},xe=Ft(fe),He={...F,...Me,...xe,...Te,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags()},ze=Xt(He);this.currentTags={...He,...ze},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var P;return(P=this.longTaskObserver)===null||P===void 0?void 0:P.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:P}=this.currentTags;return P?{secondsSinceJoining:Math.floor((Date.now()-P)/1e3)}:{}},this.getRtmMetricTags=()=>{const P=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:P}},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const P=Date.now()-this.lastAppMetricsRecordingTs,F=Object(Fe.a)(this.renderTimings),K=this.renderTimings.length;return!F||!P?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((F/P*100).toFixed(1)),uiRenderCount:K})},this.cleanup=()=>{var P,F;(P=this.computePressureObserver)===null||P===void 0||P.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(F=this.longTaskObserver)===null||F===void 0||F.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(g=this.longTaskObserver)===null||g===void 0||g.start()}},"HuddlePerfStateInternal");const hn=rn;var en=rn,Un=e("+N8b"),Yn=e("Pv5J"),ns=e("OCqp"),cs=e("Yzsk");const is="HUDDLES-PERF",es=5e3,Is=1e3;let kn=h(class{constructor({teamId:g,logger:P,isTinySpeck:F,dispatch:K,useRtmScheduler:fe}){this.logger=Object(a.b)({label:is}),this.callLogger=Object(De.c)(is),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.useRtmScheduler=!1,this.reportUpdate=Me=>{let{type:Te,update:xe}=Me;Te===E.a.AppMetrics?this.recordAppMetrics(xe):this.huddlePerfState.updateState(Te,xe)},this.recordAppMetrics=Me=>{Object(ns.a)("huddle-perf-metrics",()=>{var Te;if(!this.shouldRecordAppMetrics({nextReportTimestamp:Me==null||(Te=Me.clientMetricReport)===null||Te===void 0?void 0:Te.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateMetrics(Me);const xe=this.huddlePerfState.getCurrentTags();this.runAnomalyDetectorOnNextTags(xe),this.huddlePerfTrace.recordAppMetrics(xe),this.updateRtmScheduler(xe);try{this.huddlePerfObserver.processTags(xe)}catch(He){this.errorReported||(this.callLogger.error("An error occurred while processing tags",He),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=Me=>{let{nextReportTimestamp:Te}=Me;if(!Te)return!1;const xe=Date.now(),He=xe-this.lastRecordedMetricsTs;if(He<Is)return this.logger.debug(`Not enough time has passed since last report was recorded (${He}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const Be=xe-Te;return Be>es?(this.logger.debug(`Too much time has passed since the current report was made (${Be}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.runAnomalyDetectorOnNextTags=Me=>{try{Yn.a.run(Ze(Me))}catch(Te){this.callLogger.error("An error occurred while running the anomaly detector",Te)}},this.updateRtmScheduler=Me=>{if(!this.useRtmScheduler)return;const{cpuCompetitionScore:Te}=Me;Object(m.a)(Te)&&Object(cs.d)({cpuCompetitionScore:Te})},this.report=Me=>{this.huddlePerfTrace.report(Me),Yn.a.cleanup(),Un.a.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),this.useRtmScheduler&&(Object(c.h)(!1),Object(cs.c)())},this.huddlePerfTrace=new b({teamId:g,logger:P,callLogger:this.callLogger,isTinySpeck:F}),this.huddlePerfObserver=new Qe({logger:P,callLogger:this.callLogger,dispatch:K}),this.huddlePerfState=new en,Un.a.subscribe(this.reportUpdate),this.useRtmScheduler=fe,this.useRtmScheduler&&(Object(c.h)(this.useRtmScheduler),this.callLogger.info("RTM queues will be drained as background priority tasks by Huddle RTM scheduler"))}},"HuddlePerfManager");const ts=kn;var Ds=kn,vs=e("lhZz"),ss=e("TGBA"),Zn=e("smhd"),Os=e("xwCZ"),Cs=e("9Gfp"),ys=e("+CZ0"),Ls=e("O86Y"),Es=e("UIhb"),zn=e("SIMs"),_s=e("Awbm");const ls=h(Pe=>{let{teamId:g}=Pe;var P,F;const K=Object(vs.getStoreInstanceByTeamId)(g).getState(),fe=Object(vs.getClientStoreInstance)().getState(),Me=Object(ys.a)(fe),Te=Object(ys.b)(fe),xe=Object(Ls.d)(K),He=Object(zn.Z)(K,{huddleId:Me}),ze=Object(zn.X)(K,{huddleId:Me}),Be=Object(Cs.a)(K),Mt=ze.timestamps.map(an=>Te?Object(Es.b)(K,Te,an):void 0).filter(an=>(an==null?void 0:an.user)===Be),Pt=(P=Mt[0])===null||P===void 0?void 0:P.ts,Qt=(F=Mt.slice(-1)[0])===null||F===void 0?void 0:F.ts,tn=Mt.length,pt=Object(Os.g)(K,Be),At=Object(_s.a)(pt);return{huddleId:Me,channelId:Te,enterpriseId:xe,threadId:He,threadReplyCnt:tn,threadFirstReplyTs:Pt,threadLastReplyTs:Qt,isGuest:At}},"getHuddleEventsStateSnapshot"),Ts="huddle_events",gs="huddle",As="vhq",xn={topicName:gs,userAgent:navigator.userAgent,serviceName:As};let Ss=h(class{get spansList(){var g;return Object(ss.a)((g=this.trace)===null||g===void 0?void 0:g.getSpans())||[]}report(){var g;const P=Object(p.b)({...this.sharedTags,...ls({teamId:this.teamId})});!this.traceReported&&this.trace&&(this.trace.addTags(P),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",P)),(g=this.tracer)===null||g===void 0||g.clearTrace(this.trace)}constructor({teamId:g,logger:P}){this.sharedTags=xn,this.traceReported=!1,this.getSpanByName=F=>this.spansList.find(K=>F===K.getOperationName()),this.getDataSet=()=>{if(!Object(t.b)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:Zn.a.JOIN,type:Zn.b.START,tags:{}}),this.update({name:Zn.a.MINIPLAYER_VIEW,type:Zn.b.START})},this.isSurfaceChange=F=>F===Zn.a.MINIPLAYER_VIEW||F===Zn.a.WINDOW_COMPACT_VIEW||F===Zn.a.WINDOW_FULL_VIEW,this.handleSurfaceChange=F=>{let{name:K,type:fe}=F;fe===Zn.b.START&&this.isSurfaceChange(K)&&this.spansList.filter(Me=>this.isSurfaceChange(Me.getOperationName())).forEach(Me=>{Me.getOperationName()!==K&&this.closeSpan(Me)})},this.update=F=>{let{name:K,type:fe,tags:Me}=F;if(this.trace)if(fe===Zn.b.START||fe===Zn.b.ONCE){const Te=this.trace.startSpan(K,{parentSpanId:this.joinSpanId});Me&&Te.addTags(Me),K===Zn.a.JOIN&&(this.joinSpanId=Te.getId()),this.isSurfaceChange(K)&&this.handleSurfaceChange({name:K,type:fe}),this.logger.debug(`started new span for huddle_events trace: ${K}`),fe===Zn.b.ONCE&&this.closeSpan(Te)}else{const Te=this.getSpanByName(K);this.closeSpan(Te),this.logger.debug(`closed span for huddle_events trace: ${K}`)}},this.closeSpan=F=>{F&&(F.getCloseTimeMs()||F.close())},this.recordEntryPoint=F=>{Object.assign(this.sharedTags,{entryPoint:F})},this.tracer=Object(r.a)({teamOrEnterpriseId:g}),this.trace=this.tracer.createTrace({traceName:Ts,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:l.g.SESSION}}),this.teamId=g,this.logger=P,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");var V=e("sgFo");const he="HUDDLE-TRACE-MANAGER",We=Object(a.b)({label:he});let Ct=h(class{initializeTraces(g){let{teamId:P,isTinySpeck:F,isDebugApp:K}=g;const fe=Object(vs.getStoreInstanceByTeamId)(P),Me=fe.getState();this.teamId=P,this.tracer=Object(r.a)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:o.i,samplingOptions:{sampleRate:Object(t.b)()||F?1:.05,sampleType:l.g.SESSION},tags:{__dataset:"client_metrics"}}),K||(this.reconnectTrace=new i({tracer:this.tracer,trace:this.trace,logger:We}),this.ttiTrace=new d({teamId:this.teamId,logger:We}),this.huddleEventsTrace=new Ss({teamId:this.teamId,logger:We})),this.huddlePerfTraceManager=new Ds({teamId:this.teamId,logger:We,isTinySpeck:F,dispatch:fe.dispatch,useRtmScheduler:Object(V.s)(Me)}),this.noAudioInputTrace=new u({tracer:this.tracer,trace:this.trace,logger:We})}setCallId(g){var P;this.callId=g,(P=this.trace)===null||P===void 0||P.addTags({callId:this.callId}),g&&Un.a.publish({type:E.a.CallId,update:{callId:g}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,noAudioInputTrace:this.noAudioInputTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace}}cleanup(){var g,P,F,K,fe,Me,Te;(g=this.reconnectTrace)===null||g===void 0||g.report(),(P=this.noAudioInputTrace)===null||P===void 0||P.report(),(F=this.ttiTrace)===null||F===void 0||F.report(),(K=this.huddlePerfTraceManager)===null||K===void 0||K.report(!0),(fe=this.huddleEventsTrace)===null||fe===void 0||fe.report(),(Me=this.tracer)===null||Me===void 0||Me.reportTrace(this.trace),(Te=this.tracer)===null||Te===void 0||Te.clearTrace(this.trace),We.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.noAudioInputTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,this.callId=null}constructor(){We.info("Huddle Trace Manager created")}},"HuddleTraceManager");const Gt=Object(s.a)(()=>new Ct);var sn=n.a=Gt},EQgQ:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return d});var s=e("owWc"),t=e("S4vl");const a=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,l=6;function o(m){let c=1;for(;c*2<m;)c*=2;return c}h(o,"getPowerof2LessThan");function i(m){let E=.01;for(const O of m)E=Math.max(E,(O-128)/128);const f=(Math.log(.01)-Math.log(E))/Math.log(.01);return Math.min(Math.max(f,0),1)}h(i,"computeStrength");function u(m){return Object(s.a)(m,(c,E)=>{const f=E.getSettings().sampleRate;return f!==void 0&&c!==void 0?Math.max(c,f):f},void 0)}h(u,"getMaxTrackSampleRate");let d=h(class{getLevel(){var c;return(c=this.analyserNode)===null||c===void 0||c.getByteTimeDomainData(this.data),i(this.data)/l}stop(){var c;if(this.analyserNode){var E;(E=this.audioNode)===null||E===void 0||E.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(c=this.audioCtx)===null||c===void 0||c.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(c,E){Object(t.b)(E>=0,"Level poll interval must be positive"),this.audioCtx=new a;const f=c.getAudioTracks();Object(t.b)(!!f.length,"Need audio tracks to run analyser");const p=(u(f)||48e3)*E/1e3,b=Math.max(32,Math.min(32768,o(p)));this.data=new Uint8Array(b),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=b,this.audioNode=this.audioCtx.createMediaStreamSource(c),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},EbWb:function(H,n,e){"use strict";var s=e("Kyco"),t=e("mkcb"),a=e("2VFn");const r={[a.c]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},l=Object(s.b)({},r,{storeKey:"window",persistenceEnabled:!1}).on(t.c,(o,i)=>{let{windowId:u=a.c,...d}=i;if(!o[u])return o;const m={[a.c]:{...o[a.c]}};return m[u]={...o[u],...d},Reflect.ownKeys(o).forEach(c=>{c!==u&&d.isFocused&&(m[c]={...o[c],isFocused:!1})}),{...o,...m}}).on(t.e,(o,i)=>{let{windowId:u=a.c,...d}=i;return o[u]?{...o,[u]:{...o[u],isUnloading:d.isUnloading}}:o}).on(t.f,(o,i)=>{let{windowId:u=a.c,...d}=i;return{...o,[u]:{...o[u],...d,windowId:u}}}).on(t.d,(o,i)=>{let{windowId:u=a.c,...d}=i;return o[u]?{...o,[u]:{...o[u],bootType:d.bootType}}:o}).on(t.a,(o,i)=>{let{windowId:u}=i;if(u===a.c||!o[u])return o;const d={...o};return delete d[u],d}).on(t.b,(o,i)=>{let{windowId:u,viewport:d}=i;return o[u]?{...o,[u]:{...o[u],viewport:d}}:o});n.a=l},Efzj:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("i7LB"),l=e("gz6s"),o=e("FRd1"),i=e("ktUG"),u=e("sBXg"),d=e("7nuq");function m(){return m=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var p=arguments[O];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(f[b]=p[b])}return f},m.apply(this,arguments)}h(m,"_extends");const c={onClick:{action:i.UiAction.CLICK}},E=t.a.forwardRef(h(function(O,p){let{autoClogProps:b,className:T,href:v,invert:S=!1,children:A,hasKeyboardFocus:I=!1,..._}=O;const M=Object(a.default)("c-link",{"c-link--focus-visible":I,"c-link--invert":S},T),y=_.target==="_blank"||(v==null?void 0:v.startsWith("mailto:")),j=t.a.createElement("a",m({},Object(r.a)(_),{className:M,href:v,ref:p}),A,y&&t.a.createElement(u.a,null));return b?t.a.createElement(o.a,{autoClogProps:b,actionProps:c,elementType:i.ElementType.LINK},j):j},"BaseLink"));E.displayName="BaseLink",n.a=Object(l.a)(E)},Eh7F:function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t}),e.d(n,"c",function(){return a});var s;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(s||(s={}));var t;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong",r.STEPS="steps"})(t||(t={}));const a=60*1e3},Eoji:function(H,n,e){"use strict";e.d(n,"a",function(){return T});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("7EGn"),l=e("ifKl"),o=e("WIr4"),i=e("jWAO"),u=e("gZuW"),d=e("A7BO"),m=e("9ADk"),c=e("/DoU"),E=e("MYuU"),f=e("FRd1"),O=e("ktUG");function p(){return p=Object.assign||function(v){for(var S=1;S<arguments.length;S++){var A=arguments[S];for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(v[I]=A[I])}return v},p.apply(this,arguments)}h(p,"_extends");const b={onChange:{action:O.UiAction.ENTER_TEXT}};let T=h(class extends s.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var S;(S=this.input.current)===null||S===void 0||S.focus()}}componentDidUpdate(S,A){if((this.props.value!==S.value||this.state.isFocused!==A.isFocused)&&this.getTextStyle(),this.props.value!==S.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&S.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var I;(I=this.input.current)===null||I===void 0||I.focus()}}onBlur(){const{onBlur:S}=this.props;this.setFocus(!1),S&&S()}onFocus(){const{onFocus:S}=this.props;this.setFocus(!0),S&&S()}getTextStyle(){var S;const{maxCharacterLimit:A}=this.props;if(!A){this.setTextStyle({});return}const _={paddingRight:(S=this.characterCount)===null||S===void 0?void 0:S.getCharacterCountWidth()};this.setTextStyle(_)}setCharacterCountRef(S){this.characterCount=S}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(S){this.setState(()=>({isFocused:S}))}setInputRef(S){this.input=S}setTextStyle(S){this.setState(()=>({textStyle:S}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:S,minCharacterLimit:A,value:I}=this.props,{everReceivedUserInput:_}=this.state;return!_||A==null||!S&&I.length===0?!1:I.length<A}getIsInputLengthTooLong(){const{maxCharacterLimit:S,value:A}=this.props;return S==null?!1:A.length>S}renderDeprecatedErrorMaybe(){const{showError:S,errorLevel:A,errorText:I,errorType:_,isRequired:M,maxCharacterLimit:y,minCharacterLimit:j,value:C}=this.props;return S?I?t.a.createElement(i.d,{id:this.state.errorId,level:A,type:_,className:"margin_bottom_100"},I):!M&&C.length===0?null:this.getIsInputLengthTooLong()?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:_,className:"margin_bottom_100"},Object(E.b)(y)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.a.createElement(i.d,{id:this.state.errorId,level:i.b.error,type:_,className:"margin_bottom_100"},Object(E.c)(j)):null:null}renderErrorMaybe(){const{showError:S,errorText:A,isRequired:I,maxCharacterLimit:_,minCharacterLimit:M,value:y}=this.props;return S?A?t.a.createElement(u.a,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},A):!I&&y.length===0?null:this.getIsInputLengthTooLong()?t.a.createElement(u.a,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},Object(E.b)(_)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.a.createElement(u.a,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},Object(E.c)(M)):null:null}renderHintMaybe(){const{hintText:S}=this.props;return S?t.a.createElement(m.a,{id:this.state.hintId},S):null}renderTextArea(){const{className:S,showError:A,errorId:I,errorLevel:_,errorText:M,errorType:y,hintId:j,hintText:C,useInlineAlert:D,id:N,isRequired:B,isInvalid:L,labelId:R,name:U,onChange:W,onFocus:x,onBlur:G,maxCharacterLimit:w,minCharacterLimit:se,focusOnMount:ee,autoClogProps:X,ariaDescribedById:me,inputRef:Oe,...Ce}=this.props,{textStyle:le}=this.state,de=!!M||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||L,ie=Object(a.default)({[`c-input_textarea--with_${_}`]:de,"c-input_textarea--with_hint":C,"c-input_textarea--with_character_count":!!w,"c-input_text--with_inline_alert":D},S),pe=Object(E.e)([R,de?this.state.errorId:void 0]),ne=Object(E.e)([me,this.state.hintId,this.characterCounterId]),q=t.a.createElement(d.b,p({},Ce,{ref:this.setInputRef,style:le,ariaDescribedby:ne,isInvalid:de,ariaLabelledby:pe,ariaRequired:B,className:ie,id:N,"data-qa":Ce["data-qa"]||N,name:U,onChange:W,onFocus:this.onFocus,onBlur:this.onBlur}));return X?t.a.createElement(f.a,{autoClogProps:X,actionProps:b,elementType:O.ElementType.TEXTAREA},q):q}renderWrappedTextareaMaybe(){const{value:S,maxCharacterLimit:A,size:I,isDisabled:_}=this.props;let M=this.renderTextArea();return A&&(M=t.a.createElement(c.a,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:S==null?void 0:S.length,isDisabled:_,maxCharacterLimit:A,type:"multiline",size:I},M)),M}render(){const S=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.a.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),S,this.renderHintMaybe())}constructor(S){super(S);const{id:A}=this.props;Object(o.a)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:Object(r.a)(this.props,"errorId",Object(E.a)(A,"error")),hintId:Object(r.a)(this.props,"hintId",Object(E.a)(A,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=Object(E.a)(A,"character-count")),this.input=t.a.createRef()}},"FormTextareaInput");T.displayName="FormTextareaInput",T.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:i.b.error,errorText:null,errorType:i.c.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:l.a,onFocus:l.a,onBlur:l.a,placeholder:void 0,size:d.a.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},ErGN:function(H,n,e){"use strict";e.d(n,"a",function(){return p}),e.d(n,"b",function(){return b}),e.d(n,"c",function(){return A});var s=e("vJtL"),t=e("G4qV"),a=e("nNoG"),r=e("JvzI"),l=e("RVJP"),o=e("WD3d"),i=e("bJNA"),u=e("2m2s"),d=e("X/Mv"),m=e("LK2A"),c=e("beVI"),E=e("G0eX"),f=e("7P6I");const O=new a.b("quip_shortcut_handlers");var p;(function(I){I[I.OBJECT=0]="OBJECT",I[I.LAYOUT=1]="LAYOUT",I[I.FORMATTING=2]="FORMATTING"})(p||(p={}));const b=h(()=>({[p.OBJECT]:O.t("Objects"),[p.LAYOUT]:O.t("Layout"),[p.FORMATTING]:O.t("Formatting")}),"getCategoryDetails"),T=h(I=>{const _=Object(l.d)(I,"canvas_shortcut_commands_reorder")==="on";if(_)return Object(f.c)(I,_);const M=Object(l.d)(I,"canvas_shortcut_command")==="on",y=Object(l.d)(I,"canvas_insert_workflow_menu")==="on",j=Object(l.d)(I,"canvas_insert_command_nux")==="on",C=Object(l.d)(I,"wfb_freemium")==="on",D=Object(E.K)(Object(c.g)(I))||C,N=b(),B=N[p.OBJECT],L=N[p.LAYOUT],R=N[p.FORMATTING];return[{id:m.SlackShortcutCommandType.CANVAS,name:()=>Object(o.a)(i.a.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:Object(d.a)(i.a.CANVAS).name,category:p.OBJECT,aliases:[B]},{id:m.SlackShortcutCommandType.FILE,name:()=>Object(o.a)(i.a.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:p.OBJECT,aliases:[B]},{id:m.SlackShortcutCommandType.IMAGE,name:()=>Object(o.a)(i.a.IMAGE),canonicalName:"/image",autocomplete:!0,icon:Object(d.a)(i.a.IMAGE).name,category:p.OBJECT,aliases:[B]},{id:m.SlackShortcutCommandType.TABLE,name:()=>Object(o.a)(i.a.TABLE),canonicalName:"/table",autocomplete:!0,icon:Object(d.a)(i.a.TABLE).name,category:p.OBJECT,aliases:M?[O.t("grid"),O.t("spreadsheet"),B]:[]},{id:m.SlackShortcutCommandType.DIVIDER,name:()=>Object(o.a)(i.a.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:Object(d.a)(i.a.DIVIDER).name,category:p.OBJECT,aliases:M?[O.t("horizontal line"),B]:[]},{id:m.SlackShortcutCommandType.AUDIO,name:()=>Object(o.a)(i.a.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:Object(d.a)(i.a.AUDIO_CLIP).name,category:p.OBJECT,aliases:[B]},{id:m.SlackShortcutCommandType.VIDEO,name:()=>Object(o.a)(i.a.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:Object(d.a)(i.a.VIDEO_CLIP).name,category:p.OBJECT,aliases:[B]},...y&&D?[{id:m.SlackShortcutCommandType.WORKFLOW,name:()=>Object(o.a)(i.a.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:y}),canonicalName:"/workflow",autocomplete:!0,icon:Object(d.a)(i.a.WORKFLOW).name,category:p.OBJECT,aliases:[B]}]:[],{id:m.SlackShortcutCommandType.TWO_COLUMNS,name:()=>j?O.t("Two columns"):"",canonicalName:"/twocolumns",autocomplete:!0,icon:"column-two",category:p.LAYOUT,aliases:[L]},{id:m.SlackShortcutCommandType.THREE_COLUMNS,name:()=>j?O.t("Three columns"):"",canonicalName:"/threecolumns",autocomplete:!0,icon:"column-three",category:p.LAYOUT,aliases:[L]},{id:m.SlackShortcutCommandType.PLAIN,name:()=>Object(o.a)(i.a.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:Object(d.a)(i.a.PARAGRAPH).name,category:p.FORMATTING,aliases:M?[O.t("plain"),R]:[]},{id:m.SlackShortcutCommandType.H1,name:()=>Object(o.a)(i.a.H1),canonicalName:"/largeheading",autocomplete:!0,icon:Object(d.a)(i.a.H1).name,category:p.FORMATTING,aliases:["h1",R]},{id:m.SlackShortcutCommandType.H2,name:()=>Object(o.a)(i.a.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:Object(d.a)(i.a.H2).name,category:p.FORMATTING,aliases:["h2",R]},{id:m.SlackShortcutCommandType.H3,name:()=>Object(o.a)(i.a.H3),canonicalName:"/smallheading",autocomplete:!0,icon:Object(d.a)(i.a.H3).name,category:p.FORMATTING,aliases:["h3",R]},{id:m.SlackShortcutCommandType.CHECKLIST,name:()=>Object(o.a)(i.a.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:Object(d.a)(i.a.CHECK_LIST).name,category:p.FORMATTING,aliases:[R]},{id:m.SlackShortcutCommandType.ORDERED_LIST,name:()=>Object(o.a)(i.a.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:Object(d.a)(i.a.ORDERED_LIST).name,category:p.FORMATTING,aliases:[R]},{id:m.SlackShortcutCommandType.BULLET_LIST,name:()=>Object(o.a)(i.a.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:Object(d.a)(i.a.BULLET_LIST).name,category:p.FORMATTING,aliases:[R]},{id:m.SlackShortcutCommandType.BLOCKQUOTE,name:()=>Object(o.a)(i.a.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:Object(d.a)(i.a.BLOCKQUOTE).name,category:p.FORMATTING,aliases:[R]},{id:m.SlackShortcutCommandType.CODE,name:()=>Object(o.a)(u.a.CODE),canonicalName:"/code",autocomplete:!0,icon:Object(d.a)(u.a.CODE).name,category:p.FORMATTING,aliases:[R]},{id:m.SlackShortcutCommandType.CODEBLOCK,name:()=>Object(o.a)(i.a.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:Object(d.a)(i.a.CODE_BLOCK).name,category:p.FORMATTING,aliases:[R]}]},"getCommands");function v(I,_){return Object(s.a)(_)?_(I):_}h(v,"maybePassState");function S(I,_){return{..._,autocomplete:v(I,_.autocomplete),name:v(I,_.name),type:"client"}}h(S,"formatShortcut");const A=Object(t.a)(I=>I,()=>Object(r.a)(),I=>T(I).map(M=>S(I,M)))},Erbp:function(H,n,e){"use strict";e.d(n,"b",function(){return a});var s=e("Lgge");let t;const a=h(r=>{t=r},"setWaitForStartStop");n.a=()=>t?t():s.a.resolve()},EzMJ:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=h(r=>(r||"").split(/\s+/)[0],"getFirstWord"),t=h(r=>["/","\uFF0F"].includes((r||"").charAt(0))?r:`/${r}`,"prependSlashToStr"),a=h(r=>((r||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace")},"F0b/":function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("d/xU");function t(){return`https://${Object(s.n)()}`}h(t,"getSlackRootUrl")},FFTZ:function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("ANjH"),t=e("ykb+"),a=e("QOYf"),r=e("M9qL");const l=h(m=>{switch(m.type){case r.a.getType():return{...m,payload:"Channel bulk add payload is too big to output to redux devtools"};default:return m}},"actionSanitizer"),o=Object(a.a)()?void 0:()=>({apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"});var u={autoPause:!0,actionSanitizer:l,stateSanitizer:o,maxAge:1e3,features:{pause:!0}};function d(m){let{teamOrEnterpriseId:c,appName:E="",customEnhancers:f,middlewares:O,disableDevTools:p}=m;return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!p&&(Object(t.b)()||Object(t.c)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({...u,name:["Slack",c,E].filter(v=>v&&v.length>0).join("-")}):s.d)(Object(s.a)(...O??[]),...f??[])}h(d,"configureEnhancers")},FN5i:function(H,n,e){"use strict"},FSos:function(H,n,e){"use strict";e.d(n,"d",function(){return p}),e.d(n,"a",function(){return b}),e.d(n,"c",function(){return T}),e.d(n,"b",function(){return v});var s=e("n3tL"),t=e("UXvI"),a=e("SQ0V"),r=e("PqaZ"),l=e("s4P+"),o=e("O86Y"),i=e("Z7Ay"),u=e("6TBL"),d=e("n0Pp");const m="PRESENCE-MANAGER",c={},E=h((I,_)=>{const M=Object(o.g)(_()),y=Object.keys(c[M]),j={type:"presence_sub",ids:y},C=Object(l.a)({getState:_});C.debug(m,`Sending a 'presence_sub' event with the following ids: ${y}`),I(Object(r.h)(j)).catch(D=>{D&&D.message===u.c||C.error(`Received an error while trying to send 'presence_sub' with the following ids: ${y}, error = ${D}`)})},"sendMessageEvent");let f;function O(){return f||(f=Object(t.a)(E,100,{leading:!1})),f}h(O,"getThrottledSendMessageEvent");const p=Object(a.c)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(I,_)=>{if(!Object(d.f)(_())){Object(l.a)({getState:_}).debug(m,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}O()(I,_)});p.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const b=Object(a.c)("Adds the member to the presence subscription or increments the associated count",function(I,_){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M||M==="USLACKBOT")return;const y=Object(o.g)(_());if(c[y]||(c[y]={}),c[y][M]){Object(l.a)({getState:_}).debug(m,`Increasing the count for ${M} by 1`),c[y][M]+=1;return}Object(l.a)({getState:_}).debug(m,`Adding ${M} to the presence subscription`),c[y][M]=1,I(p())});b.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},b.propTypes={memberId:s.default.string.isRequired};const T=Object(a.c)("Removes the member from the presence subscription or decrements the associated count",function(I,_){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M)return;const y=Object(o.g)(_());if(!(!c[y]||!c[y][M])){if(c[y][M]>1){Object(l.a)({getState:_}).debug(m,`Decreasing the count for ${M} by 1`),c[y][M]-=1;return}Object(l.a)({getState:_}).debug(m,`Removing ${M} from the presence subscription`),delete c[y][M],I(p())}});T.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},T.propTypes={memberId:s.default.string.isRequired};const v=h(I=>c[I],"getPresenceSubscriptionByTeamId"),S=h(I=>{delete c[I]},"deletePresenceSubscriptionByTeamId"),A={sendMessageEvent:E};Object(i.a)("presenceManager",{getPresenceSubscriptionByTeamId:v})},FVdo:function(H,n,e){"use strict";e.d(n,"a",function(){return E}),e.d(n,"b",function(){return f});var s=e("Zbwg"),t=e("tYiI");const a=/^P[a-z0-9-]{1,}$/;function r(O){return O?a.test(O):!1}h(r,"looksLikePageId");var l=e("2vQQ"),o=e("E3dU"),i=e("E97Y"),u=e("RWAF"),d=e("l1I1"),m=e("hwwf"),c=e("bJfW"),E;(function(O){O.Channel="channel",O.ChannelCanvas="channel_canvas",O.DM="dm",O.MPDM="mpdm",O.App="app",O.Page="page",O.Unknown="unknown",O.Doc="doc",O.List="list",O.ListRecord="list_record",O.Thread="thread",O.Help="help",O.AboutWorkspace="about_workspace",O.AiSummaryDetails="ai_summary_details",O.SearchSummary="search_summary"})(E||(E={}));function f(O,p){if(Object(s.a)(p)){const b=Object(o.d)(O,p);return Object(u.a)(O,b)?E.App:Object(i.g)(b)?E.DM:Object(i.i)(b)?E.MPDM:E.Channel}return p===E.ChannelCanvas?E.ChannelCanvas:p===E.Thread?E.Thread:Object(t.a)(p)?E.App:r(p)||Object(l.k)(p)||p&&p[0]==="V"?E.Page:Object(d.a)(p)?E.Doc:Object(m.s)(p)?E.List:Object(m.w)(p)?E.ListRecord:Object(c.a)(p)?E.AboutWorkspace:p===E.Help?E.Help:p===E.AiSummaryDetails?E.AiSummaryDetails:p===E.SearchSummary?E.SearchSummary:E.Unknown}h(f,"getViewHeaderViewType")},FZZA:function(H,n,e){"use strict";e.d(n,"c",function(){return o}),e.d(n,"b",function(){return i});var s=e("SQ0V"),t=e("lhZz"),a=e("oBB2"),r=e("+CZ0");const l=Object(s.c)("End huddle for channelId if any",(u,d,m)=>{const c=Object(t.getStateForClientStore)(),E=Object(r.b)(c);E&&E===m&&u(Object(a.a)())});l.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const o=Object(s.c)("End last active huddle for channelId if any",(u,d,m)=>{var c;const E=Object(t.getStateForClientStore)(),f=(c=Object(r.p)(E))===null||c===void 0?void 0:c.channelId;f&&f===m&&u(Object(a.a)())});o.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const i=Object(s.c)("End huddle for call Id and channelId if any",(u,d,m)=>{let{channelId:c,callId:E}=m;const f=Object(t.getStateForClientStore)(),{channelId:O,callId:p}=Object(r.p)(f)||{};O&&O===c&&p===E&&u(Object(a.a)())});i.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"},n.a=l},Fbvv:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s=h(()=>null,"noopNull")},FcR8:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("2VFn"),a=e("CnKg"),r=e("+9Uj"),l=e("E3dU"),o=e("5pIt"),i=e("7Bj1"),u=e("Ki3U"),d=e("wXOV"),m=e("ohbk"),c=e("akkM"),E=e("q1tI"),f=e.n(E),O=e("npde"),p=e("nNoG"),b=e("KkHf"),T=e("qiCS"),v=e("Fvov");const S=new p.b("slack_docs");function A(ge){let{closeModal:be}=ge;const Q=Object(E.useCallback)(()=>{let re=window.location.href;re=Object(T.d)(window.location.href,"force_cold_boot",1),Object(v.c)().finally(()=>{window.location.href=re})},[]);return f.a.createElement(b.a,{title:S.t("Can\u2019t open this canvas right now"),onClose:be,onCancel:be,onSubmit:Q,submitButtonText:S.t("Reload")},S.t("This could be because you need to update to the latest version, or you don\u2019t have permission to open this canvas. Try refreshing Slack. If that doesn\u2019t work, ask an owner or admin for help."))}h(A,"QuipUpdateModal"),A.displayName="QuipUpdateModal";var I=Object(O.a)(A),_=e("FVdo"),M=e("6dQg"),y=e("37+L"),j=e("I0j/"),C=e("i9jZ"),D=e("RV0M"),N=e("v7mh"),B=e("PIf0"),L=e("6inW"),R=e("xY6W"),U=e("A+YV"),W=e("rZ8V"),x=e("i5Ig"),G=e("ETR2"),w=e("GoiD"),se=e("D4ee"),ee=e("4KfL"),X=e("dmdh"),me=e("P9LH"),Oe=e("z28c"),Ce=e("Qyw2"),le=e("oUrV"),de=e("Ekwm"),ie=e("RVJP");const pe=Object(s.c)("Opens the doc in a new window",(ge,be,Q)=>{let{id:re,commentThreadId:z,shouldOpenCommentStream:Y,shouldOpenActivityHistory:ve,lastReadTs:Z}=Q,$;z&&($=Object(y.S)({entityId:re,commentThreadId:z})),ve&&($=Object(y.Q)(re)),Y&&($=Object(y.R)(re));const te={[t.h.Primary]:Object(y.h)({id:re,lastReadTs:Z}),[t.h.Secondary]:$};return ge(Object(i.a)({viewSet:te,viewType:_.a.Doc,shouldShowSearch:!1}))});pe.meta={name:"createThunk",key:"createThunkopenDocInNewWindow",description:"Opens the doc in a new window"};const ne=Object(s.c)("Open a Slack doc in IA4",(ge,be,Q,re)=>{let{id:z,commentThreadId:Y,clogParams:ve,versionId:Z,sequence:$,isFromQuipActivityHistory:te,shouldOpenActivityHistory:J,shouldOpenCommentStream:k,lastReadTs:ae,forceNewWindow:Ee}=Q;const{container:_e}=re(D.a),je=_e===t.h.Sidebar&&!Ee,Ue=Y?{scrollBehavior:"scroll_to_section"}:x.b;return je?ge(Y?Object(j.a)(Object(y.S)({entityId:z,commentThreadId:Y})):Object(j.a)(Object(y.h)({id:z,versionId:Z,sequence:$,preserveExistingSecondaryView:te||!!Y,clogParams:ve,lastReadTs:ae,...Ue}))):Object(C.b)()?(ge(Object(G.a)(ve)),ge(pe({id:z,commentThreadId:Y,shouldOpenCommentStream:k,shouldOpenActivityHistory:J,lastReadTs:ae}))):ge(Object(j.a)(Object(y.h)({id:z,versionId:Z,sequence:$,preserveExistingSecondaryView:te||!!Y,clogParams:ve,lastReadTs:ae,...Ue})))});ne.meta={name:"createThunk",key:"createThunkopenDocIA4",description:"Open a Slack doc in IA4"};const q=Object(s.c)("Open a Slack doc",(ge,be,Q,re)=>{let{fileId:z,inTile:Y,forceNewWindow:ve,source:Z,sectionId:$,commentThreadId:te,resetScroll:J=!0,replaceHistoryState:k=!1,inFlexpane:ae,isFromQuipActivityHistory:Ee,quipSyntheticViewSort:_e,quipSyntheticViewFilter:je,versionId:Ue,sequence:Ke,openedFromId:ke,shouldOpenActivityHistory:Qe,shouldOpenCommentStream:Ze,lastReadTs:De}=Q;var Fe;const Ve=be(),Je=Object(X.e)(Ve,z,!1);if(Je&&Object(me.t)(Je)){ge(Object(Ce.a)({file:Je}));return}if(!Object(Oe.a)(Ve)){ge(I());return}const Ot=Object(ee.b)(Ve,z),ht=Ot?Ue:void 0,Le=Ot?Ke:void 0,{fileId:jt,focusSection:Ut,openVersion:Ie}=re(r.a),{windowId:oe}=re(B.a),ye=Object(N.e)(Ve,{windowId:oe||""}),{isChildWindow:Ne}=re(D.a),Ge=Object(ie.d)(Ve,"show_badge_standalone")==="on",st=Object(ie.d)(Ve,"canvas_badging_highlighting")==="on";let $e;if(st&&(Ge?$e=Je==null?void 0:Je.last_read:$e=Object(de.b)(Ve,z||"").lastReadByUser),z===jt||z===Object(a.i)((ye==null||(Fe=ye.primary)===null||Fe===void 0?void 0:Fe.id)||"").fileIdOrQuipThreadId){if($&&Ut){Ut($);return}if(te&&ge(Object(w.a)({fileId:z,quipCommentThreadId:te})),Ee&&Ie){Ot&&Ie(ht,Le);return}}const Lt=Object(a.h)({id:z,sectionId:$,commentThreadId:te,versionId:ht,sequence:Le}),St={fileId:z,forceNewWindow:ve,source:Z,quipSyntheticViewSort:_e,quipSyntheticViewFilter:je,isChannelCanvas:!1},vt=Object(M.a)(z)?Object(l.f)(Ve,z):Object(o.c)(Ve,z);if(vt&&!Ee&&!ht&&!Le){const Yt=$||te;return st||($e=Object(de.b)(Ve,z||"").lastReadByUser),ge(Object(u.a)({channelId:vt,commentThreadId:te,forceNewWindow:ve||Y,focusSectionId:Yt,source:Z,shouldOpenActivityHistory:Ot&&Qe,shouldOpenCommentStream:Ze,quipSyntheticViewSort:_e,quipSyntheticViewFilter:je,lastReadTs:De||$e}))}if(Object(W.o)(Ve)||ge(Object(G.a)(St)),J){const et=Object(d.a)(Ve,z,!1);et&&Object(c.d)(et)}if(Object(L.b)(oe))if(ve)ge(Object(R.a)());else return ge(Object(G.a)({...St,source:le.a.HUDDLE_CANVAS_OPEN})),ge(Object(U.a)({fileId:z}));if(Ne&&!ve){const Yt=te?{scrollBehavior:"scroll_to_section"}:x.b;return ge(Object(j.a)(Object(y.h)({id:Lt,versionId:ht,sequence:Le,preserveExistingSecondaryView:Ee||!!te,clogParams:St,lastReadTs:De||$e,...Yt})))}if(Object(W.o)(Ve))return ge(ne({id:Lt,commentThreadId:te,clogParams:St,versionId:ht,sequence:Le,isFromQuipActivityHistory:Ee,shouldOpenActivityHistory:Ot&&Qe,shouldOpenCommentStream:Ze,lastReadTs:De||$e,forceNewWindow:ve}));if(Object(C.b)())return Object(W.o)(Ve)&&ge(Object(G.a)(St)),ge(pe({id:Lt,shouldOpenActivityHistory:Ot&&Qe,shouldOpenCommentStream:Ze,commentThreadId:te}));if(Y){const Yt={[t.h.Primary]:Object(y.h)({id:Lt})};return ge(Object(i.a)({viewSet:Yt,viewType:_.a.Doc}))}return ae?ge(Object(se.a)({quipDocId:Lt,source:Z})):ge(Object(m.a)({id:Lt,replaceHistoryState:k,routeParams:{canvasOpenedFromId:ke}})).then(()=>{if(te)return Object(c.c)(te),ge(Object(w.a)({fileId:z,quipCommentThreadId:te,replaceHistoryState:!0}))})});q.meta={name:"createThunk",key:"createThunkopenDoc",description:"Open a Slack doc"};var ce=n.a=q},FeOl:function(H,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u});var s=e("bTOH");const t=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],a=new RegExp(`[${t}]`),r=new RegExp(`<(${s.c})>`,"i"),l=new RegExp(`\\((${s.c})\\)`,"i"),o=/(?=\s+[@\uFF20])/g;function i(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=[];return m.entities&&m.entities.members&&m.entities.members.matchEmailField&&(r.test(d)||l.test(d))?c=d.match(new RegExp(s.b.CONTAINS_EMAIL,"gi")):a.test(d)?c=d.split(a):m.fromMetadata?c=d.split(/\s+/):m.entities&&m.entities.members&&o.test(d)&&(c=d.split(o)),(!c||!c.length)&&(c=d.split(/\s+/)),c.map(E=>E.trim()).filter(E=>Boolean(E))}h(i,"defaultSplitQuery");function u(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=d;return m.entities&&m.entities.members&&m.entities.members.matchEmailField&&s.b.CONTAINS_EMAIL.test(d)&&(c=d.match(s.b.CONTAINS_EMAIL)[0]),c}h(u,"parseQueryForSearch")},Fk5v:function(H,n,e){"use strict";var s=e("NZ+B"),t=e("mx2s"),a=e("Kyco"),r=e("E4z0"),l=e("7lBi"),o=e("j77i");const i={persistenceEnabled:!1,storeKey:"viewLayout"},u={sidebarWidthIntent:void 0,sidebarWidthMode:l.e.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:l.e.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:l.e.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:l.e.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1};try{u.sidebarWidthIntent=Object(o.f)(t.i)||void 0,u.sidebarWideWidthIntent=Object(o.f)(t.g)||void 0,u.sidebarExtraWideWidthIntent=Object(o.f)(t.d)||void 0,u.secondaryWidthIntent=Object(o.f)(t.b)||void 0,u.sidebarWidthMode=Object(o.f)(t.j)||l.e.AUTO,u.sidebarWideWidthMode=Object(o.f)(t.h)||l.e.AUTO,u.sidebarExtraWideWidthMode=Object(o.f)(t.e)||l.e.AUTO,u.secondaryWidthMode=Object(o.f)(t.c)||l.e.AUTO;const m=Object(o.f)(t.f);u.isSidebarVisible=Object(s.a)(m)?m:!0;const c=Object(o.f)(t.l);u.isWorkspaceSwitcherVisible=Object(s.a)(c)?c:!1}catch{}const d=Object(a.b)({},u,i).on(r.e,(m,c)=>{let{sidebarWidthIntent:E,sidebarWidthMode:f}=c;return{...m,sidebarWidthIntent:E,sidebarWidthMode:f}}).on(r.g,(m,c)=>{let{sidebarWideWidthIntent:E,sidebarWideWidthMode:f}=c;return{...m,sidebarWideWidthIntent:E,sidebarWideWidthMode:f}}).on(r.f,(m,c)=>{let{sidebarExtraWideWidthIntent:E,sidebarExtraWideWidthMode:f}=c;return{...m,sidebarExtraWideWidthIntent:E,sidebarExtraWideWidthMode:f}}).on(r.d,(m,c)=>{let{secondaryWidthIntent:E,secondaryWidthMode:f}=c;return{...m,secondaryWidthIntent:E,secondaryWidthMode:f}}).on(r.a,(m,c)=>({...m,isSidebarVisible:c})).on(r.b,(m,c)=>({...m,isSidebarVisibleWhenFloating:c})).on(r.c,(m,c)=>({...m,isWorkspaceSwitcherVisible:c}));n.a=d},FlEr:function(H,n,e){"use strict";var s=e("ZKjC"),t=e("xwCZ");const a=Object(s.b)((r,l)=>Object(t.g)(r,l).profile.statusEmojiDisplayInfo||void 0);a.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(r,l)=>Object(t.g)(r,l).profile.statusEmojiDisplayInfo||void 0},n.a=a},"G/rR":function(H,n,e){H.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},G0Vk:function(H,n,e){H.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},G2FQ:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("kzMN");function t(a){return Object(s.a)(a)?a.replace(/^BK/,""):""}h(t,"getBroadcastKeyword")},G4FP:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("4HNC"),l=e("E3dU"),o=e("sGXp"),i=e("4unc"),u=e("Iy3M"),d=e("fMsH");function m(){return m=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var v in T)Object.prototype.hasOwnProperty.call(T,v)&&(p[v]=T[v])}return p},m.apply(this,arguments)}h(m,"_extends");function c(p,b,T){if(p)return b||T?o.d.highlightDim:o.d.highlightDark;if(b||T)return o.d.dim}h(c,"getBaseStyle");function E(p){let{className:b,secondaryContent:T,isActive:v=!1,isDeactivated:S=!1,isDisabled:A=!1,showUnreadBadge:I=!1,badgeCount:_=0,onlyBoldIfUnread:M=!1,...y}=p,j=T;I&&(j=t.a.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},T,t.a.createElement(i.b,{count:_,className:"c-channel_entity__mentions",style:v?"white":"red"})));const C=c(v,A,S);return t.a.createElement(r.a,{className:b,primaryContent:t.a.createElement(u.a,m({invert:C===o.d.highlightDark,onlyBoldIfUnread:M},y)),secondaryContent:j,size:"small",style:C})}h(E,"SmallChannelListEntity"),E.displayName="SmallChannelListEntity";function f(p){return Object.prototype.hasOwnProperty.call(p,"channel")}h(f,"propsContainsChannel");function O(p,b){const T=f(b)?b.channel:Object(l.d)(p,b.channelId),v=b.showUnreadBadge?b.badgeCount||Object(l.c)(p,T):0;return{channel:T,badgeCount:v}}h(O,"mapStateToProps"),n.a=Object(a.a)(O)(E)},GCXW:function(H,n,e){H.exports=e.p+"slackbot_fancy_32-176771b.png"},"GFD/":function(H,n,e){"use strict";e.d(n,"b",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("BHdc");const r="_isSlackMenuSeparator";function l(u){let{className:d,noPadding:m,noPaddingAbove:c,noPaddingBelow:E,noFirstChild:f,noLastChild:O}=u;const p=Object(a.default)("c-menu_separator__li",{padding_0:m,padding_top_0:c,padding_bottom_0:E,"c-menu_separator__li--no_first_child":f,"c-menu_separator__li--no_last_child":O},d);return t.a.createElement("div",{className:p},t.a.createElement("hr",{className:"c-menu_separator__separator"}))}h(l,"MenuSeparator"),l.displayName="MenuSeparator",l[r]=!0;var o=n.a=l;function i(u){return!!(u!=null&&u[r])}h(i,"isMenuSeparator")},GJt6:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("g3+L"),r=e("IsIP");function l(o,i){const{addFocusTransitionListener:u,removeFocusTransitionListener:d}=Object(s.useContext)(a.a),m=Object(s.useMemo)(()=>Object(r.d)({focusKey:o}),[o]);Object(s.useEffect)(()=>(u(m,i),()=>{d(m,i)}),[u,m,i,d])}h(l,"useFocusTransitionListener")},GKly:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Xfqj");let t=null;function a(){if(t===null){var r,l;t=(document==null||(r=document.documentElement)===null||r===void 0||(l=r.dataset)===null||l===void 0?void 0:l.app)===s.a.WORKFLOW_BUILDER}return t}h(a,"isWorkflowBuilder")},GS6c:function(H,n,e){"use strict";e.d(n,"a",function(){return J});var s=e("Lgge"),t=e("/1FC"),a=e("fujP"),r=e("xWuZ"),l=e("ifKl"),o=e("lCmp"),i=e("TGBA"),u=e("wBxZ"),d=e("E3dU"),m=e("i5Ig"),c=e("g4Nj"),E=e("dmdh"),f=e("y23z"),O=e("WXkz"),p=e("xwCZ"),b=e("9wgI"),T=e("od0p"),v=e("GhjL"),S=e("O86Y"),A=e("I27i"),I=e("fTzy"),_=e("yrot"),M=e("bqbz"),y=e("isHU"),j=e("26vS"),C=e("x3ts"),D=e("NX5n"),N=e("NV6F"),B=e("rKeN"),L=e("mLC8"),R=e("Pw4T"),U=e("gPPH"),W=e("Z7Ay"),x=e("lhZz"),G=e("ktUG"),w=e("RVJP"),se=e("Ir4d"),ee=e("Bwf8"),X=e("+eea"),me=e("WTVm"),Oe=e("Y3/F"),Ce=e("ie1g"),le=e("KZ1R"),de=e("hwwf"),ie=e("9oTK"),pe=e("SQ0V"),ne=e("IIEv"),q=e("Z01D");const ce=Object(pe.c)("Fetch list records for lists mentions",function(){var k=Object(ie.coroutine)(function*(ae,Ee,_e){let{query:je}=_e;const Ue=Object(de.x)(je);if(!Ue)return;const{listTitle:Ke}=Ue,ke=ae(Object(q.a)()),Qe=Object(de.j)(ke,Ke);if(!Qe)return;const Ze=Qe.id;yield ae(Object(ne.a)({listId:Ze}))});return function(ae,Ee,_e){return k.apply(this,arguments)}}());ce.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var ge=e("046c"),be=e("coh6"),Q=e("w/U0"),re=e("G5NC"),z=e("ptQX"),Y=e("R4JA"),ve=e("KPXh"),Z=e("ErGN");class ${search(ae){let{query:Ee,options:_e}=ae;var je;if(this.maybeStartSession(Ee),(Ee===void 0||!Ee.length)&&!_e.allowEmptyQuery)return s.a.resolve(m.a);if(Object(t.a)(Ee))return this.bulkSearch({queryRecords:Ee,options:_e});const Ue=Object(x.getStateByTeamId)(this.teamId),Ke=Object(R.d)({state:Ue}),ke=Object(U.a)();Ke.mark(`modern-searcher-search-mark-${ke}`);const Qe=Object(se.a)(Ee??"");L.d.start({label:L.a.Searcher,id:ke,options:{teamId:Object(S.g)(Ue),tags:this.getTraceTags({query:Qe,options:_e})}});const Ze=(je=L.d.get({label:L.a.Searcher,id:ke}))===null||je===void 0?void 0:je.createChildSpan({name:"searcher:search"}),De=Object(be.e)(Ue,_e,be.a,Ee);if(Object(a.a)(De))return s.a.resolve(m.a);if(Object(I.a)(Ue)!==A.a.ONLINE||!(_e!=null&&_e.allowEmptyQueryRemoteSearch)&&!Qe.length&&Object(re.a)()&&Object(w.d)(Ue,"searcher_local_empty_string")==="treatment"&&!_e.entities.lists)return s.a.resolve(this.searchLocal({query:Qe,options:De,autoTraceId:ke,parentSpanId:Ze==null?void 0:Ze.getId()}));const Fe=this.fetchRemote({query:Qe,options:De,autoTraceId:ke,parentSpanId:Ze==null?void 0:Ze.getId()}).then(Ve=>this.processFetchedEntities({query:Qe,data:Ve,options:De,autoTraceId:ke,parentSpanId:Ze==null?void 0:Ze.getId()}));if(De.tiered){const Ve=this.searchLocal({query:Qe,options:De,autoTraceId:ke,parentSpanId:Ze==null?void 0:Ze.getId()});return Ve.promise=Fe.finally(()=>{Ze==null||Ze.close(),L.d.stop({label:L.a.Searcher,id:ke})}),s.a.resolve(Ve).finally(()=>{Ke.measureAndClear(`modern-searcher-search-mark-${ke}`,"modern-searcher-search-tiered")})}return Fe.finally(()=>{Ke.measureAndClear(`modern-searcher-search-mark-${ke}`,"modern-searcher-search"),Ze==null||Ze.close(),L.d.stop({label:L.a.Searcher,id:ke})})}flattenResultsWithQueryId(ae){let{returnedResults:Ee,queryIds:_e}=ae;const je=Ee;for(let Ue=0;Ue<Ee.length;Ue++)for(let Ke=0;Ke<Ee[Ue].length;Ke++)je[Ue][Ke].queryId=_e[Ue];return Object(r.a)(je)}bulkSearch(ae){let{queryRecords:Ee,options:_e}=ae;const je=Object(x.getStateByTeamId)(this.teamId),Ue=Object(R.d)({state:je}),Ke=Object(U.a)();Ue.mark(`modern-searcher-search-mark-${Ke}`);const ke=Object(be.e)(je,_e,be.a,"");if(Object(a.a)(ke))return s.a.resolve(m.a);const Qe=Ee.map(Ot=>Ot.query),Ze=Ee.map(Ot=>Ot.queryId),De=Qe.map(Ot=>Object(se.a)(Ot));let Fe,Ve;if(Object(I.a)(je)!==A.a.ONLINE)return Ve=De.map(Ot=>this.searchLocal({query:Ot,options:ke})),Fe=this.flattenResultsWithQueryId({returnedResults:Ve,queryIds:Ze}),s.a.resolve(Fe);const Je=this.fetchRemote({query:De,options:ke}).then(Ot=>(Ve=Ot.map((ht,Le)=>this.processFetchedEntities({query:De[Le],data:ht,options:ke})),this.flattenResultsWithQueryId({returnedResults:Ve,queryIds:Ze})));return ke.tiered?(Ve=De.map(Ot=>this.searchLocal({query:Ot,options:ke})),Fe=this.flattenResultsWithQueryId({returnedResults:Ve,queryIds:Ze}),Fe.promise=Je,s.a.resolve(Fe).finally(()=>{Ue.measureAndClear(`modern-searcher-search-mark-${Ke}`,"modern-searcher-search-tiered")})):Je.finally(()=>{Ue.measureAndClear(`modern-searcher-search-mark-${Ke}`,"modern-searcher-search")})}searchLocal(ae){let{query:Ee,options:_e,autoTraceId:je,parentSpanId:Ue}=ae;var Ke;const ke=Object(x.getStateByTeamId)(this.teamId);let Qe=je;Qe||(Qe=Object(U.a)(),L.d.start({label:L.a.Searcher,id:Qe,options:{teamId:Object(S.g)(ke),tags:this.getTraceTags({query:Ee,options:_e})}}));const Ze=(Ke=L.d.get({label:L.a.Searcher,id:Qe}))===null||Ke===void 0?void 0:Ke.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Ue}});if(!Ee.length&&!_e.allowEmptyQuery)return[];const De=Object(be.e)(ke,_e,be.a,Ee);if(Object(a.a)(De))return[];const Fe=Object(se.a)(Ee),Ve=this.fetchLocal({query:Ee,options:De}),Je=this.processFetchedEntities({query:Fe,data:Ve,options:De,autoTraceId:Qe,parentSpanId:Ze==null?void 0:Ze.getId()});return Ze==null||Ze.close(),Je}fetchRemote(ae){let{query:Ee,options:_e,autoTraceId:je,parentSpanId:Ue}=ae;var Ke;const ke=Object(x.getStateByTeamId)(this.teamId),Qe=(Ke=L.d.get({label:L.a.Searcher,id:je}))===null||Ke===void 0?void 0:Ke.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Ue}});this.pendingRequests.forEach(oe=>oe.cancel()),this.pendingRequests=[];const Ze=[],De=[],{channels:Fe,emoji:Ve,files:Je,lists:Ot,members:ht,teams:Le,userGroups:jt,appActions:Ut,workflowTriggers:Ie}=_e.entities;if(ht){let oe;Object(t.a)(Ee)?oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.g)({queries:Ee,options:_e})):oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.x)({query:Ee,options:_e})),this.pendingRequests.push(oe),ht.runaway?De.push(oe):Ze.push(oe)}if(Fe&&!Object(t.a)(Ee)){const oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.t)({query:Ee,options:_e}));this.pendingRequests.push(oe),Fe.runaway?De.push(oe):Ze.push(oe)}if(Ve&&!Object(t.a)(Ee)){const oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.u)({query:Ee,options:_e}));this.pendingRequests.push(oe),Ve.runaway?De.push(oe):Ze.push(oe)}if(Je&&!Object(t.a)(Ee)&&(Object(Q.a)(Ee)||Ee.length>3)){const oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.v)({query:Ee,options:_e}));this.pendingRequests.push(oe),Je.runaway?De.push(oe):Ze.push(oe)}if(Ot&&!Object(t.a)(Ee)){const oe=Object(x.dispatchForTeamId)(this.teamId,Ee.indexOf(">")<0?Object(le.a)({query:Ee}):ce({query:Ee}));this.pendingRequests.push(oe),Ot.runaway?De.push(oe):Ze.push(oe)}if(jt){let oe;Object(t.a)(Ee)?oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.h)({queries:Ee,options:_e})):oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.z)({query:Ee,options:_e})),this.pendingRequests.push(oe),jt.runaway?De.push(oe):Ze.push(oe)}if(Object(B.a)(ke)&&Le&&!Object(t.a)(Ee)){const oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.y)({query:Ee,options:_e}));this.pendingRequests.push(oe),Le.runaway?De.push(oe):Ze.push(oe)}if(Object(y.a)(ke)&&Ut){const oe=Object(x.dispatchForTeamId)(this.teamId,Object(c.a)()).timeout(2e3).catch(l.a);this.pendingRequests.push(oe),Ut.runaway?De.push(oe):Ze.push(oe)}if(Ie&&!Object(t.a)(Ee)){const oe=Object(x.dispatchForTeamId)(this.teamId,Object(be.A)({query:Ee}));Ie.runaway?De.push(oe):Ze.push(oe)}return s.a.all(Ze).then(oe=>{let ye;if(Object(t.a)(Ee))ye=Ee.map($e=>this.fetchLocal({query:$e,options:_e})).map($e=>{const It={...$e};return It.remoteIds=Object(be.w)(oe),It});else{if(ye=this.fetchLocal({query:Ee,options:_e}),ye.remoteIds=Object(be.w)(oe),ht&&ht.onlyFromExternalWorkspaceId){var Ne,Ge;ye.members=(Ge=(Ne=oe.find($e=>!!$e.members))===null||Ne===void 0?void 0:Ne.members)!==null&&Ge!==void 0?Ge:m.a}const st=Object(o.a)(Object(i.a)(ye),"length");if(De.length&&!st)return s.a.all(De).then(()=>this.fetchLocal({query:Ee,options:_e}))}return Qe==null||Qe.close(),ye}).finally(()=>{this.pendingRequests=[]})}fetchLocal(ae){let{query:Ee,options:_e}=ae;const je=Object(x.getStateByTeamId)(this.teamId);Object(be.E)(_e);const Ue={},{members:Ke,channels:ke,teams:Qe,userGroups:Ze,appActions:De,views:Fe,broadcastKeywords:Ve,emoji:Je,files:Ot,links:ht,lists:Le,channelSections:jt,emails:Ut,modals:Ie,shortcuts:oe,workflowTriggers:ye,helpArticles:Ne}=_e.entities;if(ke&&(ke.includePublic||ke.includePrivate)&&(Ue.channels=Object(be.l)(je,_e)),ke&&ke.includeMpims&&(Ue.mpims=Object(d.r)(je)),ke&&ke.includeIms&&(Ue.ims=Object(d.o)(je)),Ke&&(Ue.members=Ke.onlyFromExternalWorkspaceId?m.a:Object(p.a)(je).filter($e=>Object(z.a)(je,$e.id)&&!Object(Y.a)(je,$e.id))),Qe&&(Ue.teams=Object(be.o)(je,_e)),Ze&&(Ue.userGroups=Object(v.c)(je)),De&&(Ue.appActions=Object(D.a)(je)?Object(C.b)(je):Object(be.f)(je,De.channel)),Ot&&(Ue.files=Object(E.a)(je)),ht&&(Ue.links=Object(f.a)(je)),Le&&(Ee.indexOf(">")<0?Ue.lists=Object(O.o)(je):Ue.listRecords=Object(O.p)(je,Ee)),Fe&&(Ue.views=Object(be.p)(je)),Ie&&(Ue.modals=Object(be.n)(je)),Ve){var Ge;const $e=Ve.currentChannel?Ve.currentChannel.id:null;Ue.broadcastKeywords=!((Ge=_e.entities.broadcastKeywords)===null||Ge===void 0)&&Ge.includeAll||!$e?Object(T.a)():Object(b.a)(je,$e)}if(Je&&(Ue.emoji=Object(_.e)(je)),jt&&(Ue.channelSections=Object(i.a)(Object(M.b)(je))),(oe!=null&&oe.slashCommands||oe!=null&&oe.fakeGlobalActions)&&!(oe!=null&&oe.isAnnounceOnly)&&(Ue.slashCommands=Object(D.a)(je)?Object(N.j)(je,oe.channel,oe.threadTs,!0).map($e=>({...$e,id:Object(ve.e)($e),isSlashCommand:!0})):Object(be.B)(je,oe.channel,oe.threadTs)),oe!=null&&oe.slackGlobalActions&&(Ue.slackGlobalActions=Object(N.h)(je,oe.channel,oe.threadTs)),oe!=null&&oe.quipShortcutCommands&&(Ue.quipShortcutCommands=Object(Z.c)(je)),oe!=null&&oe.channelActions&&(Ue.channelActions=Object(j.b)(je,oe.channel)),oe!=null&&oe.fakeGlobalActions&&(Ue.fakeGlobalActions=Object(N.g)(je,oe.channel,oe.threadTs,Ue.slashCommands)),oe!=null&&oe.callActions&&(Ue.callActions=Object(N.f)(je,oe.channel,oe.threadTs,oe.isAnnounceOnly)),ye){const $e=Object(N.e)(je);ye.includeAutomated?Ue.workflowTriggers=$e:Ue.workflowTriggers=$e.filter(It=>It.type===ge.a.Shortcut)}Ut&&(Ue.emails=Object(be.m)(Ee));const st=Object(Oe.a)(je);return Ne&&st&&(Ue.helpArticles=Object(Ce.c)(je,"searcher/fetch_all_articles")),Object(be.H)(),Ue}processFetchedEntities(ae){let{query:Ee,data:_e,options:je,autoTraceId:Ue,parentSpanId:Ke}=ae;var ke,Qe,Ze;const De=Object(x.getStateByTeamId)(this.teamId),Fe=(ke=L.d.get({label:L.a.Searcher,id:Ue}))===null||ke===void 0?void 0:ke.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Ke}});Object(be.E)(je);const Ve={},Je=new ee.a({query:Ee,options:je}),Ot=Object(R.d)({state:De});Ot.mark("modern-searcher-matching-mark");const ht=(Qe=L.d.get({label:L.a.Searcher,id:Ue}))===null||Qe===void 0?void 0:Qe.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});if(_e.channels&&(Ve.channels=Je.filterChannels(De,_e.channels,Object(be.i)(De,je.entities.channels))),_e.members&&(Ve.members=Je.filterMembers(De,_e.members,Object(be.q)(De,je.entities.members))),_e.emails&&_e.members&&!(!(Ve==null||(Ze=Ve.members)===null||Ze===void 0)&&Ze.length)&&(Ve.emails=_e.emails),_e.mpims&&(Ve.mpims=Je.filterMpims(De,_e.mpims,Object(be.r)(De,je.entities.channels))),_e.ims&&(Ve.ims=Je.filterIms(De,_e.ims,Object(be.k)(De,je.entities.channels))),_e.userGroups&&(Ve.userGroups=Je.filterUserGroups(De,_e.userGroups,Object(be.D)(De,je.entities.userGroups))),_e.teams&&(Ve.teams=Je.filterTeams(De,_e.teams,Object(be.C)(De,je.entities.teams))),_e.views&&(Ve.views=Je.filterViews(De,_e.views)),_e.modals&&(Ve.modals=Je.filterModals(De,_e.modals)),_e.appActions&&(Ve.appActions=Je.filterAppActions(De,_e.appActions)),_e.slashCommands&&(Ve.slashCommands=Je.filterShortcuts(De,_e.slashCommands,!0)),_e.slackGlobalActions&&(Ve.slackGlobalActions=Je.filterShortcuts(De,_e.slackGlobalActions)),_e.quipShortcutCommands&&(Ve.quipShortcutCommands=Je.filterShortcuts(De,_e.quipShortcutCommands)),_e.channelActions&&(Ve.channelActions=Je.filterShortcuts(De,_e.channelActions)),_e.fakeGlobalActions&&(Ve.fakeGlobalActions=Je.filterShortcuts(De,_e.fakeGlobalActions)),_e.callActions&&(Ve.callActions=Je.filterShortcuts(De,_e.callActions)),_e.workflowTriggers&&(Ve.workflowTriggers=Je.filterWorkflowTriggers(De,_e.workflowTriggers)),_e.broadcastKeywords&&(Ve.broadcastKeywords=Je.filterBroadcastKeywords(De,_e.broadcastKeywords)),_e.emoji&&(Ve.emoji=Je.filterEmoji(De,_e.emoji)),_e.channelSections&&(Ve.channelSections=Je.filterChannelSections(De,_e.channelSections,$e=>{var It,Lt;return!!(!((It=je.entities.channelSections)===null||It===void 0||(Lt=It.includeTypes)===null||Lt===void 0)&&Lt[$e.type])})),_e.files&&(Ve.files=Je.filterFiles(De,_e.files,Object(be.j)(De,je.entities.files))),_e.links&&(Ve.links=Je.filterLinks(De,_e.links)),_e.lists&&(Ve.lists=Je.filterLists(De,_e.lists)),_e.listRecords){var Le;const{recordQuery:$e}=(Le=Object(de.x)(Ee))!==null&&Le!==void 0?Le:{},It=new ee.a({query:$e,options:je});Ve.listRecords=It.filterListRecords(De,_e.listRecords)}_e.helpArticles&&(Ve.helpArticles=Je.filterHelpArticles(De,_e.helpArticles)),Ot.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),ht==null||ht.close();const jt=Object(be.b)(Ve,_e.remoteIds||{});let Ut=Object(r.a)(Object.values(jt));const Ie=500,oe=3;var ye;const Ne=Math.min(((ye=je==null?void 0:je.limit)!==null&&ye!==void 0?ye:1)*oe,Ie);if(je.sort&&!je.sort.bypassSorting){var Ge;let $e=!1;Ut.length<Ne&&($e=!0);const It=new X.a({query:Ee,options:{modelOnly:$e,...je.sort}}),Lt=(Ge=L.d.get({label:L.a.Searcher,id:Ue}))===null||Ge===void 0?void 0:Ge.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});Ut=It.sort(De,jt),Lt==null||Lt.close()}if(je.sort&&je.sort.frecency&&!je.sort.bypassSorting){var st;const $e=(st=L.d.get({label:L.a.Searcher,id:Ue}))===null||st===void 0?void 0:st.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});Ut=new me.a({query:Ee,options:je.sort,teamId:Object(S.g)(De),enterpriseId:Object(B.a)(De)&&Object(S.d)(De)?Object(S.d)(De):void 0}).sort(De,Ut.slice(0,Ne)),$e==null||$e.close()}return je.limit&&(Ut=Object(u.a)(Ut,je.limit)),je.returnMetadata||(Ut=Ut.map($e=>$e.item)),Object(be.H)(),Ut||[]}clogSearcherAccept(ae){let{clogger:Ee,data:_e}=ae;const{source:je,query:Ue,results:Ke,selectedItemId:ke,displayedItemIds:Qe}=_e,Ze=15;if(!ke)return;const De=Qe?Qe.length:Ke.length,Fe=Qe?Qe.indexOf(ke):Ke.findIndex(Ne=>Ne.item.id===ke);if(Fe<0)return;const Ve=Ke.find(Ne=>Ne.item.id===ke);if(!Ve)return;const Je=Ve.type||"other",Ot=Object(t.a)(Ue)?Ue.map(Ne=>Object(se.a)(Ne)):Object(se.a)(Ue),ht=Ve.source||"local";let Le;Ve.type==="mpim"?Le=Ve.scoreDetailsByMember:Ve.type==="member"?Le={[ke]:{is_exact_match:Ve.isExactMatch,exact_match_details:Ve.exactMatchDetails,score_details:Ve.scoreDetails}}:Ve.type==="emoji"&&(Le={[ke]:{is_exact_match:Ve.isExactMatch}});let jt=[];Ke.some(Ne=>Ne.featureVectorRaw)&&(Qe?jt=Qe.map(Ne=>{const Ge=Ke.find(st=>st.item.id===Ne);return Ge&&Ge.featureVectorRaw.serialize()||""}):jt=Ke.map(Ne=>{var Ge,st;return Ne==null||(Ge=Ne.featureVectorRaw)===null||Ge===void 0||(st=Ge.serialize)===null||st===void 0?void 0:st.call(Ge)}));let Ie;Object(t.a)(Ot)?Ie=Ot.reduce((Ne,Ge)=>Ne+Object(be.s)(Object(se.a)(Ge)),0):Ie=Object(be.s)(Ot);var oe;const ye={source:je,query_length:Ot.length?Ot.length:0,query_terms_length:Ie,results_length:De,selected_position:Fe,selected_type:Je,selected_source:ht,selected_match_details:Le,feature_vector_list:jt.slice(0,Ze),session_length:Date.now()-((oe=this.sessionTs)!==null&&oe!==void 0?oe:0)};Ee.track(G.EventId.SEARCHER_ACCEPT,ye),this.endSession()}clogSearcherReject(ae){let{clogger:Ee,data:_e}=ae;const{source:je,query:Ue,results:Ke,displayedItemIds:ke}=_e,Qe=ke!==void 0?ke.length:Ke.length,Ze=Object(t.a)(Ue)?Ue.map(Je=>Object(se.a)(Je)):Object(se.a)(Ue);let De;Object(t.a)(Ze)?De=Ze.reduce((Je,Ot)=>Je+Object(be.s)(Object(se.a)(Ot)),0):De=Object(be.s)(Ze);var Fe;const Ve={source:je,query_length:Ze.length?Ze.length:0,query_terms_length:De,results_length:Qe,session_length:Date.now()-((Fe=this.sessionTs)!==null&&Fe!==void 0?Fe:0)};Ee.track(G.EventId.SEARCHER_REJECT,Ve),this.endSession()}maybeStartSession(ae){!this.sessionId&&ae!==void 0&&ae.length&&(this.sessionTs=Date.now(),this.sessionId=Object(U.a)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(ae){let{query:Ee,options:_e}=ae;var je;const Ue=_e.entities;return{source:(_e==null?void 0:_e.searchViewContext)||((je=_e.sort)===null||je===void 0?void 0:je.source),tiered:_e.tiered,is_searcher_sessions:!0,entities:Object.keys(Ue).filter(Ke=>!!Ue[Ke]).sort().toString(),query_length:Ee.length}}constructor(ae){this.teamId=ae,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}h($,"searcher_Searcher");const te={};function J(k){let{teamId:ae,key:Ee}=k;if(!ae)throw new Error("Searcher must be instantiated with a team id");return te[ae]&&!te[ae][Ee]&&(te[ae][Ee]=new $(ae)),te[ae]||(te[ae]={},te[ae][Ee]=new $(ae)),te[ae][Ee]}h(J,"getSearcher"),Object(W.a)("searcherObj",{search:(k,ae)=>new $(k).search(ae),searchLocal:(k,ae)=>{new $(k).searchLocal(ae)}})},GTsZ:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("add an app profile to the store");t.meta={name:"createAction",key:"createActionaddAppProfile",description:"add an app profile to the store"};const a=Object(s.a)("add multiple app profiles to the store");a.meta={name:"createAction",key:"createActionbulkAddAppProfiles",description:"add multiple app profiles to the store"}},GUXX:function(H,n,e){"use strict";e.d(n,"f",function(){return c}),e.d(n,"j",function(){return E}),e.d(n,"p",function(){return f}),e.d(n,"e",function(){return O}),e.d(n,"d",function(){return b}),e.d(n,"A",function(){return T}),e.d(n,"E",function(){return S}),e.d(n,"z",function(){return A}),e.d(n,"k",function(){return I}),e.d(n,"l",function(){return _}),e.d(n,"D",function(){return j}),e.d(n,"B",function(){return C}),e.d(n,"C",function(){return D}),e.d(n,"i",function(){return N}),e.d(n,"h",function(){return B}),e.d(n,"n",function(){return L}),e.d(n,"q",function(){return R}),e.d(n,"o",function(){return U}),e.d(n,"x",function(){return W}),e.d(n,"y",function(){return x}),e.d(n,"a",function(){return w}),e.d(n,"b",function(){return se}),e.d(n,"c",function(){return ee}),e.d(n,"s",function(){return X}),e.d(n,"u",function(){return me}),e.d(n,"t",function(){return Oe}),e.d(n,"H",function(){return le}),e.d(n,"F",function(){return de}),e.d(n,"G",function(){return ie}),e.d(n,"I",function(){return pe}),e.d(n,"J",function(){return ne}),e.d(n,"M",function(){return q}),e.d(n,"K",function(){return ce}),e.d(n,"L",function(){return ge}),e.d(n,"N",function(){return be}),e.d(n,"Q",function(){return Q}),e.d(n,"r",function(){return re}),e.d(n,"m",function(){return z}),e.d(n,"P",function(){return Y}),e.d(n,"O",function(){return ve}),e.d(n,"g",function(){return Z}),e.d(n,"w",function(){return $}),e.d(n,"v",function(){return te});var s=e("ZKjC"),t=e("G4qV"),a=e("1h8Q");const r=h(J=>J.filter(k=>{let{datasource_id:ae}=k;return ae}),"getConnectedOrgs"),l=h((J,k)=>{var ae;const Ee=(ae=J[0])===null||ae===void 0?void 0:ae.salesforce_org_id;return k.find(je=>{let{salesforce_org_id:Ue}=je;return Ue===Ee})},"getDatasourcesOrg");var o=e("ZOzc"),i=e("eVCY"),u=e("q1tI");function d(J,k){const ae={},Ee=Object(u.useRef)(ae);if(!k)return;Ee.current.source={sfdc_object_identifier:k.sfdc_object_identifier,sfdc_object_label:k.sfdc_object_label,troops_schema_object_id:k.troops_schema_object_id},Ee.current.target_identifier=J,Ee.current.field_mappings=[];const _e=k!=null&&k.fields?Object.keys(k.fields):[];return _e.length!==0&&_e.forEach(je=>{var Ue;const Ke=k==null||(Ue=k.fields)===null||Ue===void 0?void 0:Ue[je];var ke,Qe;Ee.current.field_mappings.push({source:{...Ke,sfdc_field_identifier:(ke=Ke==null?void 0:Ke.sfdc_field_identifier)!==null&&ke!==void 0?ke:"",sfdc_field_label:(Qe=Ke==null?void 0:Ke.sfdc_field_label)!==null&&Qe!==void 0?Qe:""},target:je})}),Ee==null?void 0:Ee.current}h(d,"convertObjectMappingToDatasourceSchema");var m=e("Uu/N");const c=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.appId});c.meta={name:"createSelector",key:"createSelectorgetAppId",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.appId}};const E=Object(s.b)(J=>{var k;return!!(!((k=J.modernSelling)===null||k===void 0)&&k.hasExternalAuthToken)});E.meta={name:"createSelector",key:"createSelectorgetHasExternalAuthToken",description:J=>{var k;return!!(!((k=J.modernSelling)===null||k===void 0)&&k.hasExternalAuthToken)}};const f=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.providerKey});f.meta={name:"createSelector",key:"createSelectorgetProviderKey",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.providerKey}};const O=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.adminWorkflowView});O.meta={name:"createSelector",key:"createSelectorgetAdminWorkflowView",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.adminWorkflowView}};const p=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.adminWorkflowId});p.meta={name:"createSelector",key:"createSelectorgetAdminWorkflowId",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.adminWorkflowId}};const b=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.adminWorkflowInitEditPayload});b.meta={name:"createSelector",key:"createSelectorgetAdminWorkflowInitEditPayload",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.adminWorkflowInitEditPayload}};const T=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.userWorkflowView});T.meta={name:"createSelector",key:"createSelectorgetUserWorkflowView",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.userWorkflowView}};const v=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.userWorkflowId});v.meta={name:"createSelector",key:"createSelectorgetUserWorkflowId",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.userWorkflowId}};const S=Object(s.b)((J,k)=>k?p(J):v(J));S.meta={name:"createSelector",key:"createSelectorgetWorkflowId",description:(J,k)=>k?p(J):v(J)};const A=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.userWorkflowInitEditPayload});A.meta={name:"createSelector",key:"createSelectorgetUserWorkflowInitEditPayload",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.userWorkflowInitEditPayload}};const I=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.isLoadingAdminWorkflowView});I.meta={name:"createSelector",key:"createSelectorgetIsLoadingAdminWorkflowView",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.isLoadingAdminWorkflowView}};const _=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.isLoadingUserWorkflowView});_.meta={name:"createSelector",key:"createSelectorgetIsLoadingUserWorkflowView",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.isLoadingUserWorkflowView}};const M=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.workflowForms});M.meta={name:"createSelector",key:"createSelectorgetWorkflowForms",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.workflowForms}};const y=Object(s.b)((J,k)=>{var ae,Ee;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0?void 0:Ee[k])||null});y.meta={name:"createSelector",key:"createSelectorgetWorkflowForm",description:(J,k)=>{var ae,Ee;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0?void 0:Ee[k])||null}};const j=Object(s.b)((J,k)=>{var ae,Ee,_e;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0||(_e=Ee[k])===null||_e===void 0?void 0:_e.values)||null});j.meta={name:"createSelector",key:"createSelectorgetWorkflowFormValues",description:(J,k)=>{var ae,Ee,_e;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0||(_e=Ee[k])===null||_e===void 0?void 0:_e.values)||null}};const C=Object(s.b)((J,k)=>{var ae,Ee,_e;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0||(_e=Ee[k])===null||_e===void 0?void 0:_e.errors)||null});C.meta={name:"createSelector",key:"createSelectorgetWorkflowFormErrors",description:(J,k)=>{var ae,Ee,_e;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0||(_e=Ee[k])===null||_e===void 0?void 0:_e.errors)||null}};const D=Object(s.b)((J,k)=>{var ae,Ee,_e;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0||(_e=Ee[k])===null||_e===void 0?void 0:_e.formSubmitError)||null});D.meta={name:"createSelector",key:"createSelectorgetWorkflowFormSubmitError",description:(J,k)=>{var ae,Ee,_e;return((ae=J.modernSelling)===null||ae===void 0||(Ee=ae.workflowForms)===null||Ee===void 0||(_e=Ee[k])===null||_e===void 0?void 0:_e.formSubmitError)||null}};const N=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.datasourcesList});N.meta={name:"createSelector",key:"createSelectorgetDatasourcesList",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.datasourcesList}};const B=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.datasourceInfo});B.meta={name:"createSelector",key:"createSelectorgetDatasourceInfoExtended",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.datasourceInfo}};const L=Object(s.b)(J=>{if(Object(i.c)(J)){var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.selectedOrgNotificationsPref}return Object(o.a)(J,"sales_home_notifications")});L.meta={name:"createSelector",key:"createSelectorgetNotificationsPref",description:J=>{if(Object(i.c)(J)){var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.selectedOrgNotificationsPref}return Object(o.a)(J,"sales_home_notifications")}};const R=Object(s.b)((J,k)=>{var ae,Ee,_e,je;return Object(i.c)(J)?d(Object(m.a)(k.toString()),(ae=J.modernSelling)===null||ae===void 0||(Ee=ae.selectedOrgObjectMappings)===null||Ee===void 0?void 0:Ee[Object(m.a)(k.toString())]):(_e=L(J))===null||_e===void 0||(je=_e.object_mappings)===null||je===void 0?void 0:je.find(Ue=>Ue.target_identifier===k)});R.meta={name:"createSelector",key:"createSelectorgetSchemaPrefForObjectType",description:(J,k)=>{var ae,Ee,_e,je;return Object(i.c)(J)?d(Object(m.a)(k.toString()),(ae=J.modernSelling)===null||ae===void 0||(Ee=ae.selectedOrgObjectMappings)===null||Ee===void 0?void 0:Ee[Object(m.a)(k.toString())]):(_e=L(J))===null||_e===void 0||(je=_e.object_mappings)===null||je===void 0?void 0:je.find(Ue=>Ue.target_identifier===k)}};const U=Object(s.b)((J,k)=>{var ae,Ee;return(ae=R(J,k))===null||ae===void 0||(Ee=ae.source)===null||Ee===void 0?void 0:Ee.sfdc_object_identifier});U.meta={name:"createSelector",key:"createSelectorgetObjectIdentifierByObjectType",description:(J,k)=>{var ae,Ee;return(ae=R(J,k))===null||ae===void 0||(Ee=ae.source)===null||Ee===void 0?void 0:Ee.sfdc_object_identifier}};const W=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.salesHomeCurrentTab});W.meta={name:"createSelector",key:"createSelectorgetSetSalesHomeCurrentTab",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.salesHomeCurrentTab}};const x=Object(s.b)(J=>{var k;return!!(!((k=J.modernSelling)===null||k===void 0)&&k.shouldShowOnboardingOpptyCoachmark)});x.meta={name:"createSelector",key:"createSelectorgetShouldShowOnboardingOpptyCoachmark",description:J=>{var k;return!!(!((k=J.modernSelling)===null||k===void 0)&&k.shouldShowOnboardingOpptyCoachmark)}};const G=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.activityLogFormData});G.meta={name:"createSelector",key:"createSelectorgetActivityLogFormData",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.activityLogFormData}};const w=Object(s.b)(J=>{var k;return(k=G(J))===null||k===void 0?void 0:k.activityId});w.meta={name:"createSelector",key:"createSelectorgetActivityLogFormActivityId",description:J=>{var k;return(k=G(J))===null||k===void 0?void 0:k.activityId}};const se=Object(s.b)(J=>{var k;return(k=G(J))===null||k===void 0?void 0:k.fieldData});se.meta={name:"createSelector",key:"createSelectorgetActivityLogFormFieldData",description:J=>{var k;return(k=G(J))===null||k===void 0?void 0:k.fieldData}};const ee=Object(s.b)(J=>{var k;return!!(!((k=G(J))===null||k===void 0)&&k.isFormDirty)});ee.meta={name:"createSelector",key:"createSelectorgetActivityLogFormIsDirty",description:J=>{var k;return!!(!((k=G(J))===null||k===void 0)&&k.isFormDirty)}};const X=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.selectedSalesforceOrg});X.meta={name:"createSelector",key:"createSelectorgetSelectedSalesforceOrg",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.selectedSalesforceOrg}};const me=Object(s.b)(J=>{var k,ae;return(k=J.modernSelling)===null||k===void 0||(ae=k.selectedSalesforceOrg)===null||ae===void 0?void 0:ae.salesforce_org_id});me.meta={name:"createSelector",key:"createSelectorgetSelectedSalesforceOrgId",description:J=>{var k,ae;return(k=J.modernSelling)===null||k===void 0||(ae=k.selectedSalesforceOrg)===null||ae===void 0?void 0:ae.salesforce_org_id}};const Oe=Object(s.b)(J=>{var k,ae;return(k=J.modernSelling)===null||k===void 0||(ae=k.selectedSalesforceOrg)===null||ae===void 0?void 0:ae.datasource_id});Oe.meta={name:"createSelector",key:"createSelectorgetSelectedSalesforceOrgDataSourceId",description:J=>{var k,ae;return(k=J.modernSelling)===null||k===void 0||(ae=k.selectedSalesforceOrg)===null||ae===void 0?void 0:ae.datasource_id}};const Ce=Object(s.b)(J=>J.modernSelling.userInsights);Ce.meta={name:"createSelector",key:"createSelectorselectUserInsights",description:J=>J.modernSelling.userInsights};const le=Object(s.b)(J=>J.modernSelling.adminOrgList.status);le.meta={name:"createSelector",key:"createSelectorselectAdminOrgListStatus",description:J=>J.modernSelling.adminOrgList.status};const de=Object(s.b)(J=>J.modernSelling.adminOrgList.data);de.meta={name:"createSelector",key:"createSelectorselectAdminOrgListData",description:J=>J.modernSelling.adminOrgList.data};const ie=Object(s.b)(J=>J.modernSelling.adminOrgList.error);ie.meta={name:"createSelector",key:"createSelectorselectAdminOrgListError",description:J=>J.modernSelling.adminOrgList.error};const pe=Object(t.a)(de,a.a),ne=Object(t.a)(de,r),q=Object(s.b)(J=>J.modernSelling.datasources.status);q.meta={name:"createSelector",key:"createSelectorselectDatasourceListStatus",description:J=>J.modernSelling.datasources.status};const ce=Object(s.b)(J=>J.modernSelling.datasources.list);ce.meta={name:"createSelector",key:"createSelectorselectDatasourceListData",description:J=>J.modernSelling.datasources.list};const ge=Object(s.b)(J=>J.modernSelling.datasources.error);ge.meta={name:"createSelector",key:"createSelectorselectDatasourceListError",description:J=>J.modernSelling.datasources.error};const be=Object(t.a)([ce,de],l),Q=Object(s.b)(J=>J.modernSelling.userOrgAuthList);Q.meta={name:"createSelector",key:"createSelectorselectUserOrgAuthListData",description:J=>J.modernSelling.userOrgAuthList};const re=Object(s.b)(J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.selectedOrgObjectMappings});re.meta={name:"createSelector",key:"createSelectorgetSelectedOrgObjectMappings",description:J=>{var k;return(k=J.modernSelling)===null||k===void 0?void 0:k.selectedOrgObjectMappings}};const z=Object(s.b)(J=>J.modernSelling.isSharedActivitiesEnabled);z.meta={name:"createSelector",key:"createSelectorgetIsSharedActivitiesEnabled",description:J=>J.modernSelling.isSharedActivitiesEnabled};const Y=Object(s.b)(J=>J.modernSelling.disconnectOrg.status);Y.meta={name:"createSelector",key:"createSelectorselectDisconnectOrgStatus",description:J=>J.modernSelling.disconnectOrg.status};const ve=Object(s.b)(J=>J.modernSelling.disconnectOrg.error);ve.meta={name:"createSelector",key:"createSelectorselectDisconnectOrgError",description:J=>J.modernSelling.disconnectOrg.error};const Z=Object(s.b)(J=>J.modernSelling.compactLayoutFields);Z.meta={name:"createSelector",key:"createSelectorgetCompactLayoutFields",description:J=>J.modernSelling.compactLayoutFields};const $=Object(s.b)(J=>J.modernSelling.selectedOrgMemberIds);$.meta={name:"createSelector",key:"createSelectorgetSeletectedOrgMemberIds",description:J=>J.modernSelling.selectedOrgMemberIds};const te=Object(s.b)(J=>J.modernSelling.selectedOrgAdminIds);te.meta={name:"createSelector",key:"createSelectorgetSeletectedOrgAdminIds",description:J=>J.modernSelling.selectedOrgAdminIds}},GV2D:function(H,n,e){"use strict";e.d(n,"a",function(){return M});var s=e("SQ0V"),t=e("UEGZ"),a=e("E3dU"),r=e("GlHf"),l=e("JoR1"),o=e("Wn1n"),i=e("s4P+"),u=e("Pw4T"),d=e("yZZd"),m=e("O86Y"),c=e("Yauy"),E=e("E97Y"),f=e("ZAxE"),O=e("tUtw"),p=e("p5o1");const b=Object(s.c)("Cancel history request for a channel",(y,j,C)=>{const{channelId:D}=C||{},N=Object(O.a)(j(),D);N&&N.loading&&N.request&&N.request.cancel(),y(Object(p.b)({ids:[D]}))});b.meta={name:"createThunk",key:"createThunkcancelLoading",description:"Cancel history request for a channel"};var T=e("XZo2"),v=e("2XL1"),S=e("Aqju");const A=h(y=>{let{sourceTeam:j,sourceChannel:C,targetTeam:D,targetChannel:N}=y;return`start_channel_change_${[j,C,D,N].join("_")}`},"formatStartChannelChangeMark");var I=e("RV0M"),_=e("2VFn");const M=Object(s.c)("Switch to a channel",(y,j,C,D)=>{let{channelId:N,startTs:B,isWorkspaceSwitch:L=!1}=C;var R;const U=j(),{shouldUseNavigate:W,getSiblingView:x}=D(I.a),G=W?(R=x(U,{container:_.h.Primary}))===null||R===void 0?void 0:R.id:Object(o.a)(U),w=Object(m.g)(U),se=Object(i.a)({getState:j,label:"SWITCH-TO-CHANNEL"});if(N){try{Object(S.a)({state:U,channelId:N,isWorkspaceSwitch:L})}catch(de){se.warn(de,`Could not trace channel switch from ${G} to ${N}`)}const ee=A({sourceTeam:w,sourceChannel:G,targetTeam:w,targetChannel:N});Object(u.d)({state:U}).mark(ee),y(Object(d.a)({lastFocus:Object(r.j)(U),objId:N}));const X=Object(a.d)(U,N),me=Object(c.R)(X),Oe=Object(c.z)(U,X);Object(f.a)(N),y(b({channelId:N}));const Ce=Object(l.t)(U,"start_scroll_at_oldest")&&Object(l.t)(U,"mark_msgs_read_immediately"),le=me?Oe:null;if(B)se.info(`Switching to ${N} at specified startTs ${B}`),y(Object(v.f)({channelId:N,startTs:B,highlightTs:B,prevChannelId:G,ghostLastRead:le}));else{if(Oe&&me&&Ce)se.info(`Switching to ${N} at last_read ${Oe}`),y(Object(v.f)({channelId:N,startTs:Oe,prevChannelId:G,ghostLastRead:le}));else{const de=Object(T.r)(U,N);Ce&&de?(se.info(`Switching to ${N} at scrollmark ${de.mark} offset ${de.offset}`),y(Object(v.f)({channelId:N,startTs:de.mark,startTsOffset:de.offset,prevChannelId:G,ghostLastRead:le}))):(se.info(`Switching to ${N} at end`),y(Object(v.f)({channelId:N,startTs:null,prevChannelId:G,ghostLastRead:le})))}Object(E.l)(X)&&!Object(c.db)(X)&&!Object(c.Db)(X)&&y(Object(t.a)({id:X==null?void 0:X.id,never_needs_joined_msg:!0}))}}else y(Object(v.f)({channelId:null,startTs:null,prevChannelId:G}))});M.meta={name:"createThunk",key:"createThunkswitchToChannel",description:"Switch to a channel"}},GWPn:function(H,n,e){"use strict";var s=e("HCZ2");n.a=s.a},GYPw:function(H,n,e){"use strict";e.d(n,"e",function(){return s}),e.d(n,"j",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"g",function(){return r}),e.d(n,"f",function(){return l}),e.d(n,"h",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"d",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"i",function(){return m});const s="(prefers-contrast: more)",t="useAriaApplicationForListViews",a="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",l="messageSpacing",o="messageTextWordSpacing",i="conversationIncomingMessageSound",u="conversationSentMessageSound",d="conversationIncomingMessageAnnouncement",m="peeksEnabledOnMouseEnter"},GapZ:function(H,n,e){H.exports=e.p+"template_card_feedback-c76ef1b.png"},GiOu:function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("fujP"),l=e("BHdc"),o=e("nNoG"),i=e("Trx9"),u=e("ktUG"),d=e("gJbv");function m(){return m=Object.assign||function(b){for(var T=1;T<arguments.length;T++){var v=arguments[T];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(b[S]=v[S])}return b},m.apply(this,arguments)}h(m,"_extends");const c=new o.b("trials");var E;(function(b){b.Purple="purple",b.White="white"})(E||(E={}));const f={eventId:u.EventId.UPGRDEXP_TRIAL,uiComponentName:u.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},O=h(b=>{let{className:T,autoClogProps:v,badgeTheme:S=E.Purple}=b;const A=Object(a.d)(d.b),I=Object(a.d)(d.c),_=c.t("PRO"),M=t.a.createElement("div",{className:Object(l.default)("p-pro_badge",`p-pro_badge--${S}`,T,{"p-pro_badge--v2":A||I}),"data-qa":"pro_badge","aria-label":_},c.t("PRO"));return Object(r.a)(v)?M:t.a.createElement(i.a,m({},f,v),M)},"ProBadge");O.displayName="ProBadge";var p=n.b=O},GoiD:function(H,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("SQ0V"),t=e("hjzp"),a=e("CnKg"),r=e("4hjS"),l=e("RV0M"),o=e("4iK2"),i=e("bcZH"),u=e("I0j/"),d=e("37+L"),m=e("D1k6"),c=e("6dQg"),E=e("E3dU"),f=e("5pIt"),O=e("KcWJ");const p=Object(s.c)("Opens the Quip doc comment thread in the side or flexpane",(b,T,v,S)=>{let{fileId:A,quipCommentThreadId:I,shouldIncludeBack:_=!0,shouldOpenInTile:M,replaceHistoryState:y,openInPrimaryTile:j,focusTarget:C}=v;const D=Object(t.a)(A),N=Object(a.c)(I),B=Object(r.l)(T()),{shouldUseNavigate:L}=S(l.a),R=Object(c.a)(A)?Object(E.f)(T(),A):Object(f.c)(T(),A);let U,W;return B===o.a||Object(i.a)(T())?(U=o.a,W=A):_&&(R?(U="channel_canvas",W=R):(U="comments",W=A)),L?b(Object(u.a)(Object(d.S)({entityId:Object(a.a)(A),commentThreadId:I}))):(b(Object(m.a)({focusTarget:C,entityId:A,quipCommentThreadId:I})),b(Object(O.a)({channelId:D,threadTs:N,origin:U,originId:W,shouldOpenInTile:M,replaceHistoryState:y,openInPrimaryTile:j})))});p.meta={name:"createThunk",key:"createThunkshowQuipCommentThread",description:"Opens the Quip doc comment thread in the side or flexpane"}},Gs4e:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("FRd1"),o=e("ktUG");function i(){return i=Object.assign||function(E){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var p in O)Object.prototype.hasOwnProperty.call(O,p)&&(E[p]=O[p])}return E},i.apply(this,arguments)}h(i,"_extends");const u={small:"small",medium:"medium",large:"large"};var d;let m=h(class extends(d=t.a.Component){componentDidMount(){if(this.props.focusOnMount){var f;(f=this.props.refToForward.current)===null||f===void 0||f.focus()}}onChange(f){this.props.onChange&&this.props.onChange(f.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(f){this.props.readOnly&&this.props.forceSelectAll&&f.currentTarget.select()}blur(){var f;(f=this.props.refToForward.current)===null||f===void 0||f.blur()}focus(){var f;(f=this.props.refToForward.current)===null||f===void 0||f.focus()}render(){const{ariaDescribedby:f,isInvalid:O,ariaLabelledby:p,ariaRequired:b,className:T,id:v,isDisabled:S,name:A,placeholder:I,size:_,type:M,refToForward:y,ariaLabel:j,forceSelectAll:C,focusOnMount:D,autoClogProps:N,autoComplete:B,...L}=this.props,R=Object(a.default)("c-input_text",{"c-input_text--large":_===u.large,"c-input_text--small":_===u.small,"c-input_text--with_error":O,"c-input_text--with_inline_alert":O},T),U=t.a.createElement("input",i({},L,{"aria-describedby":L["aria-describedby"]||f,"aria-invalid":L["aria-invalid"]||O,"aria-labelledby":L["aria-labelledby"]||p,"aria-required":L["aria-required"]||b,"aria-label":L["aria-label"]||j,autoComplete:B,className:R,disabled:S,id:v,name:A,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:I,ref:y,type:M}));return N?t.a.createElement(l.a,{autoClogProps:N,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},U):U}constructor(f){super(f),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");m.displayName="TextInput",m.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:r.a,onCopy:r.a,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"};var c=n.b=t.a.forwardRef((E,f)=>t.a.createElement(m,i({},E,{refToForward:f||t.a.createRef()})))},"H+tl":function(H,n,e){"use strict";e.d(n,"b",function(){return ce});var s=e("owWc"),t=e("xnu4"),a=e("oTSI"),r=e("LDAF"),l=e("yIs4"),o=e("qAkX"),i=e("azFB"),u=e("GNR7"),d=e("GlHf"),m=e("3vtZ"),c=e("vfQU"),E=e("+CZ0"),f=e("rZ8V"),O=e("r9F4"),p=e("7xYR"),b=e("E3dU"),T=e("Yauy"),v=e("lhZz"),S=e("1I7x"),A=e("8TXW"),I=e("v7mh"),_=e("LZPg"),M=e("QIbu"),y=e("d3B0"),j=e("Ufq/"),C=e("LxFC"),D=e("yQbL"),N=e("sgFo"),B=e("SIMs"),L=e("p0i/"),R=e("kBpe"),U=e("kS3P"),W=e("dkXW"),x=e("2VFn"),G=e("G0eX");function w(re){return re?Object(G.G)(re)?"free":Object(G.z)(re)?"enterprise":"pro":"unknown"}h(w,"getTeamTier");var se=e("beVI"),ee=e("ykb+"),X=e("Yzsk"),me=e("RVJP");const Oe=navigator.hardwareConcurrency,Ce=navigator.platform,le=Object(R.e)(),de=Object(ee.c)(),ie=Object(ee.f)(),pe=h(re=>Object(s.a)(re,(z,Y,ve)=>{if(ve===x.c)return z;const Z=ve.split(/-|_/).slice(0,-1).join("-"),$=Object(t.a)(`windows-${Z}-count`);return z[$]?z[$]+=1:z[$]=1,z},{}),"countWindowsByType"),ne=h(re=>{if(!re)return"";let z=re;const Y=/Default -/g;z=re.replace(Y,"");const ve=/ *?\([^)]*?\) *?/g;return z=z.replace(ve,""),z=z.trim(),z},"scrubDeviceLabelForReporting");let q;const ce=h(()=>q,"getMostRecentStableTags"),ge=Object(a.a)((re,z)=>{let{teamState:Y,clientState:ve}=re;var Z,$,te,J,k,ae,Ee;const _e=Object(E.a)(ve),je=Object(E.b)(ve),Ue=Object(j.b)(Y),Ke=Object(N.C)(Y),ke=Object(N.s)(Y),Qe=Object(N.N)(Y),Ze=Object(N.j)(Y),De=Object(me.d)(Y,"huddles_disable_audio_red"),Fe=A.s.sdkVersion,Ve=Object(m.Q)(Y),Je=Object(N.r)(Y),Ot=Object(E.v)(ve),ht=Object(E.e)(ve),Le=Object(se.g)(Y),jt=!!Object(f.o)(Y),Ut=w(Le);var Ie;const oe=(Ie=(Z=Object(p.getBootedWorkspaces)(ve))===null||Z===void 0?void 0:Z.length)!==null&&Ie!==void 0?Ie:0,ye=Object(W.b)(),Ne=(ye==null||($=ye.deviceIdPriorities)===null||$===void 0||(te=$.camera)===null||te===void 0?void 0:te.length)||0,Ge=(ye==null||(J=ye.deviceIdPriorities)===null||J===void 0||(k=J.microphone)===null||k===void 0?void 0:k.length)||0,st=(ye==null||(ae=ye.deviceIdPriorities)===null||ae===void 0||(Ee=ae.output)===null||Ee===void 0?void 0:Ee.length)||0,$e=Object(b.j)(Y),It={xwsChannelCount:($e==null?void 0:$e.length)||0,visibleChannelCount:0,visibleImChannelCount:0,visibleMpimChannelCount:0,visibleSidebarItemCount:0};$e.forEach(at=>{Object(T.wb)(at)&&(It.visibleChannelCount+=1),Object(T.yb)(Y,at)&&(It.visibleImChannelCount+=1),Object(T.zb)(Y,at)&&(It.visibleMpimChannelCount+=1)});const{visibleChannelCount:Lt,visibleImChannelCount:St,visibleMpimChannelCount:vt}=It,Yt=Lt+St+vt,et=Object(N.U)(Y),Ft=Object(N.K)(Y),mt=Object(E.p)(ve);let Zt={};if(mt!=null&&mt.metrics){const{roomsJoinTime:at,voiceFocusInitializedTime:it,sdkInitializedTime:dt,credentialsToVoiceFocusInitializedTime:_t,audioConnectedTime:Dt,firstPresenceTime:Ye}=mt.metrics;Zt={roomsJoinTime:at,voiceFocusInitializedTime:it,sdkInitializedTime:dt,credentialsToVoiceFocusInitializedTime:_t,audioConnectedTime:Dt,firstPresenceTime:Ye}}const gt={teamId:ht,huddleId:_e,huddleChannelId:je,workspaceCount:oe,chimeSdkVersion:Fe,isIA4Prod:jt,teamTier:Ut,isPreWarmed:Je,isPrejoin:Ot,isTranscriptAllowed:Ve,isChimeSdkExpEnabled:Ue,isHuddlesLaterEnabled:Ke,isMediaAccessRefreshEnabled:Qe,isAudioInitFixEnabled:Ze,disableAudioRedundancyGroup:De,isRtmSchedulerEnabled:ke,osPlatform:Ce,osVersion:le,visibleSidebarItemCount:Yt,devicePriorityListCameraCount:Ne,devicePriorityListMicrophoneCount:Ge,devicePriorityListSpeakerCount:st,updatedAudioLevelMonitorEnabled:et,prejoinNoAudioFixEnabled:Ft,envIsJsPath:de,envIsQa:ie,...Zt};return q=gt,gt},(re,z)=>z),be=h(re=>{let{state:z,appMetrics:Y}=re;var ve,Z,$,te,J,k,ae,Ee;const _e=Object(v.getClientStoreInstance)().getState(),je=Object(E.q)(_e),Ue=Object(E.a)(_e),Ke=`${je}${Ue??""}`,ke=ge({teamState:z,clientState:_e},Ke),{huddleId:Qe,huddleChannelId:Ze,workspaceCount:De,isIA4Prod:Fe,isRtmSchedulerEnabled:Ve}=ke,Je={};if(Fe){const en=Object(I.a)(z),Un=en?Object(I.h)(z,{tab:en}):{},{primary:Yn,secondary:ns,sidebar:cs}=Un||{};Object.assign(Je,{viewPrimary:Yn==null?void 0:Yn.viewType,viewSecondary:ns==null?void 0:ns.viewType,viewSidebar:cs==null?void 0:cs.viewType,viewTab:en})}const Ot=Object(y.i)(z),ht=Object(y.g)(z),Le=Object(y.e)(z),jt=Object(y.d)(z),Ut={microphoneIsBlocked:Ot,microphoneIsAvailable:ht,cameraIsBlocked:Le,cameraIsAvailable:jt},Ie={},oe=Object(d.b)(z),ye={};if(oe){const en=Object.keys(oe);Object.assign(ye,{windowsTotalOpen:en.length,windowsOpenTypes:en.length?en.join(" "):"",windowsTypeWithFocus:Object(r.a)(oe,Un=>!!Un.isFocused),...pe(oe)})}const Ne=Object(E.j)(_e),Ge=Object(L.k)(z),st=Ge?Object(L.e)(z):void 0;Object.assign(Ie,{isAudioOnlyModeEnabled:Ne,isTroubleshootingPanelOpen:Ge,troubleshootingPanelTab:st});const $e=Object(u.h)(z),It=(ve=Object(y.c)(z,C.b.Camera))===null||ve===void 0?void 0:ve.label,Lt=(Z=Object(y.c)(z,C.b.Microphone))===null||Z===void 0?void 0:Z.label,St=($=Object(y.c)(z,C.c))===null||$===void 0?void 0:$.label,{isScreenshareEnabled:vt,isHostDrawEnabled:Yt,isHostDrawRendererActive:et,isCameraEnabled:Ft,isMicrophoneEnabled:mt,isConnected:Zt}=Object(_.V)(z),gt=!!vt,at=!!Ft,it=Object(_.m)(z,{id:"self"}),dt=Object(_.r)(z),_t=dt==="self",Dt=$e.filter(en=>en.isCameraEnabled).length,Ye=Object(S.b)(Ze),Xe=Object(W.b)(),kt=at&&(Xe==null||(te=Xe.video)===null||te===void 0?void 0:te.effect)===U.a.Blur,Bt=!!(!(Xe==null||(J=Xe.audio)===null||J===void 0)&&J.enableNoiseSuppression),wt=Bt&&_t,we=at&&(Xe==null||(k=Xe.video)===null||k===void 0?void 0:k.effect)===U.a.Background&&(Xe==null||(ae=Xe.video)===null||ae===void 0?void 0:ae.effectBgKey)!==void 0,ot=!!dt,yt=!!Dt,Xt=Object(_.k)(z).length,cn=!!Xt,gn=Xt+(gt?1:0),vn=gn===2,lt=cn||gt,ct=Object(L.i)(z),Rt=Object(O.e)(z),zt=Object(O.f)(z),mn=ot?(Ee=$e.find(en=>en.id===dt))===null||Ee===void 0?void 0:Ee.userId:void 0,fn=i.a.document.visibilityState==="visible",ln={isBackgroundBlurActive:kt,isNoiseSuppressionEnabled:Bt,isNoiseSuppressionActive:wt,isCustomVideoBackgroundActive:we,isClosedCaptionsEnabled:Rt,isSideBySideCaptionsEnabled:zt},Ln=Ve?Object(X.a)():void 0,In=Ve?Object(X.b)():void 0,Dn={callId:Ue,isMicrophoneEnabled:mt,isActiveSpeaker:_t,isSomeoneSpeaking:ot,isSomeoneSharingScreen:lt,isVideoEnabledForSomeone:ct,isSharingScreen:gt,isHostDrawEnabled:Yt,isHostDrawActive:et,isSelfVideoEnabled:at,isPeerVideoEnabled:yt,isHuddleWindowVisible:Ye,selectedCamera:ne(It),selectedMicrophone:ne(Lt),selectedSpeakers:ne(St),activeSpeakerUserId:mn,isPeerSharingScreen:cn,isDualScreenshareActive:vn,cpuCount:Oe,remotePeerCount:$e.length,remotePeersWithVideoCount:Dt,peersScreensharingCount:Xt,activeScreenshareCount:gn,workspaceCount:De,huddleStartTimestamp:je,isDisconnected:Zt===!1,isMainWindowVisible:fn,rtmTaskQueueLength:In,rtmProcessingDelay:Ln};let _n={};if(Y){const{cpu:en,memory:Un,gpu:Yn,thermalState:ns,speedLimit:cs}=Y,is=Object(l.a)(en)?Math.round(en*Oe):void 0,es=Object(l.a)(Yn)?Math.round(Yn*Oe):void 0,{useHwAcceleration:Is}=Object(c.J)("settings")||{};_n={cpuUseRelative:en?Math.round(en):void 0,cpuUse:is,gpuUse:es,cpuWithGpu:is&&es?is+es:void 0,memoryUse:(Un==null?void 0:Un.workingSetSize)||void 0,isHardwareAccelerationEnabled:Is,osThermalState:ns,osSpeedLimit:cs}}let qe={};if(Ye){var Et,Wt,qt;const en=Object(B.q)(z,{huddleId:Qe}),Un=Object(B.g)(z,{huddleId:Qe,surface:en});qe={huddleWindowSurface:en,huddleWindowFocusedContentType:(it==null||(Et=it.item)===null||Et===void 0?void 0:Et.type)||M.a.None,huddleWindowIsFullscreen:Object(B.w)(z),huddleWindowBackground:Object(o.a)((Wt=Object(B.b)(z,{huddleId:Qe}))===null||Wt===void 0||(qt=Wt.url)===null||qt===void 0?void 0:qt.split("/")),huddleWindowIsSelfDrawingEnabled:Object(B.D)(z),huddleWindowWindowHeight:Un==null?void 0:Un.height,huddleWindowWindowWidth:Un==null?void 0:Un.width}}const nn=Object(D.a)(),rn={batteryIsUsing:nn.isUsingBatteryPower(),batteryPercentRemaining:nn.getLevel()};return{...Dn,...ln,..._n,...qe,...Je,...Ut,...rn,...Ie,...ye,...ke}},"getHuddleStateSnapshot");var Q=n.a=be},HCZ2:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("BHdc"),l={callout:"callout__G9Iwc"};function o(u){let{children:d,className:m,dataQa:c,onClick:E=a.a,onKeyDown:f=a.a,role:O=void 0,tabIndex:p=void 0,ariaLabel:b=void 0}=u;return t.a.createElement("div",{className:Object(r.default)(m,l.callout),"data-sk":"callout","data-qa":c,onClick:E,onKeyDown:f,role:O,tabIndex:p,"aria-label":b},d)}h(o,"Callout"),o.displayName="Callout",o.displayName="Callout";var i=n.a=o},HEqF:function(H,n,e){H.exports=e.p+"slackbot_neutral_32-44a4c24.png"},HHxC:function(H,n,e){"use strict";e.d(n,"a",function(){return p});var s=e("LZPg"),t=e("PIf0"),a=e("vfQU"),r=e("SZMM"),l=e("RpF1"),o=e("6inW"),i=e("SQ0V"),u=e("lhZz"),d=e("+CZ0"),m=e("SIMs"),c=e("GNR7"),E=e("3vtZ"),f=e("QIbu"),O=e("kBpe");const p=Object(i.c)("Resizes the huddle window",(b,T,v,S)=>{let{surface:A}=v;const I=T(),{window:_,windowId:M}=S(t.a);if(!Object(o.b)(M))return;const j=_.outerWidth,C=Object(u.getStateForClientStore)(),D=Object(d.a)(C);let N,B;if(A===f.b.WINDOW_COMPACT){const G=Object(s.V)(I),w=Object(c.h)(I);N=Object(E.i)({self:G,peers:w}),B=l.f}else A===f.b.WINDOW_FULL&&(N=l.m,B=l.n);let L=1;if(Object(O.i)()?L=Object(a.bb)():Object(O.h)()&&(L=j/_.innerWidth),N&&(N*=L),!Object(r.d)()&&N){const G=_.outerHeight-_.innerHeight*L;G>0&&(N+=G)}const R=Object(m.g)(I,{huddleId:D,surface:A}),U=(R==null?void 0:R.height)||N,W=(R==null?void 0:R.width)||B;if(!U||!W)return;let x=0;A===f.b.WINDOW_COMPACT&&W<j&&(x=j-W),_.resizeTo(W,U),x&&_.moveBy(x,0)});p.meta={name:"createThunk",key:"createThunkresizeHuddleWindow",description:"Resizes the huddle window"}},HMe0:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("Bw5p"),t=e("G4qV"),a=e("ZKjC"),r=e("59uo"),l=e("O86Y"),o=e("G5NC");const i=Object(a.b)(f=>{if(!Object(o.a)())return{};const O=Object(r.d)(f);return O?Object(s.a)(f.tileHistory,O):{}});i.meta={name:"createSelector",key:"createSelectorgetHistoryStateForSerialization",description:f=>{if(!Object(o.a)())return{};const O=Object(r.d)(f);return O?Object(s.a)(f.tileHistory,O):{}}};const u=Object(a.b)(f=>{var O,p;const b=Object(r.a)(f);if(!b)return null;var T;return(T=(O=f.tileHistory)===null||O===void 0||(p=O[b])===null||p===void 0?void 0:p.historyStack)!==null&&T!==void 0?T:null});u.meta={name:"createSelector",key:"createSelectorgetHistoryStackForActiveTile",description:f=>{var O,p;const b=Object(r.a)(f);if(!b)return null;var T;return(T=(O=f.tileHistory)===null||O===void 0||(p=O[b])===null||p===void 0?void 0:p.historyStack)!==null&&T!==void 0?T:null}};const d=Object(a.b)(f=>{var O,p;const b=Object(r.a)(f);if(!b)return null;var T;return(T=(O=f.tileHistory)===null||O===void 0||(p=O[b])===null||p===void 0?void 0:p.historyIndex)!==null&&T!==void 0?T:null});d.meta={name:"createSelector",key:"createSelectorgetHistoryIndexForActiveTile",description:f=>{var O,p;const b=Object(r.a)(f);if(!b)return null;var T;return(T=(O=f.tileHistory)===null||O===void 0||(p=O[b])===null||p===void 0?void 0:p.historyIndex)!==null&&T!==void 0?T:null}};const m=Object(a.b)((f,O)=>{let{tileKey:p}=O;var b,T;return(b=f.tileHistory)===null||b===void 0||(T=b[p])===null||T===void 0?void 0:T.historyStack});m.meta={name:"createSelector",key:"createSelectorgetHistoryForTile",description:(f,O)=>{let{tileKey:p}=O;var b,T;return(b=f.tileHistory)===null||b===void 0||(T=b[p])===null||T===void 0?void 0:T.historyStack}};const c=Object(a.b)((f,O)=>{let{tileKey:p}=O;var b,T,v,S;const A=(b=f.tileHistory)===null||b===void 0||(T=b[p])===null||T===void 0?void 0:T.historyStack,I=(v=f.tileHistory)===null||v===void 0||(S=v[p])===null||S===void 0?void 0:S.historyIndex;return A&&(I??0)+1===A.length});c.meta={name:"createSelector",key:"createSelectorisBackDisabledForTile",description:(f,O)=>{let{tileKey:p}=O;var b,T,v,S;const A=(b=f.tileHistory)===null||b===void 0||(T=b[p])===null||T===void 0?void 0:T.historyStack,I=(v=f.tileHistory)===null||v===void 0||(S=v[p])===null||S===void 0?void 0:S.historyIndex;return A&&(I??0)+1===A.length}};const E=Object(t.a)(f=>u(f),f=>d(f),f=>Object(l.g)(f),(f,O,p)=>(f||[]).slice(O??0).map(b=>({primaryView:b.view,teamId:p})))},HP72:function(H,n,e){"use strict";e.d(n,"a",function(){return Q});var s=e("BHdc"),t=e("HI9p"),a=e("Yk7g"),r=e("ifKl"),l=e("HiDb"),o=e("qAkX"),i=e("yIs4"),u=e("7EGn"),d=e("vfWj"),m=e("Muja"),c=e("oTSI"),E=e("hbEN"),f=e("WIr4"),O=e("3zPy"),p=e.n(O),b=e("q1tI"),T=e.n(b),v=e("c7k8"),S=e("RqXZ"),A=e("yxNq"),I;(function(Z){Z[Z.ELEMENT=1]="ELEMENT",Z[Z.ATTRIBUTE=2]="ATTRIBUTE",Z[Z.TEXT=3]="TEXT",Z[Z.CDATA_SECTION=4]="CDATA_SECTION",Z[Z.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",Z[Z.ENTITY=6]="ENTITY",Z[Z.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",Z[Z.COMMENT=8]="COMMENT",Z[Z.DOCUMENT=9]="DOCUMENT",Z[Z.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",Z[Z.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",Z[Z.NOTATION=12]="NOTATION"})(I||(I={}));const _=new Set(["INPUT","TEXTAREA","SELECT"]),M=new Set([..._,"BUTTON"]),y="http://www.w3.org/1999/xhtml",j="http://www.w3.org/2000/svg";function C(Z){return(Z==null?void 0:Z.nodeType)===I.TEXT}h(C,"isTextNode");function D(Z){return(Z==null?void 0:Z.nodeType)===I.ELEMENT}h(D,"isElement");function N(Z){return D(Z)&&Z.namespaceURI===y}h(N,"isHtmlElement");function B(Z){return D(Z)&&Z.namespaceURI===j}h(B,"isSvgElement");function L(Z){return N(Z)||B(Z)}h(L,"isHtmlOrSvgElement");function R(Z){return N(Z)||B(Z)}h(R,"isElementCssInlineStyle");function U(Z){return x(Z,"a")}h(U,"isAnchorElement");function W(Z){return N(Z)&&M.has(Z.tagName)}h(W,"isInteractiveElement");function x(Z,$){return N(Z)&&Z.localName===$}h(x,"isHtmlElementWithTagName");function G(Z){return C(Z)?Z:null}h(G,"asTextNode");function w(Z){return D(Z)?Z:null}h(w,"asElement");function se(Z){return N(Z)?Z:null}h(se,"asHtmlElement");function ee(Z,$){const te=Z;return te.hasAttribute&&te.hasAttribute($)}h(ee,"hasAttribute");function X(Z,$){return ee(Z,`data-${$}`)}h(X,"hasData");var me=e("RMmo"),Oe=e("2K8U"),Ce=e("lYQS"),le=e("FWtP"),de=e("oEDn"),ie=e("nNoG"),pe=e("LpvA"),ne=e("MYuU"),q=e("1ufr");function ce(){return ce=Object.assign||function(Z){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var J in te)Object.prototype.hasOwnProperty.call(te,J)&&(Z[J]=te[J])}return Z},ce.apply(this,arguments)}h(ce,"_extends");const ge=new ie.b("select"),be="-",Q="sk-select-clear",re={label:"Clear selection",value:Q},z=p()("esc");let Y=h(class lr extends pe.a{getCurrentActiveElement(){var $,te;return(te=($=this.props.window)===null||$===void 0?void 0:$.document.activeElement)!==null&&te!==void 0?te:null}componentDidUpdate($){var te;const{selectState:J,setSelectState:k,shouldIncludeActiveOption:ae=!1,dynamicHeight:Ee=!1,optionsShallowEqualComparisonDepth:_e=4,shouldRerenderOnOptionChange:je=!1}=this.props,{filterQuery:Ue,options:Ke,initialActiveOption:ke}=J,Qe=!Object(A.a)($.selectState.options,Ke,_e),Ze=Ue!==$.selectState.filterQuery;if(Qe||Ze){const Ve=typeof ke<"u"?this.getInitialActiveRowIndex():this.getFirstSelectableRowIndex();k(()=>({activeRowIndex:Ve,...ae?{activeOption:this.getOptionFromList(Ve)}:null}));const Je=Ve||Ve===0;this.list.current&&Je&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(Ve))}if(Qe&&!Ze&&je){var De;(De=this.list.current)===null||De===void 0||De.recomputeRowHeights()}if(Ee&&(J==null?void 0:J.options)!==((te=$.selectState)===null||te===void 0?void 0:te.options)){var Fe;(Fe=this.cellMeasurerCache)===null||Fe===void 0||Fe.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}clearDynamicRowHeight($){var te;(te=this.cellMeasurerCache)===null||te===void 0||te.clear($,0),this.list.current&&this.list.current.recomputeRowHeights($)}getInitialActiveRowIndex(){const{selectState:$}=this.props,{initialActiveOption:te}=$;if(!te)return null;const J=Object(t.a)(this.getOptionsList(),["option.value",te.value]);return J>=0?J:null}getFirstSelectableRowIndex(){const{selectState:$,multiSelectMode:te=!1,customOptionCompare:J,shouldAlwaysHaveActiveRow:k=!1}=this.props,{filterQuery:ae}=$,Ee=this.getOptionsList();let _e=null;if((ae||k)&&Ee.length){const je=Object(t.a)(Ee,Ue=>Ue.type!=="heading"&&Ue.type!=="divider"&&!this.isOptionSelected($,Ue.option,te,J),0);je!==-1&&(_e=je)}return _e}componentDidMount(){this.keyCommands=this.initKeyCommands();const{focusOnMount:$=!1,selectState:te,setSelectState:J,shouldIncludeActiveOption:k=!1,multiSelectMode:ae=!1}=this.props,{selectedOption:Ee,selectType:_e}=te;_e===Oe.g.BASIC&&$&&this.open();let je=null;if(!ae&&Ee){const Ue=Object(t.a)(this.getOptionsList(),["option.value",Ee.value]);Ue!==-1&&(je=Ue)}else je=this.getFirstSelectableRowIndex();J(()=>({activeRowIndex:je,...k?{activeOption:this.getOptionFromList(je)}:null})),this.list.current&&typeof je=="number"&&this.list.current.scrollToRow(je),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:$=!1,preventScroll:te=!1}=this.props,{selectType:J}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),$&&J===Oe.g.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:te})}open(){const{focusOnMount:$=!1,selectState:te}=this.props,{selectType:J}=te;!$&&J!==Oe.g.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}close($){z===$.keyCode&&this.onKeyPressedEsc($);const{focusOnMount:te=!1,preventScroll:J=!1}=this.props,{selectType:k}=this.props.selectState;!te&&k!==Oe.g.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:J})}onKeyPressedDown($){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent($))return;const{selectState:te,setSelectState:J,shouldIncludeActiveOption:k=!1}=this.props,{isExpanded:ae,activeRowIndex:Ee}=te,_e=this.getNextActiveRowIndex(Ee);ae&&$.preventDefault(),J(()=>{var je;return{activeRowIndex:_e,...k?{activeOption:this.getOptionFromList(_e)}:null,displayQuery:(je=this.getOptionFromList(_e))===null||je===void 0?void 0:je.value}}),this.debouncedEnableMouseMove(),this.list.current&&(this.list.current.forceUpdateGrid(),_e===1&&this.isFirstItemUnselectable()?this.list.current.scrollToRow(0):this.list.current.scrollToRow(_e))}onKeyPressedUp($){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent($))return;const{selectState:te,setSelectState:J,shouldIncludeActiveOption:k=!1}=this.props,{isExpanded:ae,activeRowIndex:Ee}=te,_e=this.getPreviousActiveRowIndex(Ee);if(ae&&$.preventDefault(),J(()=>{var Ke;return{activeRowIndex:_e,...k?{activeOption:this.getOptionFromList(_e)}:null,displayQuery:(Ke=this.getOptionFromList(_e))===null||Ke===void 0?void 0:Ke.value}}),this.debouncedEnableMouseMove(),this.list.current){this.list.current.forceUpdateGrid();const Ke=this.getOptionsList();if(_e){var je,Ue;if(((je=Ke[_e])===null||je===void 0||(Ue=je.option)===null||Ue===void 0?void 0:Ue.height)!==0)this.list.current.scrollToRow(_e);else{const ke=Object(a.a)(Ke.slice(0,_e)).findIndex(Qe=>{var Ze;return(Qe==null||(Ze=Qe.option)===null||Ze===void 0?void 0:Ze.height)!==0});this.list.current.scrollToRow(_e-ke-1)}}}}onKeyPressedEsc($){const{shouldIncludeActiveOption:te=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent($))return;$.preventDefault();const{onOptionsListClose:J=r.a}=this.props;J&&J(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:null,...te?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onMouseEnteredOption($){const{shouldIncludeActiveOption:te=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:$,...te?{activeOption:this.getOptionFromList($)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:$=!1}=this.props;!this.isMouseMoveEnabled||$||this.clearActive()}onKeyPressedEnter($){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent($))return;$.preventDefault();const{activeRowIndex:te,initialActiveOption:J}=this.props.selectState,k=this.getOptionsList();let ae;typeof te=="number"&&(ae=k[te]&&k[te].option||k[te]),ae=ae||J,!(ae&&(ae.isDisabled||ae.nonInteractive))&&(this.onOptionSelected(ae),this.close($))}onKeyPressedShiftTab($){if(!this.shouldInterceptKeyEvent($))return;const{onKeyPressedShiftTab:te=r.a}=this.props;te&&te!==r.a&&te($)}onKeyPressedTab($){const{selectState:te,disableSelectOnTab:J=!1}=this.props;if(J||!this.shouldInterceptKeyEvent($)||!te.isExpanded)return;const{onKeyPressedTab:k=r.a}=this.props;if(k&&k!==r.a){k($);return}const{activeRowIndex:ae,initialActiveOption:Ee}=te,_e=this.getOptionsList();let je;typeof ae=="number"&&(je=_e[ae]&&_e[ae].option||_e[ae]),je=je||Ee,je&&$.preventDefault(),!(je&&(je.isDisabled||je.nonInteractive))&&this.onOptionSelected(je)}onOptionClicked($){this.onOptionSelected($,!0)}onScroll($){const{onScroll:te=r.a}=this.props;te&&te($)}static formatOptions($){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Object(l.a)($,(k,ae)=>{if(k.type==="divider")return{type:"divider"};if(k.options){const{options:Ee,label:_e,...je}=k,Ue=`${k.label.toLowerCase()}${be}${Object(Ce.a)()}`,Ke=[{type:"heading",label:k.label,group:Ue,optionsCount:k.options&&k.options.length||0,extras:je}].concat(k.options.map((ke,Qe)=>{const Ze={type:"option",option:ke,optgroup:Ue};return Qe===0&&(Ze.isFirstChild=!0),Qe===k.options.length-1&&(Ze.isLastChild=!0),Ze}));if(te){if($[ae-1]&&$[ae-1].value&&!$[ae-1].options&&Ke.unshift({type:"divider"}),Object(o.a)($)===k)return Ke;Ke.push({type:"divider"})}return Ke}return{type:"option",option:k}})}getClassName($,te){const{unstyled:J=!1}=this.props;return J&&te?Object(s.default)(te):Object(s.default)(te,$)}getRowHeight($){var te;const{optionsRowHeight:J=Oe.a,headingRowHeight:k=null,dividerRowHeight:ae=Oe.b}=this.props;return $.option&&Object(i.a)($.option.height)?Number($.option.height):$.type&&$.type==="divider"?ae:$.type==="heading"&&Object(i.a)((te=$.extras)===null||te===void 0?void 0:te.height)?Number($.extras.height):$.type&&$.type==="heading"&&k!==null?k:J}clearActive(){const{shouldIncludeActiveOption:$=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:null,...$?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}focusNode($){$&&this.getCurrentActiveElement()!==$&&$.focus()}getOptionFromList($){const te=this.getOptionsList();return Object(u.a)(te,`[${$}].option`,null)}getOptionsList(){const{multiSelectMode:$=!1,selectState:te,includeDividers:J=!0}=this.props,{options:k,isRequired:ae,selectedOption:Ee,filterQuery:_e,minQueryLength:je}=te;let Ue=[];return je&&je>0&&Ee&&!_e&&(Ue=[Ee]),k&&k.length&&(!$&&Ee&&!ae?Ue=[re,...k]:Ue=k,Ue=[...this.formatOptions(Ue,J)]),Ue}enableMouseMove(){this.isMouseMoveEnabled=!0}getDataQaTag($,te){const{selectDataQa:J=void 0,selectState:k}=this.props,{isRequired:ae}=k,Ee=$.value?$.value:$.label;let _e="";typeof Ee=="string"&&(_e=Ee.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const je=ae?te:te-1;return $.value?`${J}_option_${je}`:`${J}_option_header_${_e}`}isFirstItemUnselectable(){var $,te,J;const k=this.getOptionsList();return(($=k[0])===null||$===void 0?void 0:$.type)==="heading"||((te=k[0])===null||te===void 0||(J=te.option)===null||J===void 0?void 0:J.nonInteractive)}getNextActiveRowIndex($){const te=this.getOptionsList(),J=this.isFirstItemUnselectable();if($===null&&!J)return 0;if($===null&&J)return 1;let k=null;return typeof $=="number"&&(k=Object(t.a)(te,ae=>{var Ee;return ae.type!=="heading"&&ae.type!=="divider"&&!(!(ae==null||(Ee=ae.option)===null||Ee===void 0)&&Ee.nonInteractive)},$+1)),typeof k=="number"&&te[k]?k:J?1:0}getPreviousActiveRowIndex($){const te=this.getOptionsList();let J,k;return typeof $=="number"&&(J=Object(a.a)(te.slice(0,$)).findIndex(ae=>{var Ee;return ae.type!=="heading"&&ae.type!=="divider"&&!(!(ae==null||(Ee=ae.option)===null||Ee===void 0)&&Ee.nonInteractive)}),k=$-J-1),te&&!te.length?null:k===$?te.length-1:typeof k=="number"&&typeof $=="number"&&te[k]&&$>0?k:te.length-1}initKeyCommands(){var $;const{shouldTokenizeOnComma:te,shouldTokenizeOnSpace:J}=this.props,k=new me.a(($=this.props.window)===null||$===void 0?void 0:$.document),ae=["enter"];return te&&ae.push("comma"),J&&ae.push("space"),k.bindAll([{keys:["down"],handler:this.onKeyPressedDown},{keys:ae,handler:this.onKeyPressedEnter,filter:Ee=>Ee.code.toLowerCase()==="comma"&&Ee.key!==","},{keys:["up"],handler:this.onKeyPressedUp},{keys:["tab"],handler:this.onKeyPressedTab},{keys:["shift+tab"],handler:this.onKeyPressedShiftTab}]),k}handleClear(){const{selectState:$,setSelectState:te,onOptionSelected:J=r.a,multiSelectMode:k=!1,onMultiSelectClear:ae=void 0}=this.props,{selectedOption:Ee,selectedOptions:_e}=$;let je=!1;Ee?(te(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{J&&J({value:null})}),je=!0):k&&_e&&_e.length&&(te(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{ae&&ae()}),je=!0),this.list.current&&je&&this.list.current.forceUpdateGrid()}onOptionSelected($){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:J=r.a,onOptionUnselected:k=r.a,selectState:ae,setSelectState:Ee,multiSelectMode:_e=!1,inputRef:je,customOptionCompare:Ue,shouldIncludeActiveOption:Ke=!1,shouldOptionBeSelected:ke,shouldAllowUnselectInMultiSelectMode:Qe=!1,shouldAllowUnselectInSingleSelectMode:Ze=!0,stayExpandedAfterSelection:De=!1}=this.props;if($&&!$.isDisabled&&!$.nonInteractive){if(ke&&ke($)===!1){Ee(()=>({activeRowIndex:null,filterQuery:"",isExpanded:!1}),()=>{J($)});return}if($.value===Q)this.handleClear();else if(_e){const{selectedOptions:Fe,shouldRefocusInputAfterSelection:Ve}=ae;if(!this.isOptionSelected(ae,$,_e,Ue)&&Fe)Ee(()=>({selectedOptions:[...Fe,$],activeRowIndex:null,...Ke?{activeOption:null}:null,filterQuery:"",isExpanded:De}),()=>{J&&J($)});else if(Qe){const Ot=Object(d.a)(Fe,[$],(ht,Le)=>ht.value===Le.value);Ee(()=>({selectedOptions:Ot,activeRowIndex:null,...Ke?{activeOption:null}:null,filterQuery:"",isExpanded:De}),()=>{k&&k($)})}!Ve&&!$.fromUnknown&&je&&je.current&&je.current.focus()}else{const Fe={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:Ze?null:ae.selectedOption};!Object(m.a)(ae.selectedOption,$)&&(Fe.selectedOption=$),Ee(()=>Fe,()=>{J&&J($,te)}),ae.shouldRefocusInputAfterSelection&&je&&je.current&&je.current.focus()}}}getArialabelForItem($){var te,J,k,ae;const{isFirstChild:Ee,isLastChild:_e,optgroup:je}=$;if(!je)return null;const Ue=ge.t("First item in group {group}, {value}",{group:je&&je.split(be).slice(0,-1).join("-"),value:typeof((te=$.option)===null||te===void 0?void 0:te.label)=="string"?(J=$.option)===null||J===void 0?void 0:J.label:""}),Ke=ge.t("Last item in group {group}, {value}",{group:je&&je.split(be).slice(0,-1).join("-"),value:typeof((k=$.option)===null||k===void 0?void 0:k.label)=="string"?(ae=$.option)===null||ae===void 0?void 0:ae.label:""});return Ee?Ue:_e?Ke:null}getEmptyStateMessage(){const{emptyStateMessage:$,selectState:te}=this.props,{filterQuery:J,minQueryLength:k}=te;if($)return $(J);if(k){if(!J)return ge.t("Type to search\u2026");if(J.length<k)return ge.t("Keep typing\u2026")}return ge.t("No items")}shouldInterceptKeyEvent($){return!$.target||!D($.target)?!1:!!(ee($.target,"aria-autocomplete")||ee($.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains($.target))}removeAriaAttrsFromGridNode(){const $=this.listBody.current,te=$&&$.querySelector(".ReactVirtualized__Grid");te&&(te.removeAttribute("aria-label"),te.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:$=!1,width:te,isLoading:J=!1,selectDataQa:k=void 0,includeWrapper:ae=!0}=this.props;if(J)return T.a.createElement(T.a.Fragment,null);const Ee=this.getEmptyStateMessage();if(Ee===null)return T.a.createElement(T.a.Fragment,null);const _e=$||!ae?+te:+te-Oe.d;return T.a.createElement("div",{"data-qa":k?`${k}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:_e}},T.a.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},Ee))}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle($){return{padding:$?Oe.c:void 0,boxSizing:"content-box"}}renderList(){const{maxListHeight:$,width:te,includePadding:J,unstyled:k=!1,useSlackScrollbar:ae,dynamicHeight:Ee=!1,forceMaxHeight:_e,includeWrapper:je=!0,classPrefix:Ue=void 0}=this.props,Ke=this.getOptionsList(),ke=$||Oe.e,Qe=Ke.map(Je=>this.getRowHeight(Je)||0).reduce((Je,Ot)=>Je+Ot,0),Ze=_e||Qe>=ke?ke:Qe,De=k||!je?+te:+te-Oe.d,Fe=Object(s.default)("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":ae,[`${Ue}__virtual_list`]:!!Ue}),Ve=Ee&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:Je=>{let{index:Ot}=Je;return this.getRowHeight(Ke[Ot])};return this.cellMeasurerCache?T.a.createElement(S.a,{className:Fe,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(J),height:Ze,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:Ke?Ke.length:0,rowHeight:Ve,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:De}):T.a.createElement(S.a,{className:Fe,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(J),height:Ze,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:Ke?Ke.length:0,rowHeight:Ve,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:De})}renderListBody(){const{enableLoadingState:$=!0,isLoading:te=!1}=this.props;if(te&&$)return this.renderLoadingState();const J=this.getOptionsList();return!J||J&&!J.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:$}=this.props,te=ge.t("Loading results\u2026");return T.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:$}},T.a.createElement(de.a,{type:"spinner",animation:"spin"}),T.a.createElement("div",{className:this.getClassName("c-select_options_list__loading_state_message")},te))}renderRow($){let{index:te,key:J,style:k,parent:ae}=$;var Ee;const{classPrefix:_e=void 0,selectState:je,multiSelectMode:Ue=!1,customOptionCompare:Ke,unstyled:ke=!1,dynamicHeight:Qe=!1}=this.props,{selectId:Ze}=je,De=this.getOptionsList();let Fe;De[te].option?Fe=De[te].option:Fe=De[te];const{isPlaceholder:Ve}=Fe,{activeRowIndex:Je}=je,{selectedOption:Ot,selectedOptions:ht}=je;let Le;typeof Je=="number"&&(Le=this.isOptionActive({activeRowIndex:Je},De,Fe));const jt=this.isOptionSelected({selectedOptions:ht,selectedOption:Ot},Fe,Ue,Ke),Ut=Fe.value===Q,Ie=De[te].type==="heading",oe=!!De[te].optgroup,ye=De[te].type==="divider",Ne=!!Fe.isDisabled,Ge=!!Fe.nonInteractive,st=jt&&!Ie&&!ye,$e=Ie||Ge||ye,It=De.filter(at=>at.type!=="heading"&&at.type!=="divider"&&!at.nonInteractive),Lt=Object(t.a)(It,at=>at.option===Fe,0),St=_e?`${_e}__option`:"",vt=Object(s.default)("c-select_options_list__option",St,Object(u.a)(Fe,"overrides.className",!1),{"c-select_options_list__option--active":Le&&Object(u.a)(Fe,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Ve,"c-select_options_list__option--selected":st,"c-select_options_list__option--disabled":Ne,"c-select_options_list__group_header":Ie,"c-select_options_list__group_option":oe,"c-select_options_list__divider":ye,"c-select_options_list__clear_option":Ut});let Yt=Ut?Fe.label:T.a.createElement("hr",{className:this.getClassName("c-select_options__divider")});!ye&&!Ut&&(Yt=this.props.renderOption(Fe,{index:te,isActive:Le,isGroupHeader:Ie,isClearOption:Ut,isSelected:jt&&!Ie&&!ye,clearDynamicRowHeight:this.clearDynamicRowHeight}));let et;if(ke||!((Ee=Fe.overrides)===null||Ee===void 0)&&Ee.unstyled)et=Yt;else{var Ft;et=T.a.createElement("span",{"data-qa":Fe.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(Ft=Fe.extras)===null||Ft===void 0?void 0:Ft.forceHeaderWrap})},Yt)}const mt=It.length,Zt=Lt===-1?void 0:Lt+1,gt=T.a.createElement("div",ce({"aria-hidden":$e?"true":null,"aria-selected":Ue?jt:Le,"aria-label":Ie?null:this.getArialabelForItem(De[te]),className:this.getClassName(vt,St),"data-qa":ye?void 0:this.getDataQaTag(Fe,te),id:Object(ne.a)(Ze,`option_${te}`),key:J},k?{style:k}:{},{onClick:Ne||Ge?Object(c.a)(()=>this.onOptionSelected(Fe)):Object(c.a)(()=>{this.onOptionClicked(Fe)}),onMouseEnter:Ne||Ge?r.a:Object(c.a)(()=>{this.onMouseEnteredOption(te)}),onMouseLeave:Ne||Ge?r.a:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":Le?"true":void 0,ref:Le?this.currentRow:null,optgroup:oe?De[te].optgroup:void 0,"aria-disabled":Ne||null,"aria-setsize":mt,"aria-posinset":Zt}),st&&T.a.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),et);return!Qe||!this.cellMeasurerCache?gt:T.a.createElement(v.c,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:te,key:J,parent:ae},gt)}isOptionSelected($,te,J,k){let{selectedOptions:ae,selectedOption:Ee}=$;return J&&(!ae||ae&&!ae.length)||!J&&!Ee?!1:J?!k&&te?ae&&ae.some(_e=>_e.value===te.value):ae&&ae.some(_e=>k({selectedOption:_e,listOption:te})):Ee&&te&&Ee.value===te.value}isOptionActive($,te,J){let{activeRowIndex:k}=$;if(!k&&k!==0)return!1;const Ee=te[k];return(Ee&&Ee.option?Ee.option:Ee)===J}render(){const{className:$,ariaLabel:te,classPrefix:J=void 0,multiSelectMode:k=!1,selectDataQa:ae=void 0,selectState:Ee,dropdownContainer:_e=void 0,footerBannerContent:je}=this.props,{isExpanded:Ue,activeRowIndex:Ke,selectId:ke,selectType:Qe}=Ee,Ze=Object(s.default)("c-select_options_list",{[`${J}_options_list`]:J}),De=Qe===Oe.g.BASIC&&Ue&&Object(i.a)(Ke)?Object(ne.a)(ke,`option_${Ke}`):void 0,Fe=T.a.createElement("div",{className:Ze,ref:this.listBody,"data-qa":ae?`${ae}-options-list`:null,id:Object(ne.a)(ke,"listbox"),"aria-activedescendant":De,"aria-label":te,"aria-multiselectable":!!k,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:Ve=!0}=this.props;if(!Ve)return Fe;const Je=Object(s.default)("c-select_options_list__wrapper",{[`${$}`]:$,[`${J}_options_list_wrapper`]:J});return T.a.createElement("div",ce({className:this.getClassName(Je),"data-qa":ae?`${ae}-options-list-wrapper`:null},_e?{ref:_e}:{}),Fe,je&&T.a.createElement("div",{className:"c-select_options_list__footer_banner"},je))}constructor($){super($),this.isMouseMoveEnabled=!1,Object(f.a)(this,["getOptionsList","getOptionFromList","handleClear","onKeyPressedDown","onKeyPressedEnter","onKeyPressedTab","onKeyPressedShiftTab","onKeyPressedUp","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=T.a.createRef(),this.list=T.a.createRef(),this.currentRow=T.a.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=Object(le.a)(lr.formatOptions),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=Object(E.a)(this.enableMouseMove,200),this.debouncedOnScroll=Object(E.a)(this.onScroll.bind(this),200),re.label=ge.t("Clear selection");const{optionsRowHeight:te=Oe.a,dynamicHeight:J=!1}=$;J&&(this.cellMeasurerCache=new v.d({defaultHeight:te,fixedWidth:!0}))}},"SelectOptionsList");Y.displayName="SelectOptionsList";var ve=n.b=Object(q.a)(Y)},HUUN:function(H,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("fujP"),l=e("ifKl"),o=e("hbEN"),i=e("Lgge"),u=e("s4P+");function d(){return d=Object.assign||function(E){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var p in O)Object.prototype.hasOwnProperty.call(O,p)&&(E[p]=O[p])}return E},d.apply(this,arguments)}h(d,"_extends");const m=Object(u.b)();function c(E){let f=h(class extends s.Component{componentDidMount(){const{searchOnClick:p,disableSearchOnMount:b,expandOnFocus:T,minQueryLength:v}=this.props,{filterQuery:S}=this.state;if(!p&&!b||T){const A=!v||S&&S.length>=v;S!==void 0&&A&&this.search(S)}}componentDidUpdate(p){const{isInvalid:b,selectedOption:T,selectedOptions:v,isDisabled:S,minQueryLength:A}=this.props,I={};p.isInvalid!==b&&(I.isInvalid=b),p.isDisabled!==S&&(I.isDisabled=S),Object(a.a)(p.selectedOption,T)||(I.selectedOption=T),Object(a.a)(p.selectedOptions,v)||(I.selectedOptions=v),Object(a.a)(p.minQueryLength,A)||(I.minQueryLength=A),Object(r.a)(I)||this.setSelectState(()=>I)}componentWillUnmount(){this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel()}setSelectState(p,b){const T=p();(T.filterQuery!==void 0&&T.filterQuery!==this.state.filterQuery||T.searchOnClick)&&(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.state.minQueryLength||T.filterQuery&&T.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(T.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))),this.setState(()=>T,b)}search(p){const{search:b,onSearch:T=l.a,onSearchError:v=l.a,selectId:S,processOptions:A=h(I=>i.a.resolve(I),"processOptions")}=this.props;T(p),this.searchPromise=b(p).then(I=>{A(I,p).then(_=>{this.setSelectState(()=>({options:_})),this.setState(()=>({isLoading:!1}))})}).catch(I=>{this.setState(()=>({isLoading:!1})),m.error(`Error when searching for select id: ${S}, error: ${I}`),v(I)})}render(){const p=this.props.inputRef||this.inputRef;return t.a.createElement(E,d({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:p,isLoading:this.state.isLoading}))}constructor(p){super(p),this.inputRef=t.a.createRef(),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:p.isExpanded,expandOnFocus:p.expandOnFocus,selectId:p.selectId,selectedOptions:p.selectedOptions||[],selectedOption:p.selectedOption||null,isRequired:p.isRequired,isLoading:!1,isDisabled:p.isDisabled,isInvalid:p.isInvalid,searchOnClick:p.searchOnClick,minQueryLength:p.minQueryLength},this.search=Object(o.a)(this.search,p.debounceWaitPeriod)}},"CustomSearchWrapper");return f.displayName="CustomSearchWrapper",f.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:l.a,onSearchError:l.a,searchOnClick:!1,disableSearchOnMount:!1,processOptions:O=>i.a.resolve(O),shouldAllowUnselectInMultiSelectMode:!1},f}h(c,"withCustomSearch")},Hm4q:function(H,n,e){"use strict"},HpvR:function(H,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return u});var s=e("ZKjC"),t=e("E3dU"),a=e("hjzp"),r=e("6dQg"),l=e("l1I1"),o=e("CnKg");const i=h(d=>{if(Object(l.a)(d)){const{fileIdOrQuipThreadId:E=null}=Object(o.i)(d)||{};if(E&&Object(r.a)(E)){const f=E,O=Object(a.a)(f);return{fileId:f,channelId:O}}}if(Object(r.a)(d)){const E=d,f=Object(a.a)(E);return{fileId:E,channelId:f}}const m=d;return{fileId:Object(a.b)(m),channelId:m}},"getIds"),u=Object(s.b)(function(d,m){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:E}=i(m);return Object(t.d)(d,E,c)});u.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(d,m){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:E}=i(m);return Object(t.d)(d,E,c)}}},I0SW:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)((a,r)=>{let{channelId:l,ts:o}=r;return a&&a.deletedMessages&&a.deletedMessages[l]&&!!a.deletedMessages[l][o]});t.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(a,r)=>{let{channelId:l,ts:o}=r;return a&&a.deletedMessages&&a.deletedMessages[l]&&!!a.deletedMessages[l][o]}}},IGJb:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"g",function(){return i}),e.d(n,"c",function(){return d}),e.d(n,"f",function(){return c}),e.d(n,"e",function(){return f}),e.d(n,"d",function(){return p}),e.d(n,"b",function(){return T});var s=e("9oTK"),t=e.n(s),a=e("qgXD");const r=Object(a.a)(["callsScreenshare","createBorderWindow"]),l=function(){var v=Object(s.coroutine)(function*(S,A){r.isAvailable()&&r(S,A)});return h(function(A,I){return v.apply(this,arguments)},"createBorderWindow")}(),o=Object(a.a)(["callsScreenshare","showBorder"]),i=function(){var v=Object(s.coroutine)(function*(){o.isAvailable()&&o()});return h(function(){return v.apply(this,arguments)},"showBorder")}(),u=Object(a.a)(["callsScreenshare","hideBorder"]),d=function(){var v=Object(s.coroutine)(function*(){u.isAvailable()&&u()});return h(function(){return v.apply(this,arguments)},"hideBorder")}(),m=Object(a.a)(["callsScreenshare","setWindowOrScreenId"]),c=function(){var v=Object(s.coroutine)(function*(S){m.isAvailable()&&m(S)});return h(function(A){return v.apply(this,arguments)},"setWindowOrScreenId")}(),E=Object(a.a)(["callsScreenshare","setWindowBorderWidth"]),f=function(){var v=Object(s.coroutine)(function*(S){E.isAvailable()&&E(S)});return h(function(A){return v.apply(this,arguments)},"setWindowBorderWidth")}(),O=Object(a.a)(["callsScreenshare","setWindowBorderColor"]),p=function(){var v=Object(s.coroutine)(function*(S,A,I,_){O.isAvailable()&&O(S,A,I,_)});return h(function(A,I,_,M){return v.apply(this,arguments)},"setWindowBorderColor")}(),b=Object(a.a)(["callsScreenshare","getWindowPositionAndDimensions"]),T=function(){var v=Object(s.coroutine)(function*(){if(b.isAvailable())return b()});return h(function(){return v.apply(this,arguments)},"getWindowPositionAndDimensions")}()},IHnR:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return r});var s=e("ZKjC");const t=Object(s.b)((o,i)=>{var u;return!!(!((u=o.externalTeamIds)===null||u===void 0)&&u[i])});t.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(o,i)=>{var u;return!!(!((u=o.externalTeamIds)===null||u===void 0)&&u[i])}};var a;const r=Object(s.b)(o=>!!Object.keys((a=o.externalTeamIds)!==null&&a!==void 0?a:{}).length);var l;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:o=>!!Object.keys((l=o.externalTeamIds)!==null&&l!==void 0?l:{}).length}},IIEv:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("AqXs"),l=e("s4P+"),o=e("hwwf"),i=e("uoFi");const u=Object(a.c)("Fetch list records",function(){var d=Object(s.coroutine)(function*(m,c,E){let{listId:f,currentUserId:O}=E;try{const b=(yield m(Object(r.a)({listId:f,reason:"get-list-records"}))).records.map(T=>{var v,S,A,I,_;return Object(o.p)({id:T.id,fields:T.fields,dateCreated:T.date_created,createdBy:(v=T.created_by)!==null&&v!==void 0?v:"",threadTs:(S=T.thread_ts)!==null&&S!==void 0?S:"",position:(A=T.position)!==null&&A!==void 0?A:"",updatedTimestamp:(I=T.updated_timestamp)!==null&&I!==void 0?I:"",updatedBy:(_=T.updated_by)!==null&&_!==void 0?_:"",viewPositions:T.view_positions,platformRefs:T.platform_refs})});m(Object(i.c)({listId:f,records:b})),m(Object(i.l)({listId:f,currentUserId:O}))}catch(p){Object(l.a)({label:"lists"}).error("error fetching list records",p)}});return function(m,c,E){return d.apply(this,arguments)}}());u.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},IMMN:function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("beVI"),t=e("E97Y"),a=e("y/Pn"),r=e("miM7");const l=h((m,c)=>!Object(t.h)(c)&&Object(a.a)(c)&&!Object(r.a)(c),"canBeDisconnected");var o=e("lihz"),i=e("G0eX"),u=e("MPQZ");function d(m,c){if(c&&!l(m,c))return!1;if(c&&Object(o.a)(m,c))return!0;const E=Object(s.g)(m);return Object(i.G)(E)?!0:Object(u.b)(m,c)}h(d,"canUserDisconnectExternalSharedChannel")},IPMH:function(H,n,e){H.exports=e.p+"gym-4d948fc.jpg"},ITkT:function(H,n,e){"use strict";e.d(n,"a",function(){return A}),e.d(n,"c",function(){return I}),e.d(n,"e",function(){return _}),e.d(n,"b",function(){return M}),e.d(n,"d",function(){return y}),e.d(n,"h",function(){return j}),e.d(n,"i",function(){return C}),e.d(n,"g",function(){return B}),e.d(n,"f",function(){return L});var s=e("Awbm"),t=e("O0Iw"),a=e("G0eX"),r=e("M1/X"),l=e("xwCZ"),o=e("beVI"),i=e("ZOzc"),u=e("E3dU"),d=e("PMNn"),m=e("Cwwo"),c=e("AdD7"),E=e("rZ8V"),f=e("gogJ"),O=e("+VTe"),p=e("F294");function b(R){return R&&{...R,type:Object(p.a)(R==null?void 0:R.type)==="owner"?["org_admin"]:["admin"]}}h(b,"mapToWhoCanStyle");function T(R,U){return Object(O.a)(R,"who_can_manage_guests",[U],b)}h(T,"canUserDoManageGuestsTeamPrefForTeamId");const v={mapToWhoCanStyle:b};var S=e("Iwbv");function A(R){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const W=Object(l.c)(R),x=U??Object(o.g)(R);return x?Object(t.a)(R,x.id)?!0:Object(s.a)(W)?!1:Object(i.a)(R,"invites_only_admins",U==null?void 0:U.id)?Object(a.z)(x)&&Object(i.a)(R,"who_can_manage_guests",x.id)?T(R,x.id):!1:!0:!1}h(A,"canUserInviteMembersToWorkspace");function I(R,U,W){const x=U||Object(l.c)(R),G=W||Object(o.g)(R);return!(!G&&!G||Object(s.a)(x)||!Object(i.a)(R,"invite_requests_enabled",G.id))}h(I,"canUserRequestToInvite");function _(R){const U=Object(l.c)(R),W=Object(o.g)(R);if(!W||Object(S.a)(R))return!1;const G=Object(a.z)(W),w=Object(E.o)(R);return G&&w?!!Object(f.b)(R).filter(se=>I(R,U,se)||A(R,se)).length:!!(I(R,U,W)||A(R))}h(_,"canUserSeeInviteModal");function M(R,U){const W=Object(o.g)(R);if(!W)return!1;const x=Object(u.d)(R,U),G=Object(a.G)(W),w=Object(a.z)(W),se=Object(r.c)(R,U),ee=w?!C(R,x):_(R);return G&&ee||!G&&(ee||se)}h(M,"canUserInviteToChannelByEmail");function y(R,U){const W=Object(l.c)(R),x=U?Object(o.s)(R,U):Object(o.g)(R);return!x||Object(a.G)(x)?!1:I(R,W,x)?!0:Object(a.z)(x)?T(R,x.id):Object(t.a)(R,x.id)}h(y,"canUserSeeAccountTypeOptions");function j(R,U){let{ignoreGuestSettings:W}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x=Object(l.c)(R),G=U?Object(o.s)(R,U):Object(o.g)(R);return!Object(a.z)(G)||Object(t.a)(R,G.id)||!Object(i.a)(R,"invites_only_admins",G.id)||I(R,x,G)?!1:W?!0:T(R,G.id)}h(j,"shouldDisableFullMemberInviteOption");function C(R,U){const W=Object(d.b)(R,U);return!!(W!=null&&W.every(x=>j(R,x,{ignoreGuestSettings:!0})))}h(C,"shouldDisableFullMemberInviteOptionForChannel");function D(R){let{state:U,team:W,inviteType:x}=R,G=W;if(!W&&(G=Object(o.g)(U),!G))return!1;const w=Object(i.a)(U,"auth_mode"),se=w==="google"||w==="saml";return Object(a.z)(G)&&x===m.a.Member||se&&Object(i.a)(U,"sso_auth_restrictions")===0}h(D,"shouldShowSsoAlert");function N(R){let{state:U,inviteType:W}=R;const x=Object(i.a)(U,"auth_mode"),G=Object(i.a)(U,"sso_auth_restrictions");return x==="google"?W===m.a.Member&&(G===0||G===1)||(W===m.a.MultiChannelGuest||W===m.a.SingleChannelGuest)&&G===0:!1}h(N,"shouldShowGoogleDomainsNotice");function B(R){let{state:U,inviteType:W,team:x}=R;if(!W||!Object(m.f)(W))throw new Error(`Invalid invite type: ${W}`);const G=x||Object(o.g)(U);if(!G)return!1;const w=Object(i.a)(U,"invites_only_admins",G==null?void 0:G.id),se=Object(a.z)(G),ee=Object(t.a)(U,G.id);switch(W){case m.a.Member:return ee?!1:!!w;case m.a.MultiChannelGuest:case m.a.SingleChannelGuest:return se?!T(U,G.id):!ee;default:return!0}}h(B,"isRequestingInvitesForType");function L(R){let{state:U}=R;const W=Object(o.g)(U);return Object(c.b)()?!0:Object(a.z)(W)?!!Object(i.a)(U,"hide_gsuite_invite_option"):!1}h(L,"isGoogleDirectoryDisabled")},ITwW:function(H,n,e){H.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},"IV+o":function(H,n,e){"use strict";var s=e("u3oV"),t=e("X6iR");n.a=a=>Object(s.a)(a,(r,l)=>Object(t.a)(l,"aria-"))},IXWQ:function(H,n,e){H.exports=e.p+"living_room-preview-1b54428.jpg"},IXzp:function(H,n,e){"use strict";e.d(n,"i",function(){return N}),e.d(n,"a",function(){return B}),e.d(n,"h",function(){return L}),e.d(n,"g",function(){return R}),e.d(n,"b",function(){return U}),e.d(n,"e",function(){return W}),e.d(n,"d",function(){return se}),e.d(n,"f",function(){return me}),e.d(n,"c",function(){return Oe}),e.d(n,"j",function(){return Ce}),e.d(n,"k",function(){return le});var s=e("ZOzc"),t=e("ISSR"),a=e("vfvl"),r=e("Yauy"),l=e("gVOt"),o=e("E97Y"),i=e("y/e0"),u=e("G0eX"),d=e("mzZe"),m=e("xwCZ"),c=e("I27i"),E=e("Enx8"),f=e("C3vN"),O=e("+tZp"),p=e("beVI"),b=e("nNoG"),T=e("E3dU"),v=e("rYtS"),S=e("fEaq"),A=e("3REw"),I=e("y/Pn"),_=e("Ufq/"),M=e("sgFo"),y=e("3vtZ");const j="Slack",C=new b.b("calls");function D(ie){return!!Object(s.a)(ie,"allow_calls")}h(D,"isCallsAllowedByAdmin");function N(ie,pe){return Object(y.N)(ie)&&Object(M.g)(ie)&&Object(y.e)(ie,pe)}h(N,"isCallsDeprecatedAndHuddlesAllowed");function B(ie,pe,ne){const q=Object(T.m)(ie,pe.id);return!(!D(ie)&&!N(ie,q)||Object(f.jb)(pe)&&!ne||!Object(f.O)(pe)||!Object(S.a)(ie,pe.id)||Object(r.T)(q))}h(B,"canCallMember");function L(ie,pe){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const q=Object(m.g)(ie,Object(l.a)(pe)),ce=ne&&X(ie);return!D(ie)&&!N(ie,pe)&&!ce||Object(a.a)(pe)||Object(o.g)(pe)&&(!q||!B(ie,q))||!Object(r.wb)(pe)?!1:Object(d.a)(ie,pe)}h(L,"isCallButtonVisibleForChannel");function R(ie,pe){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const q=Object(p.g)(ie);let ce=!Object(u.K)(q)&&!Object(o.g)(pe);return ne&&(ce=ce&&!X(ie)),Object(c.d)(ie)?(ce||Object(r.lb)(pe)||Object(t.a)(pe))&&!de(pe):!0}h(R,"isCallButtonDisabledForChannel");function U(ie,pe){const ne=Object(T.d)(ie,pe);return ne&&!R(ie,ne,!1)&&L(ie,ne)}h(U,"canStartCallInChannel");function W(ie,pe,ne){const q=Object(i.a)(pe),ce=Object(v.d)(ie,q),ge=Object(m.g)(ie,ne,{preferNonExistentToNull:!1,fetchIfMissing:!0}),be=Object(f.r)(ge),Q=Object(v.b)({callsApp:ce,memberPhoneNumber:be,hideVideoApps:!1}),re=Q.length,z=N(ie,pe);let Y=re;return z&&(Y+=1),Y>1?C.t("{numCallApps} calling options",{numCallApps:Y}):Y===1?re===0?"":C.t("using {appName}",{appName:Q[0].name}):""}h(W,"getTipSubtitleForStartCall");function x(ie,pe,ne){const q=Object(E.a)(ie,Object(l.a)(pe));return ne?C.rt("Huddle with {name}",{name:q,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):C.rt("Call {name}",{name:q})}h(x,"getTipForIm");function G(ie,pe,ne){const q=Object(r.D)(ie,pe).map(ge=>Object(O.a)(ie,ge)),ce=Object(b.h)(q,{noEscape:!0}).join("");return ne?C.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ce,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):C.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:ce})}h(G,"getTipForMpim");function w(ie,pe,ne){return Object(o.g)(pe)?x(ie,pe,ne):Object(o.i)(pe)?G(ie,pe,ne):ne?C.t("Huddle in {channelName}",{channelName:Object(r.t)(ie,pe),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):C.t("Start a call")}h(w,"getTipForChannel");function se(ie,pe){const ne=Object(p.g)(ie),q=Object(u.K)(ne),ce=Object(o.i)(pe),ge=X(ie),be=q||ge,Q=N(ie,pe)&&!me(ie),re=Object(M.g)(ie);return Object(c.d)(ie)?be&&Object(t.a)(pe)?Q&&re?C.t("Unarchive this channel to start a huddle"):C.t("Unarchive this channel to start a call"):be&&Object(r.lb)(pe)?Q&&re?C.t("Join this channel to start a huddle"):C.t("Join this channel to start a call"):ge||de(pe)?w(ie,pe,Q):!q&&ce?C.t("To start a group call, check out our paid plans."):!q&&Object(i.a)(pe)?C.t("To start a call in a channel, check out our paid plans."):w(ie,pe,Q):Q&&re?C.t("Go online to start a huddle"):C.t("Go online to start a call")}h(se,"getTipForStartCall");function ee(ie,pe){const ne=Object(p.g)(ie),q=Object(u.K)(ne),ce=Object(o.i)(pe),ge=X(ie),be=q||ge;return!Object(c.d)(ie)||be&&Object(t.a)(pe)||be&&Object(r.lb)(pe)||ge?!1:!!(!q&&ce||!q&&Object(i.a)(pe))}h(ee,"isFreeTeamAndInChannelOrMpim");function X(ie){const pe=Object(v.e)(ie);for(let ne=0;ne<pe.length;ne++)if(pe[ne].id!==A.j)return!0;return!1}h(X,"isThirdPartyCallEnabled");function me(ie){return Object(v.e)(ie).length>0}h(me,"isAnyCallAppEnabled");function Oe(ie){const pe=C.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),ne=C.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:ie,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),q=C.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:pe,description:ne,confirm:q,cancel:C.t("Cancel")}}h(Oe,"getCallConfirmationStrings");function Ce(ie){if(Object(M.g)(ie))return!1;const pe=Object(s.a)(ie,"calls_apps");return!!(pe&&pe.video&&pe.video.findIndex(ne=>(ne==null?void 0:ne.id)===A.j)!==-1)}h(Ce,"isNativeSlackCallEnabled");function le(ie){return Object(_.a)(ie)&&!Ce(ie)||Object(M.g)(ie)}h(le,"isSlackCallSlashCommandDisabled");function de(ie){return Object(I.a)(ie)&&!Object(o.g)(ie)}h(de,"shouldEnableForSponsoredConnections")},Icpd:function(H,n,e){"use strict";var s=e("fujP"),t=e("lCmp"),a=e("6ysl");n.a=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Object(s.a)(r)?!1:Object(t.a)(r,l=>Object(a.g)(l))}},Iqnp:function(H,n,e){"use strict";e.d(n,"e",function(){return C}),e.d(n,"f",function(){return D}),e.d(n,"c",function(){return B}),e.d(n,"a",function(){return L}),e.d(n,"d",function(){return U}),e.d(n,"b",function(){return W});var s=e("9oTK"),t=e.n(s),a=e("Uqsd"),r=e("PqaZ"),l=e("n0Pp"),o=e("s4P+"),i=e("lhZz"),u=e("Eh7F"),d=e("t890"),m=e("9Gfp"),c=e("sEtg"),E=e("BEaa"),f=e("Dn8e"),O=e("HlBM"),p=e("SQ0V"),b=e("sgFo");const T="AWARENESS-MANAGER",v="AWARENESS-MANAGER-CHIME",S=`[${T}] unknown awareness subtype`,A=3e4,I=250,_=5e3,M=15,y=Object(p.c)("Query for awareness state from other users who are subscribed to the topic",function(){var G=Object(s.coroutine)(function*(w,se,ee){const X=se();if(!Object(l.f)(X))return;const me=Object(m.a)(X),Oe={channel:ee,type:"awareness",subtype:u.b.QUERY,user:me};try{w(Object(r.h)(Oe))}catch(Ce){Object(o.a)({getState:se}).warn("Failed to send awareness query: ",Ce)}});return function(w,se,ee){return G.apply(this,arguments)}}());y.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const j=Object(p.c)("Send awareness state to other users who are subscribed to the topic",function(){var G=Object(s.coroutine)(function*(w,se,ee){const X=se();if(!Object(l.f)(X))return;const me=Object(m.a)(X),Oe=Object(c.c)(X,ee,me),Ce={channel:ee,type:"awareness",subtype:u.b.BROADCAST,user:me,awareness_state:Oe};try{w(Object(r.h)(Ce))}catch(le){Object(o.a)({getState:se}).warn("Failed to send awareness query: ",le)}});return function(w,se,ee){return G.apply(this,arguments)}}());j.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const C=Object(p.c)("Temporarily subscribe to a topic for updates",(G,w,se)=>{const ee=w();if(Object(l.f)(ee))try{G(Object(r.h)({channel_id:se,type:"temp_channel_sub"}))}catch(X){Object(o.a)({getState:w}).warn("Failed to subscribe to awareness topic: ",X)}});C.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const D=Object(p.c)("Temporarily unsubscribe from topic updates",(G,w,se)=>{const ee=w();if(Object(l.f)(ee))try{G(Object(r.h)({channel_id:se,type:"temp_channel_unsub"}))}catch(X){Object(o.a)({getState:w}).warn("Failed to unsubscribe from awareness topic: ",X)}});D.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const N=Object(p.c)("Alert other users who are subscribed to the topic that a subscriber has left",function(){var G=Object(s.coroutine)(function*(w,se,ee){const X=se();if(!Object(l.f)(X))return;const me=Object(m.a)(X),Oe={channel:ee,type:"awareness",subtype:u.b.CLOSE,user:me};try{w(Object(r.h)(Oe))}catch(Ce){Object(o.a)({getState:se}).warn("Failed to send awareness query: ",Ce)}});return function(w,se,ee){return G.apply(this,arguments)}}());N.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class B{maybeSendCurrentAwarenessState(w){const se=Object(i.getStoreInstanceByTeamId)(this.teamId);return se?(se.dispatch(j(w)),!0):!1}maybeSendAwarenessQuery(w){const se=Object(i.getStoreInstanceByTeamId)(this.teamId);return se?(se.dispatch(y(w)),!0):!1}maybeSendAwarenessCloseState(w){const se=Object(i.getStoreInstanceByTeamId)(this.teamId);return se?(se.dispatch(N(w)),!0):!1}constructor({teamId:w}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=w}}h(B,"RtmBroadcaster");class L{onDisconnectDataChannel(){var w;(w=this.audioVideoFacade)===null||w===void 0||w.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(w){this.audioVideoFacade=w,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,Object(o.b)().warn(v,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(w){}maybeSendCurrentAwarenessState(w){var se;if(!this.connected)return Object(o.b)().info(v,`${this.connected} ${w} Can't send yet, not connected`),!1;const ee=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!ee)return Object(o.b)().warn(v,`${this.connected} ${w} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const X=ee.getState(),me=Object(m.a)(X);ee.dispatch(Object(d.f)({topicId:w,userId:me}));const Oe=Object(b.F)(X),le=Object(c.c)(X,w,me,Oe?"self":void 0).map(ie=>new O.a.AwarenessPayload({fieldName:ie.field_name,fieldValue:ie.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!ie.field_timestamp_ms&&{fieldTimestampMs:ie.field_timestamp_ms}})),de=new O.a.AwarenessBroadcast({channel:w,user:Object(m.a)(ee.getState()),awarenessState:le});return(se=this.audioVideoFacade)===null||se===void 0||se.realtimeSendDataMessage(this.dataChannelTopic,O.a.encode(new O.a({awarenessBroadcast:de})).finish()),!0}maybeSendAwarenessQuery(w){var se;if(!this.connected)return Object(o.b)().info(v,`${this.connected} ${w} Can't send yet, not connected`),!1;Object(o.b)().warn(v,`${this.connected} ${w} Sending awareness query`);const ee=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!ee)return Object(o.b)().warn(v,`${this.connected} ${w} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const X=new O.a.AwarenessQuery({channel:w,user:Object(m.a)(ee.getState())});return(se=this.audioVideoFacade)===null||se===void 0||se.realtimeSendDataMessage(this.dataChannelTopic,O.a.encode(new O.a({awarenessQuery:X})).finish()),!0}maybeSendAwarenessCloseState(w){var se;if(!this.connected)return Object(o.b)().info(v,`${this.connected} ${w} Can't send yet, not connected`),!1;Object(o.b)().warn(v,`${this.connected} ${w} Sending awareness query`);const ee=Object(i.getStoreInstanceByTeamId)(this.teamId);if(!ee)return Object(o.b)().warn(v,`${this.connected} ${w} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const X=new O.a.AwarenessClose({channel:w,user:Object(m.a)(ee.getState())});return(se=this.audioVideoFacade)===null||se===void 0||se.realtimeSendDataMessage(this.dataChannelTopic,O.a.encode(new O.a({awarenessClose:X})).finish()),!0}constructor({teamId:w,peerId:se,topicId:ee,isHuddlesAwarenessTimestampEnabled:X}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=w,this.peerId=se,this.connected=!1,this.topicId=ee,this.isHuddlesAwarenessTimestampEnabled=!!X}}h(L,"ChimeChannelBroadcaster");class R{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(se=>{Object(o.b)().debug(T,`Running TTL for ${se}`);const ee=Object(i.getStoreInstanceByTeamId)(se);ee&&ee.dispatch(Object(d.l)())}),this.watchedTopics.size===0&&(Object(o.b)().info(T,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const w=Object(E.a)(M,-.25,.25);this.dirtyTopics.forEach(se=>{Object(f.a)(()=>{const ee=this.dataChannels.get(se);ee&&ee.maybeSendCurrentAwarenessState(se)&&this.dirtyTopics.delete(se)},w)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&(Object(o.b)().info(T,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(w=>{const se=this.dataChannels.get(w);se&&se.maybeSendCurrentAwarenessState(w)&&this.dirtyTopics.delete(w)}),this.watchedTopics.size===0&&(Object(o.b)().info(T,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(w=>{if(this.topicToTeamMap.get(w)){const ee=this.dataChannels.get(w);ee&&ee.maybeSendAwarenessQuery(w)&&this.dirtyTopics.delete(w)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(w){if(!this.watchedTopics.has(w)){Object(o.b)().info(T,`Ignoring topic change for unwatched topic ${w}`);return}this.dirtyTopics.add(w),this.dirtyBroadcastTimeoutId||(Object(o.b)().info(T,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),I)),this.perodicBroadcastTimeoutId||(Object(o.b)().info(T,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),A)),this.periodicTTLId||(Object(o.b)().info(T,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),_))}removeTopicId(w){this.dirtyTopics.delete(w),this.watchedTopics.delete(w)}watch(w,se,ee){this.watchedTopics.add(se),this.topicToTeamMap.set(se,w),this.dataChannels.set(se,ee),this.markTopicChanged(se),this.query()}unwatch(w){this.broadcastChanges(),this.removeTopicId(w)}unwatchAll(){if(this.watchedTopics.size){const w=[...this.watchedTopics].join(" ");Object(o.b)().warn(T,`Clearing unexpected remaining topics: ${w}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}h(R,"AwarenessManager");const U=new R;class W{onConnectDatachannel(w){this.audioVideoFacade=w,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),Object(o.b)().warn(v,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(w){let se;try{se=O.a.decode(w.data)}catch(ee){Object(o.b)().debug(v,`Peer Message failed during decode, ignoring peer message.
				| Error: ${ee}
				| Data Sender Attendee ID: ${w.senderAttendeeId}
				| Data Sender External Attendee ID: ${w.senderExternalUserId}
				| Topic: ${w.topic}`);return}if(se.awarenessQuery&&se.awarenessQuery.channel)U.markTopicChanged(se.awarenessQuery.channel);else if(se.awarenessBroadcast){const ee=Object(i.getStoreInstanceByTeamId)(this.teamId),X=Object(b.F)(ee.getState()),me=se.awarenessBroadcast.user,Oe=se.awarenessBroadcast.channel,Ce=se.awarenessBroadcast.awarenessState;if(me&&Oe&&Ce){const le=Ce.map(ie=>{var pe,ne;return{field_name:(pe=ie.fieldName)!==null&&pe!==void 0?pe:"unknown_field",field_value:(ne=ie.fieldValue)!==null&&ne!==void 0?ne:"unknown_value",...!!ie.fieldTimestampMs&&{field_timestamp_ms:ie.fieldTimestampMs}}}),de={user:me,channel:Oe,awarenessEntries:le,...X&&{uniqueId:w.senderAttendeeId}};ee&&ee.dispatch(Object(d.g)(de))}}else if(se.awarenessClose){const ee=Object(i.getStoreInstanceByTeamId)(this.teamId),X=Object(b.F)(ee.getState()),me=se.awarenessClose.user,Oe=se.awarenessClose.channel;me&&Oe&&ee&&ee.dispatch(Object(d.a)({topicId:Oe,userId:me,...X&&{uniqueId:w.senderAttendeeId}}))}}constructor({teamId:w}){this.dataChannelTopic="awareness-sync-channel",this.teamId=w}}h(W,"ChimeChannelListener");const x=h((G,w,se)=>{const ee=se(),X=Object(m.a)(ee),me=G.awareness_state;switch(G.subtype){case"query":X!==G.user&&U.markTopicChanged(G.channel);break;case"broadcast":if(me&&X!==G.user){const Oe={user:G.user,channel:G.channel,awarenessEntries:me};w(Object(d.g)(Oe))}break;case"close":X!==G.user&&w(Object(d.a)({topicId:G.channel,userId:G.user}));break;default:throw new Error(S)}},"onAwarenessEvent");Object(a.b)("awareness",x)},Iquu:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("oEDn"),l=e("+bQA");const o=new a.b("form_inputs"),i=h(u=>{let{count:d}=u;return t.a.createElement("div",{className:"c-multi_select_helper_text"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.a.createElement(r.a,{size:"inherit",type:"missing-emoji",inline:!0})),o.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:d}))},"MultiSelectUnknownText");n.a=i},ItXa:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("JoAr"),l=e("Cfcg"),o=e("DS5W"),i=e("JoR1");const u=new a.b("current_status");function d(c){let{className:E,expiration:f,time24:O}=c;if(!f)return null;const p=f*1e3,b=u.t("Until {expirationDate}",{expirationDate:Object(r.a)(p,"{status_expiration}",{do24hrTime:O,shouldCapitalize:!1})});return t.a.createElement("span",{className:E,"data-qa-status-expiration":f},b)}h(d,"CustomStatusExpiration"),d.displayName="CustomStatusExpiration";function m(c,E){let{memberId:f}=E;return{expiration:Object(o.a)(c,f||"")||0,time24:!!Object(i.t)(c,"time24")}}h(m,"mapStateToProps"),n.a=Object(l.a)(m)(d)},IuTd:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("tUtw"),a=e("p5o1");const r=Object(s.c)("Started loading history for a channel",(l,o,i)=>{const{channelId:u,loadingOlder:d,request:m}=i||{},c=Object(t.a)(o(),u);c&&c.loading&&c.request&&c.request.cancel(),l(Object(a.a)({objects:[{channelId:u,loading:!0,loadingOlder:d,request:m}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},Iy3M:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("yIs4"),o=e("CD4m"),i=e("sGXp"),u=e("E3dU"),d=e("ISSR"),m=e("Yauy"),c=e("E97Y"),E=e("s4P+"),f=e("dlm8"),O=e("nNoG"),p=e("fZDj"),b=e("woMp"),T=e("9WS/"),v=e("djjd"),S=e("rZ8V"),A=e("fMsH");function I(){return I=Object.assign||function(N){for(var B=1;B<arguments.length;B++){var L=arguments[B];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(N[R]=L[R])}return N},I.apply(this,arguments)}h(I,"_extends");const _=new O.b("channel_entity"),M="SMALL-CHANNEL-ENTITY";function y(N){let{className:B,channel:L,bestFormerName:R,inlineNameSuffix:U,invert:W=!1,logger:x,displayFormerNames:G=i.e.false,showTeamForLocalChannel:w,showDraftIcon:se=!1,showFilledIcon:ee=!1,showTeam:X,memberCount:me,onlyBoldIfUnread:Oe=!1,showTruncatedChannelNameTooltip:Ce=!1,"data-qa":le="small_channel_entity",channelHasNonUniqueName:de=!1,showDisambiguatingTeamName:ie=!1}=N;const pe=Object(s.useCallback)(Z=>t.a.createElement(b.a,I({},Z,{className:"c-small_channel_entity__icon",channel:L,size:i.a.small,showDraftIcon:se,showFilledIcon:ee})),[L,se,ee]);if(Object(c.g)(L)||Object(c.i)(L))return x==null||x.warn(M,"SmallChannelEntity should not display IMs or MPIMs"),null;const ne=Object(r.default)(B,"c-small_channel_entity"),q=!Oe||Object(m.ub)(L),ce=Object(c.q)(L),ge=Object(c.j)(L);let be=Object(d.a)(L)?i.d.dim:void 0;W&&(be=i.d.highlightDark);let Q=null;if(Object(l.a)(me)){const Z=_.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:me,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});Q=t.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":Z},"(",me,")")}const re=de&&ie,z=t.a.createElement(T.a,{channel:L,bestFormerName:R,inlineNameSuffix:U,displayFormerNames:G,showTeamForLocalChannel:w||re,showTeam:X,bold:!!q}),Y=Ce?t.a.createElement(o.c,{withTruncationTooltip:!0},z):z,ve=Object(r.default)("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":Ce});return t.a.createElement(o.d,{avatar:pe,className:ne,"data-qa":le,size:"small",style:be,text:t.a.createElement(o.c,null,ce||ge?t.a.createElement(p.a,{type:ce?"unknown":"non-existent",invert:W,size:"small"}):t.a.createElement("span",{className:ve},Y,U&&t.a.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},U),Q))})}h(y,"SmallChannelEntity"),y.displayName="SmallChannelEntity";function j(N){return Object.prototype.hasOwnProperty.call(N,"channel")}h(j,"propsContainsChannel");function C(N,B){let L;if(B.showMemberCounts){var R;const x=Object(f.d)(N,j(B)?Object(m.i)(B.channel):B.channelId);L=x?x==null||(R=x.counts)===null||R===void 0?void 0:R.member_count:null}const U=j(B)?B.channel:Object(u.d)(N,B.channelId);let W;return B.showDisambiguatingTeamName&&Object(S.o)(N)&&(W=Object(v.a)(Object(u.a)(N),U)),{memberCount:L,channel:U,logger:Object(E.a)({state:N,label:M}),channelHasNonUniqueName:W}}h(C,"mapStateToProps");var D=n.a=Object(a.a)(C)(y)},"J/RB":function(H,n,e){"use strict";var s=e("Z0Cl"),t=e("zmn3"),a=e("NZ+B"),r=e("SQ0V"),l=e("cBLH"),o=e("ZYJ2"),i=e("Jhy3"),u=e("Byhf"),d=e("O86Y"),m=e("xcHN"),c=e("Zbwg"),E=e("I0SW"),f=e("9Gfp"),O=e("l/Qw"),p=e("s4P+"),b=e("Pw4T"),T=e("IuTd"),v=e("Lcgj"),S=e("i5Ig");const A=Object(r.c)("Add messages from history",(I,_,M)=>{let{msgs:y,channelId:j,isLimited:C,latest:D,oldest:N,hasMore:B,loading:L,forceUnreadCount:R,deleted:U=[]}=M;const W=_(),x=Object(b.d)({getState:_});Object(f.i)(W,"feature_tinyspeck")&&x.mark("rmsgs_addMessagesFromHistory");const G=Object(s.a)(y,X=>{const me=Object(E.a)(W,{channelId:j,ts:X.ts});return me&&Object(p.a)({getState:_}).warn(`Filtering out ${X.ts} in ${j} history response because it was deleted`),!me}),w=C?y.filter(X=>X.is_beyond_free_limit).map(X=>X.ts):S.a,se=Object(t.a)(G,"ts"),ee=Object(c.a)(j)?j:Object(m.a)(j).channelId;ee&&Object(o.c)(Object(d.g)(W),ee,se),I(Object(i.i)(G)),I(Object(l.a)({channelId:j,timestamps:se,isLimited:C,blurredMessages:w,latest:D,oldest:N,hasMore:B,loading:L,forceUnreadCount:R})),Object(a.a)(L)&&I(L?Object(T.a)({channelId:j,loadingOlder:!!D}):Object(v.a)({channelId:j})),Object(f.i)(W,"feature_tinyspeck")&&x.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),U.forEach(X=>I(Object(u.a)({deleted_ts:X,channel:ee}))),G.forEach(X=>Object(O.c)(_,I,X,X))});A.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"},n.a=A},J47P:function(H,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"a",function(){return d});var s=e("n3tL"),t=e("OZf9"),a=e("6FZx"),r=e("s4P+"),l=e("ykb+");const o="_isSlackSubmenuItem",i={...a.d,kbNavActive:s.default.bool,stealKBNav:s.default.func,returnKBNav:s.default.func,preventHighlightChange:s.default.func,allowHighlightChange:s.default.func};function u(m){return!!m[o]}h(u,"isSubmenu");function d(m){if(Object(l.b)()){const c=m.propTypes||{};let E;Object.defineProperty(m,"propTypes",{get:()=>E,set:f=>{const O=m.displayName||m.name||"Component";Object(t.a)(i,(p,b)=>{const T=f[b];T&&T!==p&&T!==p.isRequired&&Object(r.b)().warn(`${O}'s ${b} prop type doesn't match submenu`)}),E={...i,...f}}}),m.propTypes=c}return m[o]=!0,m[a.a]=!0,m}h(d,"wrapSubmenu")},JYsB:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("n3tL"),r=e("ifKl"),l=e("nNoG"),o=e("oEDn"),i=e("m40f"),u=e("+bQA");const d=new l.b("form_inputs"),m={onCtaClick:a.default.func,errorCopy:a.default.string,ctaCopy:a.default.string},c={onCtaClick:r.a,errorCopy:void 0,ctaCopy:void 0},E=h(f=>{let{onCtaClick:O=r.a,errorCopy:p,ctaCopy:b}=f;return t.a.createElement("div",{className:"c-multi_select_helper_text"},t.a.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.a.createElement(o.a,{size:"inherit",type:"exclamation-circle",inline:!0})),t.a.createElement("span",null,p||d.t("Selected entries contain errors."),t.a.createElement(i.a,{onClick:O,type:"button",className:"margin_left_25"},b||d.t("Delete all errors"))))},"MultiSelectErrorText");E.displayName="MultiSelectErrorText",E.propTypes=m,E.defaultProps=c,n.a=E},Jc4w:function(H,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t[t.LIST=1]="LIST",t[t.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",t[t.EDIT=3]="EDIT"})(s||(s={}))},JfyJ:function(H,n,e){"use strict"},Jjuf:function(H,n,e){"use strict";e.d(n,"a",function(){return B}),e.d(n,"b",function(){return L});var s=e("Muja"),t=e("SQ0V"),a=e("TU0B"),r=e("3fJ/"),l=e("/aHE"),o=e("6qYK"),i=e("/S0L"),u=e("PCpP"),d=e("/5cg"),m=e("Mtxo"),c=e("Tkkt"),E=e("05YS"),f=e("pQQO"),O=e("sjOx");const p=h((R,U,W)=>R&&Object.values(U).includes(R)?R:U[W],"validateMessageSearchSort"),b=h((R,U,W)=>R&&Object.values(U).includes(R)?R:U[W],"validateFileSearchSort"),T=h((R,U,W)=>R&&Object.values(U).includes(R)?R:U[W],"validateChannelSearchSort"),v=h((R,U,W)=>R&&Object.values(U).includes(R)?R:U[W],"validatePeopleSearchSort"),S=h((R,U,W)=>R&&Object.values(U).includes(R)?R:U[W],"validateResultCountToggle");var A=e("lUvW"),I=e("blur"),_=e("bsvk"),M=e("vkL2"),y=e("3mGd"),j=e("i26o"),C=e("xgMo"),D=e("O86Y"),N=e("bczA");const B=Object(t.c)("Runs search from given encoded search state string",(R,U,W)=>{let{encodedSearchString:x}=W;if(!x)return;const G=U(),w=Object(y.a)(U()),se=Object(C.c)(G),ee=O.x.OMNISWITCHER;if(se&&x===w)return;const X=Object(a.b)(x),{displayQuery:me,requestQuery:Oe,tab:Ce,page:le,messageAndFileSearchExcludeBots:de,messageAndFileSearchOnlyMyChannels:ie,activeEnterpriseTeamIdFilter:pe,channelSearchFilterType:ne,channelSearchOrgFilters:q,channelSearchHideMemberChannels:ce,peopleSearchFilterType:ge,peopleSearchOrgFilters:be,peopleSearchHideDeactivatedUsers:Q,messageSearchSort:re,fileSearchSort:z,channelSearchSort:Y,peopleSearchSort:ve,resultCountToggle:Z,peopleSearchLocationFilters:$,peopleSearchDivisionFilters:te,peopleSearchDepartmentFilters:J,peopleSearchTitleFilters:k,peopleSearchCelebrationFilters:ae}=X;R(Object(f.c)({query:me,inputId:ee}));const Ee=Object(_.d)(G,Oe);R(Object(c.h)({queryFilter:Ee}));const _e=p(re,O.i,"relevantMessages"),je=b(z,O.e,"relevant"),Ue=T(Y,O.b,"relevant"),Ke=v(ve,O.m,"relevant"),ke=S(Z,O.n,20);_e!==Object(o.c)(G)&&R(Object(i.a)({sort:_e})),je!==Object(u.a)(G)&&R(Object(d.b)({sort:je})),Ue!==Object(o.b)(G)&&R(Object(l.b)({sort:Ue})),Ke!==Object(o.e)(G)&&R(Object(l.e)({sort:Ke})),ke!==Object(o.f)(G)&&R(Object(l.f)({count:ke})),R(Object(r.P)({tab:Ce})),R(Object(r.u)({moduleType:Ce,page:le}));const{displayQuery:Qe,requestQuery:Ze,messageAndFileSearchExcludeBots:De,messageAndFileSearchOnlyMyChannels:Fe,activeEnterpriseTeamIdFilter:Ve,channelSearchFilterType:Je,channelSearchOrgFilters:Ot,channelSearchHideMemberChannels:ht,peopleSearchFilterType:Le,peopleSearchOrgFilters:jt,peopleSearchHideDeactivatedUsers:Ut,messageSearchSort:Ie,fileSearchSort:oe,channelSearchSort:ye,peopleSearchSort:Ne,resultCountToggle:Ge,peopleSearchDepartmentFilters:st,peopleSearchDivisionFilters:$e,peopleSearchLocationFilters:It,peopleSearchTitleFilters:Lt,peopleSearchCelebrationFilters:St}=Object(a.b)(w||""),vt=Object(E.B)(G,{module:Ce});if(Ce===O.A.CHANNELS&&(ne&&R(Object(r.j)({type:ne})),q&&R(Object(r.l)({orgFilters:q}))),Ce===O.A.PEOPLE&&(ge&&R(Object(r.z)({type:ge})),be&&R(Object(r.C)({orgFilters:be})),$&&R(Object(r.A)({locations:$})),k&&R(Object(r.H)({titles:k})),J&&R(Object(r.x)({departments:J})),te&&R(Object(r.y)({divisions:te})),ae&&R(Object(r.v)({celebrations:ae}))),de!==De&&R(Object(l.c)({value:!!de})),ie!==Fe&&R(Object(l.g)({value:!!ie})),pe!==Ve&&pe&&R(Object(r.g)({selectedEnterpriseTeamId:pe})),ge===O.l.guests){const Zt=Object(D.b)(G);Zt&&R(Object(r.g)({selectedEnterpriseTeamId:Zt}))}ce!==ht&&R(Object(l.a)({value:!!ce})),Q!==Ut&&R(Object(l.d)({value:!!Q})),_e!==Ie&&R(Object(i.a)({sort:_e})),je!==oe&&R(Object(d.b)({sort:je})),Ue!==ye&&R(Object(l.b)({sort:Ue})),Ke!==Ne&&R(Object(l.e)({sort:Ke})),ke!==Ge&&R(Object(l.f)({count:ke}));const Yt=de!==De||ie!==Fe||pe!==Ve||ne!==Je||!Object(s.a)(q,Ot)||ce!==ht||ge!==Le||!Object(s.a)(be,jt)||Q!==Ut||!Object(s.a)($,It)||!Object(s.a)(k,Lt)||!Object(s.a)(te,$e)||!Object(s.a)(J,st)||!Object(s.a)(ae,St);let et=null;Oe!==Ze||me!==Qe?et=R(Object(m.a)({query:Oe,page:le,encodedSearchString:x})):vt!=null&&vt.items&&(vt!=null&&vt.items[le])?Yt?(et=Object(A.k)(R,U,"search-filters-history-stack"),R(Object(M.b)({value:x}))):_e!==Ie?(et=R(Object(I.d)({module:"messages",reason:"search-message-sort-changed-history-stack"})),R(Object(M.b)({value:x}))):je!==oe?(et=R(Object(I.d)({module:"files",reason:"search-files-sort-changed-history-stack"})),R(Object(M.b)({value:x}))):Ue!==ye?(et=R(Object(I.d)({module:"channels",reason:"search-channels-sort-changed-history-stack"})),R(Object(M.b)({value:x}))):Ke!==Ne?(et=R(Object(I.d)({module:"people",reason:"search-people-sort-changed-history-stack"})),R(Object(M.b)({value:x}))):ke!==Ge?(Object(A.k)(R,U,"result-count-toggle-history-stack"),R(Object(M.b)({value:x}))):R(Object(M.b)({value:x})):et=R(Object(m.a)({query:Oe,module:Ce,page:le,encodedSearchString:x}));const mt=j.a.fromString(G,Oe).toTextyString();et?et.then(()=>{me!==mt&&R(Object(f.c)({query:mt,inputId:ee}))}):me!==mt&&R(Object(f.c)({query:mt,inputId:ee}))});B.meta={name:"createThunk",key:"createThunkrunSearchFromEncodedSearchState",description:"Runs search from given encoded search state string"};const L=Object(t.c)("Runs search from current URL param",(R,U)=>{const W=U(),x=Object(N.b)(W);x.entityId===O.z&&R(B({encodedSearchString:x.searchQuery}))});L.meta={name:"createThunk",key:"createThunkrunSearchFromURL",description:"Runs search from current URL param"}},K5Ez:function(H,n,e){H.exports=e.p+"slackbot_fancy_1024-9020761.png"},KKcr:function(H,n,e){H.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},KOcJ:function(H,n,e){"use strict";e.d(n,"d",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"a",function(){return m}),e.d(n,"b",function(){return c}),e.d(n,"c",function(){return E});var s=e("0VPD"),t=e("+tZp"),a=e("K7jq"),r=e("ehcD"),l=e("9x2x"),o=e("nuzi");function i(f){return Object(o.d)(f)?Object(a.a)(f.entity):!1}h(i,"isExternalMember");function u(f,O){if(!Object(o.d)(f))return!1;const p=Object(r.e)(f.entity);return!!(Object(a.a)(f.entity)&&p&&!O.includes(p))}h(u,"isExternalMemberTeamNotConnectedOnChannel");function d(f,O){var p,b;return Object(o.d)(f)?!!(!Object(a.a)(f.entity)&&!Object(r.h)(f.entity,O)&&(!((p=f.entity)===null||p===void 0||(b=p.profile)===null||b===void 0)&&b.email)):!1}h(d,"isNonTeamOrgMember");function m(f,O,p){const b=Object(s.a)(Object(r.a)(f.entity),p||[]);return!(Object(l.a)(O)||b.length)}h(m,"doesOrgMemberNeedWorkspaceInvite");function c(f){let{selectedMembers:O,currentTeamId:p,channel:b,internalTeamIds:T,options:v={forDisplay:!1,shouldDisplayRealNames:!1}}=f;const{forDisplay:S,shouldDisplayRealNames:A}=v,I=new Set,_=O.reduce((M,y)=>{if(Object(o.b)(y,p)&&(M.externalCount+=1,M.userActionableCount+=1,Object(o.e)(y)?(M.externalPrimaryScIdentityTokens.push(y),I.add(y.emailTeam.id),M.userActionableExternalPrimaryScIdentityCount+=1):(M.userActionableExternalCount+=1,M.externalEmails.push(y.entity.value))),Object(o.c)(y,p)&&(Object(o.e)(y)||(M.userActionableInternalCount+=1,M.userActionableCount+=1),M.internalCount+=1,M.internalEmails.push(y.entity.value)),i(y)){M.externalCount+=1;const D=S?Object(t.c)({displayRealNames:A,member:y.entity}):y.value,N=y.entity.team_id;M.externalMembers.push(D),I.add(N),M.externalMemberTokens.push({name:D,teamId:N})}if(d(y,p)&&m(y,b,T)){var j;M.internalCount+=1;var C;M.nonTeamOrgMembers.push(S?Object(t.c)({displayRealNames:A,member:y.entity}):(C=(j=y.entity.profile)===null||j===void 0?void 0:j.email)!==null&&C!==void 0?C:"")}return M},{externalEmails:[],externalPrimaryScIdentityTokens:[],internalEmails:[],externalMembers:[],externalMemberTokens:[],nonTeamOrgMembers:[],userActionableExternalPrimaryScIdentityCount:0,userActionableExternalCount:0,externalCount:0,userActionableInternalCount:0,internalCount:0,userActionableCount:0,externalTeamIds:[]});return _.externalTeamIds=[...I],_}h(c,"getClassifiedTokens");function E(f,O,p,b){let T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{includeAllExternalTokens:!1};const{includeAllExternalTokens:v}=T;return{externalPrimaryScIdentityTokens:p===O||v?f.externalPrimaryScIdentityTokens:[],externalMemberTokens:v?f.externalMemberTokens:[],externalEmails:p===O?f.externalEmails:[],internalEmails:b===O?f.internalEmails:[]}}h(E,"getEffectiveClassifiedTokens")},KPXh:function(H,n,e){"use strict";e.d(n,"a",function(){return se}),e.d(n,"g",function(){return ee}),e.d(n,"f",function(){return X}),e.d(n,"j",function(){return me}),e.d(n,"e",function(){return Oe}),e.d(n,"b",function(){return Ce}),e.d(n,"i",function(){return le}),e.d(n,"c",function(){return de}),e.d(n,"d",function(){return ie}),e.d(n,"h",function(){return pe}),e.d(n,"k",function(){return ne}),e.d(n,"l",function(){return ge});var s=e("NFsq"),t=e("vfQU"),a=e("ZOzc"),r=e("xwCZ"),l=e("E3dU"),o=e("Awbm"),i=e("pu3F"),u=e("9Gfp"),d=e("19Yv"),m=e("PB3L"),c=e("pzLM"),E=e("5c3X"),f=e("WvVy"),O=e("ITkT"),p=e("Yauy"),b=e("pZC0"),T=e("VjAc"),v=e("E97Y"),S=e("kBpe"),A=e("nNoG"),I=e("IXzp"),_=e("RVJP");const M=h(Q=>Q&&Object(_.d)(Q,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var y=e("olrC"),j=e("PMNn"),C=e("rZ8V");const D=new A.b("cmd_handlers"),{UNKNOWN_COMMAND:N,UNSUPPORTED_IN_THREAD:B,UNSUPPORTED_IN_SHORTCUTS_MENU:L,CUSTOM_ERROR:R}=i.bb,U=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/active","/giphy","/mute","/remind"],W=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],x=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],G=["/slackaccessibility","/slackgov"],w=["/leave","/close","/part","/archive","/topic"],se=h(Q=>Q&&Q.alias_of,"getCommandAliasOf"),ee=h(Q=>Q&&Q.name,"getCommandName"),X=h(Q=>Q&&(Q.desc||Q.description),"getCommandDesc"),me=h(Q=>Q&&Q.usage,"getCommandUsage"),Oe=h(Q=>Q&&(Q.canonical_name||Q.name),"getCommandCanonicalName"),Ce=h(Q=>Q&&Q.aliases,"getCommandAliases"),le=h(Q=>Q&&Q.type,"getCommandType"),de=h(Q=>Q&&Q.app,"getCommandApp"),ie=h(Q=>Q==null?void 0:Q.appName,"getCommandAppName"),pe=h((Q,re,z)=>{const Y=Object(l.d)(Q,z),ve=Y?Object(j.b)(Q,Y)||[]:[];return Object(C.o)(Q)&&re.teams&&ve.length&&re.appName!=="Slack"&&!re.isWorkspaceAgnostic?re.teams.filter($=>ve.includes($)):[]},"getCommandRelatedWorkspaces"),ne=h(function(Q,re){let{channelId:z}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!re)return!1;const Y=Oe(re);return Y==="/leave"?Object(m.b)(Q,z):Y==="/remove"?Object(d.b)(Q,z):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(Y)>-1?!1:!!re.autocomplete},"isAutocompleteCommand"),q=h(Q=>!!(Q&&Q.isServer),"isServerCommand"),ce=h(function(Q){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(Q){case f.a.InvalidDm:return D.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case f.a.OwnerRequired:return D.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case f.a.InvalidParams:return re?D.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):D.t("You don\u2019t have permission to rename.");case f.a.RestrictedUser:return re?D.t("Your admins have limited who can rename multi-workspace channels."):D.t("You don\u2019t have permission to rename.");case f.a.OrgSharedSettings:return re?D.t("Your admins have limited who can rename multi-workspace channels."):D.t("You don\u2019t have permission to rename.");case f.a.InvalidChannelType:return D.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return D.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),ge=h(function(Q,re){let{channelId:z,isThread:Y,isShortcutsMenu:ve}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Q||!re)return{isEnabled:!1,reason:N};const Z=Oe(re),$=le(re),te=Object(l.d)(Q,z);if(!Object(u.i)(Q,"feature_tinyspeck")&&Object(s.a)(x,Z))return{isEnabled:!1,reason:N};if(!Object(S.i)()&&Object(s.a)(G,Z))return{isEnabled:!1,reason:N};if(Object(b.a)(te)&&Object(s.a)(w,Z))return{isEnabled:!1,reason:N};if(Y&&!Object(s.a)(U,Z))return{isEnabled:!1,reason:B};if(ve&&Object(s.a)(W,Z))return{isEnabled:!1,reason:L};if($==="custom"||$==="service"){const k=Object(a.a)(Q,"commands_only_regular"),ae=Object(r.c)(Q);if(k&&Object(o.b)(ae))return{isEnabled:!1,reason:N}}if(C.o&&re.teams){const k=Object(j.b)(Q,te)||[];if(!re.teams.filter(Ee=>k.includes(Ee)).length){const Ee=`Command not run. No intersection found between channel teams (${k}) and command teams (${re.teams})`;return{isEnabled:!1,reason:R,logString:Ee,feedback:D.t("This command is not available in this channel")}}}if(Z==="/open"||Z==="/feed"){const k=Object(r.c)(Q);if(Object(o.b)(k))return{isEnabled:!1,reason:N}}else if(Z==="/topic"){const{ok:k,reason:ae}=Object(c.b)(Q,z);if(!k)return{isEnabled:!1,reason:R,feedback:Object(T.k)(ae)}}else if(Z==="/invite"){const k=Object(r.c)(Q);if(Object(o.c)(k))return{isEnabled:!1,reason:N};if(!Object(p.db)(te))return{isEnabled:!1,reason:R,feedback:D.t("You don\u2019t have permission to invite people.")};if(Object(o.b)(k)&&!Object(v.k)(te)||Object(y.a)(Q,k,te))return{isEnabled:!1,reason:R,feedback:D.t("You don\u2019t have permission to invite people.")}}else if(Z==="/invite_people"){if(!Object(O.e)(Q))return{isEnabled:!1,reason:R,feedback:D.t("You don\u2019t have permission to invite people.")}}else if(Z==="/rename"){const{ok:k,reason:ae}=Object(f.d)(Q,z);if(!k)return{isEnabled:!1,reason:R,feedback:ce(ae)}}else if(Z==="/archive"){if(!Object(E.b)(Q,te))return{isEnabled:!1,reason:N}}else if(Z==="/call"){if(!Object(I.b)(Q,z)||Object(I.k)(Q))return{isEnabled:!1,reason:N}}else if(Z==="/slacktrace"){if(!Object(t.qb)())return{isEnabled:!1,reason:R,feedback:D.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(Z==="/feedback"&&M(Q))return{isEnabled:!1,reason:N};return{isEnabled:!0}},"isSlashCommandEnabled"),be={getRenameDisabledFeedback:ce,TS_ONLY_COMMANDS:x,DESKTOP_APP_ONLY_COMMANDS:G}},KQ0X:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){let{teamId:a,channelId:r}=t;return[a,r].join("-")}h(s,"getPendingChannelSwitchKey")},KZ1R:function(H,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("s4P+"),l=e("Mqk2"),o=e("blur"),i=e("sjOx"),u=e("hT/Z"),d=e("OaiI"),m=e("3zNH");const c=Object(a.c)("Fetch lists",function(){var E=Object(s.coroutine)(function*(f,O){let{query:p,sort:b,reason:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const v=yield p?f(Object(l.i)({query:`type:list ${p}`,includeShares:!0,reason:T||"get-lists",bypassCache:!0})):f(Object(o.c)({module:"files",query:"type:list",sort:b||i.e.lastRead,reason:T||"get-lists"})).then(S=>{let{items:A}=S;return A});Object(d.isListsStoreRefactorEnabled)(O())?f(Object(m.a)({files:v})):f(Object(u.a)({lists:v}))}catch(v){Object(r.a)({label:"lists"}).error("error fetching lists",v)}});return function(f,O){return E.apply(this,arguments)}}());c.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},Kacs:function(H,n,e){"use strict";var s=e("Z7Ay"),t=e("Kyco"),a=e("DwFS");const r=Object(a.a)("NOOP");r.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"};var l=e("lhZz"),o=e("EXbH");const i=0,u=Object(t.b)({},i,{storeKey:"noop",persistenceEnabled:!1}).on(r,m=>m+1);var d=n.a=u;Object(s.a)("dispatchNoop",()=>{Object(l.dispatchForTeamId)(Object(o.d)(),r())})},KcWJ:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("lhZz"),a=e("O86Y"),r=e("xcHN"),l=e("cU/a"),o=e("25cE"),i=e("Sklr");const u=Object(s.c)("Opens the threads flexpane",function(d,m){let{channelId:c,threadTs:E,highlightTs:f,origin:O,originId:p,shouldOpenInTile:b=!1,replaceHistoryState:T=!1,openInPrimaryTile:v=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(t.dispatchForClientStore)(Object(i.a)({teamId:Object(a.g)(m())})).then(()=>{const A={threadId:Object(r.c)(c,E)};f&&(A.replyTs=f),d(Object(l.a)({routeName:o.w,flexName:"thread",flexParams:A,flexOrigin:O,flexOriginId:p,shouldOpenInTile:b,replaceHistoryState:T,openInPrimaryTile:v}))})});u.meta={name:"createThunk",key:"createThunkshowThread",description:"Opens the threads flexpane"}},Ki3U:function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("RVJP"),l=e("Lgge"),o=e("O86Y"),i=e("ohbk"),u=e("i9jZ"),d=e("CnKg"),m=e("E3dU"),c=e("5pIt"),E=e("25cE"),f=e("RV0M"),O=e("lhZz"),p=e("xY6W"),b=e("7Bj1"),T=e("I0j/"),v=e("sgFo"),S=e("37+L"),A=e("Wn1n"),I=e("Z6bF"),_=e("rZ8V"),M=e("6inW"),y=e("Zbwg"),j=e("2VFn"),C=e("f24l"),D=e("uiBO"),N=e("D4ee"),B=e("GoiD"),L=e("ETR2"),R=e("oUrV"),U=e("QMho"),W=e("A+YV"),x=e("PIf0"),G=e("cU/a"),w=e("+CZ0"),se=e("HoeF");const ee="Qp:F0DELETED",X=Object(a.c)("Opens the channel space for the given channel",function(){var me=Object(s.coroutine)(function*(Oe,Ce,le,de){let{channelId:ie,focusSectionId:pe,forceNewWindow:ne,commentThreadId:q,shouldOpenActivityHistory:ce,shouldOpenCommentStream:ge,fromKeyboardShortcut:be=!1,source:Q,isFromQuipAutocomplete:re,isFromQuipSearchList:z,isFromQuipActivityHistory:Y,quipViewFormat:ve,quipSyntheticViewSort:Z,quipSyntheticViewFilter:$,lastReadTs:te}=le;const J=Ce(),k=Object(_.o)(J),ae=Object(u.a)(J),Ee=Object(o.g)(J),_e=Object(A.a)(J),je=Object(O.getStateForClientStore)(),Ue=Object(w.b)(je),{shouldUseNavigate:Ke,isChildWindow:ke,isMainWindow:Qe,windowId:Ze}=de(f.a),{windowId:De}=de(x.a);let Fe=ie;if(be&&!ie){var Ve;Fe=k&&Ze||ae&&Ze!==j.c?(Ve=Object(U.a)(J,{container:j.h.Primary,windowId:Ze}))===null||Ve===void 0?void 0:Ve.id:_e}if(!Fe||!Object(y.a)(Fe))return;const Je=Object(m.d)(J,Fe),{fileId:Ot,isLinkedCanvasDeleted:ht}=Object(I.a)(Je),Le=Ot||Object(c.a)(J,Fe);if(!Le){if(!ht)return null;if(Object(_.o)(J)){const Ne=ee;return Oe(Object(T.a)(Object(S.j)(Ne,Fe,{fileId:"",source:Q??R.a.CHANNEL_CANVAS_GENERIC_SOURCE,isChannelCanvas:!0})))}return Oe(Object(G.a)({routeName:E.o,flexName:"docs",flexParams:{quipDocId:ee},shouldOpenInTile:!1}))}const jt={fileId:Le,forceNewWindow:ne,source:Q??R.a.CHANNEL_CANVAS_GENERIC_SOURCE,isFromQuipAutocomplete:re,isFromQuipSearchList:z,isFromQuipActivityHistory:Y,quipViewFormat:ve,quipSyntheticViewSort:Z,quipSyntheticViewFilter:$,isChannelCanvas:!0};let Ut;if(Le){const Ne={id:Le};pe&&(Ne.sectionId=pe),Ut=Object(d.h)(Ne)}if(!Ut)return l.a.reject(new Error("Attempted to open a channel canvas without an entityId"));const Ie=Object(r.d)(Ce(),"channel_canvas_in_huddles")==="on",oe=Object(v.v)(Ce());if(Ie&&Object(M.b)(De))if(ne)Oe(Object(p.a)());else return Oe(Object(L.a)({...jt,source:R.a.HUDDLE_CHANNEL_CANVAS_OPEN})),Oe(oe&&Ue===ie?Object(se.n)({isChannelSpaceOpen:!0}):Object(W.a)({fileId:Le}));if(ne&&ae){const Ne={[j.h.Primary]:Object(S.j)(Ut,Fe,jt,te)};return ce&&(Ne[j.h.Secondary]=Object(S.Q)(Ut)),ge&&(Ne[j.h.Secondary]=Object(S.R)(Ut)),q&&(Ne[j.h.Secondary]=Object(S.S)({entityId:Ut,commentThreadId:q})),Oe(Object(L.a)(jt)),Oe(Object(b.a)({viewSet:Ne}))}if(k)return Oe(Qe&&q?Object(T.a)(Object(S.S)({entityId:Ut,commentThreadId:q})):Object(T.a)(Object(S.j)(Ut,Fe,jt,te)));if(ke||Ke)return Oe(Object(T.a)(Object(S.j)(Ut,Fe,jt,te)));if(be&&Ze&&Ze!==j.c)return Oe(Object(C.a)({windowId:Ze,id:"channel_canvas",viewType:D.b.ChannelCanvas,params:{entityId:Ut,channelId:Fe},shouldNavigateInContext:!0}));let ye=!1;return _e!==Fe&&(yield Oe(Object(i.a)({id:Fe,teamId:Ee})),ye=!0),q?Oe(Object(B.a)({fileId:Le,quipCommentThreadId:q,replaceHistoryState:ye})):(Oe(Object(L.a)(jt)),Oe(Object(N.a)({quipDocId:Ut,replaceHistoryState:ye,source:Q})))});return function(Oe,Ce,le,de){return me.apply(this,arguments)}}());X.meta={name:"createThunk",key:"createThunkopenChannelSpace",description:"Opens the channel space for the given channel"},n.a=X},KiUf:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("DwFS");const t=Object(s.a)("Navigate to a route");t.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const a=Object(s.a)("Set a value that represents whether the user navigated during a warm boot");a.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},KkHf:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("nNoG"),l=e("7JUD"),o=e("lvWT"),i=e("tYRW"),u=e("AEEY"),d=e("9org"),m=e("zKrX"),c=e("YyjR"),E=e("qDEp");const f=new r.b("generic_dialog"),O=h(p=>{let{title:b,children:T,submitButtonType:v="primary",submitButtonText:S=f.t("Confirm"),submitButtonIsDisabled:A=!1,submitButtonIsLoading:I=!1,showCancelButton:_=!0,showCloseButton:M=!0,showSubmitButton:y=!0,cancelButtonText:j=f.t("Cancel"),onSubmit:C=a.a,onCancel:D=a.a,onClose:N=a.a,"aria-describedby":B,"data-qa":L="dialog",className:R,overlayClassName:U,submitAutoClogProps:W,cancelAutoClogProps:x,shouldReturnFocusAfterClose:G=!0}=p;return t.a.createElement(l.a,{describedby:B,closeModal:N,role:"dialog",className:R,overlayClassName:U,dataQa:L,shouldReturnFocusAfterClose:G,showCloseButton:M},t.a.createElement(o.a,null,t.a.createElement(i.a,{title:b,"data-qa":`${L}_header`})),t.a.createElement(u.a,null,t.a.createElement(d.a,{"data-qa":`${L}_body`},T)),(_||y)&&t.a.createElement(m.a,{"data-qa":`${L}_footer`},t.a.createElement(c.a,null,_&&t.a.createElement(E.f,{type:"outline",onClick:D,"data-qa":`${L}_cancel`,autoClogProps:x},j),y&&t.a.createElement(E.c,{type:v,onClick:C,loading:I,disabled:A,"data-qa":`${L}_go`,autoClogProps:W},S))))},"DialogModalProps");O.displayName="DialogModalProps",n.a=O},KtMe:function(H,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s="summaryDetailListener",t="channelCanvasAutoOpen",a=10},L1AX:function(H,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return o});var s=e("Oy0v"),t=e("XOse"),a=e("SQ0V"),r=e("5ya7");const l=Object(a.c)("Opens the AddCustomEmojiModal for importing a custom emoji",(i,u,d)=>{let{emojiName:m,emojiUrl:c}=d;var E;i(Object(t.a)({emojiNameSuggestion:m&&((E=Object(s.a)(m))===null||E===void 0?void 0:E.name),emojiUrl:c}))});l.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const o=Object(a.c)("Opens the AddCustomEmojiModal if an emoji can be imported",(i,u,d)=>{const m=u(),{event:c,emojiName:E,emojiUrl:f}=d;f&&Object(r.a)(m,f,E)&&(c==null||c.preventDefault(),c==null||c.stopPropagation(),i(l(d)))});o.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},LAqm:function(H,n,e){H.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},LDoU:function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("AQWg"),r=e("yVpb"),l=e("WSQ4"),o=e("GJt6"),i=e("CnKg"),u=e("akkM"),d;(function(c){c.Auto="auto",c.Managed="managed",c.Restore="restore",c.AutocompleteClose="autocomplete",c.ChannelSpaceOriginRoute="channelSpaceOriginRoute",c.ChannelSpaceOriginView="channelSpaceOriginView",c.ShowDocFlexpane="showDocFlexpane",c.Transition="transition"})(d||(d={}));function m(c){let{autoFocus:E,docEmbed:f,fileId:O,quipThreadId:p,focusKey:b,isCommentOpen:T,isFromTypeToStartTemplateOverlayState:v,isTemplateOverlayShowing:S,hasHadFocus:A}=c;const I=Object(r.a)(p),_=Object(s.useRef)(f);_.current=f;const M=Object(s.useRef)(new Set(E?[d.Auto]:[])),{window:y}=Object(s.useContext)(l.a),j=Object(s.useRef)(y.document.activeElement),C=Object(s.useCallback)(L=>{if(S||v)return;const R=Object(u.f)(p),U=L.docEditor;!A&&R?(I.info(`applying focus state; sectionId: ${R.sectionId}`),U.applyFocusState(R)):U.focusEditor()},[p,S,A,I,v]),D=Object(s.useCallback)(L=>{const R=M.current;if(T){R.clear();return}if(R.has(d.Auto)){const U=y.document.activeElement;U&&U!==y.document.body&&U!==j.current&&(I.warn("Abandon autoFocus, active element changed"),R.delete(d.Auto)),U!=null&&U.classList.contains("ql-editor")&&(I.warn("Abandon autoFocus, Quill focused"),R.delete(d.Auto))}R.size&&(I.info(`focus on render: ${Array.from(R).join(",")}`),C(L))},[I,y,T,C]);Object(a.a)(f,D),Object(s.useEffect)(()=>{const L=M.current;if(E){var R;L.add(d.Auto),!((R=_.current)===null||R===void 0)&&R.incrementalRendered.get()&&D(_.current)}else{var U;L.delete(d.Auto),!((U=_.current)===null||U===void 0)&&U.incrementalRendered.get()&&I.info("Autofocus off after render")}},[E,I,D]);const N=Object(s.useCallback)(L=>{var R;!((R=_.current)===null||R===void 0)&&R.incrementalRendered.get()?(C(_.current),I.info(`focus: ${L}`)):M.current.add(L)},[C,I]),B=Object(s.useCallback)(L=>{var R,U;const{entityId:W}=((R=L)===null||R===void 0?void 0:R.params)||{},{reason:x}=((U=L)===null||U===void 0?void 0:U.uiState)||{};if(W){const G=Object(i.f)(W);if(G?G!==O:W!==p)return!1}return N(x||d.Transition),!0},[O,N,p]);return Object(o.a)(b,B),N}h(m,"useEmbedFocus")},LOcX:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("7JUD"),l=e("WMzb");function o(){return o=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(d[E]=c[E])}return d},o.apply(this,arguments)}h(o,"_extends");function i(d){let{defaultPane:m,panes:c,forceFullRerenderOnPageChange:E=!0,...f}=d;const O=Object(l.a)(),[p,b]=Object(s.useState)({pane:m}),T=Object(s.useCallback)((A,I)=>b({pane:A,props:I}),[]),{render:v,modalProps:S}=c[p.pane];return v||O.error("MULTI_PANE_MODAL",`Unknown pane "${p.pane}"`),t.a.createElement(r.a,o({},f,S,{className:Object(a.default)(f.className,S==null?void 0:S.className,"c-multi_pane_modal")}),E?t.a.createElement(t.a.Fragment,{key:p.pane},v({switchPane:T,...p.props})):v({switchPane:T,...p.props}))}h(i,"MultiPaneModal"),i.displayName="MultiPaneModal";var u=n.a=i},LPwq:function(H,n,e){H.exports=e.p+"home-9e29930.jpg"},LTG1:function(H,n,e){"use strict";var s=e("ZvnG");class t{createPublisher(l){return this.publishers[l]=new s.a,this.publishers[l]}createAllPublisher(){return this.allPublisher=new s.a,this.allPublisher}publish(l,o){const i=this.publishers[l];i&&i.publish(o)}publishAll(l,o){var i;const u={peerId:l,value:o};(i=this.allPublisher)===null||i===void 0||i.publish(u)}subscribe(l,o){(this.publishers[l]||this.createPublisher(l)).subscribe(o)}subscribeAll(l){this.createAllPublisher().subscribe(l)}unsubscribe(l,o){const i=this.publishers[l];i&&i.unsubscribe(o)}constructor(){this.publishers={}}}h(t,"peer_pub_sub_PeerPubSub");var a=n.a=new t},Lcgj:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("SQ0V"),t=e("p5o1");const a=Object(s.c)("Finished loading history for a channel",(r,l,o)=>{const{channelId:i}=o||{};r(Object(t.b)({ids:[i]}))});a.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},Lizi:function(H,n,e){"use strict";e.d(n,"b",function(){return T}),e.d(n,"a",function(){return v});var s=e("j77i"),t=e("bYrq"),a=e("t4eE"),r=e("0VB0"),l=e("7lBi"),o=e("vfQU"),i=e("qcau"),u=e("Cgcc"),d=e("aybt");const m=".p-client_container_placeholder",c=".p-client_container_placeholder__nav",E=260,f=64,O=76;function p(A){let{name:I,hex:_,iaTheming:M,customTheme:y}=A;const j=Object(d.b)({hex:_,name:I}),C=(M==null?void 0:M.mode)||"light",D=(M==null?void 0:M.brightness)||u.a,N=Object(u.k)({mode:C,primary:M==null?void 0:M.primary,highlight1:M==null?void 0:M.highlight1,brightness:D,useCustomHex:y&&(M==null?void 0:M.useCustomHex)});let B;I.includes("Primary")?B=N.primary.shade:B=N.highlight1.shade;const L=u.s.indexOf(B);return{shade:B,value:C==="light"?j.light[L].value:j.dark[L].value}}h(p,"generateCustomHEXChromeColors");function b(A){let{iaTheming:I,customTheme:_}=A;return!I.primary.custom||!d.g.test(I.primary.custom)?null:p({name:"bootPrimary",hex:I.primary.custom.startsWith("#")?I.primary.custom:`#${I.primary.custom}`,iaTheming:I,customTheme:_})}h(b,"getBootPrimary");function T(A){let{teamId:I,showTeamSwitcher:_=!1}=A;const M=Object(s.h)(I,"is_unified_user_client_enabled"),y=Object(s.h)(I,"channelSidebarBackground"),j=parseInt(Object(s.f)("viewLayoutLastSidebarWidth"),10)||E,C=Object(s.h)(I,"teamSwitcherBackground"),D=Object(s.h)(I,"textColor"),N=Object(s.h)(I,"topNavBackground")||y,B=Object(s.h)(I,"topNavTextColor")||D,L=document.querySelector(m),R=Object(s.h)(I,"iaTheming"),U=Object(s.h)(I,"customTheme"),W=Object(s.h)(I,"windowGradient"),x=Object(s.f)("viewLayoutIsWorkspaceSwitcherVisible"),G=x?f:0;if(!L||Object(t.b)())return;const w=L.querySelector(c);if(!y){v();return}if(M){if(w&&D&&y){const me=document.createElement("div");me.classList.add("p-ia4_client_container_placeholder--sidebar"),me.style.width=`${j}px`;const Oe=document.createElement("div");Oe.classList.add("p-ia4_client_container_placeholder--tab_rail");const Ce=document.createElement("div");if(Ce.classList.add("p-ia4_client_container_placeholder--content"),Ce.style.left=`${G+O+j}px`,L.appendChild(me),x&&(L.appendChild(Oe),me.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),Ce.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),L.appendChild(Ce),L.classList.add("p-ia4_client_container_placeholder--theme-background"),R){let le="#ffffffB3";const de="#1212138C";if(R.mode==="light"&&R.sidebarInverted&&(le=de),R.mode==="dark"){var se,ee;le=de,(ee=(se=window.document)===null||se===void 0?void 0:se.querySelector("body"))===null||ee===void 0||ee.classList.add("sk-client-theme--dark")}if(me.style.backgroundColor=le,U&&R.useCustomHex){if(R.primary.custom){const ie="bootPrimary",pe=b({iaTheming:R,customTheme:U});pe&&L.style.setProperty(`--dt_color-plt-${ie}-${pe.shade}`,pe.value)}if(R.highlight1.custom){const ie="bootHighlight1",pe=p({name:"bootHighlight1",hex:R.highlight1.custom.startsWith("#")?R.highlight1.custom:`#${R.highlight1.custom}`,iaTheming:R,customTheme:U});L.style.setProperty(`--dt_color-plt-${ie}-${pe.shade}`,pe.value)}}if(W){const ie=Object(u.h)({mode:R.mode,primary:R.primary,highlight1:R.highlight1,brightness:R.brightness,useCustomHex:U&&R.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");L.style.background=ie}else{const ie="bootPrimary",pe=b({iaTheming:R,customTheme:!!U}),ne=Object(u.j)({mode:R.mode,role:"primary",brightness:(R==null?void 0:R.brightness)||u.a});L.style.backgroundColor=U&&R.useCustomHex&&pe?`rgb(var(--dt_color-plt-${ie}-${pe.shade}))`:`rgb(var(--dt_color-plt-${R.primary.palette}-${ne}))`}}else if(me.style.backgroundColor=y,N){const le=N,de=Object(r.k)(N,25);L.style.background=`radial-gradient(
						circle at 50% 50%,
						${le} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${de} 0%,
            ${le} 25%,
            ${de} 50%,
            ${le} 75%,
            ${de} 100%
          )`}w.classList.add("p-ia4_client_container_placeholder--top-nav"),Object(i.b)()&&N&&o.qc.isAvailable()&&Object(o.qc)(Object(o.Q)(),{color:N,symbolColor:B})}L.style.opacity="1"}else{if(Object(a.b)()&&_&&(L.classList.add("p-client_container_placeholder--with-team-switcher"),C&&(L.style.borderLeftColor=C)),w&&D&&y){const le=Object(r.l)(D,y,.1),de=Object(r.r)(D,.1);L.style.borderRightColor=le,Object(i.b)()&&N&&o.qc.isAvailable()&&Object(o.qc)(Object(o.Q)(),{color:N,symbolColor:B}),N&&(w.style.backgroundColor=N),w.style.color=de,Object(a.b)()&&_&&(L.style.removeProperty("border-left-color"),L.style.boxShadow=`-60px 0px 0px 0px ${y}`,w.classList.add("p-client_container_placeholder__nav--with-team-switcher"))}let me=y;var X;const Oe=(X=Object(s.h)(I,l.b))!==null&&X!==void 0?X:"",Ce=parseInt(Oe,10);isNaN(Ce)||(L.style.width=`${Oe+1}px`,Object(a.b)()&&_&&Ce===0&&(L.style.width="60px",me="none",L.style.borderRight="none")),L.style.backgroundColor=me,L.style.opacity="1"}}h(T,"renderBootPlaceholder");function v(){const A=document.querySelector(m);A&&A.remove()}h(v,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:v},"removeBootPlaceholder",{get:()=>v,set:A=>{v=A}})},LpvA:function(H,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r.a});var s=e("q1tI"),t=e("yxNq");let a=h(class extends s.Component{shouldComponentUpdate(o,i){return!Object(t.a)(o,this.props,2)||!Object(t.a)(i,this.state,2)}},"PureComponentDepth2");var r=e("6Bu2")},LqER:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("3vtZ"),l;(function(i){i.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",i.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",i.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(l||(l={}));function o(i){const u=Object(a.g)(d=>i?Object(r.o)(d,i):{});return Object(s.useMemo)(()=>({callsChannelId:u.channel_id,callsChannelType:u.channel_type,callsNumParticipants:u.num_participants,callsRoomId:u.room_id}),[u.channel_id,u.channel_type,u.num_participants,u.room_id])}h(o,"useHuddlesClogContext")},LvEQ:function(H,n,e){"use strict";e.d(n,"b",function(){return c}),e.d(n,"d",function(){return E}),e.d(n,"g",function(){return f}),e.d(n,"c",function(){return O}),e.d(n,"f",function(){return p}),e.d(n,"a",function(){return b}),e.d(n,"e",function(){return T}),e.d(n,"h",function(){return v});var s=e("Z0Cl"),t=e("fujP"),a=e("TGBA"),r=e("jF/p"),l=e("yIs4"),o=e("ZKjC"),i=e("G4qV"),u=e("JoR1");const d=60*60*24*14,m=Object(o.b)((S,A)=>S&&S.emojiCollections&&S.emojiCollections.collections&&S.emojiCollections.collections[A]);m.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(S,A)=>S&&S.emojiCollections&&S.emojiCollections.collections&&S.emojiCollections.collections[A]};const c=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.collections);c.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:S=>S&&S.emojiCollections&&S.emojiCollections.collections};const E=Object(i.a)(c,S=>Object(s.a)(S,A=>A.installed)),f=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.hasFetched);f.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:S=>S&&S.emojiCollections&&S.emojiCollections.hasFetched};const O=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.inputBadge);O.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:S=>S&&S.emojiCollections&&S.emojiCollections.inputBadge};const p=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.tabBadge);p.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:S=>S&&S.emojiCollections&&S.emojiCollections.tabBadge};const b=Object(o.b)(S=>S&&S.emojiCollections&&S.emojiCollections.emojiClickCount);b.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:S=>S&&S.emojiCollections&&S.emojiCollections.emojiClickCount};const T=Object(o.b)(S=>{const A=c(S);if(Object(t.a)(A))return null;const I=Object(a.a)(A);return Object(r.a)(I,_=>_.date_create)});T.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:S=>{const A=c(S);if(Object(t.a)(A))return null;const I=Object(a.a)(A);return Object(r.a)(I,_=>_.date_create)}};const v=Object(o.b)(S=>{const A=Object(u.t)(S,"emoji_packs_most_recent_available_time");if(!Object(l.a)(A))return!1;const I=A+d;return Date.now()/1e3<I});v.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:S=>{const A=Object(u.t)(S,"emoji_packs_most_recent_available_time");if(!Object(l.a)(A))return!1;const I=A+d;return Date.now()/1e3<I}}},LxFC:function(H,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"d",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});const s="output";var t;(function(l){l.Denied="denied",l.Granted="granted",l.NotDetermined="not-determined"})(t||(t={}));var a;(function(l){l.NONE="none",l.Blur="blur",l.Both="both"})(a||(a={}));var r;(function(l){l.Camera="camera",l.Microphone="microphone"})(r||(r={}))},"M1/X":function(H,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"d",function(){return b}),e.d(n,"b",function(){return v}),e.d(n,"c",function(){return S});var s=e("OtLZ"),t=e("E3dU"),a=e("beVI"),r=e("oU7v"),l=e("PMNn"),o=e("E97Y"),i=e("rKeN"),u=e("y3Vx"),d=e("G0eX"),m=e("OOsk");const c={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},E={ok:!1,reason:c.InvalidParams},f={ok:!1,reason:c.FreeTeam},O={ok:!1,reason:c.CannotRequest},p={ok:!1,reason:c.InvalidChannel},b=h((A,I)=>{if(!Object(o.e)(I))return E;const _=Object(i.a)(A),M=Object(d.K)(Object(a.g)(A));if(!_&&!M)return f;const j=Object(u.c)(A,{mustEveryWorkspaceBeAllowed:!0,teamIds:Object(l.b)(A,I)});return!(j!=null&&j.ok)&&Object(s.a)(j==null?void 0:j.reasons,u.a.UserCannotCreateChannel,u.a.AllowedWorkspacePref).length>0?O:Object(r.a)(A,I)?m.a:p},"canUserInviteExternalMembersToChannelWithReason"),T=h((A,I)=>{const M=Object(t.d)(A,I,!1);return M?b(A,M):E},"canUserInviteExternalMembersToChannelWithReasonById"),v=h((A,I)=>b(A,I).ok,"canUserInviteExternalMembersToChannel"),S=h((A,I)=>T(A,I).ok,"canUserInviteExternalMembersToChannelById")},"M2+7":function(H,n,e){"use strict";e.d(n,"a",function(){return G});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("NZ+B"),o=e("LvvF"),i=e("ZobM"),u=e("Kmpi"),d=e("qt2r"),m=e("E3dU"),c=e("xwCZ"),E=e("Yauy"),f=e("C3vN"),O=e("52Wj"),p=e("5YDL"),b=e("Fn/R"),T=e("K7jq"),v=e("ehcD"),S=e("pFNT"),A=e("CD4m"),I=e("MC67"),_=e("nNoG"),M=e("g/kD"),y=e("oEDn"),j=e("zUbs"),C=e("zNRp"),D=e("e7up"),N=e("NPtR"),B=e("0i82"),L=e("sGXp"),R=e("RVJP"),U=e("A4tE");function W(){return W=Object.assign||function(X){for(var me=1;me<arguments.length;me++){var Oe=arguments[me];for(var Ce in Oe)Object.prototype.hasOwnProperty.call(Oe,Ce)&&(X[Ce]=Oe[Ce])}return X},W.apply(this,arguments)}h(W,"_extends");const x=20,G=16,w=new _.b("members");function se(X){const{className:me,id:Oe,invert:Ce=!1,member:le,teamId:de,showAvatar:ie=!0,showDraftIcon:pe=!1,showPresence:ne=!0,showBadge:q=!0,showStatus:ce=!0,showTooltip:ge=!0,showUnreadCount:be=!1,showDeactivated:Q=!0,isDeactivated:re=!1,unreadCount:z,useShortMode:Y=!1,forceRealName:ve=!1,tokenSize:Z,truncateStatus:$=!1,withTruncationTooltip:te,"data-sk":J="small_member_entity","data-qa":k="small_member_entity",isBold:ae,experimentSidebarPrefsApplyToMenusGroupOn:Ee=!1,isUserHidden:_e=!1}=X,je=Object(b.a)(le),Ue=Object(f.rb)(le),Ke=Object(f.V)(le),ke=Object(T.a)(le),Qe=Object(f.jb)(le),Ze=Object(f.ib)(le),De=Object(u.c)(le),Fe=Object(u.d)(le),Ve=De||Fe,Je=Ce&&!re,Ot=Q&&Ke,ht=Object(O.e)(le),Le=Object(O.c)(le);let jt,Ut;_e?(jt=w.t("Name hidden"),Ut=w.t("Name hidden")):ve||!Le?(jt=ht,Ut=Le):(jt=Le,Ut=ht);const Ie=t.a.createElement(j.a,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:jt,invert:Je,isAppOrBot:je,isWorkflowBot:Ue,isDeleted:Ot,isSelf:Qe,isNonExistent:De,isUnknown:Fe,withTruncationTooltip:te,isBold:ae}),oe=!_e&&!Ze&&t.a.createElement(I.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},Ut),ye=Object(s.useMemo)(()=>!_e&&!Ke&&!Ze&&t.a.createElement(N.a,{memberId:Oe||(le==null?void 0:le.id),className:"c-member__presence",invert:Je,inline:!1}),[_e,Ke,Ze,Oe,Je,le]),Ne=Object(s.useCallback)(Yt=>ie?_e?t.a.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.a.createElement(i.a,{size:"20",name:"user-hide"})):Ve?t.a.createElement(D.a,W({},Yt,{"data-qa":"member-entity__missing",isNonExistent:De,size:x})):pe?t.a.createElement(y.a,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft"}):t.a.createElement(S.c,W({},Yt,{"data-qa":"member-entity__avatar",size:L.a.small,userId:Oe,user:le,showBadge:q,tabIndex:-1,isInteractive:!1,tokenSize:Z})):ne&&Ee?ye:null,[ie,Oe,De,Ve,le,Z,pe,_e,ye,ne,q,Ee]),Ge=ke&&t.a.createElement(B.b,W({},X,{"data-qa":"member-entity__team-icon",id:de,size:G,className:"c-member__team_icon"})),st=t.a.createElement(M.a,{memberId:Oe||"",tooltip:ge,animated:Y,className:Object(r.default)("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:$}),"data-qa":"member-entity__status"}),$e=be&&!!z&&t.a.createElement(C.b,{className:"c-member__unread_count",count:z,style:Je?"white":"red","data-qa":"member-entity__mention-badge"}),It=t.a.createElement("span",{className:"c-member__primary_content"},Ie,ne&&!Ve&&ie&&ye,!Y&&oe,ce&&st),Lt=(Ge||$e)&&t.a.createElement("span",{className:"c-member__secondary_content"},Ge,$e),St=Ke&&!Ce?L.d.dim:void 0,vt=Object(r.default)(me,"c-member","c-member--small",{"c-member--with-presence":ne,"c-member--deleted":Ke,"c-base_entity--dim":_e});return t.a.createElement(A.d,{avatar:Ne,className:vt,text:It,size:"small",style:St,subtext:Lt,"data-qa":k,"data-sk":J})}h(se,"SmallMemberEntity"),se.displayName="SmallMemberEntity";function ee(X,me){let{forceRealName:Oe,member:Ce,id:le,isDraftContext:de,showStatus:ie,onlyBoldIfUnread:pe,useShortMode:ne,neverBold:q}=me;const ce=Ce||Object(c.g)(X,le);let ge;const be=le||(ce==null?void 0:ce.id);be&&(de||pe)&&(ge=Object(m.m)(X,be));const Q=Object(o.b)(X,be);let re=!0;Q?re=!!ne:pe?re=!!(ge&&Object(E.ub)(ge)):q&&(re=!1);let z;return de&&(z=!!(ge&&Object(E.v)(X,ge.id))),{id:le||(ce==null?void 0:ce.id),member:ce??void 0,teamId:Object(v.c)(X,ce),forceRealName:Object(l.a)(Oe)?Oe:Object(d.b)(X),unreadCount:Object(p.a)(X,ce),showDraftIcon:z,showStatus:ie&&Object(f.K)(ce),isBold:re,experimentSidebarPrefsApplyToMenusGroupOn:Object(R.d)(X,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:Q}}h(ee,"mapStateToProps"),n.b=Object(a.a)(ee)(se)},MC67:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("aBhT"),l=e("BJra");function o(){return o=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(u[c]=m[c])}return u},o.apply(this,arguments)}h(o,"_extends");function i(u){const{children:d=null,className:m="",multiline:c=!1,inline:E=!1,breakWords:f=!0,withTruncationTooltip:O=!1}=u;if(!d)return null;const p=c?2:1;return E?t.a.createElement("span",o({className:Object(a.default)(m,"c-base_entity__text")},Object(l.a)(u)),d):t.a.createElement("span",o({className:Object(a.default)(m,"c-base_entity__text")},Object(l.a)(u)),t.a.createElement(r.a,{lines:p,breakWords:f,withTooltip:O},d))}h(i,"BaseEntityText"),i.displayName="BaseEntityText",n.a=i},MDjO:function(H,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"d",function(){return t}),e.d(n,"s",function(){return a}),e.d(n,"u",function(){return r}),e.d(n,"t",function(){return l}),e.d(n,"r",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"m",function(){return u}),e.d(n,"n",function(){return d}),e.d(n,"j",function(){return m}),e.d(n,"k",function(){return c}),e.d(n,"q",function(){return E}),e.d(n,"w",function(){return f}),e.d(n,"g",function(){return O}),e.d(n,"e",function(){return p}),e.d(n,"f",function(){return b}),e.d(n,"v",function(){return T}),e.d(n,"a",function(){return v}),e.d(n,"p",function(){return S}),e.d(n,"o",function(){return A}),e.d(n,"l",function(){return I}),e.d(n,"x",function(){return _}),e.d(n,"i",function(){return M}),e.d(n,"h",function(){return y});const s="012000000000000AAA",t=2e3,a=30,r=60*1e3,l=60*a*1e3,o=250,i=200,u=3,d=1,m=12,c=100;var E;(function(j){j.Fetching="fetching",j.Fetched="fetched",j.Saving="saving",j.Saved="saved",j.Error="error",j.Synced="synced"})(E||(E={}));var f;(function(j){j.default="default",j.collision="collision_detected",j.field_level_error="field_level_error",j.validation_error="validation_error",j.additional_fields_error="additional_fields_error",j.validation_go_to_salesforce_error="validation_go_to_salesforce_error"})(f||(f={}));const O=3,p=6;var b;(function(j){j.LOADING="loading",j.SUCCESS="success",j.ERROR="error",j.REQUEST_LIMIT_EXCEEDED="request_limit_exceeded",j.JOB_RUNNING="job_running"})(b||(b={}));const T={Dashboard:"dashboard",Opportunities:"opportunities"},v=200,S="https://trailhead.salesforce.com/content/learn/modules/opportunities-list-view-step-by-step/work-with-opportunity-list-views",A=1,I=10,_={aggregationColumns:[],grouping:void 0,sorts:[],filters:[],schema:[]},M=1,y=50},MPQZ:function(H,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return p});var s=e("NFsq"),t=e("0VPD"),a=e("xwCZ"),r=e("G0eX"),l=e("rKeN"),o=e("/FOo"),i=e("beVI"),u=e("y9ga"),d=e("VOl3"),m=e("Awbm"),c=e("q0lC"),E=e("2vLX"),f=e("O0Iw");function O(b){const T=Object(a.c)(b),v=Object(i.g)(b),S=Object(o.a)(b);if(!(S!=null&&S.value))return!1;if(Object(l.a)(b)){let A=[];switch(S.value){case u.c.ALL_ADMINS_AND_OWNERS:return Object(c.g)(b)||Object(c.e)(b)||Object(d.a)(T)||Object(d.b)(T);case u.c.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return Object(d.a)(T)||Object(d.b)(T)?!0:(A=Object(E.a)(b),!!(Object(s.a)(S.users,T==null?void 0:T.id)||Object(t.a)(S.userGroups,A).length));case u.c.EVERYONE:return!Object(m.b)(T);case u.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(d.a)(T)||Object(d.b)(T)}}if(Object(r.K)(v))switch(S.value){case u.c.TOPLEVEL_OWNERS:return Object(c.g)(b);case u.c.EVERYONE:return!Object(m.b)(T);case u.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(c.g)(b)||Object(c.e)(b)}return!1}h(O,"canUserManageExternalSharedChannels");function p(b,T){const v=Object(a.c)(b),S=Object(i.g)(b),A=Object(o.a)(b);if(!(A!=null&&A.value))return!1;if(Object(l.a)(b)){let I=[];switch(A.value){case u.c.ALL_ADMINS_AND_OWNERS:return Object(f.b)(b,T);case u.c.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return Object(d.a)(v)||Object(d.b)(v)?!0:(I=Object(E.a)(b),!!(Object(s.a)(A.users,v==null?void 0:v.id)||Object(t.a)(A.userGroups,I).length));case u.c.EVERYONE:return!Object(m.b)(v);case u.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(d.a)(v)||Object(d.b)(v)}}if(Object(r.K)(S))switch(A.value){case u.c.TOPLEVEL_OWNERS:return Object(c.g)(b);case u.c.EVERYONE:return!Object(m.b)(v);case u.c.TOPLEVEL_ADMINS_AND_OWNERS:default:return Object(c.g)(b)||Object(c.e)(b)}return!1}h(p,"canUserManageSlackConnectChannel")},MPhn:function(H,n,e){"use strict";e.d(n,"b",function(){return L}),e.d(n,"a",function(){return R});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("Lgge"),l=e("yUYH"),o=e("KOcJ"),i=e("Yauy"),u=e("e55/"),d=e("C3vN"),m=e("ehcD"),c=e("xwCZ"),E=e("y6S6"),f=e("eUIW"),O=e("bjy1"),p=e("DQNL"),b=e("Sl1j"),T=e("AIke"),v=e("Cwwo"),S=e("pu3F"),A=e("FdVR"),I=e("K7jq"),_=e("CaVW"),M=e("UIWO");const y=h((U,W)=>W.map(x=>x.pasted&&!x.entity?{value:x.value,entity:Object(c.g)(U,x.value)}:x),"getMemberInfoForPastedMembers"),j=h(U=>{const W=U.entity||{};return Object(f.a)(U==null?void 0:U.value)||Object(d.db)(W)},"isAMember"),C=h(U=>{const W=U.entity||{};return Object(O.a)(U.value)||Object(p.w)(W)},"isAUserGroup"),D={[S.w.ALREADY_IN_CHANNEL]:!0,[S.w.CANNOT_INVITE_SELF]:!0,[S.w.ALREADY_IN_CHANNEL_UG]:!0},N={},B=h(U=>{let{shouldPreserve:W,teamId:x}=U;N[x]=W},"setShouldPreserveModalsOnNavigation"),L=h(U=>{let{teamId:W}=U;return N[W]},"getShouldPreserveModalsOnNavigation"),R=Object(a.c)("Add users and user groups to channel",function(){var U=Object(s.coroutine)(function*(W,x,G){let{selectedMembers:w,addMemberMode:se,channel:ee,keepChannelHistory:X,teamId:me,shouldSkipInitialStage:Oe}=G;const Ce={channelId:ee.id,force:!0,reason:"submit-invite-channel-invite-modal"};let le,de;if(se===l.a.AllMembers)Ce.inviteAll=!0,le=[],de=[];else{const ce=y(x(),w),ge=Object(A.a)(x(),ee),be=Object(u.a)(x(),ee),Q=Object(M.a)(x())?me:Object(i.Eb)(x(),ee),re=Object(_.a)(x(),ee);le=ce.reduce((z,Y)=>{if(Y&&j(Y)&&Y.entity){const ve=Y,Z=Object(E.c)(x(),ee.id,ve.value);if(!Z.isKnown||!Z.isMember){const $=Object(m.e)(ve.entity);(re||Object(I.a)(ve.entity)&&$&&ge.includes($)||Object(m.h)(ve.entity,Q)||Object(o.e)(ve,me)&&!Object(o.a)(ve,ee,be))&&z.push(ve.value)}}return z},[]),Ce.users=le.join(","),de=w.reduce((z,Y)=>(Y&&C(Y)&&z.push(Y.value),z),[]),Ce.subteams=de.join(",")}const ie=Ce.inviteAll||!!Ce.users||!!Ce.subteams,pe={addedExistingMembers:ie,userInviteResults:le.map(ce=>({ok:!0,invitee:ce,inviteeType:v.e.User,accessType:v.a.Member,error:""})),groupInviteResults:de.map(ce=>({ok:!0,invitee:ce,inviteeType:v.e.UserGroup,accessType:v.a.Member})),newChannelId:void 0};try{if(X)ie&&(yield W(Object(b.B)(Ce)));else{B({shouldPreserve:!Oe,teamId:me}),Ce.propagateInviteResult=!0;const{channel:ce}=yield W(Object(T.a)(Ce));pe.newChannelId=ce.id,B({shouldPreserve:!1,teamId:me})}}catch(ce){var ne;B({shouldPreserve:!1,teamId:me});const ge=ce==null||(ne=ce.data)===null||ne===void 0?void 0:ne.errors;if(!ge){var q;if(!D[ce==null||(q=ce.data)===null||q===void 0?void 0:q.error])throw ce}ge==null||ge.forEach(be=>{if(D[be.error])return;const Q=pe.userInviteResults.filter(z=>z.invitee===be.user);if(Q.length)Q[0].ok=!1,Q[0].error=be.error;else if(w.length===1&&!be.user&&Oe){var re;pe.userInviteResults=[{ok:!1,invitee:(re=w[0])===null||re===void 0?void 0:re.value,inviteeType:v.e.User,error:be.error,accessType:v.a.Member}]}else pe.userInviteResults.push({ok:!1,invitee:be.user,inviteeType:v.e.User,error:be.error,accessType:v.a.Member})})}return r.a.resolve(pe)});return function(W,x,G){return U.apply(this,arguments)}}());R.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},MRve:function(H,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u});var s=e("Lgge"),t=e("SQ0V"),a=e("OdWA"),r=e("JXEU"),l=e("MQqT"),o=e("Cyb+");const i=Object(t.c)("Fetches and updates user interactions for the given types and subtypes",(d,m,c)=>{const E=m();let f;if(c.useCache){var O;const b=(O=c.cacheFilter)!==null&&O!==void 0?O:o.g;f=c.interactions.filter(T=>!b(E,T.component,T.type))}else f=c.interactions;if(f.length===0)return s.a.resolve();const p={components:f.map(b=>b.component),types:f.map(b=>b.type),reason:c.reason};return d(Object(a.a)(p)).then(b=>{d(Object(l.c)(f)),b.interactions.length&&d(Object(l.b)(b.interactions))})});i.meta={name:"createThunk",key:"createThunkloadUserInteractions",description:"Fetches and updates user interactions for the given types and subtypes"};const u=Object(t.c)("Record that a user has taken an action on a UI component",(d,m,c)=>(d(Object(l.a)(c)),d(Object(r.a)(c))));u.meta={name:"createThunk",key:"createThunkrecordUserInteraction",description:"Record that a user has taken an action on a UI component"}},MUHj:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("SQ0V"),t=e("CMT/");const a=Object(s.c)("Create or open an IM",function(r,l){let{memberId:o,shouldNavigateToChannel:i=!0,shouldOpenInTile:u=!1,reason:d}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=o?[o]:[];return r(Object(t.a)({memberIds:m,shouldNavigateToChannel:i,shouldOpenInTile:u,reason:d}))});a.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},MUi8:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("E3dU"),o=e("beVI"),i=e("Yauy"),u=e("mZIY"),d=e("G0eX");let m=h(class extends s.Component{render(){const{shouldRender:O,team:p,className:b}=this.props;return!O||!p?null:t.a.createElement("div",{className:Object(r.default)("c-channel_team","c-channel_team--xws",b),"data-qa":"channel_team"},t.a.createElement("span",{className:"c-channel_team__name"},Object(d.h)(p)))}},"ChannelTeam");m.displayName="ChannelTeam";const c=h((f,O)=>{let{channel:p,channelId:b,shouldRender:T}=O;const v=p||Object(l.d)(f,b),S=!!(v!=null&&v.context_team_id&&Object(u.b)(f,v.context_team_id));let A;if(Object(i.X)(v))A=Object(o.s)(f,Object(i.Fb)(f,v));else if(T||S){const I=Object(i.Eb)(f,v);A=(I?Object(o.s)(f,I):void 0)||Object(o.g)(f)}return{shouldRender:T||S||!!Object(i.X)(v),team:A??void 0}},"mapStateToProps");var E=n.a=Object(a.a)(c)(m)},MYuU:function(H,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"e",function(){return l});var s=e("nNoG");const t=new s.b("form_inputs");function a(u,d){return`${u}_${d}`}h(a,"getInputBuddyId");function r(){return Math.random().toString(36).substring(2,10)}h(r,"getRandomId");const l=h(u=>{const d=u.filter(m=>m);if(d.length!==0)return d.join(" ")},"makeAriaComboIds"),o=h(u=>t.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:u}),"getMaximumCharacterErrorText"),i=h(u=>t.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:u}),"getMinimumCharacterErrorText")},McKM:function(H,n,e){"use strict";e.d(n,"b",function(){return a}),e.d(n,"a",function(){return r}),e.d(n,"i",function(){return o}),e.d(n,"k",function(){return i}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"h",function(){return m}),e.d(n,"g",function(){return c}),e.d(n,"f",function(){return E}),e.d(n,"e",function(){return f}),e.d(n,"j",function(){return O});var s=e("ZKjC");const t=Object(s.b)(I=>I.modernSelling.opportunities);t.meta={name:"createSelector",key:"createSelectorgetOpportunities",description:I=>I.modernSelling.opportunities};const a=Object(s.b)(I=>t(I).currentListView);a.meta={name:"createSelector",key:"createSelectorgetCurrentListView",description:I=>t(I).currentListView};const r=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.adminSuggestedListViews});r.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViews",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.adminSuggestedListViews}};const l=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.favoriteListViews});l.meta={name:"createSelector",key:"createSelectorgetFavoriteListViews",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.favoriteListViews}};const o=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.recentlyViewedListViews});o.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedListViews",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.recentlyViewedListViews}};const i=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.userCreatedListViews});i.meta={name:"createSelector",key:"createSelectorgetUserCreatedListViews",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.userCreatedListViews}};const u=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.currentListViewSectionFilter});u.meta={name:"createSelector",key:"createSelectorgetCurrentListViewSectionFilter",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.currentListViewSectionFilter}};const d=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.isFetchingListViewSections});d.meta={name:"createSelector",key:"createSelectorgetIsFetchingListViewSections",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.isFetchingListViewSections}};const m=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewSectionErrors});m.meta={name:"createSelector",key:"createSelectorgetListViewSectionErrors",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewSectionErrors}};const c=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewSearchResults});c.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewSearchResults}};const E=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewActiveSearchResultIds});E.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewActiveSearchResultIds}};const f=Object(s.b)(I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewActiveSearchQuery});f.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:I=>{var _;return(_=t(I))===null||_===void 0?void 0:_.listViewActiveSearchQuery}};const O=Object(s.b)(I=>t(I).shouldShowOpportunitiesListViewBanner);O.meta={name:"createSelector",key:"createSelectorgetShouldShowOpportunitiesListViewBanner",description:I=>t(I).shouldShowOpportunitiesListViewBanner};const p=Object(s.b)(I=>I.modernSelling.opportunitiesDrilldown);p.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldown",description:I=>I.modernSelling.opportunitiesDrilldown};const b=Object(s.b)(I=>p(I).isFetchingOpportunitiesDrilldown);b.meta={name:"createSelector",key:"createSelectorgetIsFetchingOpportunitiesDrilldown",description:I=>p(I).isFetchingOpportunitiesDrilldown};const T=Object(s.b)(I=>p(I).displayColumns);T.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownDisplayColumns",description:I=>p(I).displayColumns};const v=Object(s.b)(I=>p(I).groupByColumn);v.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownGroupByColumn",description:I=>p(I).groupByColumn};const S=Object(s.b)(I=>p(I).groups);S.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownGroups",description:I=>p(I).groups};const A=Object(s.b)(I=>p(I).groupColumns);A.meta={name:"createSelector",key:"createSelectorgetOpportunitiesDrilldownGroupColumns",description:I=>p(I).groupColumns}},MeLy:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("Fjja"),o=e("QOYf"),i=e("ykb+"),u=e("nNoG"),d=e("qDEp"),m=e("Tevt"),c=e("s4P+"),E=e("qiCS"),f=e("Pw4T"),O=e("d/xU"),p=e("84QN"),b=e("0csk"),T=e("YKpg"),v=e("Fvov");const S=new u.b("error_boundary"),A="REB";let I=h(class extends s.Component{componentDidUpdate(y){this.state.hasError&&y.id!==this.props.id&&this.resetHasError()}componentDidCatch(y,j){let C=null;try{C=`${A}${Object(l.a)(Object(T.a)(y.message)).substr(0,9).toUpperCase()}`}catch{}this.setState(()=>({hasError:!0,errCode:C}),()=>{var D,N;return(N=(D=this.props).onError)===null||N===void 0?void 0:N.call(D,y)}),Object(i.b)()||this.props.logger.error("ERROR-BOUNDARY",y,C,j.componentStack,{subtype:this.props.subtype||"component_error_boundary"})}onClickReloadButton(y){y.preventDefault();let j=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),Object(o.a)()?(j=Object(E.d)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${j} after hitting ErrorBoundary`),Object(v.c)().finally(()=>{window.location.href=j})):(this.props.logger.info("LEGACY",`Reloading at ${j} after hitting ErrorBoundary`),window.location.href=j)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const y=h(j=>{let{text:C,key:D}=j;return t.a.createElement(m.a,{href:`https://${Object(O.l)()}/help/contact`,rel:"noopener noreferrer",key:D},C)},"renderLink");return this.state.errCode==="REBD7A8C1099"?S.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},y):S.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,y)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const y=Object(r.default)("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.a.createElement("div",{className:y},t.a.createElement("div",{className:"p-error_boundary__content"},t.a.createElement("div",{className:"p-error_boundary__message"},t.a.createElement("h1",{className:"p-error_boundary__heading"},t.a.createElement("span",null,S.t("Something went wrong")),t.a.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":S.t("Something went wrong")},"\u{1F422}")),t.a.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.a.createElement(b.a,{errCode:this.state.errCode}),t.a.createElement(d.f,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},S.t("Reload"))))}return this.props.children}constructor(y){super(y),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");I.displayName="ErrorBoundary";var _=n.a=Object(a.a)(M=>({logger:Object(p.a)(M)?Object(c.a)({state:M}):Object(c.b)(),telemeter:Object(p.a)(M)?Object(f.d)({state:M}):Object(f.a)()}))(I)},Mtna:function(H,n,e){"use strict";e.d(n,"c",function(){return m}),e.d(n,"d",function(){return c}),e.d(n,"i",function(){return E}),e.d(n,"j",function(){return f}),e.d(n,"e",function(){return O}),e.d(n,"l",function(){return p}),e.d(n,"m",function(){return b}),e.d(n,"n",function(){return T}),e.d(n,"o",function(){return v}),e.d(n,"p",function(){return S}),e.d(n,"f",function(){return A}),e.d(n,"q",function(){return I}),e.d(n,"a",function(){return _}),e.d(n,"s",function(){return M}),e.d(n,"r",function(){return y}),e.d(n,"k",function(){return j}),e.d(n,"h",function(){return C}),e.d(n,"b",function(){return D}),e.d(n,"g",function(){return N});var s=e("nNoG"),t=e("sjOx"),a=e("HP72"),r=e("uiBO"),l=e("2VFn"),o=e("0Xjs"),i=e("0VPD");const u=new s.b("search"),d=new s.b("files"),m=h(()=>({[t.l.all]:u.t("Any account type"),[t.l.owners]:u.t("Owners"),[t.l.admins]:u.t("Admins"),[t.l.full]:u.t("Regular members"),[t.l.guests]:u.t("Guests"),[t.l.deactivated]:u.t("Deactivated"),[t.l.profile_only]:u.t("Not on Slack"),[o.z.WORKSPACE_OWNERS]:u.t("Workspace owners",{fallbackHash:"d7cba32a9e0f2ca571f599d0b68cc454d17e068f",fallbackHashNs:"enterprise_dashboard"}),[o.z.WORKSPACE_ADMINS]:u.t("Workspace admins",{fallbackHash:"9ee21acebf5f424136e5710918c6103b722721ea",fallbackHashNs:"workspace_directory"}),[o.z.ORG_OWNERS]:u.t("Org owners",{fallbackHash:"cbde311e30897fd65ef95aae9c46db5f109f38ea",fallbackHashNs:"enterprise_dashboard"}),[o.z.ORG_ADMINS]:u.t("Org admins",{fallbackHash:"f4568dd7fb42f645e75d5271f550c15c6175a9db",fallbackHashNs:"member_directory"})}),"getAccountTypeLabels"),c=h(function(){let{showEnterpriseOptions:B=!1,orgDisplayName:L=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const R=m(),U=[{label:R[t.l.all],value:t.l.all},{label:B?R[o.z.WORKSPACE_OWNERS]:R[t.l.owners],value:B?o.z.WORKSPACE_OWNERS:t.l.owners},{label:B?R[o.z.WORKSPACE_ADMINS]:R[t.l.admins],value:B?o.z.WORKSPACE_ADMINS:t.l.admins},{label:R[t.l.full],value:t.l.full},{label:R[t.l.guests],value:t.l.guests},{label:R[t.l.deactivated],value:t.l.deactivated},{label:R[t.l.profile_only],value:t.l.profile_only}];return B&&U.push({label:L,value:"",options:[{label:R[o.z.ORG_OWNERS],value:o.z.ORG_OWNERS},{label:R[o.z.ORG_ADMINS],value:o.z.ORG_ADMINS}]}),U},"getAccountTypeSelectOptions"),E=h(B=>{let{experimentDesktopIa4GroupOn:L}=B;return{[t.a.all]:u.t("Any channel type"),[t.a.public]:L?u.t("Public",{fallbackHash:"6f83170df1431fc241b0c9c611d01a47d3a52493",fallbackHashNs:"enterprise_dashboard"}):u.t("Public channels",{fallbackHash:"6f83170df1431fc241b0c9c611d01a47d3a52493",fallbackHashNs:"enterprise_dashboard"}),[t.a.private]:L?u.t("Private",{fallbackHash:"1afa5af12d0b3a27b8bcf7480de5988b3c6a3360",fallbackHashNs:"search"}):u.t("Private channels"),[t.a.archived]:L?u.t("Archived",{fallbackHash:"1df87d0828b333b73a65933c63cb23251b629aa2",fallbackHashNs:"search"}):u.t("Archived channels"),[t.a.shared]:L?u.t("External",{ns:"member_profile",fallbackHash:"c73934abd64310c4585998113ac6cb5f0980c174",fallbackHashNs:"search"}):u.t("Slack Connect channels",{ns:"member_profile"})}},"getChannelTypeLabels"),f=h(function(){let{shouldDisablePrivateChannelOption:B=!1,experimentDesktopIa4GroupOn:L=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const R=E({experimentDesktopIa4GroupOn:L});return[{label:R[t.a.all],value:t.a.all},{label:R[t.a.public],value:t.a.public},{label:R[t.a.private],value:t.a.private,isDisabled:B},{label:R[t.a.archived],value:t.a.archived},{label:R[t.a.shared],value:t.a.shared}]},"getChannelTypeSelectOptions"),O=h(function(){let{shouldDisableOtherChannelsOption:B=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[{label:u.t("All channels"),value:t.r.all_channels},{label:u.t("My channels",{fallbackHash:"f8d4a704644c1606400d6d4ba80d47a43a66f3b9"}),value:t.r.my_channels},{label:u.t("Other channels",{ns:"slack_connect_hub_next"}),value:t.r.other_channels,isDisabled:B}]},"getAllChannelsSelectOptions"),p=h(()=>({[t.f.ALL]:u.t("Any file type"),[t.f.POSTS]:d.t("Posts"),[t.f.SNIPPETS]:d.t("Snippets"),[t.f.EMAILS]:d.t("Emails"),[t.f.IMAGES]:d.t("Images"),[t.f.AUDIO]:d.t("Audio"),[t.f.VIDEOS]:d.t("Videos"),[t.f.PDFS]:d.t("PDFs",{fallbackHash:"8c85c119d1cd8e0acfc82505e49fce77f2339f5f",fallbackHashNs:"includes_billing"}),[t.f.SPREADSHEETS]:d.t("Spreadsheets"),[t.f.PRESENTATIONS]:d.t("Presentations"),[t.f.DOCUMENTS]:d.t("Documents"),[t.f.CANVASES]:d.t("Canvases & Posts"),[t.f.LISTS]:d.t("Lists")}),"getFileTypeLabels"),b=h(B=>{let{hasCanvasAccess:L,isListsEnabled:R,fileTypes:U}=B;const W=p(),x=h(()=>L?{label:W[t.f.CANVASES],value:t.f.CANVASES}:{label:W[t.f.POSTS],value:t.f.POSTS},"getPostsOrCanvasesOption"),G=[];return G.push(x(),{label:W[t.f.DOCUMENTS],value:t.f.DOCUMENTS},{label:W[t.f.EMAILS],value:t.f.EMAILS},{label:W[t.f.IMAGES],value:t.f.IMAGES},{label:W[t.f.PDFS],value:t.f.PDFS},{label:W[t.f.PRESENTATIONS],value:t.f.PRESENTATIONS},{label:W[t.f.SNIPPETS],value:t.f.SNIPPETS},{label:W[t.f.SPREADSHEETS],value:t.f.SPREADSHEETS},{label:W[t.f.AUDIO],value:t.f.AUDIO},{label:W[t.f.VIDEOS],value:t.f.VIDEOS}),R&&G.unshift({label:W[t.f.LISTS],value:t.f.LISTS}),U.length&&U.length>1&&G.push({label:u.t("Clear all",{fallbackHash:"c043160a89ba0acd714977735d49455f662b1c79",fallbackHashNs:"current_status"}),value:a.a}),G},"getFileTypeSelectOptions"),T=h(function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return{[t.h.FROM]:u.t("People filter"),[t.h.IN]:u.t("Channels and direct messages filter",{fallbackHash:"07c59b44128dbdb6c2e5604a9dc5b65e1b865e49",fallbackHashNs:"external_shared_channels"}),[t.h.DATE]:u.t("Date filter"),[t.h.FILE_TYPE]:u.t("File type filter"),[t.h.CHANNEL_TYPE]:u.t("Channel type filter"),[t.h.ACCOUNT_TYPE]:u.t("Account type filter"),[t.h.ORG]:u.t("Organization filter"),[t.h.WORKSPACE]:u.t("Workspace filter"),[t.h.ONLY_MY_CHANNELS]:u.t("Only include channels I\u2019m in",{fallbackHash:"82d4760dc89b7552ab75e38a288da88b6516cfa1"}),[t.h.EXCLUDE_BOTS]:u.t("Exclude apps, bots, and workflows",{fallbackHash:"7cee0df0b06bfc9d156ece6d51adc83630ff203b"}),[t.h.HIDE_MY_CHANNELS]:u.t("Exclude channels I\u2019m in",{fallbackHash:"f094aaf4e10c9283ea67ee6e82f423dbeea56379"}),[t.h.HIDE_DEACTIVATED_USERS]:u.t("Exclude deactivated accounts",{fallbackHash:"f83cfb23c3c690fc9a6638d4a742d1e6f1f2fb91"}),[t.h.HAS_FILE]:u.t("Has file"),[t.h.HAS_LINK]:u.t("Has link"),[t.h.HAS_ACTION]:u.t("Has action"),[t.h.HAS_PIN]:u.t("Has pin"),[t.h.IS_SAVED]:u.t("Is saved"),[t.h.REACTION]:u.t("Reaction filter"),[t.h.WITH]:u.t("With filter"),[t.h.ALL_FILES]:u.t("All files"),[t.h.ALL_CHANNELS]:u.t("All channels"),[t.h.CREATOR]:u.t("Created by filter"),[t.h.LOCATION]:B?u.t("Location"):"",[t.h.DEPARTMENT]:B?u.t("Department"):"",[t.h.TITLE]:B?u.t("Title"):"",[t.h.DIVISION]:B?u.t("Division"):""}},"getFilterAriaLabels"),v=h(()=>({[t.h.FROM]:u.t("Search people"),[t.h.IN]:u.t("Search conversations"),[t.h.ORG]:u.t("Search organizations"),[t.h.WORKSPACE]:u.t("Search workspaces"),[t.h.WITH]:u.t("Search people")}),"getFilterInputAriaLabels"),S=h(B=>`${B}-label`,"getTriggerLabelId"),A=h(B=>{let{filter:L,isOpen:R,isActive:U,isToggle:W}=B;const x={};return x["aria-labelledby"]=U&&!W?`${S(L)} ${L}`:void 0,W&&(x["aria-pressed"]=U.toString()),W||(x["aria-expanded"]=R),x},"getAriaPropsForTrigger"),I=h((B,L)=>{let{experimentCreatorModifierSearchGroupOn:R=!1,experimentPeopleFilterExtensionGroupOn:U=!1,teamHasDepartment:W=!1,teamHasDivision:x=!1}=L;const G={messages:[t.h.FROM,t.h.IN,t.h.ONLY_MY_CHANNELS,t.h.EXCLUDE_BOTS],files:[t.h.FROM,t.h.IN,t.h.FILE_TYPE,t.h.DATE],channels:[t.h.ALL_CHANNELS,t.h.CHANNEL_TYPE,t.h.WORKSPACE,t.h.ORG],people:U?[t.h.TITLE,t.h.LOCATION,t.h.WORKSPACE,t.h.DEPARTMENT]:[t.h.ACCOUNT_TYPE,t.h.WORKSPACE,t.h.ORG],canvases:R?[t.h.CREATOR,t.h.FROM,t.h.IN,t.h.DATE]:[t.h.FROM,t.h.IN,t.h.DATE],user_groups:[t.h.WORKSPACE,t.h.HIDE_DEACTIVATED_USERS],triggers:[]};var w;const se=(w=G[B])!==null&&w!==void 0?w:[];var ee;const X=(ee=j(B,{experimentCreatorModifierSearchGroupOn:R,experimentPeopleFilterExtensionGroupOn:U,teamHasDepartment:W,teamHasDivision:x}))!==null&&ee!==void 0?ee:[];return Object(i.a)(se,X)},"getVisibleSearchFilters"),_={messages:[t.h.FROM,t.h.IN,t.h.WITH,t.h.DATE],files:[t.h.FROM,t.h.IN,t.h.DATE,t.h.FILE_TYPE],channels:[t.h.WORKSPACE,t.h.ORG,t.h.CHANNEL_TYPE,t.h.HIDE_MY_CHANNELS],people:[t.h.WORKSPACE,t.h.ORG,t.h.ACCOUNT_TYPE,t.h.HIDE_DEACTIVATED_USERS],canvases:[t.h.FROM,t.h.IN,t.h.DATE],user_groups:[t.h.WORKSPACE,t.h.HIDE_DEACTIVATED_USERS],triggers:[]},M=[r.b.BrowseApps,r.b.BrowseShortcuts,r.b.BrowseCanvases,r.b.BrowseChannels,r.b.BrowseFiles,r.b.BrowseLists,r.b.BrowsePeople,r.b.BrowseUserGroups,r.b.OrgDirectory,r.b.RecentFiles,r.b.FilesCreatedByYou,r.b.FilesSharedWithYou,r.b.ExternalOrganizations,r.b.ExternalOrganization,r.b.ExternalPeople,r.b.SlackConnectChannels,r.b.SlackConnectInvitations,r.b.RecentPlatform,r.b.SlackConnect],y=[l.d.Home,l.d.DMs,l.d.Activity,l.d.SalesHome,l.d.Later,l.d.Files,l.d.FilesPrototype,l.d.Channels,l.d.People,l.d.Platform,l.d.Canvases,l.d.Huddles,l.d.Assistant];function j(B,L){let{experimentCreatorModifierSearchGroupOn:R=!1,experimentPeopleFilterExtensionGroupOn:U=!1,teamHasDepartment:W=!1,teamHasDivision:x=!1}=L;if(B==="messages")return[t.h.FROM,t.h.IN,t.h.WITH,t.h.DATE,t.h.FILE_TYPE,t.h.ONLY_MY_CHANNELS,t.h.EXCLUDE_BOTS,t.h.REACTION,t.h.HAS_FILE,t.h.HAS_ACTION,t.h.HAS_LINK,t.h.IS_DM,t.h.IS_SAVED,t.h.IS_THREAD,t.h.HAS_PIN];if(B==="files")return[t.h.FROM,t.h.IN,t.h.WITH,t.h.DATE,t.h.FILE_TYPE];if(B==="canvases")return R?[t.h.FROM,t.h.IN,t.h.WITH,t.h.DATE,t.h.CREATOR]:[t.h.FROM,t.h.IN,t.h.WITH,t.h.DATE];if(B==="channels")return[t.h.ALL_CHANNELS,t.h.CHANNEL_TYPE,t.h.WORKSPACE,t.h.ORG];if(B==="people"){if(U){const G=[t.h.ACCOUNT_TYPE,t.h.WORKSPACE,t.h.ORG,t.h.LOCATION,t.h.TITLE,t.h.CELEBRATION];return x&&G.push(t.h.DIVISION),W&&G.push(t.h.DEPARTMENT),G}return[t.h.ACCOUNT_TYPE,t.h.WORKSPACE,t.h.ORG]}return B==="user_groups"?[t.h.WORKSPACE,t.h.HIDE_DEACTIVATED_USERS]:[]}h(j,"getDefaultFiltersByEntity");const C=h(B=>{let{maybeRenderString:L,experimentDesktopIa4GroupOn:R,isActive:U}=B;return U?L(u.t("Any channel type")):R?u.t("Any channel type",{fallbackHash:"3deb7456519697ecf4eefc455516c969a3681bae",fallbackHashNs:"enterprise_dashboard"}):u.t("Channel type",{fallbackHash:"3dee1eeb68531be3322bdc42a77526b09922b4fb"})},"getChannelTypeFilterLabel"),D=h(B=>{let{maybeRenderString:L,isActive:R}=B;return R?L(u.t("Any account type")):u.t("Account type",{fallbackHash:"30c8a0fc9c1a2d13c8f0991ce4c53c98aa41720c"})},"getAccountTypeFilterLabel"),N=h(function(B){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const R={[t.c.NEW_HIRE]:L?u.t("New hire"):"",[t.c.ANNIVERSARY]:L?u.t("Work anniversary"):""};var U;return(U=R[B])!==null&&U!==void 0?U:""},"getCelebrationLabel")},Mtxo:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("Tkkt"),a=e("Wn1n"),r=e("3fJ/"),l=e("bsvk"),o=e("Vfgr"),i=e("92pD"),u=e("owWc"),d=e("1sW9"),m=e("kzMN"),c=e("tvJC"),E=e("G2FQ");function f(_){let{highlightWords:M,shouldRenderEmojiAsText:y,emojiNames:j,locale:C}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const D=Object(d.b)(_,{highlightWords:M,shouldRenderEmojiAsText:y,emojiNames:j,locale:C,useChannelTagging:!1});return Object(u.a)(D.contents,(N,B)=>{if(B.attributes&&B.attributes.slackmention){const L=B.attributes.slackmention.id;return Object(m.a)(L)?`${N}@${Object(E.a)(L)}`:Object(c.a)(L)?`${N}${B.attributes.slackmention.label}`:L.charAt(0)==="S"?`${N}<!subteam^${L}|${B.attributes.slackmention.label}>`:`${N}<@${L}>`}return B.insert&&B.insert.slackemoji?N+B.insert.slackemoji.text:N+B.insert},"")}h(f,"convertContentsStringForEncodedMembers");function O(_,M,y){let j=Object(o.a)(y);return j=f(j,{shouldRenderEmojiAsText:!0}),Object(i.a)(_,M,j)}h(O,"convertClientQueryToAPIQuery");var p=e("VXST"),b=e("kZhr"),T=e("RV0M"),v=e("uiBO"),S=e("NaT4");const A=Object(s.c)("Set the query in the request which is being edited",(_,M,y,j)=>{let{query:C,mode:D,module:N,page:B,encodedSearchString:L,preventQueryRewrite:R}=y;const U=M(),W=!!L,{shouldUseNavigate:x}=j(T.a);let G=!1;x?G=Object(S.a)(U,{viewType:v.b.Search}):G=Object(a.a)(U)==="Psearch",_(Object(t.c)({windowId:b.a})),!W&&!G&&_(Object(r.m)({windowId:b.a})),_(Object(r.f)({windowId:b.a})),_(Object(r.d)({windowId:b.a})),_(Object(r.s)({moduleType:"messages",loading:!0})),_(Object(r.s)({moduleType:"files",loading:!0})),_(Object(r.s)({moduleType:"canvases",loading:!0}));const w=Object(l.d)(U,C);return _(Object(t.h)({queryFilter:w})),O(_,M,C).then(se=>(_(Object(t.i)({query:se})),_(Object(p.a)({query:se,fetchSuggestions:!0,mode:D,module:N,page:B,preventQueryRewrite:R}))))});A.meta={name:"createThunk",key:"createThunksetEditableRequestQueryThenRequest",description:"Set the query in the request which is being edited"};var I=n.a=A},Mxtj:function(H,n,e){"use strict";var s=e("6H+D"),t=e("uiBO"),a=e("I3z+"),r=e("OaiI"),l=e("UUKI"),o=e("ByMX"),i=e("G0eX"),u=e("beVI"),d=e("eVCY"),m=e("TdVx"),c=e("EAKl"),E=e("RVJP"),f=e("4Rbt"),O=e("PX9a"),p=e("cqkq"),b=e("nxT7"),T=e("kzto"),v=e("8gWv");const S={[t.b.KeyboardShortcuts]:()=>!0,[t.b.WhatsNew]:()=>!0,[t.b.RecentCanvases]:()=>!1,[t.b.CanvasesSharedWithYou]:()=>!1,[t.b.CanvasesCreatedByYou]:()=>!1,[t.b.BrowseCanvases]:I=>Object(m.a)(I),[t.b.RecentFiles]:()=>!0,[t.b.FilesCreatedByYou]:()=>!0,[t.b.FilesSharedWithYou]:()=>!0,[t.b.BrowseExternalWorkspace]:b.a,[t.b.BrowseChannels]:()=>!0,[t.b.BrowsePeople]:()=>!0,[t.b.ExternalOrganizations]:I=>Object(E.d)(I,"external_connections_browser")==="on",[t.b.ExternalOrganization]:I=>Object(E.d)(I,"external_connections_browser")==="on",[t.b.ExternalPeople]:I=>Object(E.d)(I,"external_connections_browser")==="on",[t.b.SlackConnectChannels]:I=>Object(E.d)(I,"external_connections_browser")==="on",[t.b.SlackConnectInvitations]:I=>Object(E.d)(I,"external_connections_browser")==="on",[t.b.BrowseUserGroups]:I=>!Object(o.b)(I)&&Object(i.K)(Object(u.g)(I)),[t.b.RecentPlatform]:I=>Object(p.e)(I),[t.b.SlackConnect]:I=>Object(s.a)(I),[t.b.BrowseApps]:I=>Object(p.a)(I),[t.b.Channel]:()=>!0,[t.b.AppSpace]:()=>!0,[t.b.Quip]:()=>!0,[t.b.BrowseShortcuts]:I=>Object(p.e)(I),[t.b.BrowseWorkflowsManagedByYou]:I=>Object(p.b)(I),[t.b.BrowseWorkflowTemplates]:I=>Object(p.c)(I),[t.b.OrgDirectory]:()=>!0,[t.b.Page]:()=>!0,[t.b.Threads]:()=>!0,[t.b.Thread]:()=>!0,[t.b.Profile]:()=>!0,[t.b.FileDetails]:()=>!0,[t.b.Help]:()=>!0,[t.b.UserGroup]:()=>!0,[t.b.Feedback]:()=>!0,[t.b.List]:I=>Object(r.isListsEnabled)(I),[t.b.ListRecord]:I=>Object(r.isListsEnabled)(I),[t.b.ListRecordDetails]:I=>Object(r.isListsEnabled)(I),[t.b.MyItems]:I=>Object(r.isListsMyItemsEnabled)(I),[t.b.ComposeList]:()=>!0,[t.b.Compose]:()=>!0,[t.b.QuipCommentThread]:()=>!0,[t.b.QuipCommentStream]:()=>!0,[t.b.QuipActivityHistory]:()=>!0,[t.b.QuipVariablesOverview]:()=>!0,[t.b.Canvas]:()=>!0,[t.b.ChannelCanvas]:()=>!0,[t.b.CanvasBrowser]:I=>Object(m.a)(I),[t.b.PaidBenefits]:()=>!0,[t.b.Setup]:()=>!0,[t.b.SearchEmpty]:()=>!0,[t.b.AboutWorkspace]:()=>!1,[t.b.Unknown]:()=>!0,[t.b.MorePeopleSidebar]:()=>!0,[t.b.MoreCanvasesSidebar]:()=>!0,[t.b.SalesHome]:I=>Object(d.z)(I),[t.b.CRM]:I=>Object(l.a)(I),[t.b.AppPopout]:()=>!0,[t.b.ChannelList]:()=>!0,[t.b.BrowseFiles]:()=>!0,[t.b.BrowseFilesPrototype]:I=>Object(T.a)(I),[t.b.BrowseLists]:I=>Object(r.isListsEnabled)(I),[t.b.DmsList]:()=>!0,[t.b.BrowseList]:()=>!0,[t.b.ActivityList]:()=>!0,[t.b.LaterList]:I=>Object(a.c)(I),[t.b.Search]:()=>!0,[t.b.MoreFilesSidebar]:()=>!0,[t.b.MoreListsSidebar]:()=>!0,[t.b.FilesPrototypeSidebar]:I=>Object(T.a)(I),[t.b.MoreChannelsSidebar]:()=>!1,[t.b.MorePlatformSidebar]:()=>!0,[t.b.MoreHuddlesSidebar]:()=>!0,[t.b.MoreExternalConnectionsSidebar]:I=>Object(E.d)(I,"external_connections_browser")==="on",[t.b.HelpBrowser]:()=>!0,[t.b.Huddle]:()=>!0,[t.b.KeyboardShortcutsBrowser]:()=>!0,[t.b.WhatsNewBrowser]:()=>!0,[t.b.FeedbackBrowser]:()=>!0,[t.b.ExternalWorkspaceSidebar]:()=>!1,[t.b.ExternalWorkspacePeopleBrowser]:()=>!1,[t.b.ExternalWorkspaceChannelBrowser]:()=>!1,[t.b.PostEvent]:()=>!1,[t.b.AiSummaryDetails]:I=>Object(c.c)(I),[t.b.AiSummaryList]:I=>Object(c.c)(I),[t.b.DailyDigest]:I=>Object(c.m)(I),[t.b.MoreAiSummarySidebar]:I=>Object(c.b)(I),[t.b.SearchSummary]:I=>Object(c.q)(I),[t.b.AssistantList]:I=>Object(v.b)(I),[t.b.Today]:I=>Object(f.a)(I),[t.b.Record]:I=>Object(O.a)(I),[t.b.RecordChannelCreate]:I=>Object(O.a)(I),[t.b.SalesLogActivity]:I=>Object(d.q)(I),[t.b.AssistantThread]:()=>!0},A=h((I,_)=>S[_](I),"getViewTypeVisibility");n.a=A},MzqU:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s="A01126R8Y2X",t="A0112L5RZ5E"},NKMX:function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("cm7I"),l=e("Lgge"),o=e("gpLM"),i=e("HKlo"),u=e("jj3I"),d=e("r9F4"),m=e("Erbp"),c=e("lhZz"),E=e("s4P+"),f=e("+CZ0"),O=e("wVLq"),p=e("oCIk"),b=e("ED8d"),T=e("smhd");const v=Object(a.c)("Start transcription for current huddle",function(){var S=Object(s.coroutine)(function*(A,I){if(Object(d.a)(I())||Object(d.b)(I()))return l.a.resolve();const _=Object(c.getStateForClientStore)(),M=Object(f.a)(_);return M?(A(Object(u.b)()),A(Object(u.e)(!0)),yield Object(m.a)(),A(Object(p.a)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),A(Object(r.a)({reason:"start-event-log",callId:M})).catch(y=>{var j;if(((j=y.data)===null||j===void 0?void 0:j.error)==="permission_denied")return l.a.delay(5e3).then(()=>A(Object(r.a)({reason:"start-event-log/retry",callId:M})));throw y}).catch(y=>{Object(E.a)({getState:I}).error(y),A(Object(u.a)())}).finally(()=>{A(Object(u.e)(!1)),A(Object(o.c)({focusKey:i.c.HUDDLE_CAPTIONS_TAB})),A(Object(u.c)({type:O.a.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:Date.now()}));const{huddleEventsTrace:y}=Object(b.a)().getAllTraceHandlers();y==null||y.update({name:T.a.TRANSCRIPT,type:T.b.START})})):l.a.reject(new Error("No active call ID for huddle"))});return function(A,I){return S.apply(this,arguments)}}());v.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"},n.a=v},NPtR:function(H,n,e){"use strict";var s=e("D6Rr"),t=e("Aebc");n.a=s.a},NPyv:function(H,n,e){"use strict";e.d(n,"c",function(){return d}),e.d(n,"b",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("BHdc");function l(){return l=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var f=arguments[E];for(var O in f)Object.prototype.hasOwnProperty.call(f,O)&&(c[O]=f[O])}return c},l.apply(this,arguments)}h(l,"_extends");const o="_isSlackMenuItemHeader";function i(c){let{for:E,label:f,className:O,onMouseEnter:p=a.a}=c;return t.a.createElement("div",l({},E&&{id:m(E)},{"aria-hidden":"true",className:Object(r.default)("c-menu_item__header",O),onMouseEnter:p,"data-qa":"menu-item-header"}),f)}h(i,"MenuItemHeader"),i.displayName="MenuItemHeader",i[o]=!0;var u=n.a=i;function d(c){return!!(c!=null&&c[o])}h(d,"isMenuItemHeader");function m(c){return`${c}-label`}h(m,"getMenuItemHeaderIdForGroup")},NX5n:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("AFNo"),t=e("RVJP"),a=e("rZ8V");const r=Object(s.c)(l=>Object(t.d)(l,"shortcuts_workspace_picker")==="on"&&Object(a.o)(l));r.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:l=>Object(t.d)(l,"shortcuts_workspace_picker")==="on"&&Object(a.o)(l)}},NYuI:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},NaT4:function(H,n,e){"use strict";var s=e("AFNo"),t=e("v7mh");const a=Object(s.c)((u,d)=>{let{viewType:m}=d;const c=Object(t.f)(u);return Object.keys(c).map(p=>c[p]).some(p=>Object.keys(p).some(T=>{var v;return((v=p[T])===null||v===void 0?void 0:v.viewType)===m}))});a.meta={name:"createSelector",key:"createSelectorisViewTypeVisibleInChildWindow",description:(u,d)=>{let{viewType:m}=d;const c=Object(t.f)(u);return Object.keys(c).map(p=>c[p]).some(p=>Object.keys(p).some(T=>{var v;return((v=p[T])===null||v===void 0?void 0:v.viewType)===m}))}};var r=a,l=e("81ps");const o=Object(s.c)((u,d)=>{let{viewType:m}=d;return r(u,{viewType:m})||Object(l.a)(u,{viewType:m})});o.meta={name:"createSelector",key:"createSelectorisViewTypeVisible",description:(u,d)=>{let{viewType:m}=d;return r(u,{viewType:m})||Object(l.a)(u,{viewType:m})}};var i=n.a=o},Nq3N:function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("3Hq1"),r=e("SQ0V"),l=e("lhZz"),o=e("O86Y"),i=e("1Zcw"),u=e("dKQz"),d=e("oCIk"),m=e("+CZ0"),c=e("kBpe"),E=e("s4P+"),f=e("3REw"),O=e("HoeF"),p=e("SIMs"),b=e("LZPg"),T=e("d3B0"),v=e("sOAz"),S=e("dqxO");const A=Object(r.c)("Enable or disable local microphone",function(){var I=Object(s.coroutine)(function*(_,M,y){const j=Object(l.getStateForClientStore)(),C=M(),D=Object(E.a)({state:C}),N=Object(T.i)(C);if(Object(p.j)(C)||_(Object(O.h)({canShowMutedBanner:!0})),Object(c.i)()||(yield Object(l.dispatchForClientStore)(Object(S.c)({mediaResourceType:f.i.MICROPHONE}))),D.info(i.c,`Set microphone to ${y}`),N&&y){D.warn(i.c,"Microphone could not be set to enabled as access to the device was blocked"),Object(c.i)()?_(Object(v.b)({alert:v.a.NoSystemAudio})):_(Object(v.b)({alert:v.a.NoBrowserAudioPermission}));return}const{teamId:L}=Object(m.p)(j)||{};if(L&&L!==Object(o.g)(C)){Object(l.dispatchForTeamId)(L,A(y));return}Object(a.a)(y)||(Object(l.dispatchForClientStore)(Object(u.g)(y)),y&&Object(m.m)(j)&&_(Object(d.a)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),_(Object(b.ob)({id:"self",isMicrophoneEnabled:y}))});return function(_,M,y){return I.apply(this,arguments)}}());A.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"},n.a=A},NqdB:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("ByMX"),t=e("nfxS");const a=h(r=>!Object(s.b)(r)&&Object(t.a)(r,"emoji_only_admins"),"canUserAddEmoji")},Nyj0:function(H,n,e){"use strict";e.d(n,"a",function(){return S});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("yxNq"),o=e("s4P+"),i=e("PLUl"),u=e("4cU5"),d=e("cqtq"),m=e("iBeP"),c=e("UQYs"),E=e("TxvE"),f=e("6kzs"),O=e("oWj6"),p=e("1ufr");function b(){return b=Object.assign||function(I){for(var _=1;_<arguments.length;_++){var M=arguments[_];for(var y in M)Object.prototype.hasOwnProperty.call(M,y)&&(I[y]=M[y])}return I},b.apply(this,arguments)}h(b,"_extends");const T=50,v="VIRTUALIZED_LIST";class S extends s.Component{componentDidMount(){this.props.window.document.addEventListener("selectionchange",this.onSelectionChange)}componentDidUpdate(_,M){this.scrollToKeyOnUpdate&&(this.scrollToKeyOnUpdate(),this.scrollToKeyOnUpdate=null)}shouldComponentUpdate(_,M){return!Object(l.a)(_,this.props)||!Object(l.a)(M,this.state)}UNSAFE_componentWillReceiveProps(_){!this.props.useStaticHeightForListItems&&_.width!==this.props.width&&this.layout.heightCache.invalidate(),this.layout.setKeys(_.keys),this.relayout()}componentWillUnmount(){this.scrollStartTimeout&&clearTimeout(this.scrollStartTimeout),this.props.window.document.removeEventListener("selectionchange",this.onSelectionChange)}onContentScroll(_){this.props.onContentScroll(_)}onScroll(_){this.onScrollEnd();const{start:M,end:y}=this.state,{keys:j}=this.props;if(!(M===0&&y===j.length)){const D=this.getScrollTop();if(this.props.metricsTag){const[N,B]=this.prevBounds;let L;D<N?L=Math.abs(N-D):D>B&&(L=Math.abs(D-B)),L&&this.janks.push(L)}this.relayout()}!this.scrollStartTimeout&&!this.isScrolling()&&_.target===this.getScrollerRef()&&(this.scrollStartTimeout=setTimeout(this.onScrollStart,T*2)),this.props.onScroll(_,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}onScrollEnd(){if(this.scrollStartTimeout&&(clearTimeout(this.scrollStartTimeout),this.scrollStartTimeout=null),this.props.metricsTag){const _=this.props.tracer||Object(i.a)(),M=_.createMetricsTrace({label:"virtual-list",samplingOptions:{sampleRate:.01,sampleType:u.g.CALL},tags:{list_type:this.props.metricsTag,overscan_ratio:this.props.overscanRatio}});let y=0,j=0;for(const D of this.janks)y+=D,D>j&&(j=D);const C=this.janks.length;M.count({name:"jank",value:C}),M.store({name:"jank-px:avg",value:C?Math.round(y/C):0}),M.store({name:"jank-px:max",value:j}),_.reportTrace(M),this.janks=[]}this.setState(_=>_.scrolling?{scrolling:!1}:null)}onScrollStart(){this.setState(()=>({scrolling:!0}),this.onScrollEnd),this.scrollStartTimeout=null}onSelectionChange(){if(!this.scrollbar)return;const _=this.props.window.getSelection&&this.props.window.getSelection();_&&_.type==="Range"&&this.contentNode&&this.contentNode.contains(_.anchorNode)?(this.isSelecting=!0,this.selectionStart=this.props.keys[this.state.start],this.selectionEnd=this.props.keys[this.state.end-1]):(this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null),this.props.onSelectionChange(this.isSelecting)}onItemContextMenu(_,M,y){let{hasKeyboardFocus:j}=y;this.props.onItemContextMenu(_,M,{hasKeyboardFocus:j})}getBottom(_){return this.layout.getBottom(_)}getBounds(_,M){this.onSelectionChange();let y=_,j=M;return this.selectionStart&&(y=Math.min(y,this.layout.getTop(this.selectionStart))),this.selectionEnd&&(j=Math.max(j,this.layout.getTop(this.selectionEnd))),this.layout.getBounds(y,j)}getBoundingClientRect(){return this.getScrollerRef().getBoundingClientRect()}getClassName(){return Object(a.default)("c-virtual_list","c-virtual_list--scrollbar",this.props.className)}getContainerHeight(){return this.props.height}getContentHeight(){return this.layout.getTotalHeight()}getContentsClassName(){return Object(a.default)("c-virtual_list__scroll_container",this.props.containerClassName,{"c-virtual_list__scroll_container--scrolling":this.isScrolling()&&!this.isSelecting})}getScrollTop(){return this.scrollbar&&this.scrollbar.scrollTop()||0}getScrollerRef(){var _;return(_=this.scrollbar)===null||_===void 0?void 0:_.scroller}getTop(_){return this.layout.getTop(_)}getVisibleRange(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getScrollTop(),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{keys:y,height:j}=this.props,{start:C,end:D}=this.layout.getBounds(_,_+j);if(M)return{start:C,end:D};const N=this.layout.getTop(y[C])<_-1?C+1:C,B=this.layout.getBottom(y[D-1])>_+j+1?D-1:D,L=Math.min(N,y.length-1),R=Math.max(B,L);return{start:L,end:R}}setContentRef(_){this.contentNode=_}setHeight(_,M){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!_)return Object(o.b)({label:v}).info("Attempted to setHeight on row without key"),!1;const j=this.layout.getHeight(_);return Math.abs(M-j)<.5?!1:(this.layout.setHeight(_,M),y||this.relayout(),!0)}setScrollbarRef(_){this.scrollbar=_}setScrollTop(_){this.scrollbar&&this.scrollbar.scrollTop(Math.ceil(_))}getItemsToRender(){const{keys:_,persistentKeys:M,usePersistentOrder:y}=this.props,{start:j,end:C}=this.state,D=[];if(y){const L={};for(let R=0;R<M.length;R++)L[M[R]]=!0;this.layout instanceof O.a&&this.layout.anchor&&!L[this.layout.anchor]&&(L[this.layout.anchor]=!0);for(let R=0;R<_.length;R++){const U=_[R];U&&(L[U]||R>=j&&R<=C)&&D.push({key:U,index:R})}}else{for(let L=j;L<C;L++){const R=_[L];R&&D.push({key:R,index:L})}M.forEach(L=>{const R=_.indexOf(L);R<0||R>=j&&R<C||D.push({key:L,index:R})}),this.layout instanceof O.a&&this.layout.anchor&&!M.includes(this.layout.anchor)&&D.push({key:this.layout.anchor,index:_.indexOf(this.layout.anchor)})}const N=_[j],B=_[C];return N&&B&&(this.prevBounds=[this.layout.getTop(N),this.layout.getBottom(B)]),D}getTabIndex(){}bracketScrollTop(_){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,_))}isItemAboveView(_){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const y=this.getScrollTop()+M;return this.layout.getBottom(_)<y}isItemBelowView(_){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const y=this.getScrollTop();return this.layout.getTop(_)>y+(this.props.height-M)}isItemInView(_){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const y=this.getScrollTop(),j=this.layout.getTop(_);return j>=y+M&&j<=y+(this.props.height-M)}isScrolledToBottom(){return this.getScrollTop()+this.getContainerHeight()>=this.layout.getTotalHeight()-1}isScrolledToTop(){return Math.floor(this.getScrollTop())<=1}isScrolling(){return this.state.scrolling}relayout(){this.setState((_,M)=>{const y=this.getScrollTop(),j=M.height*M.overscanRatio,C=y-j,D=y+M.height+j,{start:N,end:B}=this.getBounds(C,D),L=this.layout.getTops(),R=this.layout.getTotalHeight();return N===_.start&&B===_.end&&L===_.tops&&R===_.totalHeight?null:{start:N,end:B,tops:L,totalHeight:R}},()=>{const _=this.state.totalHeight&&this.state.totalHeight>this.props.height||!1;_!==this.isOverflowing&&(this.isOverflowing=_,this.props.onOverflow&&this.props.onOverflow(_))})}scrollToKey(_){let{lazy:M,animate:y,offset:j=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(M&&this.isItemInView(_))return;if(!this.scrollbar){this.scrollToKeyOnUpdate=()=>{this.scrollToKey(_,{lazy:M,animate:y,offset:j})};return}const C=this.layout.getOffsetForKey(_);this.scrollToOffset(C+j,{animate:y})}scrollToOffset(_){let{animate:M}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.scrollbar)return;const y=this.bracketScrollTop(_);if(M){this.scrollbar.scrollWithAnimation(y);return}this.scrollTop=y,this.setScrollTop(y)}renderContents(){const _=this.getContentsClassName(),M=this.getContentHeight(),y=this.renderItems(),{role:j,"aria-label":C,"aria-labelledby":D,"aria-describedby":N}=this.props;return t.a.createElement("div",{"data-qa":"slack_kit_list",ref:this.setContentRef,className:_,role:j,tabIndex:this.getTabIndex(),"aria-label":C,"aria-labelledby":D,"aria-describedby":N,style:{position:"relative",height:M}},y)}renderItem(_,M){const y=this.getTop(_),j=this.layout.getHeight(_),C=this.layout.getHeightValidity(_),{rowRenderer:D,getPropsForItem:N,shouldHorizontallyScroll:B}=this.props,L=N({key:_,index:M})||{};return t.a.createElement(E.a,b({},L,{id:_,itemKey:_,key:_,height:j,top:y,onHeightChange:this.setHeight,onContextMenu:this.onItemContextMenu,validity:C,shouldHorizontallyScroll:B,useStaticHeight:this.props.useStaticHeightForListItems,"aria-setsize":"-1"}),D(M,{key:_,isExpanded:L["aria-expanded"]}))}renderItems(){return this.getItemsToRender().map(M=>{let{key:y,index:j}=M;return this.renderItem(y,j)})}render(){const{width:_,height:M}=this.props;if(!_||!M)return null;const y=this.getClassName(),j=this.renderContents();return t.a.createElement(m.a,{className:y,width:_,height:this.getContainerHeight(),contentHeight:this.getContentHeight(),trackTop:12,onTrackClick:c.a.track.page,onScroll:this.onScroll,onContentScroll:this.onContentScroll,anchor:"bottom",role:"presentation",id:this.props.id,ref:this.setScrollbarRef,fade:this.props.fadeScrollbar,useFixedTrackHeight:this.props.useFixedTrackHeightForScrollbar,alwaysVisible:this.props.scrollbarAlwaysVisible||this.state.hasKeyboardFocus,initialScrollTop:this.props.initialScrollTop},j,this.props.siblingNode)}constructor(_){super(_),this.prevBounds=[-1/0,1/0],this.janks=[],this.onScroll=this.onScroll.bind(this),this.onContentScroll=this.onContentScroll.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.setScrollbarRef=this.setScrollbarRef.bind(this),this.setContentRef=this.setContentRef.bind(this),this.setHeight=this.setHeight.bind(this),this.getScrollTop=this.getScrollTop.bind(this),this.getVisibleRange=this.getVisibleRange.bind(this),this.isItemInView=this.isItemInView.bind(this),this.onScrollStart=this.onScrollStart.bind(this),this.onScrollEnd=Object(d.a)(this.onScrollEnd.bind(this),T,_.window),this.onItemContextMenu=this.onItemContextMenu.bind(this),this.layout=_.layout||new f.a({}),this.scrollbar=null,this.contentNode=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.scrollStartTimeout=null,this.scrollToKeyOnUpdate=null,this.isOverflowing=!1,this.layout.setKeys(_.keys);const{start:M,end:y}=this.getBounds(0,_.height);this.state={start:M,end:y,scrolling:!1}}}h(S,"list_BaseList"),S.displayName="BaseList",S.defaultProps={className:"",containerClassName:"",layout:void 0,role:"list","aria-label":void 0,"aria-labelledby":void 0,"aria-describedby":void 0,persistentKeys:[],usePersistentOrder:!0,fadeScrollbar:!1,onScroll:r.a,onContentScroll:r.a,onSelectionChange:r.a,onItemContextMenu:r.a,getPropsForItem:r.a,shouldHorizontallyScroll:!1,scrollbarAlwaysVisible:!1,id:void 0,useStaticHeightForListItems:!1,useFixedTrackHeightForScrollbar:!1,initialScrollTop:0,overscanRatio:.5,siblingNode:null,metricsTag:null,tracer:null,window};var A=n.b=Object(p.a)(S)},O2rC:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s={PREF:"notifications_view",PAGE:"page",FLEXPANE:"flexpane"}},O5Ce:function(H,n,e){H.exports=e.p+"slackbot_fancy_36-d921f9d.png"},O5bS:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s={disconnectedFeedback:"disconnected_feedback",createdGoogleDriveDocument:"created_google_drive_document",enablePopups:"enable_popups",generalPostingRestricted:"general_posting_restricted",genericPostingRestricted:"generic_posting_restricted",fileTypeHasNoHandler:"file_type_has_no_handler",boxFilePickerError:"box_file_picker_error",gdriveShareFileError:"gdrive_share_file_error",onedriveSdkError:"onedrive_sdk_error",tempSlashCmdFeedback:"temp_slash_cmd_feedback",threadsTempSlashCmdFeedback:"threads_temp_slash_cmd_feedback",uncaughtThirdPartyCallError:"uncaught_third_party_call_error",findAnAdminPrompt:"find_an_admin_prompt",unhandledGdriveCreate:"unhandled_gdrive_create",fileCreatedViaBookmark:"file_created_via_bookmark",scheduleSendError:"schedule_send_error"}},O62x:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("lhZz"),r=e("E4z0"),l=e("j77i");const o=Object(t.c)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(i,u,d)=>{Object(l.w)(s.f,d),i(Object(r.a)(d)),Object(a.dispatchForClientStore)(Object(r.a)(d))});o.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},O9MH:function(H,n,e){"use strict";e.d(n,"b",function(){return O}),e.d(n,"a",function(){return p});var s=e("kBpe"),t=e("IGJb"),a=e("KciV"),r=e("e9jb"),l=e("s4P+"),o=e("Ufq/");const i=2e3,u=6,d=0/265,m=255/265,c=53/265,E=1,f="SCREEN-SHARE",O=h((b,T)=>{!Object(s.o)()&&Object(s.j)("4.13.1")&&!Object(o.f)(T)&&(Object(t.a)(b,i),Object(t.f)(b),Object(t.e)(u),Object(t.d)(d,m,c,E),Object(t.g)(),(Object(r.a)()?Object(a.c)(f):Object(l.b)({label:f})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),p=h(()=>{!Object(s.o)()&&Object(s.j)("4.13.1")&&(Object(t.c)(),(Object(r.a)()?Object(a.c)(f):Object(l.b)({label:f})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},OB5f:function(H,n,e){"use strict";e.d(n,"a",function(){return b});var s=e("mXhK"),t=e("weKX"),a=e("ZKjC");const r=Object(a.b)(T=>{var v;return T==null||(v=T.sideEffects)===null||v===void 0?void 0:v.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:T=>{var v;return T==null||(v=T.sideEffects)===null||v===void 0?void 0:v.sideEffectsMap}};const l=Object(a.b)(T=>{var v;return T==null||(v=T.sideEffects)===null||v===void 0?void 0:v.orgSharedSideEffectsMap});l.meta={name:"createSelector",key:"createSelectorgetOrgSharedSideEffectsMap",description:T=>{var v;return T==null||(v=T.sideEffects)===null||v===void 0?void 0:v.orgSharedSideEffectsMap}};const o=Object(a.b)(T=>{var v;return T==null||(v=T.clientSideEffects)===null||v===void 0?void 0:v.clientSideEffectsMap});o.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:T=>{var v;return T==null||(v=T.clientSideEffects)===null||v===void 0?void 0:v.clientSideEffectsMap}};var i=e("s4P+"),u=e("Lgge"),d=e("UOL+");const m=Object(a.b)(T=>{var v,S;return(v=Object(d.a)(T))===null||v===void 0||(S=v.orgSharedSideEffects)===null||S===void 0?void 0:S.orgSharedSideEffectsMap});m.meta={name:"createSelector",key:"createSelectorgetOrgSharedSideEffectsMap",description:T=>{var v,S;return(v=Object(d.a)(T))===null||v===void 0||(S=v.orgSharedSideEffects)===null||S===void 0?void 0:S.orgSharedSideEffectsMap}};var c=e("+dHK");function E(){return Object(s.b)("Handle client side effects",(T,v,S)=>{var A;if(!((A=S.__test)===null||A===void 0)&&A.disableSideEffects)return v(S);const I=T.getState(),_=o(I);return O({store:T,action:S,sideEffectsMap:_}),v(S)})}h(E,"createClientSideEffectsMiddleware");function f(){return Object(s.b)("Handle side effects",(T,v,S)=>{var A;if(!((A=S.__test)===null||A===void 0)&&A.disableSideEffects)return v(S);const I=T.getState(),_=I.isShared;if(_&&S[c.d])return v(S);if(_){const M=m(I);O({store:T,action:S,sideEffectsMap:M})}else{const M=r(I);if(O({store:T,action:S,sideEffectsMap:M}),!S[c.c]){const y=l(I);O({store:T,sideEffectsMap:y,action:S})}}return v(S)})}h(f,"createSideEffectsMiddleware");function O(T){let{store:v,action:S,sideEffectsMap:A}=T;const I=A&&A[S.type],_=h(M=>(Object(t.c)(S,M),v.dispatch(M)),"wrappedDispatch");I!=null&&I.length&&u.a.resolve().then(()=>{I.forEach(M=>{if(!M)return;const{thunk:y}=M;try{_(y(S))}catch(j){Object(i.a)({getState:v.getState}).error("SIDE-EFFECTS",`Error in side effect for '${S.type}'`,j,{subtype:"side_effect_error"})}})})}h(O,"runSideEffects");var p=n.b=f();const b=E()},OCqp:function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("vJtL"),t=e("azFB"),a=e("s4P+"),r=e("wcin"),l=e.n(r),o;(function(p){p.Background="background",p.UserVisible="user-visible",p.UserBlocking="user-blocking"})(o||(o={}));const i=Object(a.b)({label:"SCHEDULER"}),u="scheduler"in t.a&&Object(s.a)(t.a.scheduler.postTask),d=50;let m=0,c=null;const E=h((p,b)=>{let{label:T,priority:v,delay:S}=b;if(!u)return p();m+=1;const A=performance.now();return t.a.scheduler.postTask(()=>{const I=performance.now(),_=I-A,M=c?I-c:0;c=I,_-S>d&&i.debug(`${T} task (${v}) executed with delay of ${Math.round(_)}ms and a configured delay of ${S}ms - time since last task: ${M}ms - Task queue length: ${m}`);const j=p();return m-=1,j},{priority:v,delay:S})},"runWithPriority"),f=h(()=>{if(u)return m},"getTaskQueueLength"),O=h((p,b,T)=>E(b,{label:p,priority:o.Background,delay:(T==null?void 0:T.delay)||0}),"runWithBackgroundPriority")},OW01:function(H,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"b",function(){return u}),e.d(n,"a",function(){return d});var s=e("Lgge"),t=e("oTSI"),a=e("uAML"),r=e("lhZz"),l=e("VSFm");const o=Object(t.a)(()=>new a.b({fetch:(m,c)=>{const E=c.slice(0,5);return s.a.map(E,f=>Object(r.dispatchForTeamId)(m,Object(l.a)({channelId:f})))},isEnabled:()=>!0,metricsName:"team-connections"})),i=h((m,c)=>{!m||!c||o().maybeRefetch(m,c)},"maybeRefetch"),u=h((m,c)=>o().markObjectsAsStale(m,c),"markObjectsAsStale"),d=h((m,c)=>o().isObjectFresh(m,c),"isObjectFresh")},Oczg:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("twB+");const t=new s.a;function a(){return t.entries().filter(l=>l.value&&!l.value.isRejected()&&!l.value.isCancelled()).length}h(a,"getActiveCollabClientCount");const r=h(l=>{const o=t.get(l);return o!=null&&o.isFulfilled()?o.value():void 0},"getInitializedClient")},Oeqe:function(H,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"c",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"a",function(){return c});var s=e("qAkX"),t=e("Yauy"),a=e("wwBm"),r=e("beOr"),l=e("ltDl");function o(f){const{hostname:O,pathname:p,search:b}=f;if(!O||!p)return;const T=O.split("."),v=p.split("/").slice(1);if(!Object(r.a)(O)||v.length<2)return;const S=v[0];switch(S){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const A=T[0],I=Object(s.a)(b.split("?")),_=I&&Object(a.d)(I);let M;return _&&_.thread_ts&&(M=_.thread_ts),{team:A,type:S,path:v,threadTs:M}}h(o,"parsePermalinkFromUrlObject");function i(f){return u(Object(l.a)(f))}h(i,"getPermalinkIdentifier");function u(f){const O=o(f);if(!O)return;const{path:p}=O;return p?p&&p[1]:!1}h(u,"getPermalinkIdentifierFromUrlObject");function d(f){let{team:O,channelId:p,ts:b,threadTs:T}=f,v=p&&Object(t.c)({team:O,channelId:p,archive:!0});return p&&b&&(v+=`/p${b.replace(".","")}`),p&&b&&T&&T!==b&&(v+=`?thread_ts=${T}&cid=${p}`),v}h(d,"getXWSPermalink");function m(f){let{encodedSearchString:O}=f;return`/search/${O}`}h(m,"getSearchPermalink");function c(f){let{channelId:O,ts:p,threadTs:b}=f,T="/archives";return O&&(T+=`/${O}`),O&&p&&(T+=`/p${p.replace(".","")}`),O&&p&&b&&b!==p&&(T+=`?thread_ts=${b}&cid=${O}`),T}h(c,"getPermalink");var E=c},OmHH:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("b28g");const t=h(function(r,l){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l.filterQuery===void 0?l:{...l,options:Object(s.a)(r,l.filterQuery,o)}},"defaultFilter"),a=h((r,l)=>r.reduce((o,i)=>i(o),l),"applyTransforms")},On6p:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"d",function(){return d}),e.d(n,"c",function(){return c}),e.d(n,"b",function(){return E});var s=e("vfQU"),t=e("kBpe"),a=e("nNoG");const r=new a.b("prefs"),l=Object(s.fb)()?Object(s.M)():"nightly",o={PROD:"prod",BETA:"beta",DOGFOOD:l},i=[o.PROD,o.BETA],u=[o.PROD,o.BETA,o.DOGFOOD];function d(f){return(f?u:i).map(p=>({value:p,label:m(p)}))}h(d,"getReleaseChannelOptions");function m(f){switch(f){case o.PROD:return r.t("Production");case o.BETA:return r.t("Beta");case o.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}h(m,"getReleaseChannelDisplayName");function c(){return Object(s.fb)()&&!Object(s.eb)()&&!Object(t.o)()}h(c,"canSeeReleaseChannel");function E(){return c()&&["MSI","SlackSonic","SlackPilot"].every(f=>!navigator.userAgent.includes(f))}h(E,"canModifyReleaseChannel")},OnlX:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(){var t,a;return(a=(t=window.navigator)===null||t===void 0?void 0:t.userAgent)!==null&&a!==void 0?a:"no-ua"}h(s,"getUserAgent")},OqoL:function(H,n,e){"use strict";e.d(n,"a",function(){return L});var s=e("Vfgr"),t=e("Zgaw"),a=e("K1vi"),r=e("O86Y"),l=e("lhZz"),o=e("JoR1"),i=e("JnIm"),u=e("/XFw"),d=e("yrot"),m=e("nNoG"),c=e("1sW9"),E=e("Dpjh"),f=e("bjy1"),O=e("Zbwg"),p=e("kzMN"),b=e("tvJC"),T=e("G2FQ");function v(W,x,G){const w=[];return{text:W.replace(c.a,(ee,X,me)=>{let Oe;if(Object(p.a)(X)?Oe=`<!${Object(T.a)(X)}>`:Object(b.a)(X)?Oe=x?Object(E.a)(me):me:Object(f.a)(X)?Oe=`<!subteam^${X}|${me}>`:Object(O.a)(X)?Oe=G?`<#${X}|${me.substr(1)}>`:void 0:Oe=`<@${X}>`,!Oe)return ee;const le=`mention-${w.length+1}-${Date.now()}`;return w.push({mention:Oe,placeholder:le}),le}),mentions:w}}h(v,"replaceFormatMentions");const S=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function A(W){const x=[];let G=0;return{text:W.replace(S,se=>{G+=1;const ee=`quoted-text-placeholder-${Date.now()}-${G}`;return x.push({match:se,placeholder:ee}),ee}),quotedSections:x}}h(A,"replaceQuotedText");var I=e("ntGM"),_=e("pu3F");const M=/[-[\]{}()*+?.,\\^$|#\s]/g,y=/\n?(6\)|7\))/;var j=h(W=>{let x=0;const G=[];let w=W.replace(Object(I.a)(),(se,ee,X,me)=>{const Oe=x;x=me+se.length;const Ce=X.indexOf("(")!==-1,le=X.indexOf(")")!==-1;if((Ce||le)&&G.indexOf(X)===-1&&G.push(X),le&&!Ce){const de=W.substring(Oe,me);if(de.indexOf("(")!==-1&&de.indexOf(")")===-1)return se}if(se===`
8)`){const de=W.substring(0,me);if(y.test(de))return se}return _.n[X]?`${ee}:${_.n[X]}:`:se});if(G.length){const se=G.map(X=>X.replace(M,"\\$&")),ee=new RegExp(`(\\(.+)(${se.join("|")})(.+\\))`,"g");w=w.replace(ee,(X,me,Oe,Ce)=>_.n[Oe]?`${me}:${_.n[Oe]}:${Ce}`:X)}return w},"replace_emoticons_with_colons"),C=e("EJqq"),D=e("JvzI"),N=e("pWPO"),B=e("jlKB");const L=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,R=/(^|\S)( +)(\n|$)/gm;var U=n.b=function(W,x){let{isInternalMessage:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!W||!x)return"";const w=!G,se=Object(u.a)(W),ee=Object(o.t)(W,"convert_emoticons"),X=Object(i.a)(W),me=Object(B.a)(W),Oe=!0;let Ce=x,le=[];Ce=Object(t.a)(Ce),Ce=Object(a.c)(le,Ce,{replace_pre:!0,replace_code:!0});const de=v(Ce,w,Oe);if(Ce=de.text,Ce=Ce.replace(R,"$1$3"),ee&&!me){const pe=A(Ce);Ce=pe.text,Ce=j(Ce),pe.quotedSections.forEach(ne=>{Ce=Ce.replace(ne.placeholder,()=>ne.match)})}if(w&&(Ce=Object(a.b)(Ce,"CLEAN",{jumbomoji:se,allow_intra_word_formatting:!0})),de.mentions.forEach(pe=>{Ce=Ce.replace(pe.placeholder,()=>pe.mention)}),!m.e){const pe=Object(r.g)(W);Ce=Object(l.dispatchForTeamId)(pe,Object(C.c)({text:Ce,locale:Object(D.a)()}))}const ie=Object(d.c)(W);return le=le.map(pe=>{const ne={...pe},q=Object(c.b)(ne.str,{highlightWords:X,shouldRenderEmojiAsText:me,emojiNames:ie,locale:Object(m.m)(),useChannelTagging:Oe});return ne.str=Object(N.a)(q),w&&(ne.str=Object(a.b)(ne.str,"CLEAN",{jumbomoji:se,allow_intra_word_formatting:!0})),ne}),Ce=Object(a.d)(le,Ce),Object(s.a)(Ce)}},P7By:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("zxER"),l=e("Lgge"),o=e("JoR1");const i=t.a.memo(t.a.forwardRef((u,d)=>{let{getAnimationImport:m,className:c,svgClassName:E,loadingClassName:f,errorClassName:O,loop:p=!1,autoplay:b=!1,renderLoading:T,renderError:v}=u;const S=Object(r.d)(N=>Object(o.t)(N,"a11y_animations")),[A,I]=Object(s.useState)(!0),[_,M]=Object(s.useState)(!1),y=Object(s.useRef)(null),j=Object(s.useRef)(null),C=Object(s.useRef)(null);C.current||(C.current=l.a.all([Promise.all([e.e("gantry-v2-vendors-async"),e.e("vendors~gantry-v2-async-lottie-web")]).then(e.t.bind(null,"lPHp",7)),m()]).then(N=>{let[B,L]=N;if(!y.current)throw new Error("Lottie animation missing container");return I(!1),j.current=B.loadAnimation({container:y.current,renderer:"svg",loop:p,autoplay:!!(S&&b),animationData:L,rendererSettings:{className:Object(a.default)("p-lottie__svg",E)}}),l.a.resolve(j.current)}).catch(N=>(M(!0),l.a.reject(N)))),Object(s.useEffect)(()=>()=>{C.current&&C.current.cancel(),j.current&&j.current.destroy()},[C,j]),Object(s.useImperativeHandle)(d,()=>C.current,[C]);const D=Object(s.useMemo)(()=>A&&T?T():_&&v?v():null,[T,v,A,_]);return t.a.createElement("div",{ref:y,className:Object(a.default)("p-lottie",c,A&&f,_&&O)},D)}))},PFo8:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("YUBf"),l=e("QP4N"),o=e("9gkt"),i=e("dNN9"),u=e("AFY6"),d=e("ZE32"),m=e("j/0O"),c=e("vDCl"),f=h(S=>{let{subtitle:A,bodyContent:I,footerContent:_,title:M,titleImage:y,titleVideo:j,titleVideoClassName:C,titleIcon:D,showTitleIconAnimation:N,headerClassName:B,footerActionsClassName:L,theme:R}=S;return t.a.createElement(t.a.Fragment,null,t.a.createElement(o.a,{headerClassName:Object(a.default)(B,{"p-upgrades_modal__header--with_animation":N}),title:M},y,j&&t.a.createElement("div",{className:Object(a.default)(C)},j),D&&t.a.createElement("div",{className:"p-upgrades_modal__icon"},t.a.createElement(m.a,{hasBorder:!0,size:c.a.LARGE,type:D,showAnimation:!!N,theme:R}))),A&&t.a.createElement(u.a,{subtitle:A}),I&&t.a.createElement(r.d,null,t.a.createElement(i.a,null,I)),t.a.createElement(d.a,{className:L},_))},"ModalContent"),O=e("QW4n"),p=e("xLpb");function b(){return b=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(S[_]=I[_])}return S},b.apply(this,arguments)}h(b,"_extends");const T=h(S=>{const{className:A,maxWidth:I,onRequestClose:_,type:M,"data-qa":y,UNSAFE_parentSelector:j}=S,D={className:Object(a.default)("p-upgrades_modal__container",A),closeModal:_,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:I,dataQa:y,UNSAFE_parentSelector:j};return M===p.a.MULTI_PANE?t.a.createElement(l.b,b({},S,D)):M===p.a.VERTICAL_BANNER||M===p.a.HORIZONTAL_BANNER?t.a.createElement(O.b,b({},S,D)):t.a.createElement(r.a,b({},D),t.a.createElement(f,b({},S)))},"Modal");T.displayName="Modal";var v=n.a=T},PN0B:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},PPXB:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("MeLy"),t=e("q1tI"),a=e.n(t);function r(){return r=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(d[E]=c[E])}return d},r.apply(this,arguments)}h(r,"_extends");const l=h(()=>null,"renderError");var i=h(d=>a.a.createElement(s.a,r({renderError:l},d)),"QuietErrorBoundary"),u=n.b=s.a},PPXH:function(H,n,e){"use strict";e.d(n,"a",function(){return bi});var s=e("ANjH"),t=e("GVX8"),a=e("lhZz"),r=e("vfQU"),l=e("7xYR"),o=e("S36j"),i=e("mXhK");const u=Object(i.b)("Broadcast workspaces state to other stores",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt),ut=Re&&Object(l.getBootedWorkspaces)(Re),un=Object(l.getAllWorkspaces)(nt),Tn=Object(l.getAllWorkspaces)(Re),Kn=!Tn||un.some((Sn,yn)=>Sn!==Tn[yn]),rs=Object(l.getRecentlyFocusedWorkspaces)(nt),on=Re&&Object(l.getRecentlyFocusedWorkspaces)(Re);return(ut!==Vt||Kn||on!==rs)&&d(Vt,rs),Tt});u.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function d(Se,ue){const Ae=ue[0];Ae&&(Se==null||Se.forEach(Re=>{Object(a.dispatchForTeamId)(Re,Object(o.j)(ue)),Object(a.dispatchForTeamId)(Re,Object(o.k)(ue))}),Object(r.ac)(Ae))}h(d,"broadcastFocusedWorkspaces");var m=u,c=e("I3Q6"),E=e("I27i"),f=e("ifKl"),O=e("9Gfp");function p(){let{state:Se,prevState:ue,workspaces:Ae=[],broadcastSelector:Re=f.a,broadcastAction:Tt=f.a,featureFlag:nt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Vt=Re(Se),ut=Re(ue);Vt!==ut&&Ae.forEach(un=>{const Tn=Object(a.getStateByTeamId)(un);nt&&!Object(O.i)(Tn,nt)||Object(a.dispatchForTeamId)(un,Tt(Vt))})}h(p,"maybeBroadcastStateToWorkspaces");var b=p;const T=Object(i.b)("Broadcast connectivity state to other stores",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt);return b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(E.d)(ut),broadcastAction:ut=>Object(c.a)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(E.f)(ut),broadcastAction:ut=>Object(c.b)(ut)}),Tt});T.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};var v=T,S=e("n3tL"),A=e("OtLZ"),I=e("0VPD"),_=e("wBxZ"),M=e("Kyco"),y=e("j77i"),j=e("s4P+"),C=e("LqbL");const D={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},N="WORKSPACES",B=16,L=Object(M.b)({},D,{storeKey:"workspaces",persistenceEnabled:!0}).on(C.initialize,(Se,ue)=>U(Se,ue)).on(C.setDidBootAllWorkspaces,Se=>({...Se,didBootAllWorkspaces:!0})).on(C.setWorkspaceOrder,(Se,ue)=>W(Se,ue)).on(C.setWorkspaceBooted,(Se,ue)=>x(Se,ue)).on(C.setWorkspaceFailedToBoot,(Se,ue)=>G(Se,ue)).on(C.setWorkspaceNeeds2FASetup,(Se,ue)=>w(Se,ue)).on(C.setWorkspaceNeedsToAcceptCustomTOS,(Se,ue)=>se(Se,ue)).on(C.setNavigateToUnbootedWorkspace,(Se,ue)=>({...Se,navigateToUnbootedWorkspace:ue})).on(C.setWorkspaceIsMigrating,(Se,ue)=>ee(Se,ue)).on(C.setWorkspaceMigrationIsComplete,(Se,ue)=>X(Se,ue)).on(C.setWorkspaceIsAccessLimited,(Se,ue)=>me(Se,ue)).on(C.setUserNotMemberOfAnyWorkspaceInOrg,(Se,ue)=>Oe(Se,ue)).on(C.addWorkspace,function(Se){let{id:ue,meta:Ae}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ue||!Ae)throw new Error("'id' and 'meta' are both required when adding a workspace");if(Se.allWorkspaces.includes(ue))return Object(j.b)({label:N}).warn(`Cannot add workspace; it is already present: ${ue}`),Se;const{allWorkspaces:Re,workspacesMeta:Tt}=Se;return{...Se,allWorkspaces:[...Re,ue],workspacesMeta:{...Tt,[ue]:Ae}}}).on(C.updateWorkspaceMeta,function(Se){let{id:ue,meta:Ae}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:Re}=Se;if(!Re[ue])throw new Error(`Cannot update workspace meta for ${ue}; no such team`);return{...Se,workspacesMeta:{...Re,[ue]:Ae}}}).on(C.internalSetFocusedWorkspaceType,(Se,ue)=>({...Se,focusedWorkspace:ue,recentlyFocusedWorkspaces:Ce(Se.recentlyFocusedWorkspaces,ue)})).on(C.internalRemoveWorkspaceType,(Se,ue)=>({...Se,allWorkspaces:Object(A.a)(Se.allWorkspaces,ue)})).on(C.addRemovedWorkspace,(Se,ue)=>le(Se,ue));L.propTypes={allWorkspaces:S.default.arrayOf(S.default.string),bootedWorkspaces:S.default.arrayOf(S.default.string),failedToBootWorkspaces:S.default.arrayOf(S.default.string),recentlyFocusedWorkspaces:S.default.arrayOf(S.default.string),focusedWorkspace:S.default.string,workspacesMeta:S.default.object};var R=L;function U(Se){let{focusedWorkspace:ue,allWorkspaces:Ae,workspacesMeta:Re}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Se.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!ue)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!Ae)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(Ae.indexOf(ue)<0)throw new Error(`workspaces-store:initialize ${ue} is not one of the valid workspaces: ${Ae}`);return{...Se,focusedWorkspace:ue,allWorkspaces:Ae,workspacesMeta:Re,recentlyFocusedWorkspaces:[ue]}}h(U,"initializeWorkspacesState");function W(Se,ue){const Ae=Se.allWorkspaces;if(Object(I.a)(Ae,ue).length!==Ae.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return Object(y.w)("orderedTeamIds",ue),{...Se,allWorkspaces:ue}}h(W,"updateWorkspaceOrder");function x(Se,ue){const Ae=Se.bootedWorkspaces.includes(ue)?Se.bootedWorkspaces:[...Se.bootedWorkspaces,ue];return{...Se,bootedWorkspaces:Ae}}h(x,"updateWorkspaceBooted");function G(Se,ue){if(!ue)return Se;const Ae=Se.failedToBootWorkspaces.includes(ue)?Se.failedToBootWorkspaces:[...Se.failedToBootWorkspaces,ue];return{...Se,failedToBootWorkspaces:Ae}}h(G,"updateWorkspaceFailedToBoot");function w(Se,ue){if(!ue)return Se;const Ae=Se.needs2FASetup.includes(ue)?Se.needs2FASetup:[...Se.needs2FASetup,ue];return{...Se,needs2FASetup:Ae}}h(w,"updateWorkspaceNeeds2FASetup");function se(Se,ue){if(!ue)return Se;const Ae=Se.needsToAcceptCustomTOS.find(Re=>{let{teamId:Tt}=Re;return ue.teamId===Tt})?Se.needsToAcceptCustomTOS:[...Se.needsToAcceptCustomTOS,ue];return{...Se,needsToAcceptCustomTOS:Ae}}h(se,"updateWorkspaceNeedsToAcceptCustomTOS");function ee(Se,ue){let{teamId:Ae,migrationId:Re,canViewMigrationStatus:Tt}=ue;if(!Ae)return Se;const{migratingWorkspaces:nt}=Se;return{...Se,migratingWorkspaces:{...nt,[Ae]:{migrationId:Re,canViewMigrationStatus:Tt}}}}h(ee,"updateWorkspaceIsMigrating");function X(Se,ue){if(!ue)return Se;const Ae=Se.completedMigrationWorkspaces.includes(ue)?Se.completedMigrationWorkspaces:[...Se.completedMigrationWorkspaces,ue];return{...Se,completedMigrationWorkspaces:Ae}}h(X,"updateWorkspaceMigrationIsComplete");function me(Se,ue){if(!ue)return Se;const Ae=Se.accessLimitedWorkspaces.includes(ue)?Se.accessLimitedWorkspaces:[...Se.accessLimitedWorkspaces,ue];return{...Se,accessLimitedWorkspaces:Ae}}h(me,"updateWorkspaceIsAccessLimited");function Oe(Se,ue){if(!ue)return Se;const Ae=Se.userNotMemberOfAnyWorkspaceInOrg.includes(ue)?Se.userNotMemberOfAnyWorkspaceInOrg:[...Se.userNotMemberOfAnyWorkspaceInOrg,ue];return{...Se,userNotMemberOfAnyWorkspaceInOrg:Ae}}h(Oe,"updateUserNotMemberOfAnyWorkspaceInOrg");function Ce(Se,ue){const Ae=[ue,...Se.filter(Re=>Re!==ue)];return Ae.length>B?Object(_.a)(Ae,B):Ae}h(Ce,"updateRecentlyFocusedWorkspaces");function le(Se,ue){if(!ue)return Se;const Ae=Se.removedWorkspaces.includes(ue)?Se.removedWorkspaces:[...Se.removedWorkspaces,ue];return{...Se,removedWorkspaces:Ae}}h(le,"updateRemovedWorkspaces");var de=e("OB5f"),ie=e("dedX"),pe=e("EbWb"),ne=e("qiJD"),q=e("tstp");const ce={shouldLogAppBootMetrics:!0,shouldLogTeamSwitchMetrics:!1,shouldLogTTVMetrics:!0,shouldLogTTUMetrics:!0},ge=Object(M.b)({},ce,{storeKey:"telemetry",persistenceEnabled:!0}).on(q.a,(Se,ue)=>({...Se,shouldLogAppBootMetrics:ue})).on(q.d,(Se,ue)=>({...Se,shouldLogTeamSwitchMetrics:ue})).on(q.c,(Se,ue)=>({...Se,shouldLogTTVMetrics:ue})).on(q.b,(Se,ue)=>({...Se,shouldLogTTUMetrics:ue}));ge.propTypes={shouldLogAppBootMetrics:S.default.bool,shouldLogTeamSwitchMetrics:S.default.bool,shouldLogTTVMetrics:S.default.bool,shouldLogTTUMetrics:S.default.bool};var be=ge,Q=e("FFTZ"),re=e("fpvb"),z=e("4GGS"),Y=e("KknS"),ve=e("lkvs"),Z=e("mSUo"),$=e("WUSA"),te=e("2um6");const J=Object(i.b)("Broadcast accessibility state to other stores",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt);return b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.j)(ut),broadcastAction:ut=>Object($.j)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.m)(ut),broadcastAction:ut=>Object($.k)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.k)(ut),broadcastAction:ut=>Object($.l)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.b)(ut),broadcastAction:ut=>Object($.b)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.g)(ut),broadcastAction:ut=>Object($.g)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.f)(ut),broadcastAction:ut=>Object($.f)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.h)(ut),broadcastAction:ut=>Object($.h)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.d)(ut),broadcastAction:ut=>Object($.d)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.e)(ut),broadcastAction:ut=>Object($.e)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.c)(ut),broadcastAction:ut=>Object($.c)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(te.i)(ut),broadcastAction:ut=>Object($.i)(ut)}),Tt});J.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};var k=J,ae=e("COQp"),Ee=e("WVqY");const _e=Object(i.b)("Broadcast accessibility persistent state to other stores",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt);return b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(Ee.a)(ut),broadcastAction:ut=>Object(ae.a)(ut)}),Tt});_e.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};var je=_e,Ue=e("VHTg"),Ke=e("v5z3");const ke=100,Qe="client-ia-history",Ze=[...Object.values(Ke.m)||[]];var De=e("aVEU");const Fe=h(()=>{try{const Se=localStorage.getItem(Qe);return Se?JSON.parse(Se):[]}catch(Se){return Object(j.b)().error("Failed to read IA history from storage",Se),[]}},"readStackFromStorage"),Ve=h(Se=>{try{localStorage.setItem(Qe,JSON.stringify(Se))}catch(ue){Object(j.b)().error("Failed to write IA history to storage",ue)}},"writeStackToStorage");var Ot=Object(M.b)({},{stack:Fe()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(De.b,(Se,ue)=>{if(!ue||Ze.includes(ue==null?void 0:ue.primaryView))return Se;const Ae=1e3,Re=[ue].concat(Se.stack).slice(0,Ae);return window.setTimeout(()=>Ve(Re),0),{stack:Re}}).on(De.d,(Se,ue)=>{const Ae=Se.stack.indexOf(ue);if(Ae===-1)return Se;const Re=Se.stack.slice();return Re.splice(Ae,1),window.setTimeout(()=>Ve(Re),0),{stack:Re}}).on(De.c,Se=>{if(!Se.stack)return Se;const ue=Se.stack.slice(0,1);return window.setTimeout(()=>Ve(ue),0),{stack:ue}}).on(De.a,()=>{const Se=[];return Ve(Se),{stack:Se}}),ht=e("yVcz"),Le=e("AFNo"),jt=e("2VFn"),Ut=e("vSKv"),Ie=e("Z7Ay");const oe={[jt.c]:{index:0,previousIndex:null,stack:[]}},ye={persistenceEnabled:!1,storeKey:"mainWindowHistory"};var Ge=Object(Le.b)({},oe,ye).on(ht.b,(Se,ue)=>{let{windowId:Ae,entry:Re}=ue;return{...Se,[Ae]:Object(Ut.c)({windowState:Se[Ae],entry:Re})}}).on(ht.c,()=>oe).on(ht.f,(Se,ue)=>{let{windowId:Ae,index:Re,previousIndex:Tt}=ue;return{...Se,[Ae]:Object(Ut.e)({windowState:Se[Ae],index:Re,previousIndex:Tt})}}).on(ht.a,(Se,ue)=>{let{windowId:Ae,index:Re}=ue;return{...Se,[Ae]:Object(Ut.b)({windowState:Se[Ae],index:Re})}}).on(ht.e,(Se,ue)=>{let{windowId:Ae,entry:Re}=ue;return{...Se,[Ae]:Object(Ut.d)({windowState:Se[Ae],entry:Re})}});Object(Ie.a)("mainWindowHistory",{getState:()=>Object(a.getStateForClientStore)().mainWindowHistory[jt.c]});var st=e("bNCI"),$e=e("Fk5v");const It=!0,Lt=Object(M.b)({},It,{storeKey:"isClient",persistenceEnabled:!1});Lt.meta={name:"createReducer",key:"createReducerisClientReducer"},Lt.propTypes=S.default.bool;var St=Lt,vt=e("Kacs"),Yt=e("m8R6"),et=e("dKQz"),Ft=e("1Zcw"),mt=e("Pw4T"),Zt=e("RBHu");const gt={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1};var it=Object(M.b)({},gt,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(et.C,(Se,ue)=>Se.isHuddlesEnabled?Se:{...Se,isHuddlesEnabled:ue}).on(et.a,(Se,ue)=>({...Se,mostRecentHuddle:ue})).on(et.ab,(Se,ue)=>{const{mostRecentHuddle:Ae}=Se;if(!Ae||ue.teamId&&ue.teamId!==Ae.teamId||ue.channelId&&ue.channelId!==Ae.channelId)return Se;const Re={...Se,mostRecentHuddle:{...Ae,...ue,metrics:{...Ae.metrics,...ue.metrics}}},Tt=Re.mostRecentHuddle;return Tt&&Object(j.b)().info(Ft.c,`updateActiveHuddleReference huddleState ${Tt.huddleState}, substate ${Tt.huddleSubState}, optimisticState ${Tt.optimisticHuddleState}`),Re}).on(et.Z,(Se,ue)=>{const{mostRecentHuddle:Ae}=Se;return!Ae||ue===Ae.channelId?Se:{...Se,mostRecentHuddle:{...Ae,channelId:ue}}}).on(et.cb,(Se,ue)=>({...Se,activeInvite:ue})).on(et.c,(Se,ue)=>{var Ae;return((Ae=Se.activeInvite)===null||Ae===void 0?void 0:Ae.channelId)!==ue?Se:Object(Yt.a)(Se,["activeInvite"])}).on(et.b,Se=>Object(Yt.a)(Se,["activeInvite"])).on(et.i,(Se,ue)=>Se.forceMiniPanelVisible===ue?Se:{...Se,forceMiniPanelVisible:ue}).on(et.db,(Se,ue)=>{let{channelId:Ae,joinCredentials:Re,expiry:Tt,fromInvite:nt}=ue;var Vt;if(!Ae||!Re)return Se;const ut=Se.channelToJoinCredentials;ut[Ae]={credentials:Re,expiry:Tt,fromInvite:nt};const un=(Vt=Se.activeInvite)===null||Vt===void 0?void 0:Vt.teamId;return un&&Object(mt.d)({state:Object(a.getStateByTeamId)(un)}).count(Zt.l),{...Se,channelToJoinCredentials:ut}}).on(et.d,(Se,ue)=>{let{channelId:Ae}=ue;if(!Ae)return Se;if(Se.channelToJoinCredentials[Ae]){var Re;const Tt=(Re=Se.activeInvite)===null||Re===void 0?void 0:Re.teamId;Tt&&Object(mt.d)({state:Object(a.getStateByTeamId)(Tt)}).count(Zt.k)}return{...Se,channelToJoinCredentials:Object(Yt.a)(Se.channelToJoinCredentials,[Ae])}}).on(et.bb,(Se,ue)=>Se.showDiscoveryBanner===ue?Se:{...Se,showDiscoveryBanner:ue}).on(et.D,(Se,ue)=>Se.isLoungeMusicPlaying===ue?Se:{...Se,isLoungeMusicPlaying:!!ue}).on(et.G,(Se,ue)=>Se.lastStartTs===ue?Se:{...Se,lastStartTs:ue}).on(et.F,(Se,ue)=>Se.lastEndTs===ue?Se:{...Se,lastEndTs:ue}).on(et.E,(Se,ue)=>Se.lastDurationTs===ue?Se:{...Se,lastDurationTs:ue}).on(et.J,(Se,ue)=>Se.screenshareActivePanel===ue?Se:{...Se,screenshareActivePanel:ue}).on(et.o,Se=>({...Se,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1})).on(et.K,(Se,ue)=>{let{song:Ae}=ue;return Se.songPlaying===(Ae==null?void 0:Ae.key)?Se:{...Se,songPlaying:Ae==null?void 0:Ae.key}}).on(et.v,(Se,ue)=>Se.canRenderActiveInviteCardInSidebar===ue?Se:{...Se,canRenderActiveInviteCardInSidebar:ue}).on(et.A,(Se,ue)=>Se.isHuddleWindowFocused===ue?Se:{...Se,isHuddleWindowFocused:ue}).on(et.B,(Se,ue)=>Se.isHuddleWindowOpen===ue?Se:{...Se,isHuddleWindowOpen:ue}).on(et.y,(Se,ue)=>Se.isAudioOnlyModeEnabled===ue?Se:{...Se,isAudioOnlyModeEnabled:ue}).on(et.u,(Se,ue)=>Se.wasCameraEnabledWhenAudioOnlyModeWasActivated===ue?Se:{...Se,wasCameraEnabledWhenAudioOnlyModeWasActivated:ue}).on(et.z,(Se,ue)=>Se.isHuddleMiniPlayerHidden===ue?Se:{...Se,isHuddleMiniPlayerHidden:!!ue}).on(et.x,(Se,ue)=>Se.wasJoinedFromPrejoin===ue?Se:{...Se,wasJoinedFromPrejoin:!!ue}),dt=e("S249");const _t={navigateListenersRunOnClientMount:0};var Ye=Object(M.b)({},_t,{storeKey:"navigate",persistenceEnabled:!1}).on(dt.a,Se=>({...Se,navigateListenersRunOnClientMount:Se.navigateListenersRunOnClientMount+1})),Xe=e("DwFS");const kt=Object(Xe.a)("sets the client side effect map on the store");kt.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const Bt={clientSideEffectsMap:{}};var we=Object(M.b)({},Bt,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(kt,(Se,ue)=>({...Se,clientSideEffectsMap:ue})),ot=e("WvYH"),yt=e("zm5I");const Kt=Object(i.b)("Broadcast client theme state to other stores",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt);return b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(yt.a)(ut),broadcastAction:ut=>Object(ot.a)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(yt.b)(ut),broadcastAction:ut=>Object(ot.b)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(yt.c)(ut),broadcastAction:ut=>Object(ot.c)(ut)}),Tt});Kt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};var Xt=Kt,cn=e("ED1u"),gn=e("y8m0"),vn=e("X8Vd"),lt=e("Xfjg"),ct=e("CJqd"),Rt=e("m2C9");const zt=Object(i.b)("Broadcast client theme state to other stores",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt);return b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>{var un,Tn;return`${ut==null||(un=ut.workspaceLayout)===null||un===void 0?void 0:un.sidebarWidthIntent}-${ut==null||(Tn=ut.workspaceLayout)===null||Tn===void 0?void 0:Tn.sidebarWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Object(lt.a)({sidebarWidthIntent:Number(un[0]),sidebarWidthMode:un[1]})}}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(gn.c)(ut),broadcastAction:ut=>Object(vn.a)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(gn.d)(ut),broadcastAction:ut=>Object(cn.c)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(gn.h)(ut),broadcastAction:ut=>Object(Rt.a)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>{var un,Tn;return`${ut==null||(un=ut.workspaceLayout)===null||un===void 0?void 0:un.inspectorWidthIntent}-${ut==null||(Tn=ut.workspaceLayout)===null||Tn===void 0?void 0:Tn.inspectorWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Object(ct.a)({inspectorWidthIntent:Number(un[0]),inspectorWidthMode:un[1]})}}),Tt});zt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspaceLayoutMiddleware",description:"Broadcast client theme state to other stores"};var mn=zt,fn=e("hheC"),ln=e("E4z0"),Ln=e("O62x"),In=e("DiyJ"),Dn=e("YLXe"),_n=e("Q1m+"),qe=e("np25"),Et=e("nevH");const Wt=Object(i.b)("Broadcast view layout state across all teams",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=ue(Ae),nt=Se.getState(),Vt=Object(l.getBootedWorkspaces)(nt);return b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>{var un,Tn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.sidebarWidthIntent}-${ut==null||(Tn=ut.viewLayout)===null||Tn===void 0?void 0:Tn.sidebarWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Object(Dn.a)({sidebarWidthIntent:Number(un[0]),sidebarWidthMode:un[1]})}}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>{var un,Tn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.sidebarWideWidthIntent}-${ut==null||(Tn=ut.viewLayout)===null||Tn===void 0?void 0:Tn.sidebarWideWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Object(_n.a)({sidebarWideWidthIntent:Number(un[0]),sidebarWideWidthMode:un[1]})}}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>{var un,Tn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.sidebarExtraWideWidthIntent}-${ut==null||(Tn=ut.viewLayout)===null||Tn===void 0?void 0:Tn.sidebarExtraWideWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Object(qe.a)({sidebarExtraWideWidthIntent:Number(un[0]),sidebarExtraWideWidthMode:un[1]})}}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(fn.b)(ut),broadcastAction:ut=>Object(Ln.a)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(fn.d)(ut),broadcastAction:ut=>Object(ln.c)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>Object(fn.c)(ut),broadcastAction:ut=>Object(In.a)(ut)}),b({state:nt,prevState:Re,workspaces:Vt,broadcastSelector:ut=>{var un,Tn;return`${ut==null||(un=ut.viewLayout)===null||un===void 0?void 0:un.secondaryWidthIntent}-${ut==null||(Tn=ut.viewLayout)===null||Tn===void 0?void 0:Tn.secondaryWidthMode}`},broadcastAction:ut=>{const un=ut.split("-");return Object(Et.a)({secondaryWidthIntent:Number(un[0]),secondaryWidthMode:un[1]})}}),Tt});Wt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};var qt=Wt,nn=e("kBpe"),rn=e("Lgge"),hn=e("AWyR"),en=e("LZPg"),Un=e("lfKG"),Yn=e("l/cy"),ns=e("M3pb"),cs=e("gKtV"),is=e("gHj1"),es=e("Cudo"),Is=e("Ufq/"),kn=e("sgFo"),ts=e("dqxO"),Ds=e("gENi"),vs=e("yM+I"),ss=e("myfR"),Zn=e("RVJP");function Os(Se){switch(Object(Zn.d)(Se,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}h(Os,"getAllowedTurnTransportTypes");var Cs=e("ED8d"),ys=e("smhd"),Ls=e("A+lB"),Es=e("LxFC"),zn=e("3REw"),_s=e("JoR1"),ls=e("t890"),Ts=e("sEtg"),gs=e("QIbu"),As=e("Iqnp"),xn=e("+CZ0"),Ss=e("BEQu"),V=e("8TXW"),he=e("H+tl"),We=e("QjW8"),Ct=e("l0nk"),Gt=e("sOAz"),sn=e("SQ0V"),Pe=e("6rGi");const g=Object(sn.c)("Resolve a pending huddle",(Se,ue,Ae)=>Object(Pe.a)().resolvePendingJoin(Ae));g.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};var P=g,F=e("oCIk"),K=e("GNR7"),fe=e("IaLB"),Me=e("4YJR");const Te=Object(sn.c)("update client huddle membership timers join",(Se,ue)=>{const Ae=ue(),Re=Object(j.a)({state:Ae}),Tt=Object(a.getStateForClientStore)(),nt=Object(xn.c)(Tt),Vt=Object(fe.ob)(Ae,{tip:Ke.f.Huddles});if(!nt){Re.warn(Ft.c,"no active huddle found, cannot update state to together or alone");return}const ut=Object(K.j)(Ae);if(ut===0){Object(Pe.a)().setAloneInHuddle();return}ut>0&&(Vt&&Se(Object(Me.r)(!0)),Object(Pe.a)().setOthersInHuddle(),Se(Object(F.a)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});Te.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var xe=e("9oTK"),He=e("q1tI"),ze=e.n(He),Be=e("wSSu"),Mt=e.n(Be),Pt=e("vJtL"),Qt=e("SZMM"),tn=e("Enx8"),pt=e("WSQ4"),At=e("nNoG"),an=e("O86Y"),$t=e("Kq+c"),Mn=e("KciV"),Cn=e("jMXC"),Rn=e("ueJG"),An=e("zxER"),On=e("Cfcg"),bn=e("BHdc"),Pn=e("xwCZ"),pn=e("+tZp"),Wn=e("1VgO");let Fn=h(class extends He.PureComponent{static getDerivedStateFromProps(ue,Ae){return ue.mediaStream!==Ae.currentMediaStream?ue.mediaStream&&Ae.currentMediaStream&&ue.mediaStream.id===Ae.currentMediaStream.id?{currentMediaStream:ue.mediaStream,isFlipped:ue.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:ue.mediaStream?Ae.currentMediaStream:void 0,currentMediaStream:ue.mediaStream,isFlipped:ue.isFlipped,wasFlipped:Ae.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const ue=this.videoRef.current,Ae=this.prevVideoRef.current;ue&&(ue.removeEventListener("canplay",this.onCanPlay),ue.removeEventListener("pause",this.onPause),ue.removeEventListener("resize",this.onResize)),Ae&&(Ae.removeEventListener("canplay",this.onCanPlay),Ae.removeEventListener("pause",this.onPause),Ae.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:ue}=this.state,Ae=ue&&ue.getVideoTracks()[0];this.isDataStopped&&Ae&&Ae.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(ue){this.state.currentMediaStream&&ue.target.srcObject instanceof MediaStream&&ue.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:ue,prevMediaStream:Ae}=this.state,Re=this.videoRef.current,Tt=this.prevVideoRef.current;Re&&(Re.muted=!0,Re.srcObject!==ue&&(Re.addEventListener("canplay",this.onCanPlay),Re.addEventListener("pause",this.onPause),Re.addEventListener("resize",this.onResize),Re.srcObject=ue||null)),Tt&&(Tt.muted=!0,Tt.srcObject!==Ae&&(Tt.removeEventListener("canplay",this.onCanPlay),Tt.removeEventListener("pause",this.onPause),Tt.removeEventListener("resize",this.onResize),Tt.srcObject=Ae||null))}onResize(){const ue=this.videoRef.current;ue&&(this.props.isSharingScreen?ue.style.objectFit="contain":ue.style.objectFit=ue.videoWidth>ue.videoHeight?"cover":"contain")}render(){const{className:ue,isFlipped:Ae,refToForward:Re}=this.props,{currentMediaStream:Tt,prevMediaStream:nt,isCurrentMediaStreamReady:Vt,wasFlipped:ut}=this.state;return ze.a.createElement(ze.a.Fragment,null,!Vt&&nt&&ze.a.createElement("video",{key:nt&&nt.id,className:Object(bn.default)("p-calls_video",ue,{flipped:ut}),ref:this.prevVideoRef,autoPlay:!0}),ze.a.createElement("video",{className:Object(bn.default)("p-calls_video",ue,{flipped:Ae,hidden:!Vt}),ref:Object(Wn.b)(this.videoRef,Re),autoPlay:!0,key:Tt&&Tt.id}))}constructor(ue){super(ue),this.prevVideoRef=ze.a.createRef(),this.videoRef=ze.a.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");Fn.displayName="CallsOriginalVideoElement";function Bn(){return Bn=Object.assign||function(Se){for(var ue=1;ue<arguments.length;ue++){var Ae=arguments[ue];for(var Re in Ae)Object.prototype.hasOwnProperty.call(Ae,Re)&&(Se[Re]=Ae[Re])}return Se},Bn.apply(this,arguments)}h(Bn,"_extends");const Nn=h((Se,ue)=>{const Ae=Object(en.J)(Se,ue.id);return{mediaStream:Ae.mediaStream,isFlipped:Object(en.Y)(Ae)&&!Ae.isScreenshareEnabled,isSharingScreen:Ae.isScreenshareEnabled}},"mapStateToProps"),Gn=Object(On.a)(Nn)(Fn);var as=ze.a.forwardRef((Se,ue)=>ze.a.createElement(Gn,Bn({},Se,{refToForward:ue}))),Xn=e("pFNT"),Ns=e("i9y5"),Ws=e("S4vl"),js=e("+KE1"),zs=e("rGCG"),Hs=e("74PA"),ks=e("ktUG"),Bs=e("wMt+");function Fs(Se,ue){const Ae=Math.min(ue.width,ue.height*Se),Re=Math.min(ue.height,ue.width/Se);return{top:ue.top+(ue.height-Re)/2,left:ue.left+(ue.width-Ae)/2,width:Ae,height:Re}}h(Fs,"getLargestRectForAspectRatioCenteredWithinRect");let us=h(class extends He.PureComponent{detectDifference(ue,Ae){return Math.abs(ue-Ae)>1}componentDidMount(){Object(Mn.c)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),Object(Hs.a)(ks.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),this.context.window.addEventListener("resize",this.onResize),Object(Bs.a)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(ue){let{isVideoReady:Ae}=ue;!Ae&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),this.context.window.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!Object(Bs.a)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const ue=this.videoRef.current;!ue||ue.videoHeight===0||this.setState(()=>({videoRect:Fs(ue.videoWidth/ue.videoHeight,ue.getBoundingClientRect())}))}render(){const ue=ze.a.Children.only(this.props.children),Ae=ze.a.cloneElement(ue,{ref:Object(Wn.a)(this.videoRef,ue)});return ze.a.createElement(ze.a.Fragment,null,Ae,this.state.videoRect&&ze.a.createElement(js.a,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&ze.a.createElement(zs.a,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(ue){super(ue),this.videoRef=ze.a.createRef(),this.drawTargetRef=ze.a.createRef(),this.drawRenderRef=ze.a.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");us.displayName="GuestDraw",us.contextType=pt.a;const Ps=h((Se,ue)=>{const Ae=Object(en.e)(Se);if(!Ae)throw Error("Guest draw should not be mounted without an active peer");const Re=Object(en.J)(Se,Ae);return{isDrawEnabled:!!Re.isScreenshareEnabled&&!!Re.isDrawEnabled,isScreenShareEnabled:!!Re.isScreenshareEnabled}},"guest_draw_mapStateToProps");var Gs=Object(On.a)(Ps)(us);const Aa={isVideoReady:!1};let ma=h(class extends He.PureComponent{onVideoReady(ue){this.setState(Ae=>({...Ae,isVideoReady:ue}))}renderVideo(){const{id:ue,renderVideo:Ae,tileId:Re}=this.props;if(Ae)return Ae(this.isVideoEnabledAndReady());if(!ue){Object(Ws.b)("Cannot render video without a peer id");return}return ze.a.createElement(Gs,{isVideoReady:this.state.isVideoReady},ze.a.createElement(as,{id:ue,tileId:Re,onVideoReady:this.onVideoReady,className:Object(bn.default)({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:ue,prefCompliantUserName:Ae,member:Re}=this.props;return ze.a.createElement("div",{className:Object(bn.default)({hidden:this.state.isVideoReady})},ze.a.createElement("div",{className:"p-active_speaker__member_image_wrapper"},ze.a.createElement(Xn.c,{className:Object(bn.default)({"p-active_speaker__member_image--spinning":ue}),size:180,userId:Re&&Re.id,isInteractive:!1,tabIndex:-1}),ue&&ze.a.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},ze.a.createElement(Ns.a,{color:"white"}))),ze.a.createElement("div",{className:"p-active_speaker__member_name"},Ae))}isVideoEnabledAndReady(){const{isVideoEnabled:ue,isVideoEnabledAndReady:Ae}=this.props;return Ae?Ae(ue):!!(ue&&this.state.isVideoReady)}render(){const{isVideoEnabled:ue}=this.props,Ae=Object(bn.default)("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return ze.a.createElement("div",{"data-qa":"active-speaker",className:Ae},ue&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(ue){super(ue),this.state=Aa,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");ma.displayName="ActiveSpeaker";function Ga(Se,ue){const Ae=Object(Pn.g)(Se,ue),Re=Object(pn.a)(Se,Ae);return{member:Ae,prefCompliantUserName:Re}}h(Ga,"mapCommonMemberState");const za=h((Se,ue)=>{const Ae=Object(en.J)(Se,ue.id),Re=Ae.isCameraEnabled,Tt=Ae.isScreenshareEnabled,nt=Object(en.Y)(Ae)?Object(O.a)(Se):Ae.userId;return{tileId:ue.tileId,isVideoEnabled:Re||Tt,isSpinning:Ae.isConnected===!1,...Ga(Se,nt)}},"active_speaker_mapStateToProps");var Ya=Object(On.a)(za)(ma),ha=e("mf6s");function fa(){return fa=Object.assign||function(Se){for(var ue=1;ue<arguments.length;ue++){var Ae=arguments[ue];for(var Re in Ae)Object.prototype.hasOwnProperty.call(Ae,Re)&&(Se[Re]=Ae[Re])}return Se},fa.apply(this,arguments)}h(fa,"with_free_willy_guest_draw_extends");const aa=h(Se=>h(class extends He.PureComponent{addEventListeners(Ae,Re,Tt){Ae.current&&(Ae.current.addEventListener("canplay",Re),Tt&&Ae.current.addEventListener("resize",Re))}removeEventListeners(Ae,Re,Tt){Ae.current&&(Ae.current.removeEventListener("canplay",Re),Tt&&Ae.current.removeEventListener("resize",Re))}render(){return ze.a.createElement(Se,fa({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");aa.displayName="withFreeWillyGuestDraw";var Js=aa;function ja(){return ja=Object.assign||function(Se){for(var ue=1;ue<arguments.length;ue++){var Ae=arguments[ue];for(var Re in Ae)Object.prototype.hasOwnProperty.call(Ae,Re)&&(Se[Re]=Ae[Re])}return Se},ja.apply(this,arguments)}h(ja,"with_free_willy_active_speaker_extends");const Qa=Js(Gs),va=h(Se=>h(class extends He.PureComponent{isVideoEnabledAndReady(Ae){return Ae}renderVideo(Ae){const{id:Re,tileId:Tt}=this.props;if(!Re){Object(Ws.b)("Cannot render video without a peer id");return}return ze.a.createElement(Qa,{isVideoReady:Ae},ze.a.createElement(ha.a,{id:Re,tileId:Tt,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return ze.a.createElement(Se,ja({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(Ae){super(Ae),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");va.displayName="withFreeWillyActiveSpeaker";var $a=va,Oa=e("/MKj"),wa=e("qDEp"),oa=e("Nq3N"),Eo=e("nHGf");const Za=new At.b("huddles"),Pa=h(()=>{const Se=Object(Oa.useDispatch)(),ue=Object(An.d)(Re=>!!Object(en.W)(Re,"isMicrophoneEnabled")),Ae=Object(He.useCallback)(()=>{Se(Object(oa.a)(!ue))},[ue,Se]);return ze.a.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},ze.a.createElement(wa.f,{className:Object(bn.default)("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":ue}),onClick:Ae,type:"outline",role:"switch",size:"large","aria-label":Za.t("Microphone"),"aria-checked":ue,disabled:!self},ze.a.createElement(Eo.a,{peerId:"self",isMicrophoneEnabled:ue,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");Pa.displayName="HuddleScreenViewerMicButton";var Xa=Pa;const Ea=$a(Ya),Rs=new At.b("huddles");function Ra(Se){const{peerId:ue,isError:Ae}=Se,Re=Object(An.d)(en.u),Tt=Object(An.d)(Tn=>ue?Object(en.J)(Tn,ue):null);let nt;if(Re){var Vt,ut;nt=Tt!=null&&Tt.isScreenshareEnabled?Tt==null||(Vt=Tt.tileIds)===null||Vt===void 0||(ut=Vt.screenshare)===null||ut===void 0?void 0:ut.tileId:null}const un=ze.a.createElement("span",{className:"p-huddle_screen_viewer__error"},Rs.t("The screen share has ended."));return ze.a.createElement("div",{className:"p-huddle_screen_viewer__container"},ue&&!Ae&&ze.a.createElement(Ea,{id:ue,tileId:nt}),Ae?un:ze.a.createElement(Xa,null))}h(Ra,"HuddleScreenViewer"),Ra.displayName="HuddleScreenViewer";var Ys=e("Z242");const Jn={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},go=Jn,La=new At.b("huddles"),Ja=h(Se=>{var ue;const Ae=Se==null||(ue=Se.document)===null||ue===void 0?void 0:ue.querySelectorAll(".p-huddle_screen_viewer__container"),Re=Ae?Ae.length:0,Tt=Object(Mn.c)("SCREENSHARE-VIEWER-APP");Re>1?Tt.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):Tt.info(`${Re} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),qs=h(()=>{const{container:Se,childWindow:ue}=Jn;Se&&(Mt.a.unmountComponentAtNode(Se),Jn.containerTileId=void 0,Jn.container=void 0),ue&&(ue.removeEventListener("beforeunload",qs),ue.close(),Jn.childWindow=void 0,Jn.childWindowToken=void 0)},"closeScreenShareWindow"),Ua=Object(sn.c)("Launch the window that renders screen share media",function(){var Se=Object(xe.coroutine)(function*(ue,Ae,Re){var Tt,nt,Vt;const ut=Ae(),un=Object(j.a)({state:ut}),Tn=Re!=null&&Re.screenSharePeerId?Re.screenSharePeerId:Object(en.A)(ut);let Kn=!1;const{container:rs,containerTileId:on}=Jn;Tn||(un.warn(Ft.c,"lastRemoteScreensharePeerId is not found"),Kn=!0);const Sn=Object(en.J)(ut,Tn||""),yn=Sn.userId?Object(tn.a)(ut,Sn.userId):"";let Vn=La.t("Screen share");yn&&(Vn=La.t("{memberName} screen share",{memberName:Object(At.k)(yn)}));const $n={...Cn.a,backgroundColor:"black",title:Vn,type:"huddle-call-screen-share"},wn=Object(a.getStateForClientStore)();Object(xn.c)(wn)||(un.warn(Ft.c,"no active huddle found"),Kn=!0);const Us=(Sn==null||(Tt=Sn.tileIds)===null||Tt===void 0||(nt=Tt.screenshare)===null||nt===void 0?void 0:nt.tileId)||0;Object(a.dispatchForClientStore)(Object(ss.e)({tileId:Us}))||(un.warn(Ft.c,"video tile does not have stream"),Kn=!0);const Zs=!Jn.childWindow||Jn.childWindow.closed;if(Zs&&Object(nn.i)()){const{window:na,windowToken:fs}=yield Object(Qt.g)("",$n);Jn.childWindow=na,Jn.childWindowToken=fs}else Zs&&(Jn.childWindow=window.open("",Vn,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!Jn.childWindow){un.warn(Ft.c,"No child window available. Exiting screen share window launch");return}const Hn=Object(an.g)(ut);Jn.childWindow.document&&(Jn.childWindow.document.body.style.background="black");const Va={window:Jn.childWindow,windowToken:Jn.childWindowToken};if(Zs&&(Jn.childWindow.addEventListener("beforeunload",qs),window.addEventListener("beforeunload",qs)),!(rs&&on===Us)||Zs){Jn.containerTileId=Us;const na=Object(a.getStoreInstanceByTeamId)(Hn);Jn.container=yield Object($t.a)(Jn.childWindow,ze.a.createElement(Ys.a,{store:na},ze.a.createElement(pt.a.Provider,{value:Va},ze.a.createElement(Rn.b,{shouldStopHuddle:!0},ze.a.createElement(Ra,{peerId:Tn,isError:Kn})))),{useContainer:!0})}const ya=(Vt=Jn.childWindow)===null||Vt===void 0?void 0:Vt.browserWindowId;ya?Object(r.y)(ya):Object(Pt.a)(Jn.childWindow.focus)&&Jn.childWindow.focus(),Ja(Jn.childWindow)});return function(ue,Ae,Re){return Se.apply(this,arguments)}}());Ua.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var ga=e("0dq7"),Na=e("LvvF");const qa=Object(sn.c)("alerts if a user joins the huddle and the current user has hidden that user",(Se,ue,Ae)=>{let{userId:Re}=Ae;const Tt=ue();Object(Na.b)(Tt,Re)&&Se(Object(es.b)(es.a.HiddenUserJoinedHuddle))});qa.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var pa=e("gpLM"),ba=e("HKlo"),Ba=e("c7sk"),ra=e("LTG1"),eo=e("rf28"),to=e("x5lL"),Qs=e("EQgQ"),Ia=e("2XU3"),ft=e("oJqn");const tt=Object(sn.c)("Send call analytics to the server",(Se,ue,Ae)=>{const Re=ue().activeCall;let Tt;if(Ae&&Ae.callId?Tt=Ae.callId:Re&&Re.id&&(Tt=Re.id),!Tt){Object(Ws.b)("There should be an active call in progress in order to send analytics.");return}const nt=rt(new ft.a.calls.analytics.Report(Ae.stats),ue()),Vt=ft.a.calls.analytics.Report.encode(nt).finish(),ut=String.fromCharCode(...Vt);return Se(Object(Ia.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:Tt,analytics:btoa(ut)},reason:"calls-analytics"}))});tt.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function rt(Se,ue){const Ae=Se;return Ae.recv=Se.recv.map(Re=>{if(Re.peerId){const Tt=Object(en.E)(ue,Re.peerId);if(Tt){const nt=Re;nt.userId=Tt.userId}}if(Re.peerIdString){const Tt=Object(en.E)(ue,Re.peerIdString);if(Tt){const nt=Re;nt.userId=Tt.userId}}return Re}),Ae.recv=Ae.recv.filter(Re=>!!Re.userId),Se}h(rt,"mapPeerIdsToUserIds");var bt=e("6l10"),Nt=e("KGIc"),Jt=e("2mvv");const Ht=Object(j.b)({label:"SEND-MEETING-EVENTS-LOGGER"}),dn="screenhero.rooms.proxyMeetingEvents",En=Object(sn.c)("Send meeting events to the server",function(){var Se=Object(xe.coroutine)(function*(ue,Ae,Re){let Tt;try{Tt=JSON.stringify(Re.events)}catch(un){Ht.error(un.message);return}const{metrics:nt,teamId:Vt}=jn();if(Re.isUnloading){const un={app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,call_id:Re.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:Tt,preferred_media_region:yield is.a.getInstance().getNearestChimeMediaRegion(Vt),audio_connected_time:(nt==null?void 0:nt.audioConnectedTime)||0,first_presence_time:(nt==null?void 0:nt.firstPresenceTime)||0,rooms_join_time:(nt==null?void 0:nt.roomsJoinTime)||0,sdk_initialized_time:(nt==null?void 0:nt.sdkInitializedTime)||0,chime_attendee_presence_time:Re.attendeePresenceDuration?Re.attendeePresenceDuration:(nt==null?void 0:nt.attendeePresenceDuration)||0,chime_meeting_start_time:Re.meetingStartDuration?Re.meetingStartDuration:(nt==null?void 0:nt.meetingStartDuration)||0,chime_signaling_open_time:Re.signalingOpenDuration?Re.signalingOpenDuration:(nt==null?void 0:nt.signalingOpenDuration)||0,chime_ice_gathering_time:Re.iceGatheringDuration?Re.iceGatheringDuration:(nt==null?void 0:nt.iceGatheringDuration)||0,voice_focus_init_time:(nt==null?void 0:nt.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(nt==null?void 0:nt.credentialsToVoiceFocusInitializedTime)||0};return Object(bt.a)({apiUrl:"/api/",method:dn,token:Object(Jt.b)(Ae()),versionTs:Object(Nt.f)(),versionUid:Object(Nt.h)(),args:un})?rn.a.resolve():rn.a.reject(new Error("sendMeetingEvents: beacon failed"))}const ut=Re.isEnding?{app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,events:Tt,call_id:Re.callId,preferred_media_region:yield is.a.getInstance().getNearestChimeMediaRegion(Vt),audio_connected_time:(nt==null?void 0:nt.audioConnectedTime)||0,first_presence_time:(nt==null?void 0:nt.firstPresenceTime)||0,rooms_join_time:(nt==null?void 0:nt.roomsJoinTime)||0,sdk_initialized_time:(nt==null?void 0:nt.sdkInitializedTime)||0,chime_attendee_presence_time:Re.attendeePresenceDuration?Re.attendeePresenceDuration:(nt==null?void 0:nt.attendeePresenceDuration)||0,chime_meeting_start_time:Re.meetingStartDuration?Re.meetingStartDuration:(nt==null?void 0:nt.meetingStartDuration)||0,chime_signaling_open_time:Re.signalingOpenDuration?Re.signalingOpenDuration:(nt==null?void 0:nt.signalingOpenDuration)||0,chime_ice_gathering_time:Re.iceGatheringDuration?Re.iceGatheringDuration:(nt==null?void 0:nt.iceGatheringDuration)||0,voice_focus_init_time:(nt==null?void 0:nt.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(nt==null?void 0:nt.credentialsToVoiceFocusInitializedTime)||0}:{app:Re.app,meeting_id:Re.meetingId,media_region:Re.mediaRegion,attendee_id:Re.attendeeId,events:Tt,call_id:Re.callId};return ue(Object(Ia.apiCall)({method:dn,args:ut,reason:"calls-chime-events"}))});return function(ue,Ae,Re){return Se.apply(this,arguments)}}());En.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function jn(){const Se=Object(a.getStateForClientStore)(),{metrics:ue,teamId:Ae}=Object(xn.p)(Se)||{};return{metrics:ue,teamId:Ae}}h(jn,"getCallMetricsAndTeamId");var qn=e("fujP");const ms=Object(j.b)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),xs=Object(sn.c)("Handle Chime meeting events",(Se,ue,Ae)=>{let{events:Re,callId:Tt,meetingId:nt,mediaRegion:Vt,attendeeId:ut,isUnloading:un,isEnding:Tn}=Ae;const Kn=ps(Re);!Object(qn.a)(Kn)&&!un&&!Tn&&Object(a.dispatchForClientStore)(Object(et.ab)({metrics:Kn})),Se(En({events:Re,app:"huddles",callId:Tt,meetingId:nt,mediaRegion:Vt,attendeeId:ut,isUnloading:un,isEnding:Tn,attendeePresenceDuration:Kn.attendeePresenceDuration,signalingOpenDuration:Kn.signalingOpenDuration,iceGatheringDuration:Kn.iceGatheringDuration,meetingStartDuration:Kn.meetingStartDuration}))});xs.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function ps(Se){const ue={};return Se.forEach(Ae=>{let{message:Re}=Ae;try{const un=JSON.parse(Re);switch(un.name){case"attendeePresenceReceived":var Tt;ue.attendeePresenceDuration=(Tt=un.attributes)===null||Tt===void 0?void 0:Tt.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var nt,Vt,ut;ue.signalingOpenDuration=(nt=un.attributes)===null||nt===void 0?void 0:nt.signalingOpenDurationMs,ue.iceGatheringDuration=(Vt=un.attributes)===null||Vt===void 0?void 0:Vt.iceGatheringDurationMs,ue.meetingStartDuration=(ut=un.attributes)===null||ut===void 0?void 0:ut.meetingStartDurationMs;break;default:break}}catch(un){ms.error("Invalid JSON in meeting event",un)}}),ue}h(ps,"parseMeetingEventMetrics");var ia=xs,Ms=e("jj3I"),ca=e("r9F4");const la=Object(sn.c)("Process AWS transcript event",(Se,ue,Ae)=>{var Re;if(Object(V.I)(Ae))return;const Tt=Ae.results[0];if(!(Tt!=null&&Tt.resultId)||!Object(ca.a)(ue()))return;const nt=(Re=Tt.alternatives[0])===null||Re===void 0?void 0:Re.items;if(!(nt!=null&&nt.length)){Se(Object(Ms.g)({resultId:Tt.resultId,transcriptions:[]}));return}const Vt=[];nt.forEach(ut=>{var un;const Tn=Vt[Vt.length-1],Kn=Object(Ba.a)((un=ut.attendee)===null||un===void 0?void 0:un.externalUserId);Kn&&(ut.type===V.r.PUNCTUATION?Tn&&(Tn.content=`${Tn.content}${ut.content}`,Tn.endTimeMs=ut.endTimeMs):Vt.push({memberId:Kn,timestampMs:ut.startTimeMs,endTimeMs:ut.endTimeMs||Date.now(),content:ut.content}))}),Se(Object(Ms.g)({resultId:Tt.resultId,transcriptions:Vt}))});la.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};var da=la,os=e("wVLq"),ua=e("O9MH");const ea=Object(sn.c)("Maybe disable the screen share",function(){var Se=Object(xe.coroutine)(function*(ue,Ae){const Re=Object(Mn.c)("CALLS-REDUX");Ae().peers.self.isScreenshareEnabled&&(Re.info("Attempted to turn off screen sharing"),ue(Object(en.ob)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),Object(ua.a)()});return function(ue,Ae){return Se.apply(this,arguments)}}());ea.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var Wa=e("PfQc"),dr=e("d3B0"),ur=e("SIMs"),ta=e("+N8b");let mr=h(class{onPeerMuted(ue,Ae){this.dispatch(Object(en.ob)({id:ue,isMicrophoneEnabled:!Ae}))}onPeerJoined(ue,Ae){if(this.maybeRecordFirstPresenceTime(),Ae&&ue){this.dispatch(Object(en.c)({id:ue,userId:Ae,isMicrophoneEnabled:!0})),this.dispatch(Te());const Re=Object(en.V)(this.store.getState());Object(a.dispatchForClientStore)(Object(et.j)({isDrawEnabled:Re.isDrawEnabled||!1})),this.dispatch(Object(Ms.c)({type:os.a.JOIN,memberId:Ae,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(Ae),this.dispatch(qa({userId:Ae}))}}onPeerLeft(ue){var Ae;const Re=(Ae=Object(en.P)(this.store.getState(),ue))===null||Ae===void 0?void 0:Ae.userId;Re&&(this.callLogger.info(`Peer left the huddle. userId=${Re} peerId=${ue}`),this.dispatch(Object(Ms.c)({type:os.a.LEAVE,memberId:Re,timestampMs:Date.now()}))),this.dispatch(Object(en.fb)(ue)),this.dispatch(Te())}onSelfJoined(){const ue=this.recordTiming(Zt.t);this.maybeRecordFirstPresenceTime(),this.dispatch(P(ue))}onSelfLeft(){this.dispatch(Object(es.i)(Gt.a.HiddenUserJoinedHuddle))}onNewActiveSpeaker(ue){this.dispatch(Object(en.hb)(ue))}onPeerReacji(ue,Ae,Re,Tt){var nt;this.dispatch(Object(en.a)({peerId:ue,emoji:Ae,isEmoji:Re,reactionType:Tt}));const Vt=(nt=Object(en.P)(this.store.getState(),ue))===null||nt===void 0?void 0:nt.userId;Vt&&this.dispatch(Object(Ms.c)({type:os.a.SEND_REACTION,memberId:Vt,timestampMs:Date.now(),emoji:Ae}))}onPeerMuteRequest(ue,Ae){Ae===this.selfAttendeeId&&(this.dispatch(Object(oa.a)(!1)),this.dispatch(Object(Gt.b)({alert:Gt.a.PeerMuteRequest,peerId:ue})),this.callLogger.info(`Peer muted self microphone : peerId:${ue}`))}onError(ue,Ae){let Re;Ae===V.p[V.p.AudioJoinedFromAnotherDevice]?Re=ga.c.AudioJoinedFromAnotherDevice:Ae===V.p[V.p.MeetingEnded]&&(Re=ga.c.ChimeMeetingEnded),this.dispatch(Object(Ct.a)({terminalState:Re||ue})),this.callLogger.info(`tearDown executed: terminalState: ${ue}, statusCodeName: ${Ae} tearDownState: ${Re}`)}onClogError(ue){}onMeetingSessionInitialized(){this.recordTiming(Zt.z);const ue=Object(mt.d)({state:this.store.getState()}),Ae=ue.measure(Zt.d,Zt.e);ue.count(Zt.e,Ae),Object(a.dispatchForClientStore)(Object(et.ab)({metrics:{sdkInitializedTime:Ae}}))}onSelfPermissionUpdated(ue,Ae){this.callLogger.info(`Received permission update from type:${Ae}, isDenied: ${ue}`);let Re;Object(nn.i)()?Re=Ae===Es.b.Microphone?Gt.a.NoSystemAudio:Gt.a.NoSystemVideo:Re=Ae===Es.b.Microphone?Gt.a.NoBrowserAudioPermission:Gt.a.NoBrowserVideoPermission,ue?this.dispatch(Object(Gt.b)({alert:Re})):this.dispatch(Object(Gt.c)(Re))}onSelfVideoTileUpdate(ue){if(!ue.tileId)return;const Ae=Object(en.V)(this.getState());if(!ue.isContent&&!Ae.isCameraEnabled)return;if(!Object(en.u)(this.getState()))this.dispatch(Object(Ms.c)({type:os.a.SCREENSHARE_START,memberId:Object(O.a)(this.getState()),timestampMs:Date.now()})),this.dispatch(Object(en.ob)({id:"self",tileId:ue.tileId,isScreenshareEnabled:!!ue.isContent}));else if(ue.isContent){var Tt,nt;this.dispatch(Object(Ms.c)({type:os.a.SCREENSHARE_START,memberId:Object(O.a)(this.getState()),timestampMs:Date.now()}));const Vt=Object(en.q)(this.getState());((Tt=Ae.tileIds)===null||Tt===void 0||(nt=Tt.screenshare)===null||nt===void 0?void 0:nt.tileId)!==ue.tileId&&Vt!==gs.a.Screenshare&&this.dispatch(Object(Wa.a)({peerId:"self",contentViewType:gs.a.None,contentViewConfig:{}})),this.dispatch(Object(en.ob)({id:"self",tileId:ue.tileId,isScreenshareEnabled:!!ue.isContent}))}else this.dispatch(Object(en.ob)({id:"self",tileId:ue.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(ue,Ae){if(!Ae.tileId)return;const Re=Ae.boundExternalUserId&&Object(Ba.a)(Ae.boundExternalUserId);Ae.isContent&&Re&&(this.callLogger.info(`Peer screenshare started: userId=${Re}`),this.dispatch(Object(Ms.c)({type:os.a.SCREENSHARE_START,memberId:Re,timestampMs:Date.now()}))),this.dispatch(Object(en.qb)({id:ue,tileId:Ae.tileId,isContent:Ae.isContent,isPaused:Ae.paused}))}onVideoTileRemoved(ue){var Ae,Re;const Tt=this.store.getState(),nt=Object(en.F)(Tt,ue);nt&&(this.callLogger.info(`Peer screenshare stopped: userId=${nt}`),this.dispatch(Object(Ms.c)({type:os.a.SCREENSHARE_STOP,memberId:nt,timestampMs:Date.now()}))),this.dispatch(Object(en.pb)({tileId:ue})),qs();const Vt=Object(en.V)(Tt);((Ae=Vt.tileIds)===null||Ae===void 0||(Re=Ae.screenshare)===null||Re===void 0?void 0:Re.tileId)===ue&&Vt.contentViewType===gs.a.Screenshare&&this.dispatch(Object(Wa.a)({peerId:"self",contentViewType:gs.a.None,contentViewConfig:{}}))}onVideoTileWillPause(ue){this.dispatch(Object(en.rb)({tileId:ue}))}onVideoTileWillUnpause(ue){this.dispatch(Object(en.sb)({tileId:ue}))}onDeviceAccessApproved(ue){switch(ue){case zn.i.MICROPHONE:{Object(nn.i)()?(this.dispatch(Object(Gt.c)(Gt.a.NoSystemAudio)),this.dispatch(Object(ts.k)())):(this.dispatch(Object(Gt.c)(Gt.a.NoBrowserAudioPermission)),this.dispatch(Object(ts.j)()));break}case zn.i.CAMERA:{Object(nn.i)()?(this.dispatch(Object(Gt.c)(Gt.a.NoSystemVideo)),this.dispatch(Object(ts.g)())):(this.dispatch(Object(Gt.c)(Gt.a.NoBrowserVideoPermission)),this.dispatch(Object(ts.f)()));break}default:}}onCheckSystemMediaAccess(ue){switch(ue){case zn.i.MICROPHONE:{this.dispatch(Object(ts.i)()),this.dispatch(Object(Gt.b)({alert:Gt.a.NoSystemAudio}));break}case zn.i.CAMERA:{this.dispatch(Object(ts.e)()),this.dispatch(Object(Gt.b)({alert:Gt.a.NoSystemVideo}));break}case zn.i.SCREEN:{this.dispatch(Object(ts.n)()),this.dispatch(Object(Gt.b)({alert:Gt.a.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(ue){switch(this.callLogger.error(`Self ${ue} device access denied`),ue){case zn.i.MICROPHONE:{this.dispatch(Object(ts.h)()),this.dispatch(Object(Gt.b)({alert:Gt.a.NoBrowserAudioPermission}));break}case zn.i.CAMERA:{this.dispatch(Object(ts.d)()),this.dispatch(Object(Gt.b)({alert:Gt.a.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(ue){switch(ue){case zn.i.MICROPHONE:{this.dispatch(Object(Gt.b)({alert:Gt.a.NoUserAudioStream}));break}case zn.i.CAMERA:{const Ae=Object(dr.f)(this.getState());if(Object(a.dispatchForClientStore)(Object(et.X)({setVideoEnabled:!1})),!Object(nn.i)()&&Ae)break;this.dispatch(Object(Gt.b)({alert:Gt.a.NoUserVideoStream}));break}default:}}onClearNoMediaInput(ue){switch(ue){case zn.i.MICROPHONE:{this.dispatch(Object(Gt.c)(Gt.a.NoUserAudioStream));break}case zn.i.CAMERA:{this.dispatch(Object(Gt.c)(Gt.a.NoUserVideoStream));break}default:}}onSetNoAudioOutput(ue){switch(ue){case zn.k.AUDIO_ELEMENT_ERROR:{this.dispatch(Object(Gt.b)({alert:Gt.a.NoAudioOutputAudioElementError}));break}case zn.k.AUDIO_LEVEL_ERROR:{this.dispatch(Object(Gt.b)({alert:Gt.a.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(ue){switch(ue){case zn.k.AUDIO_ELEMENT_ERROR:{this.dispatch(Object(Gt.c)(Gt.a.NoAudioOutputAudioElementError));break}case zn.k.AUDIO_LEVEL_ERROR:{this.dispatch(Object(Gt.c)(Gt.a.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch(Object(en.ob)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch(Object(en.ob)({id:"self",isConnected:!1})),ta.a.publish({type:We.a.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(ue,Ae){this.callLogger.info(`${ue} audio packet loss changed to: ${Ae}`)}onPeerConnected(ue){this.dispatch(Object(en.lb)({id:ue,isConnected:!0}))}onPeerDisconnected(ue){this.callLogger.info(`peer disconnected from chime media server ${ue}`),this.dispatch(Object(en.lb)({id:ue,isConnected:!1}))}onPeerConnectionQualityChanged(ue,Ae,Re){}onSelfMediaStreamChanged(ue){}onNewPeerMediaStream(ue,Ae){}onScreenThumbnails(ue){}onUpdatedSelfAudioLevel(ue){ra.a.publish("self",ue/Qs.a),eo.a.publish(ue/Qs.a);const Ae=this.store.getState();Object(kn.G)(Ae)&&ra.a.publishAll("self",ue/Qs.a)}onUpdatedPeerAudioLevels(ue){const Ae=this.store.getState();Object.entries(ue).forEach(Tt=>{let[nt,Vt]=Tt;ra.a.publish(nt,Vt/Qs.a)}),Object(kn.G)(Ae)&&Object.entries(ue).forEach(Tt=>{let[nt,Vt]=Tt;ra.a.publishAll(nt,Vt/Qs.a)})}onPeerCameraActive(ue,Ae){const Re=ue==="self";this.callLogger.info(`${Re?"Self":`Peer (${ue})`} camera turned ${Ae?"on":"off"}`),this.dispatch(Object(en.ob)({id:ue,isCameraEnabled:Ae}))}onPeerScreenShareActive(ue,Ae){const Re=ue==="self";this.callLogger.info(`${Re?"Self":`Peer (${ue})`} screenshare ${Ae?"started":"stopped"}`)}onPeerDrawMessage(ue,Ae){vs.a.publish({id:ue,...Ae})}onPeerDrawEnabled(ue,Ae){this.dispatch(Object(en.ob)({id:ue,isDrawEnabled:Ae}))}onMediaStats(ue,Ae){this.dispatch(tt({stats:ue,callId:Ae}))}onAppMetrics(ue){let{appMetrics:Ae,clientMetricReport:Re,screenshareRtcStats:Tt}=ue;const nt=Object(he.a)({state:this.getState(),appMetrics:Ae});ta.a.publish({type:We.a.AppMetrics,update:{huddleStateSnapshot:nt,clientMetricReport:Re,screenshareRtcStats:Tt}})}onDevicesUpdated(ue){this.dispatch(Object(ts.a)(ue))}onOutputDeviceChanged(ue){this.callLogger.info(`Self audio output device changed: device: ${ue.id}`),this.dispatch(Object(ts.o)(ue))}onDeviceTypeBlocked(ue){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(ea()),this.dispatch(Object(pa.c)({focusKey:ba.c.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch(Object(pa.c)({focusKey:ba.c.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){ta.a.publish({type:We.a.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){ta.a.publish({type:We.a.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){ta.a.publish({type:We.a.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){ta.a.publish({type:We.a.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(Zt.w)}onStart(){this.recordTiming(Zt.u)}onAudioVideoDidStart(){this.recordTiming(Zt.v),Object(a.dispatchForClientStore)(Object(et.G)(Date.now()))}onAudioVideoDidStop(){const ue=Object(a.getClientStoreInstance)(),Ae=Object(xn.q)(ue==null?void 0:ue.getState()),Re=Date.now(),Tt=Re-Ae;Object(a.dispatchForClientStore)(Object(et.F)(Re)),Object(a.dispatchForClientStore)(Object(et.E)(Tt))}onInit(){this.recordTiming(Zt.y)}onVoiceFocusLoaded(){const ue=Object(mt.d)({state:this.store.getState()}),Ae=ue.measure(Zt.D,Zt.C);ue.count(Zt.C,Ae),this.recordTiming(Zt.B)}onVoiceFocusStartLoading(){Object(mt.d)({state:this.store.getState()}).mark(Zt.D)}recordTiming(ue){const Ae=Object(mt.d)({state:this.store.getState()}),Re=Ae.measure(Zt.p,ue);return Ae.count(ue,Re),Re}onMeetingEvents(ue,Ae,Re,Tt,nt,Vt,ut){this.dispatch(ia({events:nt,callId:Tt,meetingId:ue,mediaRegion:Ae,attendeeId:Re,isUnloading:Vt,isEnding:ut}))}onMaybeVoiceFocusInitialized(ue){const Re=Object(mt.d)({state:this.store.getState()}).measure(Zt.d,Zt.f);Object(a.dispatchForClientStore)(Object(et.ab)({metrics:{voiceFocusInitializedTime:ue,credentialsToVoiceFocusInitializedTime:Re}}))}onScreenShareError(ue){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${ue}`),ue){case zn.m.NOT_FOUND_ERROR:{this.dispatch(Object(Gt.b)({alert:Gt.a.SSNotFoundError}));break}case zn.m.NOT_READABLE_ERROR:{this.dispatch(Object(Gt.b)({alert:Gt.a.SSNotReadableError}));break}case zn.m.ERROR:{this.dispatch(Object(Gt.b)({alert:Gt.a.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch(Object(Gt.b)({alert:Gt.a.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(ue){this.dispatch(da(ue))}setSelfAttendeeId(ue){this.selfAttendeeId=ue}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(Zt.x),Object(a.dispatchForClientStore)(Object(et.ab)({metrics:{firstPresenceTime:this.firstPresenceTimeMs}})))}onAudioInputTrackMuted(){this.dispatch(Object(Gt.b)({alert:Gt.a.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch(Object(Gt.c)(Gt.a.AudioInputTrackMuted))}onJukeboxRequest(ue){if(!Object(kn.G)(this.getState()))return;const Re=this.isDj(),nt=Object(ur.T)(this.getState())[ue];!Re||!nt||(Object(a.dispatchForClientStore)(Object(et.M)({song:nt})),Object(a.dispatchForClientStore)(Object(et.K)({song:nt})),Object(a.dispatchForClientStore)(Object(et.p)(nt)))}onJukeboxStopRequest(){!Object(kn.G)(this.getState())||!this.isDj()||(Object(a.dispatchForClientStore)(Object(et.Q)()),Object(a.dispatchForClientStore)(Object(et.K)({song:void 0})))}isDj(){var ue;const Ae=Object(O.a)(this.getState()),Re=Object(a.getClientStoreInstance)(),Tt=(ue=Object(xn.p)(Re==null?void 0:Re.getState()))===null||ue===void 0?void 0:ue.callId,nt=Object(Ts.g)(this.getState(),{callId:Tt}),Vt=Object(Ts.g)(this.getState(),{callId:Tt,userId:Ae});return!nt||!!Vt}maybeRemoveUserAsPending(ue){const Ae=Object(a.getClientStoreInstance)(),Re=Object(xn.a)(Ae==null?void 0:Ae.getState());Re&&this.dispatch(Object(to.B)({callId:Re,userId:ue}))}onContentShareDetailsUpdate(ue,Ae,Re){this.dispatch(Object(en.ob)({id:ue,isDrawEnabled:Ae,contentShareSource:Re}))}constructor(ue){this.firstPresenceTimeMs=0,this.callLogger=Object(Mn.a)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=ue.dispatch,this.getState=ue.getState,this.store=ue}},"HuddleActionDispatcher");var po=e("uslK"),bo=e("cthg"),Io=e("g6/Y");let xt,no,$s;const hr="HUDDLE-SDK",fr="HUDDLE-CLIENT-MIDDLEWARE",vr=zn.o.FastSwitching,Ks=Object(j.b)({label:fr}),To=h(Se=>{Se.id==="self"&&(xt==null||xt.sendDrawMessage(Se))},"onPeerDrawPublish");function so(Se,ue,Ae,Re){const Tt=Object(xn.a)(Se),nt=Object(xn.e)(Se),Vt=nt?Object(a.getStoreInstanceByTeamId)(nt):void 0,ut=Vt?Vt.getState():void 0,un=ut?Object(O.a)(ut):void 0;Tt&&un&&(Vt==null||Vt.dispatch(ue({user:un,channel:Tt,fieldValue:Ae,experimentHuddlesMultiDeviceGroupOn:Re})))}h(so,"maybeDispatchAwarenessUpdate");function Ta(Se,ue,Ae){const Re=Object(xn.a)(Se),Tt=Object(xn.e)(Se),nt=Tt?Object(a.getStoreInstanceByTeamId)(Tt):void 0,Vt=nt?nt.getState():void 0,ut=Vt?Object(O.a)(Vt):void 0;Re&&ut&&(nt==null||nt.dispatch(ue({user:ut,channel:Re,experimentHuddlesMultiDeviceGroupOn:Ae})))}h(Ta,"maybeDispatchAwarenessRemove");const Co=Object(i.b)("dispatches actions to huddles SDK",(Se,ue,Ae)=>{const Re=Se.getState(),Tt=h(()=>{const on=Object(xn.e)(Re),Sn=Object(a.getStoreInstanceByTeamId)(on);if(!Sn)return{};const yn=Sn==null?void 0:Sn.getState();if(!yn)return{};const Vn=Object(en.V)(yn)||{};return{huddlesVideoActive:Object(en.u)(yn),self:Vn}},"getIsHuddlesVideoActive");switch(Ae.type){case et.U.getType():{var nt;const on=Ae.payload;no=on==null||(nt=on.audioOutputRef)===null||nt===void 0?void 0:nt.current,is.a.getInstance().init();break}case et.P.getType():{const{huddlesVideoActive:on,self:Sn}=Tt();xt&&xt.hasSession()&&(on?xt.selfVideoEnabled(!0,!!(Sn!=null&&Sn.isScreenshareEnabled)):xt.selfVideoEnabled(!0,!1));break}case et.T.getType():{const{huddlesVideoActive:on,self:Sn}=Tt();xt&&xt.hasSession()&&(on?xt.selfVideoEnabled(!1,!!(Sn!=null&&Sn.isScreenshareEnabled)):xt.selfVideoEnabled(!1,!1));break}case et.e.getType():{Ks.info("BOOT","user agent:",navigator.userAgent);const on=Ae.payload;let Sn=on.isStartMuted;if(!no){Ks.error("Missing audio output element");return}const{server:yn,roomId:Vn}=on.callResult,$n=yn.attendee.AttendeeId,wn=on.waitForHuddleStart,ds=on.isPrejoin;Object(a.dispatchForClientStore)(Object(et.x)(ds));const Us=ds?Object(xn.p)(Re):Object(xn.c)(Re),{teamId:uo}=Us||{},Zs=Object(l.getFocusedWorkspace)(Re),Hn=Object(a.getStoreInstanceByTeamId)(uo||Zs);let Va;Hn&&(Va=Object(kn.G)(Hn.getState()),Ks.info("client-huddles-middleware: Dispatching resetPeersStore"),Hn.dispatch(Object(en.gb)({huddlesVideoActive:!0})),Sn=Sn||Object(_s.t)(Hn.getState(),"huddles_mute_by_default")),Hn&&Sn&&(Ks.info("Start huddle as muted as specified in user prefs"),Hn.dispatch(Object(en.ob)({id:"self",isMicrophoneEnabled:!1}))),$s&&$s.stop(!0),Object(ns.b)(Zs),$s=new cs.a,$s.start(Vn);const mo=Object(hn.a)();mo.then(Xs=>{Xs&&(Ks.info("Log reporter stopped"),$s==null||$s.stop(!0,!1),$s=void 0)});const ya=new mr(Hn),{ttiTrace:na}=Object(Cs.a)().getAllTraceHandlers();xt=new Un.a(ya,no,hr,vr),Object(Yn.c)({name:Yn.a.HuddlesSdk,ref:xt});const fs={serverConfig:Object(hn.a)(),userGrantedPermissionToJoin:rn.a.resolve(!0),useChimeSdkExp:Object(hn.a)(),useVoiceFocus:Object(hn.a)(),shouldPreventVoiceFocusAutoDisable:Object(hn.a)(),audioContextLatencyHint:Object(hn.a)(),useSimulcast:rn.a.resolve(!1),usePriorityDownlinkPolicy:Object(hn.a)(),singleAppShareEnabled:rn.a.resolve(!0),useGetMediaAccessCheckForWindows:rn.a.resolve(!1),isPrejoin:rn.a.resolve(ds),backgroundVideoFilteringSetting:Object(hn.a)(),huddlesVideoEnabled:rn.a.resolve(!0),huddlesJukeboxEnabled:rn.a.resolve(Va),screenshareAutoKeyframesDisabled:Object(hn.a)(),enableExperimentalConnectionHealthPolicyConfig:Object(hn.a)(),backgroundBlur2Enabled:Object(hn.a)(),voiceFocusMaxModelsEnabled:Object(hn.a)(),micMeterPolicy:Object(hn.a)(),useUpdatedAudioLevelMonitor:Object(hn.a)(),applyPrejoinNoAudioFix:Object(hn.a)(),applyAudioInitFix:Object(hn.a)(),disableAudioRedundancy:Object(hn.a)(),useDeviceManagerV2:Object(hn.a)()};fs.serverConfig.resolve({...yn,transportProtocols:Os(Hn.getState())});const ho=Object(Ls.a)(yn.attendee.ExternalUserId);fs.useChimeSdkExp.resolve(Hn?Object(Is.b)(Hn.getState()):!1),fs.usePriorityDownlinkPolicy.resolve(!Object(nn.m)()&&Hn?Object(kn.L)(Hn.getState()):!1),fs.useVoiceFocus.resolve(Hn?Object(Is.c)(Hn.getState()):!1),fs.shouldPreventVoiceFocusAutoDisable.resolve(Hn?Object(kn.ab)(Hn.getState()):!1),fs.audioContextLatencyHint.resolve(Hn?Object(kn.c)(Hn.getState()):void 0),fs.backgroundVideoFilteringSetting.resolve(Hn?Es.a.Both:Es.a.NONE),fs.screenshareAutoKeyframesDisabled.resolve(Hn?Object(kn.P)(Hn.getState()):!1),fs.enableExperimentalConnectionHealthPolicyConfig.resolve(Hn?Object(kn.y)(Hn.getState()):!1),fs.voiceFocusMaxModelsEnabled.resolve(Hn?Object(kn.V)(Hn.getState()):!1),fs.micMeterPolicy.resolve(Hn?Object(kn.b)(Hn.getState()):void 0),fs.useUpdatedAudioLevelMonitor.resolve(Hn?Object(kn.U)(Hn.getState()):!1),fs.applyPrejoinNoAudioFix.resolve(Hn?Object(kn.K)(Hn.getState()):!1),fs.applyAudioInitFix.resolve(Hn?Object(kn.j)(Hn.getState()):!1),fs.disableAudioRedundancy.resolve(Hn?Object(kn.k)(Hn.getState()):!1),fs.useDeviceManagerV2.resolve(Hn?Object(kn.w)(Hn.getState()):!1);const fo=[],ka=uo||Zs;if(ho&&ka){const Xs=new As.a({teamId:ka,peerId:$n,topicId:ho,isHuddlesAwarenessTimestampEnabled:Object(kn.u)(Hn.getState())});fo.push(Xs);const ir=new As.b({teamId:ka});fo.push(ir),As.d.watch(ka,ho,Xs),Object(Yn.c)({name:Yn.a.ChimeChannelListener,ref:ir}),Object(Yn.c)({name:Yn.a.ChimeChannelBroadcaster,ref:Xs})}xt.initialize(fs,[zn.i.MICROPHONE],!!Sn,wn,mo,fo).then(()=>{const Xs=xt==null?void 0:xt.getMeetingMediaRegion();na==null||na.setMediaRegionTag(Xs),ta.a.publish({type:We.a.SelectedMediaRegion,update:{mediaRegionSelected:Xs}}),xt&&!ds&&(xt==null||xt.maybeBindAudioOutputElement(),xt==null||xt.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),ya.setSelfAttendeeId($n),vs.a.subscribe(To),Ks.info("User started huddle");break}case et.f.getType():{const on=Ae.payload;if(xt){const{waitForHuddleEnd:Sn}=on;xt.shutdown(()=>{Sn.resolve()});const yn=Object(l.getFocusedWorkspace)(Re),Vn=Object(a.getStoreInstanceByTeamId)(yn);Vn==null||Vn.dispatch(Object(es.i)(es.a.SpeakingWhenMuted));const $n=Object(kn.F)(Vn==null?void 0:Vn.getState()),wn=Object(xn.a)(Re);wn&&(Ta(Re,ls.e,$n),Ta(Re,ls.d,$n),As.d.unwatch(wn)),vs.a.unsubscribe(To),Ks.info("User left huddle")}xt=void 0,As.d.unwatchAll(),Object(Yn.b)();break}case et.g.getType():{const on=Ae.payload;if(xt&&xt.hasSession()&&(xt.selfMicrophoneEnabled(on),on)){const Sn=Object(l.getFocusedWorkspace)(Re),yn=Object(a.getStoreInstanceByTeamId)(Sn);yn==null||yn.dispatch(Object(es.i)(es.a.SpeakingWhenMuted))}break}case et.r.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.sendReacji(on.emoji,on.reactionType);break}case et.s.getType():{const on=Ae.payload;if(xt&&xt.hasSession()){const Sn=Object(xn.e)(Re),yn=Object(a.getStoreInstanceByTeamId)(Sn);if(!yn)return;const Vn=Object(kn.F)(yn.getState()),$n=Object(xn.a)(Re),wn=Object(O.a)(yn.getState());if($n){var Vt;if(((Vt=Object(Ts.d)(yn.getState(),$n,wn,Vn?"self":void 0))===null||Vt===void 0?void 0:Vt.field_value)===on)Ta(Re,ls.e,Vn),Object(xn.j)(Re)&&on!=="speaker"&&(yn==null||yn.dispatch(Object(Io.a)({emoji:"speaker",reactionType:gs.d.Sticker})));else{so(Re,ls.k,on,Vn);const{huddleEventsTrace:Us}=Object(Cs.a)().getAllTraceHandlers();Us==null||Us.update({name:ys.a.REACTION,type:ys.b.ONCE,tags:{reactionType:gs.d.Sticker}})}}}break}case et.q.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.sendMuteRequest(on);break}case et.t.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.setAGC(on);break}case et.H.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.setNewPreferredDevice(on==null?void 0:on.id,on==null?void 0:on.type);break}case et.I.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.setNoiseSuppression(on);break}case et.L.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.setVideoBackgroundEffect(on);break}case et.N.getType():{const{huddlesVideoActive:on,self:Sn}=Tt(),yn=Ae.payload,Vn=!!(Sn!=null&&Sn.isCameraEnabled);if(xt&&xt.hasSession()){var ut,un;const $n=Object(xn.e)(Re),wn=Object(a.getStoreInstanceByTeamId)($n);on?xt.selfVideoEnabled(Vn,!0,yn==null?void 0:yn.mediaSourceId,yn):xt.selfVideoEnabled(!1,!0,yn==null?void 0:yn.mediaSourceId,yn);let ds=(yn==null||(ut=yn.mediaSourceId)===null||ut===void 0?void 0:ut.startsWith("screen:"))||!1;!(yn==null||(un=yn.mediaSourceId)===null||un===void 0)&&un.startsWith("window:")&&Object(po.d)()&&(ds=!0),xt.selfDrawEnabled(Object(Ds.a)()&&ds);const Us=Object(po.b)((yn==null?void 0:yn.mediaSourceId)||"");xt.sendContentShareDetails(Us),wn==null||wn.dispatch(Object(en.ob)({id:"self",isDrawEnabled:ds,isCameraEnabled:Vn,contentShareSource:Us}))}break}case et.R.getType():{const{huddlesVideoActive:on,self:Sn}=Tt(),yn=on?Sn.isCameraEnabled:!1;if(xt&&xt.hasSession()){const Vn=Object(xn.e)(Re),$n=Object(a.getStoreInstanceByTeamId)(Vn);xt.selfVideoEnabled(!!yn,!1),$n==null||$n.dispatch(Object(en.ob)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case ts.b.getType():return xt&&xt.hasSession()?xt.getScreenThumbnails():rn.a.resolve(null);case et.V.getType():{const on=Ae.payload;if(xt&&xt.hasSession()){var Tn;const Sn=Object(xn.e)(Re),yn=Object(a.getStoreInstanceByTeamId)(Sn);if(!yn)return;const Vn=Object(kn.F)(yn.getState()),$n=Object(xn.a)(Re),wn=Object(O.a)(yn.getState());if(!$n)return;const ds=(Tn=Object(Ts.d)(yn.getState(),$n,wn,Vn?"self":void 0))===null||Tn===void 0?void 0:Tn.field_value;return(on||ds==="speaker")&&Object(a.dispatchForClientStore)(Object(Io.a)({emoji:"speaker",reactionType:gs.d.Sticker})),xt.toggleAllIncomingVideo(on)}return rn.a.resolve(null)}case et.p.getType():{const on=Ae.payload;if(xt&&xt.hasSession()){const Sn=Object(xn.e)(Re);if(!Object(a.getStoreInstanceByTeamId)(Sn))return;Object(xn.a)(Re)&&so(Re,ls.h,on.key)}break}case et.m.getType():{const on=Ae.payload;xt&&xt.hasSession()&&xt.sendJukeboxRequest(on.key);break}case et.n.getType():{xt&&xt.hasSession()&&xt.sendJukeboxStopRequest();break}case et.M.getType():{const on=Ae.payload;if(xt&&xt.hasSession()){const Sn=Object(xn.e)(Re),yn=Object(a.getStoreInstanceByTeamId)(Sn);if(!Object(kn.G)(yn.getState()))return;xt.startContentShareJukebox({song:on.song})}break}case et.Q.getType():{if(xt&&xt.hasSession()){const on=Object(xn.e)(Re),Sn=Object(a.getStoreInstanceByTeamId)(on);if(!Sn||!Object(kn.G)(Sn.getState()))return;xt.selfStopJukebox(),Ta(Re,ls.b)}break}case ts.c.getType():{if(xt&&xt.hasSession()){const on=Ae.payload.mediaResourceType;return xt.maybeCheckSystemMediaAccess(on)}return rn.a.resolve(null)}case ss.a.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:on,videoRef:Sn,shouldAttachStream:yn}}=Ae;xt.bindVideo(on,Sn.current,yn)}break}case ss.c.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:on,videoRef:Sn,shouldDetachStream:yn}}=Ae;xt.unbindVideo(on,Sn.current,yn)}break}case ss.b.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:on}}=Ae;xt.pauseVideo(on)}break}case ss.d.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:on}}=Ae;xt.unpauseVideo(on)}break}case et.X.getType():{const on=Ae.payload;if(xt&&xt.hasSession()){const Sn=Object(xn.e)(Re),yn=Object(a.getStoreInstanceByTeamId)(Sn),Vn=yn==null?void 0:yn.getState();if(!yn){Ks.info("client-huddles-middleware","no team store found when user toggles video");return}if(!Vn){Ks.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:$n}=Tt(),wn=Object(en.V)(Vn);let ds;(on==null?void 0:on.setVideoEnabled)!==void 0?ds=on.setVideoEnabled:ds=!(wn!=null&&wn.isCameraEnabled),ds?(Ks.info("client-huddles-middleware","user toggling ON video"),xt.setCameraQuality(...Object(Ss.e)()),$n?xt.maybeEnableSelfCamera({isScreenshareEnabled:wn.isScreenshareEnabled}):xt.maybeEnableSelfCamera()):(Ks.info("client-huddles-middleware","user toggling OFF video"),$n?xt.selfVideoEnabled(!1,!!(wn!=null&&wn.isScreenshareEnabled)):xt.selfVideoEnabled(!1,!1),yn.dispatch(Object(en.ob)({id:"self",isCameraEnabled:!1})))}break}case ss.e.getType():{if(xt&&xt.hasSession()){const{payload:{tileId:on}}=Ae;return(xt==null?void 0:xt.videoTileHasStream(on))||!1}return rn.a.resolve(!1)}case en.bb.getType():{const{huddlesVideoActive:on,self:Sn}=Tt();xt&&Ae.payload.isContent&&(on?xt.selfVideoEnabled(!!(Sn!=null&&Sn.isCameraEnabled),!1):xt.selfVideoEnabled(!1,!1));break}case et.h.getType():{xt!=null&&xt.hasSession()&&(xt==null||xt.initVideoPermission());break}case et.O.getType():{if(xt!=null&&xt.hasSession()){const{videoElement:on,deviceId:Sn}=Ae.payload;xt.stopVideoPreviewForVideoInput(on),xt.setCameraQuality(...Object(Ss.e)()),xt.requestPreviewStreamForDeviceId(Sn,Es.b.Camera,on)}break}case et.S.getType():{if(xt!=null&&xt.hasSession()){const on=Ae.payload;xt.stopVideoPreviewForVideoInput(on)}break}case et.j.getType():{const{self:on}=Tt();if(xt&&xt.hasSession()){const Sn=(on==null?void 0:on.contentShareSource)||bo.a.Unknown;if(Sn!==bo.a.Unknown){const yn=(on==null?void 0:on.isDrawEnabled)||!1;xt.selfDrawEnabled(Object(Ds.a)()&&yn),xt.sendContentShareDetails(Sn);const Vn=Object(a.getStoreInstanceByTeamId)(Ae.payload.teamId);Vn==null||Vn.dispatch(Object(en.ob)({id:"self",isDrawEnabled:yn}))}}break}case et.k.getType():{const on=Ae.payload.isHostDrawEnabled,Sn=Object(a.getStoreInstanceByTeamId)(Ae.payload.teamId);Sn==null||Sn.dispatch(Object(en.ob)({id:"self",isHostDrawEnabled:on}));break}case et.l.getType():{xt==null||xt.handleClientOffline();break}case et.Y.getType():{const on=Ae.payload,{isStartMuted:Sn}=on,{teamId:yn}=Object(xn.c)(Re)||{},Vn=Object(l.getFocusedWorkspace)(Re),$n=Object(a.getStoreInstanceByTeamId)(yn||Vn),{ttiTrace:wn}=Object(Cs.a)().getAllTraceHandlers();if(wn==null||wn.setMediaRegionTag(xt==null?void 0:xt.getMeetingMediaRegion()),$n&&Sn&&xt)return xt.completePrejoin(on).then(()=>{$n.dispatch(Object(en.ob)({id:"self",isMicrophoneEnabled:!1}))});if(xt)return xt.completePrejoin({});break}case et.w.getType():{const on=Ae.payload.contentViewType,Sn=Ae.payload.contentViewConfig;if(xt&&xt.hasSession()&&Object(xn.a)(Re)){var Kn;const Vn=Object(xn.e)(Re),$n=Object(a.getStoreInstanceByTeamId)(Vn);if(!$n)return;const wn=Object(kn.F)($n.getState());if(on!==gs.a.Screenshare)Ta(Re,ls.d,wn);else if(!(Sn==null||(Kn=Sn.item)===null||Kn===void 0)&&Kn.id){let ds;if(Sn.item.id==="self")ds=Object(O.a)($n.getState());else{var rs;ds=(rs=Object(en.P)($n.getState(),Sn.item.id))===null||rs===void 0?void 0:rs.userId}so(Re,ls.j,ds,wn)}}break}default:return ue(Ae)}return null});Co.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};var Or=Co;Object.defineProperty({huddlesSdk:xt},"huddlesSdk",{get:()=>xt,set:Se=>{xt=Se}});var Er=e("Pyy/"),_o=e("mLC8"),So=e("VYSP"),Mo=e("ZKjC"),Fa=e("G5NC");const yo=Object(Mo.b)(Se=>{const ue={};let Ae;if(Object(Fa.a)())Ae=Object(l.getAllWorkspaces)(Se)||[];else{const Re=Object(an.g)(Se);Ae=Re?[Re]:[]}return Ae.forEach(Re=>{var Tt;const nt=(Tt=Object(a.getStoreInstanceByTeamId)(Re))===null||Tt===void 0?void 0:Tt.getState();if(!nt)return;const Vt=Object(Zn.a)(nt,"auto_traces_override_");Object.entries(Vt).forEach(ut=>{let[un,Tn]=ut;const Kn=/^auto_traces_override_(.+)/.exec(un);if(Kn){const[,rs]=Kn,on=Tn==null?void 0:Tn.group;if(!on)return;ue[rs]||(ue[rs]=[]),ue[rs].push(on)}})}),ue});yo.meta={name:"createSelector",key:"createSelectorgetAutoTraceOverrides",description:Se=>{const ue={};let Ae;if(Object(Fa.a)())Ae=Object(l.getAllWorkspaces)(Se)||[];else{const Re=Object(an.g)(Se);Ae=Re?[Re]:[]}return Ae.forEach(Re=>{var Tt;const nt=(Tt=Object(a.getStoreInstanceByTeamId)(Re))===null||Tt===void 0?void 0:Tt.getState();if(!nt)return;const Vt=Object(Zn.a)(nt,"auto_traces_override_");Object.entries(Vt).forEach(ut=>{let[un,Tn]=ut;const Kn=/^auto_traces_override_(.+)/.exec(un);if(Kn){const[,rs]=Kn,on=Tn==null?void 0:Tn.group;if(!on)return;ue[rs]||(ue[rs]=[]),ue[rs].push(on)}})}),ue}};var gr=yo,hs=e("4d+W");const Do=Object(sn.c)("setAutoTracerMetaTagProviderAndOverrides side effect handler",(Se,ue,Ae)=>{if(!_o.d.isEnabled())return;const Re=h(Vt=>Vt?Object(So.b)(Vt):{},"metatagProvider"),Tt=ue(),nt=gr(Tt);_o.d.addMetaTagProviderAndOverrides({metatagProvider:Re,overrides:nt})});Do.meta={name:"createThunk",key:"createThunksetAutoTracerMetaTagProviderAndOverrides",description:"setAutoTracerMetaTagProviderAndOverrides side effect handler"};const pr=Object(hs.a)([C.setDidBootAllWorkspaces],Do);var br=e("WCk1");const Ao=Object(Mo.b)(Se=>Se&&Se.persistedApiCalls);Ao.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:Se=>Se&&Se.persistedApiCalls};var Ir=e("yTTx"),Tr=e("Ba7O");const ao="OFFLINE",oo=Object(br.a)("Replay persisted API calls",function(Se,ue){let Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ao(ue());const Re=ue();if(!Object(Tr.a)(Re)||Object(qn.a)(Ae))return;const Tt=Object(j.a)({state:Re});Tt.info(ao,"replayPersistedApiCalls called after workspace booted");const nt=Object.keys(Ae).sort().map(Vt=>Ae[Vt]);rn.a.each(nt,Vt=>Se(Object(Ia.apiCall)(Vt)).catch(ut=>{Tt.error(ao,`Error replaying ${Vt.method} (${Vt.persistKey})`,ut)}).finally(()=>{Tt.info(ao,`Clearing persisted payload for ${Vt.method} (${Vt.persistKey})`),Se(Object(Ir.a)(Vt.persistKey))}))});oo.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},oo.propTypes=S.default.object;const jo=Object(sn.c)("triggerReplayPersistedApiCalls",(Se,ue,Ae)=>{const Re=Ae.payload;Object(a.dispatchForTeamId)(Re,oo())});jo.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const Cr=Object(hs.a)([C.setWorkspaceBooted],jo);var ro=e("opHY"),_r=e("Plsj");const Sr="DESKTOP-SIDE-EFFECT",Po=Object(sn.c)("logUpdateFromDesktop",(Se,ue,Ae)=>{Object(j.b)().info(Sr,"Update from desktop for keys ",Object.keys(Ae.payload))});Po.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const Mr=Object(hs.a)([ro.n],Po),Ro=Object(sn.c)("maybeHandleWindowFocusEvent",(Se,ue,Ae)=>{Object(Fa.a)()&&Ae.payload&&Ae.payload.windows&&Se(Object(_r.a)({isFocused:document.hasFocus()}))});Ro.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const yr=Object(hs.a)([ro.n],Ro);var io=e("ykb+"),xa=e("g8rC"),Dr=e("aNqa");const Lo=Object(sn.c)("maybeDisableDebugger side effect handler",()=>{if(Object(io.g)()||Object(io.b)()||Object(io.f)())return;const Se=Object(a.getStateForClientStore)();if(Object(Dr.a)(Se,"feature_tinyspeck")&&!Object(xa.a)(Se,"disable_tinyspeck_slackdebug_enforcement","treatment")){Object(Ie.g)();return}Object(Ie.e)()||Object(Ie.f)()});Lo.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const Ar=Object(hs.a)([C.setDidBootAllWorkspaces],Lo);var Ca=e("ZbzB"),jr=e("GYPw"),Pr=e("oTSI");Object(Pr.a)(()=>{if(Object(Ca.a)())try{window.matchMedia(jr.e).onchange=Se=>{const ue=Object(a.getClientStoreInstance)();ue&&ue.dispatch(Object($.k)(Se.matches))}}catch(Se){Object(j.b)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",Se)}})();const Uo=Object(sn.c)("maybeUpdateShouldUseHighContrastColors",(Se,ue,Ae)=>{if(!Object(Ca.a)()&&Object(Ca.c)()){var Re,Tt;const nt=Ae==null||(Re=Ae.payload)===null||Re===void 0||(Tt=Re.settings)===null||Tt===void 0?void 0:Tt.shouldUseHighContrastColors;nt!==void 0&&Se(Object($.k)(nt))}});Uo.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const Rr=Object(hs.a)([ro.n],Uo);function Lr(){return!!(navigator&&navigator.serviceWorker&&navigator.serviceWorker.controller)}h(Lr,"isServiceWorkerActive");function Ur(Se){if(Lr()){var ue,Ae;navigator==null||(ue=navigator.serviceWorker)===null||ue===void 0||(Ae=ue.controller)===null||Ae===void 0||Ae.postMessage({type:"self_profiling",enabled:Se})}}h(Ur,"notifyWorker");const No=Object(sn.c)("setExperimentSelfProfiling side effect handler",(Se,ue,Ae)=>{const Re=ue(),Tt=Object(xa.a)(Re,"self_profiling","enabled"),nt=Object(xa.a)(Re,"self_profiling","disabled");if(!Tt&&!nt)return;Ur(!nt&&Tt)});No.meta={name:"createThunk",key:"createThunksetExperimentSelfProfiling",description:"setExperimentSelfProfiling side effect handler"};const Nr=Object(hs.a)([C.setDidBootAllWorkspaces],No);var Br=e("ycWl"),Ka=e("fUOF"),Qn=e("ML5/"),Wr=e("shU/");function Fr(Se,ue){const Ae=Object.values(Object(a.getStoreInstanceMap)());for(const Re of Ae){const Tt=Re.getState(),nt=Object(Zn.c)(Tt,Se);nt&&nt.log_exposures&&ue===nt.group&&Object(Wr.a)(Se,nt,Tt)}}h(Fr,"logExposuresForSession");function Bo(Se,ue){if(Object(Qn.c)(Se),ue)try{ue()}catch(Ae){Object(j.b)().error(`caught error from cleanupCallback: ${Ae}`)}}h(Bo,"rollbackToggle");function _a(Se,ue){const Ae=Object(Qn.b)(Se),Re=Wo(Se,Ae);if(Ae===null&&Re!==Qn.a.NoGroup){Object(Qn.d)(Se,Re);return}Re===Qn.a.NoGroup?Ae===Qn.a.Treatment||Ae===Qn.a.On?(Bo(Se,ue),Object(Br.a)({reason:`Rolling back ${Se} toggle`,reasonKey:`rollback_${Se}_toggle`})):(Ae===Qn.a.Control||Ae===Qn.a.Off)&&Bo(Se,ue):Re!==Ae?Object(Qn.d)(Se,Re):Re===Ae&&Fr(Se,Ae)}h(_a,"setToggleGroupForNextSession");function Wo(Se,ue){const Ae=Object(Ka.a)(Se,Qn.a.Treatment,!1),Re=Object(Ka.a)(Se,Qn.a.Control,!1),Tt=Object(Ka.a)(Se,Qn.a.On,!1),nt=Object(Ka.a)(Se,Qn.a.Off,!1);return Ae&&Re?ue===Qn.a.Treatment?Qn.a.Treatment:ue===Qn.a.Control?Qn.a.Control:Math.random()<.5?Qn.a.Treatment:Qn.a.Control:Tt&&nt?ue===Qn.a.On?Qn.a.On:ue===Qn.a.Off?Qn.a.Off:Math.random()<.5?Qn.a.On:Qn.a.Off:Ae?Qn.a.Treatment:Re?Qn.a.Control:Tt?Qn.a.On:nt?Qn.a.Off:Qn.a.NoGroup}h(Wo,"getCurrentToggleGroup");const _i={getCurrentToggleGroup:Wo};Object(Ie.a)("setToggleGroupForNextSession",Se=>_a(Se));var xr=e("hhWw"),Kr=e("PKSC"),Fo=e("SjsT"),Hr=e("ATdw"),Vr=e("vHQE");const kr=h(()=>{try{Fo.a.deleteDatabase()}catch(Se){Fo.a.getLogger().error(`caught error from deleteDatabase: ${Se}`)}},"objectStoreCallback"),xo=Object(sn.c)("setToggleGroupsForNextSession",(Se,ue,Ae)=>{_a(xr.a,kr),_a(Kr.a),_a(Hr.a),_a(Vr.a)});xo.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const Gr=Object(hs.a)([C.setDidBootAllWorkspaces],xo);var Ko=e("Aqb/"),zr=e("1Np4");const Ho=Object(sn.c)("recordExperimentGroupsAsTrace side effect handler",(Se,ue,Ae)=>{const Re=Object(a.getStateForClientStore)(),Tt=Object(l.getBootedWorkspaces)(Re)||[];try{const nt=Ko.a.ALWAYS;Tt.forEach(Vt=>{const ut=Object(a.getStateByTeamId)(Vt),un=Object(So.a)(ut),Tn=JSON.stringify(un),Kn=Object(zr.a)({state:ut}),rs=Kn.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:Tn}},samplingOptions:{sampleType:nt}});rs.close(),Kn.reportSpans([rs])})}catch(nt){Object(j.b)().warn("BOOT-TEAM","could not report experiment groups in trace",nt)}});Ho.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const Yr=Object(hs.a)([C.setDidBootAllWorkspaces],Ho);var Sa=e("PWAB"),Qr=e("53Bt"),$r=e("hHne"),wr=e("bYrq"),Zr=e("rZ8V");const Vo=Object(sn.c)("restorePersistedTiles",(Se,ue,Ae)=>{if(Object(wr.a)())return;const Re=Ae.payload;if(!Object(Zr.o)(Object(a.getStateByTeamId)(Re)))try{const Tt=Object(y.h)(Re,Sa.a.TILES)||!1;if(Tt){const nt=Object(y.h)(Re,Sa.a.LAYOUT)||[],Vt=Object(y.h)(Re,Sa.a.ACTIVE_TILE)||null,ut=Object(y.h)(Re,Sa.a.MINIMIZED_LAYOUT)||[],un=Object(y.h)(Re,Sa.a.HISTORY)||{},Tn={tiles:Tt,layout:nt,activeTile:Vt,minimizedLayout:ut},Kn=un;Object(a.dispatchForTeamId)(Re,Object(Qr.a)({tilesState:Tn})),Object(a.dispatchForTeamId)(Re,Object($r.a)({tileHistoryState:Kn})),Re===Object(l.getFocusedWorkspace)(ue())&&window.history.replaceState({tileState:Tn,tileHistoryState:Kn},"")}}catch{}});Vo.meta={name:"createThunk",key:"createThunkrestorePersistedTiles",description:"restorePersistedTiles"};const Xr=Object(hs.a)([C.setWorkspaceBooted],Vo);var Jr=e("mwr9");const ko=Object(sn.c)("maybeToggleGlobalMuteShortcutHandler",(Se,ue,Ae)=>Object(Jr.a)(Ae.payload));ko.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const qr=Object(hs.a)([et.W],ko);var ei=e("rH7J"),ti=e("Jc4w");const Go=Object(sn.c)("Transition the up_to_browse_kb_shortcut user pref to the new client pref",(Se,ue)=>{var Ae;const Re=ue(),Tt=Object(l.getFocusedWorkspace)(Re),nt=Object(a.getStoreInstanceByTeamId)(Tt),Vt=nt==null||(Ae=nt.getState)===null||Ae===void 0?void 0:Ae.call(nt);if(!Vt||Object(te.b)(Re)!==void 0)return;const un=Object(_s.t)(Vt,"up_to_browse_kb_shortcut"),{LIST:Tn,EDIT:Kn}=ti.a,rs=un?Tn:Kn;Se(Object(ei.a)(rs))});Go.meta={name:"createThunk",key:"createThunkmaybeTransitionUpToBrowsePreference",description:"Transition the up_to_browse_kb_shortcut user pref to the new client pref"};const ni=Object(hs.a)([C.setWorkspaceBooted],Go);var si=e("Bw5p"),zo=e("On6p"),ai=e("beVI"),Ma;(function(Se){Se.DOGFOOD="dogfood",Se.BETA="beta",Se.PROD="prod"})(Ma||(Ma={}));var Yo;(function(Se){Se.BETA="beta",Se.PROD="prod"})(Yo||(Yo={}));const Si=h(Se=>Se!==Ma.PROD,"isPreRelease");var ws;(function(Se){Se.NIGHTLY="nightly",Se.ALPHA="alpha",Se.ETA="eta",Se.PILOT="pilot",Se.BETA="beta",Se.PROD="prod"})(ws||(ws={}));var Qo;(function(Se){Se.BETA="beta",Se.PROD="prod"})(Qo||(Qo={}));const Mi=[ws.ALPHA,ws.ETA,ws.BETA,ws.PILOT,ws.PROD],yi=h(Se=>Se!==ws.PROD,"release_channels_4_31_0_isPreRelease"),$o=Object(sn.c)("maybeSetReleaseChannelOverrideHandler",(Se,ue,Ae)=>{!Object(nn.i)()||!Object(r.fb)()||ri(ue)});$o.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const oi=Object(hs.a)([C.setDidBootAllWorkspaces],$o),wo="nightly-promotion-state";function ri(Se){const ue=Object(r.J)("environment","releaseChannel"),Ae=Object(r.J)("settings","releaseChannelOverride");let Re=Ae;if(!Re&&(ue==="beta"||ue==="alpha")&&(Re=ue),Re==="eta"&&(Re=Ma.BETA),Object(Fa.a)()&&Object(nn.j)("4.31.150")){const Tt=Se();if(Object(xa.a)(Tt,"ssb_dogfood_automatic_promotion","on")&&Object(l.hasBootedSlackOwnedTeam)(Tt)&&Re!==zo.a)try{window.localStorage.getItem(wo)!=="2"&&(Re=zo.a,window.localStorage.setItem(wo,"1"))}catch{}Re==="alpha"&&(Re=Ma.BETA)}Re!==Ae&&(Object(r.ec)({name:"releaseChannelOverride",value:Re}),r.U.cache&&r.U.cache.clear())}h(ri,"maybeSetReleaseChannelOverride");const ii=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],co=Object(sn.c)("Sync workspaces state with desktop",(Se,ue)=>{if(!Object(nn.i)())return;const Ae=ue(),Re=Object(l.getBootedWorkspaces)(Ae),Tt=Object(l.getAllWorkspaces)(Ae);var nt;const Vt=(nt=Object(l.getWorkspacesMeta)(Ae))!==null&&nt!==void 0?nt:{},ut=Re==null?void 0:Re.reduce((un,Tn)=>{const Kn=Object(a.getStateByTeamId)(Tn),on={...Object(ai.s)(Kn,Tn,!1),...Vt==null?void 0:Vt[Tn]};return un[Tn]={...Object(si.a)(on,ii),order:Tt.indexOf(Tn)},un},{});Object(r.Hc)(ut)});co.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const Zo=Object(sn.c)("Sync workspaces state with desktop when a new team has booted",(Se,ue)=>{if(!Object(nn.i)())return;const Ae=ue();Object(l.didBootAllWorkspaces)(Ae)&&Se(co())});Zo.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const ci=Object(hs.a)([C.setDidBootAllWorkspaces,C.setWorkspaceOrder],co),li=Object(hs.a)([C.setWorkspaceBooted],Zo);var di=e("v9TI");const Xo=Object(sn.c)("Side effect to remove window restoration data from localStorage once all teams have booted",()=>{const Se=Object(j.b)({label:"WIN-RESTORE"});Object(y.w)(di.c,""),Se.info("Cleared window-restoration key in localStorage because all teams have booted.")});Xo.meta={name:"createThunk",key:"createThunkmaybeClearWindowRestorationData",description:"Side effect to remove window restoration data from localStorage once all teams have booted"};const ui=Object(hs.a)([C.setDidBootAllWorkspaces],Xo);var Jo=e("q+YH");const qo=Object(sn.c)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(Se,ue)=>{var Ae;const Re=ue(),Tt=Object(l.getFocusedWorkspace)(Re),nt=Object(a.getStoreInstanceByTeamId)(Tt),Vt=nt==null||(Ae=nt.getState)===null||Ae===void 0?void 0:Ae.call(nt);if(!Vt||!Object(Ca.e)(Vt))return;if(Object(te.d)(Re)===""){const Tn=Object(_s.t)(Vt,"a11y_play_sound_for_incoming_dm_choice"),Kn=Tn??"";Se(Object(Jo.a)(Kn))}if(Object(te.e)(Re)===""){const Tn=Object(_s.t)(Vt,"a11y_play_sound_for_sent_dm_choice"),Kn=Tn??"";Se(Object(Jo.b)(Kn))}});qo.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const mi=Object(hs.a)([C.setDidBootAllWorkspaces],qo);var er=e("wlwd");const tr=Object(sn.c)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(Se,ue)=>{var Ae;const Re=ue(),Tt=Object(l.getFocusedWorkspace)(Re),nt=Object(a.getStoreInstanceByTeamId)(Tt),Vt=nt==null||(Ae=nt.getState)===null||Ae===void 0?void 0:Ae.call(nt);if(!Vt||!Object(Ca.d)(Vt)||Object(te.c)(Re)!==void 0)return;const un=Object(_s.t)(Vt,"a11y_read_out_incoming_dm");if(un!==void 0){Se(Object(er.a)(un));return}Se(Object(er.a)(!0))});tr.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const hi=Object(hs.a)([C.setDidBootAllWorkspaces],tr);var fi=e("PLUl");const nr=Object(sn.c)("recordWssRailVisibility side effect handler",(Se,ue)=>{const Ae=Object(fi.a)(),Re=ue(),Tt=Object(fn.d)(Re)?1:0,nt=Ae.createMetricsTrace({samplingOptions:{sampleType:Ko.a.SESSION}});nt.store({name:"wss_rail:visible",value:Tt}),Ae.reportTrace(nt)});nr.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const vi=Object(hs.a)([C.setDidBootAllWorkspaces],nr),Oi=[Ar,Mr,yr,Cr,pr,Rr,Nr,Gr,ci,li,Yr,Xr,qr,oi,ni,ui,mi,hi,vi];var sr=e("5NQM");const ar=50,or="recents";let Ha;function lo(Se){Ha&&Object(sr.b)(Ha),Ha=Object(sr.c)(()=>{Ha=void 0,Object(y.w)(or,Se)})}h(lo,"persistRecents");function Ei(){var Se;return(Se=Object(y.f)(or))!==null&&Se!==void 0?Se:[]}h(Ei,"loadRecents");const gi=Ei();var pi=Object(Le.b)({},gi,{persistenceEnabled:!1,storeKey:"recents"}).on(ht.b,(Se,ue)=>{let{entry:Ae}=ue;const Re=[Ae,...Se].slice(0,ar);return lo(Re),Re}).on(ht.e,(Se,ue)=>{let{entry:Ae}=ue;const Re=[Ae,...Se.slice(1)].slice(0,ar);return lo(Re),Re}).on(ht.d,Se=>{const ue=Se.slice(0,1);return lo(ue),ue});function rr(){let{extraMiddlewares:Se=[],customEnhancers:ue=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ae=Object(Q.a)({teamOrEnterpriseId:"client",middlewares:[...Se,re.a,t.a,z.a,m,v,Xt,mn,qt,k,je,de.a,Or],customEnhancers:ue}),Re=Object(Y.a)({workspaces:R,window:pe.a,telemetry:be,connectivity:ie.a,accessibility:ve.a,accessibilityPersistent:Z.a,desktop:ne.a,clientTheme:Ue.a,iaHistory:Ot,mainWindowHistory:Ge,isClient:St,workspaceLayout:st.a,viewLayout:$e.a,noop:vt.a,navigate:Ye,clientHuddles:it,clientSideEffects:we,recents:pi});return Object(s.e)(Re,Ae)}h(rr,"createClientStore");function bi(){const Se=Object(a.getClientStoreInstance)();if(Se)return Object(j.b)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),Se;const ue=rr();Object(a.setClientStoreInstance)(ue);const{clientSideEffectsMap:Ae,sideEffectsMap:Re,orgSharedSideEffectsMap:Tt}=Object(Er.a)(Oi);if(Object.keys(Re).length||Object.keys(Tt).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return ue.dispatch(kt(Ae)),ue}h(bi,"configureClientStore");const Ai={createClientStore:rr}},PWAB:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s={TILES:"tilesPersistTiles",LAYOUT:"tilesPersistLayout",ACTIVE_TILE:"tilesPersistActiveTile",MINIMIZED_LAYOUT:"tilesPersistMinimizedLayout",HISTORY:"tilesPersistHistory"},t="tile"},PWgi:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},PX9a:function(H,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var s=e("ZKjC"),t=e("RVJP");const a=Object(s.b)(l=>Object(t.d)(l,"record_channels")==="on");a.meta={name:"createSelector",key:"createSelectorisRecordChannelsEnabled",description:l=>Object(t.d)(l,"record_channels")==="on"};const r=Object(s.b)(l=>Object(t.d)(l,"lob_single_record_flexpane")==="on");r.meta={name:"createSelector",key:"createSelectorisSingleRecordFlexpaneEnabled",description:l=>Object(t.d)(l,"lob_single_record_flexpane")==="on"}},PZKh:function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s="slack-client-theme",t="slack-client-theme-os-sync"},PZLk:function(H,n,e){"use strict";var s=e("4+kD"),t=e.n(s),a=e("q1tI"),r=e.n(a),l=e("BHdc"),o=e("F0b/"),i=e("nNoG"),u=e("Tevt"),d=e("dVMU"),m=e("lRFD"),c=e.n(m),E=e("2B42"),f=e.n(E),O=e("Sw/c"),p=e.n(O),b=e("0cEW");const T=new i.b("refreshed_header"),v={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},S={elementName:"header_signin",onClick:{enableClogAction:!0}},A={elementName:"header_create_account",onClick:{enableClogAction:!0}},I={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},_=c.a&&f.a?`${c.a}, ${f.a} 2x`:void 0,M=h(y=>{let{showSignInLink:j=!1,showCreateAccountLink:C=!1,showCreateWorkspaceLink:D=!1,showHorchataBackground:N=!1,confirmedEmailPill:B,hideLogo:L=!1,isSSBBrowserSignin:R=!1,showSfLogo:U=!1,isWarningBannerDisplayed:W=!1,govSlackTheme:x=!1,isLandingPage:G=!1,clientTheme:w,joinerRedesignTreatment:se=!1}=y;return r.a.createElement("header",{className:Object(l.default)("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!B,"p-refreshed_page__header--is_horchata_landing_bg":N,"p-refreshed_page__header--no_logo":!!L,"p-refreshed_page__header--sf_slack_logo":U,"p-refreshed_page__header--display_warning_banner":W,"p-refreshed_page__header--gov_slack":x,"p-refreshed_page__header--landing":G,"p-refreshed_page__full_background":se})},r.a.createElement("div",{className:"left-col"}),r.a.createElement("div",{className:"center-col"},U&&L&&r.a.createElement("img",{srcSet:_??void 0,src:c.a,alt:""}),!L&&r.a.createElement(u.a,{href:Object(o.a)(),autoClogProps:v,target:"_self"},r.a.createElement("img",{alt:"Slack",src:x||w===b.c.Dark?p.a:t.a,height:"26",title:"Slack"})),B),r.a.createElement("div",{className:"right-col"},j&&r.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},T.t("Already have an account?"),r.a.createElement("br",null),r.a.createElement(u.a,{href:"/signin",className:"bold",autoClogProps:S,target:"_self"},T.t("Sign in instead"))),C&&r.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},T.t("Don\u2019t have an account yet?"),r.a.createElement("br",null),r.a.createElement(u.a,{href:`/signup${window.location.search}`,className:"bold",autoClogProps:A,target:"_self"},T.t("Create an account"))),D&&r.a.createElement("div",{className:"p-refreshed_page__header_sidelink"},T.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),r.a.createElement("br",null),r.a.createElement(u.a,{href:`${R?"/ssb":""}/get-started${window.location.search}#${d.a.CreateNew}`,className:"bold",autoClogProps:I,target:"_self"},T.t("Create an account")))))},"RefreshedHeader");n.a=M},PaS2:function(H,n,e){H.exports=e.p+"template_screenshot_feedback-431915f.png"},Pewd:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("gZuW");function l(o){let{className:i,errors:u}=o;var d;return u&&u.length>0?t.a.createElement(t.a.Fragment,null,u.map(m=>Object(s.isValidElement)(m.message)?t.a.cloneElement(m.message,{key:m.id,id:m.id,className:Object(a.default)(i,"c-field_input__helpers")}):(d=!!m.message&&t.a.createElement(r.a,{className:Object(a.default)(i,"c-field_input__helpers"),key:m.id,id:m.id},m.message))!==null&&d!==void 0?d:null)):null}h(l,"FieldErrors")},PfQc:function(H,n,e){"use strict";e.d(n,"a",function(){return v});var s=e("LrWZ"),t=e("SQ0V"),a=e("lhZz"),r=e("dKQz"),l=e("+CZ0"),o=e("LZPg"),i=e("QIbu"),u=e("HoeF"),d=e("SIMs"),m=e("XM5t"),c=e("gPPH"),E=e("3vtZ"),f=e("ktUG"),O=e("5IZy"),p=e("RB1+"),b=e("qMw6");const T=h((A,I,_,M)=>{const y=Object(a.getStateForClientStore)(),j=Object(l.a)(y),C=Object(E.l)(I,{huddleId:j}),D=Object(E.k)(y),N=Object(E.j)(y),B=Object(d.q)(I,{huddleId:j});let L,R,U=null,W=null,x=null;if(_===i.a.None)L=m.a.FOCUS_CLOSE,R=Object(d.r)(I,{key:m.a.FOCUS_OPEN});else{var G;switch(L=m.a.FOCUS_OPEN,R=Object(c.a)(),x=(M==null||(G=M.item)===null||G===void 0?void 0:G.id)||null,_){case i.a.Screenshare:U="focus_screenshare",W="screenshare";break;default:U="focus_file",W="file"}A(Object(u.m)({key:m.a.FOCUS_OPEN,value:R}))}Object(O.a)({state:I}).track(f.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:B?B.toString():null,ui_properties:{element_name:L},action:f.UiAction.IMPRESSION},calls:N},...C,...D,interaction_id:R,canvas_dimension_marker:U,type:W,item_file_id:x})},"clogCanvasEvent"),v=Object(t.c)("Sets a user content view which represents what the user is focused on in the canvas",(A,I,_)=>{if(!_||Object(s.a)(_.contentViewType))return;const M=I(),y=_.contentViewType,j=!1;if(y===i.a.Screenshare){const D=Object(o.q)(M),N=S(M);D===i.a.None&&!N&&A(Object(u.y)({isThreadOpen:!1})),A(Object(u.I)({userId:""}))}A(Object(u.o)({isFullscreen:j})),A(Object(u.t)({isNotesOpen:y===i.a.QuipFile}));const C=_.contentViewType===i.a.None||!_.contentViewConfig?{}:_.contentViewConfig;A(Object(o.jb)({id:_.peerId,contentViewType:y,contentViewConfig:C})),Object(a.dispatchForClientStore)(Object(r.w)({contentViewType:y,contentViewConfig:C})),T(A,M,y,C)});v.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function S(A){const I=Object(a.getStateForClientStore)(),_=Object(l.a)(I),M=Object(l.b)(I),y=Object(d.W)(A,{huddleId:_});if(!(y!=null&&y.ts)||!M)return!1;const j=Object(p.a)({viewContext:b.a.HUDDLE_THREADS,channelId:M,threadTs:y.ts});return(j==null?void 0:j.hasFocus())||!1}h(S,"doesThreadInputHaveFocus")},"Pq/0":function(H,n,e){"use strict";var s=e("0XZN");e.d(n,"a",function(){return s.a})},PsQx:function(H,n,e){"use strict";e.d(n,"a",function(){return s});let s=h(class{start(a){this.stop(),this.timer=setInterval(a,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(a){this.intervalMs=a,this.timer=null}},"IntervalScheduler")},Pv5J:function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("s4P+"),t=e("5IZy"),a=e("ktUG"),r;(function(f){f.IDLE="IDLE",f.WAITING_TO_MEASURE="WAITING_TO_MEASURE",f.MEASURING="MEASURING"})(r||(r={}));const l=Object(s.b)({label:"ANOMALY-DETECTOR"});class o{static setObserver(O){o.observer=O}static setTracer(){}static setChimeMeetingId(O,p){o.chimeMeetingId=O,o.chimeExternalMeetingId=p}static setMicMute(O){o.isMuted!==O&&(o.isMuted=O,!O&&o.muteStartTimeMs&&(o.muteTimeMs+=Date.now()-o.muteStartTimeMs,o.muteStartTimeMs=0),O&&o.state===r.MEASURING&&(o.muteStartTimeMs=Date.now()))}static setMicDevice(O,p,b){o.deviceId===O&&o.isNoiseSuppressionEnabled===p||(o.deviceId&&o.state!==r.IDLE&&l.info(`Abandoning audio send anomaly detection for device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} due to device switch`),o.deviceId=O,o.deviceLabel=b,o.isNoiseSuppressionEnabled=p,o.setState(r.WAITING_TO_MEASURE))}static run(O){if(!O)return;const p=O.filter(v=>v.audioStats);if(p.length===0)return;p.length>1&&l.warn("Too many input audio tracks: ",p.length),o.monitorPps(p[0]);const b=p[0].audioStats;if(!(!b||b.audioLevel===void 0||b.audioLevel===null||b.totalAudioEnergy===void 0||b.totalAudioEnergy===null||b.totalSamplesDuration===void 0||b.totalSamplesDuration===null))switch(b.audioLevel>0&&o.clearNoMediaInput(),o.state){case r.WAITING_TO_MEASURE:o.setState(r.MEASURING),o.measuringStartTimeMs=Date.now(),o.isMuted&&(o.muteStartTimeMs=Date.now()),o.muteTimeMs=0,o.startingAudioEnergy=b.totalAudioEnergy,o.startingSamplesDuration=b.totalSamplesDuration;break;case r.MEASURING:{if(b.totalAudioEnergy>o.startingAudioEnergy){l.info(`Detected audio input from device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} over ${b.totalSamplesDuration-o.startingSamplesDuration} seconds, energy increase: ${b.totalAudioEnergy-o.startingAudioEnergy}`),o.setState(r.IDLE);break}const v=o.muteStartTimeMs?Date.now()-o.muteStartTimeMs:0;if(Date.now()-o.measuringStartTimeMs-o.muteTimeMs-v>=o.NO_AUDIO_THRESHOLD_MS){var T;l.warn(`No audio input from device: ${o.deviceId}/${o.deviceLabel}/${o.isNoiseSuppressionEnabled} over ${b.totalSamplesDuration-o.startingSamplesDuration} seconds`),Object(t.a)().track(a.EventId.CALLS_NO_AUDIO_INPUT,{chime_meeting_id:o.chimeMeetingId,chime_external_meeting_id:o.chimeExternalMeetingId,device_id:o.deviceId,device_label:o.deviceLabel,is_noise_suppresion_enabled:o.isNoiseSuppressionEnabled}),(T=o.observer)===null||T===void 0||T.onSetNoOrLowInputAudioLevel(),o.setState(r.IDLE);break}break}default:case r.IDLE:break}}static cleanup(){l.info("Cleaning up AudioSendAnomalyDetector"),o.state=r.IDLE,o.isMuted=!1,o.muteStartTimeMs=0,o.muteTimeMs=0,o.deviceId=void 0,o.deviceLabel=void 0,o.isNoiseSuppressionEnabled=!1,o.measuringStartTimeMs=0,o.startingAudioEnergy=0,o.startingSamplesDuration=0,o.observer=void 0,o.resetTracer()}static clearNoMediaInput(){var O;(O=o.observer)===null||O===void 0||O.onClearNoOrLowInputAudioLevel()}static monitorPps(O){if(o.MONITOR_PPS_ENABLED===!1&&o.isNoiseSuppressionEnabled===!1||!O.packetsSent)return;const p=Date.now(),b=O.packetsSent;if(o.lastReportTime!==0){const T=p-o.lastReportTime,v=(b-o.lastPacketsSent)/(T/1e3);v<o.EXPECTED_PPS*o.PPS_LOWER_BOUND_THRESHOLD&&l.warn(`AUDIO_SEND_LOW_PPS - ${v}`),v>o.EXPECTED_PPS*o.PPS_HIGHER_BOUND_THRESHOLD&&l.warn(`AUDIO_SEND_HIGH_PPS - ${v}`)}o.lastReportTime=p,o.lastPacketsSent=b}static setState(O){o.state=O,l.info(`AudioSendAnomalyDetector state change: ${o.state}`)}static resetTracer(){}}h(o,"audio_send_anomaly_detector_AudioSendAnomalyDetector"),o.state=r.IDLE,o.isMuted=!1,o.muteStartTimeMs=0,o.muteTimeMs=0,o.isNoiseSuppressionEnabled=!1,o.measuringStartTimeMs=0,o.startingAudioEnergy=0,o.startingSamplesDuration=0,o.NO_AUDIO_THRESHOLD_MS=6e3,o.MONITOR_PPS_ENABLED=!1,o.EXPECTED_PPS=50,o.PPS_LOWER_BOUND_THRESHOLD=.9,o.PPS_HIGHER_BOUND_THRESHOLD=1.1,o.lastReportTime=0,o.lastPacketsSent=0;var i=e("Yk1L"),u=e("M3pb"),d=e("LZPg");const m=Object(s.b)({label:"ANOMALY-DETECTOR"});class c{static setObserver(O){c.observer=O}static run(O){const p=Object(u.a)();if(!O||O.length===0||!p){c.clearNoAudioOutput();return}const b=Object(d.T)(p.getState());if(Object.keys(b).length!==1){c.clearNoAudioOutput();return}const T=Object.keys(b);if(!b[T[0]].isMicrophoneEnabled){c.clearNoAudioOutput();return}if(O.forEach(A=>{!A.audioStats||A.audioStats.audioLevel===void 0||A.audioStats.audioLevel===null||(c.accumulatedAudioLevels.length>=c.ACCUMULATED_AUDIO_LEVELS_BUFFER_SIZE&&c.accumulatedAudioLevels.shift(),c.accumulatedAudioLevels.push(A.audioStats.audioLevel))}),c.accumulatedAudioLevels.length<c.MIN_AUDIO_LEVEL_BUFFER_SIZE){c.clearNoAudioOutput();return}const v=Object(i.a)(c.accumulatedAudioLevels);if(v<=c.RECV_LOW_AUDIO_LEVEL_THRESHOLD){if(c.shouldReport){var S;(S=c.observer)===null||S===void 0||S.onSetNoOrLowOutputAudioLevel(),m.warn(`RECV_LOW_AUDIO_LEVEL - Avg(last ${c.accumulatedAudioLevels.length} values): ${v}`),c.shouldReport=!1,c.logTimerHandle=setTimeout(()=>{c.shouldReport=!0},c.SKIP_LOG_MS)}}else c.clearNoAudioOutput()}static cleanup(){c.logTimerHandle&&(clearTimeout(c.logTimerHandle),c.logTimerHandle=null)}static clearNoAudioOutput(){var O;(O=c.observer)===null||O===void 0||O.onClearNoOrLowOutputAudioLevel()}}h(c,"audio_receive_anomaly_detector_AudioReceiveAnomalyDetector"),c.ACCUMULATED_AUDIO_LEVELS_BUFFER_SIZE=5,c.MIN_AUDIO_LEVEL_BUFFER_SIZE=3,c.SKIP_LOG_MS=6e4,c.RECV_LOW_AUDIO_LEVEL_THRESHOLD=0,c.accumulatedAudioLevels=[],c.shouldReport=!0;class E{static setObserver(O){o.setObserver(O),c.setObserver(O)}static run(O){o.run(O.send),c.run(O.recv)}static cleanup(){o.cleanup(),c.cleanup()}static setChimeMeetingId(O,p){o.setChimeMeetingId(O,p)}static setMicMute(O){o.setMicMute(O)}static setTracer(){o.setTracer()}static setMicDevice(O,p,b){o.setMicDevice(O,p,b)}}h(E,"anomaly_detector_AnomalyDetector")},"Pyy/":function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("vLZU");function t(a){const i={sideEffectsMap:{},orgSharedSideEffectsMap:{},clientSideEffectsMap:{}};return!a||!a.length?i:a.reduce((u,d)=>{const{actions:m,scope:c}=d;let E;switch(c){case s.m.orgShared:E=u.orgSharedSideEffectsMap;break;case s.m.client:E=u.clientSideEffectsMap;break;default:case s.m.workspace:E=u.sideEffectsMap;break}return m.forEach(f=>{var O;const p=f==null||(O=f.getType)===null||O===void 0?void 0:O.call(f);p&&(E[p]=E[p]||[],E[p].push(d))}),u},i)}h(t,"generateSideEffectsMaps")},Q0mH:function(H,n,e){"use strict"},"Q1m+":function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),l=e("j77i");const o=Object(t.c)("Set the user-specified wide sidebar width and mode",(i,u,d)=>{let{sidebarWideWidthIntent:m,sidebarWideWidthMode:c}=d;Object(l.w)(s.g,m),Object(l.w)(s.h,c),i(Object(a.g)({sidebarWideWidthIntent:m,sidebarWideWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.g)({sidebarWideWidthIntent:m,sidebarWideWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},Q755:function(H,n,e){"use strict"},Q7We:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("cBLH"),a=e("Jhy3"),r=e("UIhb"),l=e("dqLn"),o=e("xcHN");const i=Object(s.c)("Remove a message and its timestamp",function(u,d){let{channelId:m,ts:c,threadTs:E,broadcastDelete:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!m||!c))if(f)u(Object(a.e)({channelId:m,ts:c}));else{u(Object(t.d)({channelId:m,timestamp:c}));const O=!1,p=Object(r.b)(d(),m,c,O),b=p&&p.thread_ts||E;if(b){const T=Object(o.c)(m,b)||"";u(Object(t.d)({channelId:T,timestamp:c}))}u(Object(a.h)({message:{channel:m,ts:c}})),u(Object(l.a)({channelId:m,item:p}))}});i.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"},n.a=i},QLhP:function(H,n,e){"use strict";e.d(n,"b",function(){return O}),e.d(n,"a",function(){return p}),e.d(n,"e",function(){return b}),e.d(n,"f",function(){return T}),e.d(n,"d",function(){return v}),e.d(n,"c",function(){return A});var s=e("n3tL"),t=e("Kmpi"),a=e("ZKjC"),r=e("Nnn3"),l=e("kGAF"),o=e("O86Y"),i=e("4Ky9"),u=e("xwCZ"),d=e("XJcz"),m=e("G+Dn"),c=e("ivr1"),E=e("Fn/R");function f(I){return!!(I&&Object(t.b)(I)&&!Object(E.a)(I))}h(f,"isMemberHuman");const O=Object(a.b)(function(I,_){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var y;const j=Object(o.g)(I);if(!_)return!1;const C=(y=Object(c.a)(I))===null||y===void 0?void 0:y[_];return!C&&Object(l.a)(_)&&M&&d.a.indexOf(_)<0?Object(m.a)().fetchObjectWithId(j,_):(Object(m.c)(j,_),C||!1)});O.meta={name:"createSelector",key:"createSelectorgetBotById",description:function(I,_){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var y;const j=Object(o.g)(I);if(!_)return!1;const C=(y=Object(c.a)(I))===null||y===void 0?void 0:y[_];return!C&&Object(l.a)(_)&&M&&d.a.indexOf(_)<0?Object(m.a)().fetchObjectWithId(j,_):(Object(m.c)(j,_),C||!1)}};const p=Object(a.b)((I,_)=>{if(!_)return;const M=Object(c.a)(I);let y;return M&&(y=Object.values(M).find(j=>j.app_id===_)),y});p.meta={name:"createSelector",key:"createSelectorgetBotByAppId",description:(I,_)=>{if(!_)return;const M=Object(c.a)(I);let y;return M&&(y=Object.values(M).find(j=>j.app_id===_)),y}};const b=Object(a.b)((I,_)=>{const M=Object(u.g)(I,_);return f(M)});b.meta={name:"createSelector",key:"createSelectorgetMemberIsHuman",description:(I,_)=>{const M=Object(u.g)(I,_);return f(M)}};const T=Object(a.b)(function(I){let{userId:_,botId:M,botProfile:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j,C;_&&(j=Object(u.g)(I,_)),M&&(C=O(I,M)||void 0);const D=j?f(j):!1;let N;!Object(t.b)(C)&&Object(t.b)(j)&&(N=Object(r.a)(I,j),N&&N!==M&&(C=O(I,N)||void 0));let B;if(!Object(t.b)(C)&&y&&(B=y.id,B&&B!==N&&B!==M&&(C=O(I,B)||void 0),Object(t.b)(C)||(C=y)),!Object(t.b)(j)&&Object(t.b)(C)&&C.app_id){const L=Object(i.a)(I,C.app_id);if(Object(t.b)(L)){const R=L.app_user_id;R&&R!==_&&(j=Object(u.g)(I,R))}}return{bot:C,member:j,memberIsHuman:D}});T.meta={name:"createSelector",key:"createSelectormaybeGetBotAndMemberByIds",description:function(I){let{userId:_,botId:M,botProfile:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j,C;_&&(j=Object(u.g)(I,_)),M&&(C=O(I,M)||void 0);const D=j?f(j):!1;let N;!Object(t.b)(C)&&Object(t.b)(j)&&(N=Object(r.a)(I,j),N&&N!==M&&(C=O(I,N)||void 0));let B;if(!Object(t.b)(C)&&y&&(B=y.id,B&&B!==N&&B!==M&&(C=O(I,B)||void 0),Object(t.b)(C)||(C=y)),!Object(t.b)(j)&&Object(t.b)(C)&&C.app_id){const L=Object(i.a)(I,C.app_id);if(Object(t.b)(L)){const R=L.app_user_id;R&&R!==_&&(j=Object(u.g)(I,R))}}return{bot:C,member:j,memberIsHuman:D}}},T.propTypes=s.default.oneOfType([s.default.shape({userId:s.default.string,botId:s.default.string.isRequired,botProfile:s.default.object}),s.default.shape({userId:s.default.string.isRequired,botId:s.default.string,botProfile:s.default.object})]);const v=Object(a.b)((I,_)=>{const M=O(I,_);if(M&&M.name)return M.name});v.meta={name:"createSelector",key:"createSelectorgetBotNameById",description:(I,_)=>{const M=O(I,_);if(M&&M.name)return M.name}};const S=Object(a.b)(I=>Object(c.a)(I));S.meta={name:"createSelector",key:"createSelectorgetAllBots",description:I=>Object(c.a)(I)};const A=Object(a.b)((I,_)=>{if(!I||!_)return null;const M=Object(u.g)(I,_.user),y=_.bot_id||Object(r.a)(I,M);if(!y)return null;if(_.bot_profile)return _.bot_profile.id!==y?{..._.bot_profile,id:y}:_.bot_profile;const j=O(I,y);return j||null});A.meta={name:"createSelector",key:"createSelectorgetBotByMsg",description:(I,_)=>{if(!I||!_)return null;const M=Object(u.g)(I,_.user),y=_.bot_id||Object(r.a)(I,M);if(!y)return null;if(_.bot_profile)return _.bot_profile.id!==y?{..._.bot_profile,id:y}:_.bot_profile;const j=O(I,y);return j||null}}},QMho:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("AFNo"),t=e("2VFn"),a=e("rZ8V"),r=e("i9jZ"),l=e("v7mh");const o=Object(s.c)((i,u)=>{let{container:d,windowId:m}=u;const c=Object(a.o)(i),E=Object(r.a)(i);let f;if(m===t.c&&c){const O=Object(l.a)(i);f=Object(l.g)(i,{tab:O,container:d})}return m!==t.c&&E&&(f=Object(l.d)(i,{container:d,windowId:m})),f});o.meta={name:"createSelector",key:"createSelectorgetCurrentWindowViewByContainer",description:(i,u)=>{let{container:d,windowId:m}=u;const c=Object(a.o)(i),E=Object(r.a)(i);let f;if(m===t.c&&c){const O=Object(l.a)(i);f=Object(l.g)(i,{tab:O,container:d})}return m!==t.c&&E&&(f=Object(l.d)(i,{container:d,windowId:m})),f}}},QP4N:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("LOcX"),t=e("q1tI"),a=e.n(t),r=e("nFQW"),l=e("nNoG");const o=new l.b("generic_dialog");function i(m){let{onClick:c}=m;return a.a.createElement(r.a,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:c,"aria-label":o.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"})})}h(i,"ModalBackButton"),i.displayName="ModalBackButton";var u=a.a.memo(i),d=n.b=s.a},QW4n:function(H,n,e){"use strict";e.d(n,"a",function(){return v});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("YUBf"),l=e("JvzI"),o=e("xLpb"),i=e("GiOu"),u=e("9gkt"),d=e("AFY6"),m=e("dNN9"),c=e("ZE32"),f=h(I=>{let{banner:_,bodyContent:M,footerContent:y,showProBadge:j=!0,subtitle:C,title:D}=I;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.a.createElement(u.a,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:D},j&&t.a.createElement(i.b,{className:"p-upgrades_modal_with_banner_horizontal__pro_badge"})),t.a.createElement(r.d,null,C&&t.a.createElement(d.a,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:C}),t.a.createElement(m.a,{className:"p-upgrades_modal_with_banner_horizontal__body"},M)),t.a.createElement(c.a,{className:"p-upgrades_modal_with_banner_horizontal__footer"},y)),_)},"ModalContentHorizontalBanner");const O=h(I=>{let{banner:_,bodyContent:M,footerContent:y,showProBadge:j=!0,subtitle:C,title:D}=I;const N=t.a.createElement(t.a.Fragment,null,D,j&&t.a.createElement(i.b,{className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.a.createElement(t.a.Fragment,null,t.a.createElement(u.a,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:N},_),t.a.createElement(r.d,null,C&&t.a.createElement(d.a,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:C}),t.a.createElement(m.a,{className:"p-upgrades_modal_with_banner_vertical__body"},M)),t.a.createElement(c.a,null,y))},"ModalContentVerticalBanner");O.displayName="ModalContentVerticalBanner";var p=O,b=e("pyW3");function T(){return T=Object.assign||function(I){for(var _=1;_<arguments.length;_++){var M=arguments[_];for(var y in M)Object.prototype.hasOwnProperty.call(M,y)&&(I[y]=M[y])}return I},T.apply(this,arguments)}h(T,"_extends");var v;(function(I){I.LIGHT="light",I.DARK="dark",I.GOLD="gold",I.GRAY="gray"})(v||(v={}));const S=h(I=>{let{bannerBackgroundColor:_,bodyContent:M,centered:y,className:j,closeButtonTheme:C=v.DARK,closeModal:D,dataQa:N,footerContent:B,imgSrc:L,maxWidth:R,shouldCloseOnOverlayClick:U,showProBadge:W=!0,subtitle:x,title:G,type:w,videoFilename:se,videoPosterExtension:ee="png",videoClassName:X,lottieAnimation:me,...Oe}=I;const Ce=Object(l.a)(),le=`${se}${Ce==="en-US"?"":`.${Ce}`}`,de=`p-upgrades_modal_with_banner__banner--${w}`,ie=h(()=>L?t.a.createElement("img",{className:de,alt:"",src:L}):se?t.a.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:Object(a.default)(de,X),poster:`${le}.${ee}`},t.a.createElement("source",{type:"video/mp4",src:`${le}.mp4`}),t.a.createElement("source",{type:"video/webm",src:`${le}.webm`})):me?t.a.createElement("div",{className:"p-upgrades_modal__lottie_container"},me):null,"getModalBanner");ie.displayName="getModalBanner";const pe=t.a.createElement("div",{style:{backgroundColor:_},className:`p-upgrades_modal_with_banner__banner_container--${w}`},ie());return t.a.createElement(r.a,T({className:Object(a.default)("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${w}`,`p-upgrades_modal_with_banner--close_button_${C}`,"p-upgrades_modal_with_banner--close_button",j),centered:y,closeModal:D,dataQa:N,maxWidth:R,shouldCloseOnOverlayClick:U},Oe),w===o.a.VERTICAL_BANNER?t.a.createElement(p,{banner:pe,bodyContent:M,footerContent:B,showProBadge:W,subtitle:x,title:G}):t.a.createElement(f,{banner:pe,bodyContent:M,footerContent:B,showProBadge:W,subtitle:x,title:G}))},"ModalContentWithBanner");S.displayName="ModalContentWithBanner";var A=n.b=S},QWPf:function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("CpTu"),t=e("uXhx"),a=e("lE2N"),r=e("BeL+"),l=e("GxtX"),o=e("uKXT"),i=e("ZP0B"),u=e("J/RB"),d=e("Lgge"),m=e("SQ0V"),c=e("xcHN"),E=e("ZAxE");const f=Object(m.c)("gets thread replies from the API",(O,p,b)=>{const{channelId:T,threadTs:v,oldest:S,limit:A}=b;let I=b.latest;S===I&&I===b.threadTs&&(I=null);const _=Object(c.c)(T,v);return S&&I?d.a.all([O(Object(E.e)({channelId:T,threadTs:v,latest:I,limit:A})),O(Object(E.e)({channelId:T,threadTs:v,oldest:S,limit:A}))]).then(M=>{let[y,j]=M;const C=Object(s.a)(y.msgs,{ts:v})||Object(s.a)(j.msgs,{ts:v}),D=Object(t.a)(y.msgs,{ts:v}),N=Object(t.a)(j.msgs,{ts:v}),B=y.deleted,L=j.deleted,R=Object(a.a)(D.concat(N),"ts"),U=Object(r.a)(Object(l.a)(B,L));!y.hasMore&&C&&R.unshift(C);const W=R.map(x=>x.ts);return O(Object(u.a)({msgs:R,channelId:_,hasMore:{hasMoreStart:y.hasMore,hasMoreEnd:j.hasMore},oldest:Object(o.a)([S,Object(o.a)(W)]),latest:Object(i.a)([I,Object(i.a)(W)]),deleted:U})),{msgs:R}}):O(Object(E.e)({channelId:T,threadTs:v,oldest:S,latest:I,limit:A})).then(function(){let{msgs:M,deleted:y,hasMore:j}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const C=I&&!j||S===v||I===v||!S&&!I&&!j;let D=M;C||(D=Object(t.a)(M,{ts:v}));let N=j;!S&&!I&&(N={hasMoreStart:j,hasMoreEnd:!1}),O(Object(u.a)({msgs:D,channelId:_,hasMore:N,oldest:S,latest:I,deleted:y}));const B=Object(s.a)(M,{ts:v});return B&&S===v&&O(Object(u.a)({msgs:[B],channelId:_,hasMore:!1,latest:v})),{msgs:D}})});f.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},QaYX:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("Yauy"),t=e("Enx8"),a=e("9Gfp"),r=e("4qCO");function l(o){let{state:i,mpim:u,matchData:d}=o;const m=Object(a.a)(i);let c=[];if(Object(s.C)(u)&&(c=Object(s.C)(u).filter(b=>m!==b)),!d)return c;const E=!1,f=!1,O=[];d.forEach(b=>{b.map(v=>({name:Object(t.a)(i,v.id,E,f),...v})).sort((v,S)=>v.score<S.score?1:v.score>S.score?-1:Object(r.a)(v.name,S.name)).filter(v=>isFinite(v.score)).forEach(v=>{c.includes(v.id)&&(O.push(v.id),c.splice(c.indexOf(v.id),1))})});const p=c.map(b=>({id:b,name:Object(t.a)(i,b,E,f)})).sort((b,T)=>Object(r.a)(b.name,T.name)).map(b=>b.id);return[...O,...p]}h(l,"getMemberDisplayOrderForSearcherMPIM")},QjW8:function(H,n,e){"use strict";e.d(n,"b",function(){return i}),e.d(n,"a",function(){return u});var s;(function(d){d.UDP="udp",d.TCP="tcp"})(s||(s={}));var t;(function(d){d.RELAY="relay",d.DIRECT="direct"})(t||(t={}));var a;(function(d){d.UPLINK="uplink",d.DOWNLINK="downlink"})(a||(a={}));var r;(function(d){d.GOOD="good",d.FAIR="fair",d.BAD="bad",d.WORST="worst"})(r||(r={}));var l;(function(d){d.GOOD="good",d.FAIR="fair",d.BAD="bad",d.WORST="worst"})(l||(l={}));var o;(function(d){d[d.UPSTREAM=0]="UPSTREAM",d[d.DOWNSTREAM=1]="DOWNSTREAM"})(o||(o={}));var i;(function(d){d[d.AUDIO=0]="AUDIO",d[d.VIDEO=1]="VIDEO"})(i||(i={}));var u;(function(d){d.RtmMetrics="rtm-metrics",d.RenderTiming="render-timing",d.BluetoothDevices="bluetooth-devices",d.MemoryLeaks="memory-leaks",d.SelectedMediaRegion="selected-media-region",d.PreferredMediaRegion="preferred-media-region",d.VoiceFocusWarning="voice-focus-warning",d.VoiceFocusConfig="voice-focus-config",d.NetworkDisconnect="network-disconnect",d.CallId="call-id",d.ScreenshareContentType="screenshare-content-type",d.AppMetrics="app-metrics",d.NoAudio="no-audio",d.CameraResolution="max-camera-resolution",d.SetIsDebugApp="set-is-debug-app"})(u||(u={}))},QpNZ:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("zxER"),l=e("E97Y"),o=e("ZobM"),i=e("zMr6");function u(){return u=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var f=arguments[E];for(var O in f)Object.prototype.hasOwnProperty.call(f,O)&&(c[O]=f[O])}return c},u.apply(this,arguments)}h(u,"_extends");const d=h(c=>{let{className:E,filled:f,bold:O,channel:p,disableArchived:b,overrideHiddenIcon:T}=c;const v=Object(r.d)(A=>T||Object(i.b)(A,p,{filled:f||Object(l.k)(p),bold:O,disableArchived:b})),S=Object(a.default)(E,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.a.createElement("span",{className:S,"data-inline-channel-type-icon":v.name},t.a.createElement(o.a,u({inline:!0},v)))},"InlineChannelIcon");d.displayName="InlineChannelIcon";var m=n.a=t.a.memo(d)},QufA:function(H,n,e){H.exports=e.p+"ava_0002-24-f65dddc.png"},Qyw2:function(H,n,e){"use strict";var s=e("n3tL"),t=e("SQ0V"),a=e("beVI"),r=e("G0eX"),l=e("qiCS"),o=e("Afhv"),i=e("kBpe"),u=e("SZMM"),d=e("Wn1n"),m=e("AdD7"),c=e("mGaQ"),E=e("RV0M"),f=e("2VFn");const O=Object(t.c)("Open a URL in an SSB window (if it exists) or a browser tab as a fallback",function(p,b){let{file:T}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3?arguments[3]:void 0;var S;if(!T||!T.permalink)return;const{shouldUseNavigate:A,getSiblingView:I}=v(E.a),_=b(),M=Object(a.f)(_),y=Object(r.n)(M),j=A?(S=I(_,{container:f.h.Primary}))===null||S===void 0?void 0:S.id:Object(d.a)(_);let C=y?Object(l.d)(T.permalink,"origin_team",y):T.permalink;C=j?Object(l.d)(C,"origin_channel",j):C,Object(m.b)()&&!Object(c.c)(_)&&(C=Object(u.f)(C));const D=/\/E[A-Z0-9]{8,}\//gi;D.test(C)&&(C=C.replace(D,`/${y}/`)),Object(i.j)("3.4.0")?Object(u.i)(C,{allowNavigation:!0,height:600,width:800,disposition:"desktop-window"}):Object(o.a)(C)});O.meta={name:"createThunk",key:"createThunkopenFileInNewWindow",description:"Open a URL in an SSB window (if it exists) or a browser tab as a fallback"},O.propTypes={file:s.default.object},n.a=O},R4JA:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("vLZU"),t=e("UOL+"),a=e("hLt0");const r=h((l,o)=>Object(a.c)(Object(s.B)({reducer:a.b})?Object(t.a)(l):l,o),"getIsMemberDisconnectedById")},"RB1+":function(H,n,e){"use strict";e.d(n,"d",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"c",function(){return m});var s=e("lCmp"),t=e("BlE4"),a=e("s4P+"),r=e("MO4o"),l=e("5U8P");const o={};function i(c){let{channelId:E,functions:f,getInputInstance:O,threadTs:p,viewContext:b}=c;if(!O)throw new Error('Missing required "getInputInstance" param');const T=`${b}-${E}-${p}`;return o[T]&&Object(a.a)().warn(`Registering duplicate input (key: "${T}")`),o[T]={clear:()=>{var v,S;(v=O())===null||v===void 0||(S=v.clear)===null||S===void 0||S.call(v)},clearHistory:()=>{var v,S;(v=O())===null||v===void 0||(S=v.clearHistory)===null||S===void 0||S.call(v)},focus:()=>{var v,S;(v=O())===null||v===void 0||(S=v.focus)===null||S===void 0||S.call(v)},getContents:()=>{var v,S;return(v=O())===null||v===void 0||(S=v.getContents)===null||S===void 0?void 0:S.call(v)},getDisplayValue:()=>{var v,S;return(v=O())===null||v===void 0||(S=v.displayValue)===null||S===void 0?void 0:S.call(v)},getLength:()=>{var v,S;return(v=O())===null||v===void 0||(S=v.getLength)===null||S===void 0?void 0:S.call(v)},getSelection:()=>{var v,S;return(v=O())===null||v===void 0||(S=v.getSelection)===null||S===void 0?void 0:S.call(v)},getText:()=>{var v,S;return(v=O())===null||v===void 0||(S=v.value)===null||S===void 0?void 0:S.call(v)},hasFocus:()=>{var v,S;return(v=O())===null||v===void 0||(S=v.hasFocus)===null||S===void 0?void 0:S.call(v)},insertContentsAtCursor:function(){for(var v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];var I,_;(I=O())===null||I===void 0||(_=I.insertContentsAtCursor)===null||_===void 0||_.call(I,...S)},isEmpty:()=>{var v,S;return!!(!((v=O())===null||v===void 0||(S=v.isEmpty)===null||S===void 0)&&S.call(v))},isEnabled:()=>{var v,S;return!!(!((v=O())===null||v===void 0||(S=v.isEnabled)===null||S===void 0)&&S.call(v))},prependContents:v=>{var S,A;(S=O())===null||S===void 0||(A=S.prependContents)===null||A===void 0||A.call(S,v)},setContents:function(){for(var v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];var I,_;(I=O())===null||I===void 0||(_=I.setContents)===null||_===void 0||_.call(I,...S)},setCursor:function(){for(var v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];var I,_;(I=O())===null||I===void 0||(_=I.setCursor)===null||_===void 0||_.call(I,...S)},setCursorAtEnd:()=>{var v,S;(v=O())===null||v===void 0||(S=v.setCursorAtEnd)===null||S===void 0||S.call(v)},setText:function(){for(var v=arguments.length,S=new Array(v),A=0;A<v;A++)S[A]=arguments[A];var I,_;(I=O())===null||I===void 0||(_=I.value)===null||_===void 0||_.call(I,...S)},...f},()=>{delete o[T]}}h(i,"registerInputAuto");function u(c){let{viewContext:E,channelId:f,threadTs:O}=c;return o[`${E}-${f}-${O||void 0}`]}h(u,"getInputProxy");function d(c){if(!c||!Object(r.a)(c))return null;let E,f,O;return Object(l.a)(c,b=>b.getAttribute("data-message-input")?(E=b.getAttribute("data-channel-id"),f=b.getAttribute("data-thread-ts"),O=b.getAttribute("data-view-context"),!0):!1)?u({viewContext:O,channelId:E,threadTs:f}):null}h(d,"getProxyForElement");function m(){let{channelId:c,threadTs:E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const f=`${c}-${E}`,O=Object.keys(o);return Object(s.a)(O,p=>Object(t.a)(p,f))}h(m,"isInputRegistered")},RBHu:function(H,n,e){"use strict";e.d(n,"p",function(){return a}),e.d(n,"o",function(){return r}),e.d(n,"n",function(){return l}),e.d(n,"s",function(){return o}),e.d(n,"A",function(){return i}),e.d(n,"t",function(){return u}),e.d(n,"x",function(){return d}),e.d(n,"w",function(){return m}),e.d(n,"v",function(){return c}),e.d(n,"u",function(){return E}),e.d(n,"z",function(){return f}),e.d(n,"E",function(){return O}),e.d(n,"y",function(){return p}),e.d(n,"B",function(){return b}),e.d(n,"D",function(){return T}),e.d(n,"C",function(){return v}),e.d(n,"m",function(){return S}),e.d(n,"l",function(){return I}),e.d(n,"k",function(){return _}),e.d(n,"d",function(){return M}),e.d(n,"e",function(){return y}),e.d(n,"f",function(){return j}),e.d(n,"r",function(){return C}),e.d(n,"a",function(){return D}),e.d(n,"b",function(){return N}),e.d(n,"q",function(){return B}),e.d(n,"i",function(){return L}),e.d(n,"G",function(){return R}),e.d(n,"I",function(){return U}),e.d(n,"H",function(){return W}),e.d(n,"F",function(){return ee}),e.d(n,"c",function(){return X}),e.d(n,"j",function(){return me}),e.d(n,"J",function(){return Oe}),e.d(n,"g",function(){return Ce}),e.d(n,"h",function(){return le});var s=e("nNoG");const t=new s.b("huddles"),a="huddle_start_mark",r="huddle_rooms_join_start_mark",l="huddle_rooms_join_end_mark",o="huddle_render_player_tti",i="huddle_time_rooms_join",u="huddle_time_audio_session_started",d="huddle_time_first_presence_received",m="huddle_time_chime_session_started_connecting",c="huddle_time_chime_session_started",E="huddle_time_audio_video_observer_start",f="huddle_time_meeting_session_initialized",O="huddle_time_you_joined_sound",p="huddle_time_free_willy_sdk_init",b="huddle_time_voice_focus_loaded",T="huddle_time_voice_focus_start_loading",v="huddle_time_voice_focus_loading_time",S="huddle_quick_join",A="huddle_quick_join_failure",I="huddle_quick_join_credentials_received",_="huddle_quick_join_credentials_cleared",M="huddle_chime_credentials_received_mark",y="huddle_chime_sdk_bootstrap_time",j="huddle_chime_voice_focus_init_time",C=150,D="connect_to_media_service",N="fetch_credentials",B="huddles:time_to_interactive",L="huddles_metrics",R="reconnect_count",U="reconnect_count:success",W="reconnect_count:failure",x="start_attempt",G="huddles:start_attempt",w="start_huddle",se="huddles:no_audio_input",ee="no_audio_input",X="A01",me="prog_disc_huddles_explainer_tip_text",Oe=h(de=>{let{experimentHuddlesLoungeMusicPlayerGroupOn:ie}=de;return[{label:ie?t.t("Right when I join"):"",value:1,key:"when_joining"},{label:ie?t.t("After 30 seconds"):"",value:30,key:"after_30_secs"},{label:ie?t.t("After 1 minute"):"",value:60,key:"after_1_min"}]},"getMusicTimeoutPickerOptions"),Ce=50,le=250},RBep:function(H,n,e){H.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},RIOX:function(H,n,e){H.exports=e.p+"home-preview-8baaf03.jpg"},RMmo:function(H,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("jtkq"),t=e.n(s),a=e("vJtL"),r=e("HiDb"),l=e("s4P+");const o=t.a.prototype.stopCallback;t.a.prototype.stopCallback=()=>!1;const i=h(E=>o(E,E.target),"filterInput"),u=h((E,f)=>function(){for(var O=arguments.length,p=new Array(O),b=0;b<O;b++)p[b]=arguments[b];const T=p[0];f(T)||E(...p)},"makeFilteredHandler"),d=h((E,f)=>{const O=f[0];return O?d(u(E,O),f.slice(1)):E},"applyFilters"),m=h(E=>[E.ignoreInputs&&i,E.filter].filter(a.a),"getFiltersForCommand");let c=h(class{bindAll(f){f.forEach(O=>{const p=m(O);O.handler=d(O.handler,p),this.mousetrap.bind(O.keys,O.handler,O.action)})}reset(){this.mousetrap.destroy()}unbindAll(f){this.mousetrap.unbind(Object(r.a)(f,"keys"))}trigger(f,O){this.mousetrap.trigger(f,O)}constructor(f){var O,p,b,T;let v=f;v&&!(v instanceof HTMLElement||v instanceof Document||(v==null||(O=v.constructor)===null||O===void 0?void 0:O.name)==="HTMLDocument"||(v==null||(p=v.constructor)===null||p===void 0?void 0:p.name)==="HTMLDivElement"||(v==null||(b=v.constructor)===null||b===void 0?void 0:b.name)==="HTMLElement"||(v==null||(T=v.constructor)===null||T===void 0?void 0:T.name)==="HTMLInputElement")&&(Object(l.b)().error("Invalid element passed to KeyCommands"),v=void 0),t.a.addKeycodes({188:"comma"}),this.mousetrap=new t.a(v)}},"KeyCommands")},RTHw:function(H,n,e){"use strict";e.d(n,"c",function(){return d}),e.d(n,"a",function(){return m}),e.d(n,"d",function(){return c}),e.d(n,"b",function(){return E});var s=e("NFsq"),t=e("xwCZ"),a=e("ZOzc"),r=e("beVI"),l=e("rKeN"),o=e("fNsR"),i=e("G0eX"),u=e("q0lC");const d=h(f=>Object(l.a)(f)?Object(o.a)(f,{prefName:"who_can_manage_public_channels"}):!1,"canUserManagePublicChannelsInOrgDash"),m=h(f=>Object(l.a)(f)?Object(o.a)(f,{prefName:"who_can_manage_private_channels"}):!1,"canUserManagePrivateChannelsInOrgDash"),c=h(f=>{const O=Object(r.g)(f);return Object(i.I)(O)?Object(u.f)(f):!1},"canUserManagePublicChannelsInTeamSite"),E=h(f=>{const O=Object(r.g)(f);if(!Object(i.I)(O)||Object(i.H)(O)&&!Object(a.a)(f,"has_compliance_export"))return!1;const p=Object(a.a)(f,"who_can_manage_private_channels_at_workspace_level");if(!p)return!1;const b=Object(t.c)(f);if(Object(s.a)(p.user,b.id))return Object(u.f)(f);const T=p.type;switch(T&&T.length!==0?T[0]:null){case"NO_ONE":return!1;case"WORKSPACE_PRIMARY_OWNER":return Object(u.h)(f);case"WORKSPACE_OWNERS":return Object(u.g)(f);default:return!1}},"canUserManagePrivateChannelsInTeamSite")},RU1E:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Set a value that represents whether we are currently in the boot phase");t.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const a=Object(s.a)("Set a value that represents whether we are currently performing a warm boot");a.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},RW41:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("O86Y"),t=e("IHnR"),a=e("G0eX");function r(l,o){if(!l||!o)return!1;const i=Object(a.n)(o);if(Object(s.i)(l)===i||Object(s.g)(l)===i)return!1;const u=Object(s.d)(l);return u&&u===o.enterprise_id?!1:Object(t.b)(l,o.id)}h(r,"isTeamExternal")},RXuJ:function(H,n,e){H.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},RaLP:function(H,n,e){H.exports=e.p+"emoji_missing-39b2f0a.png"},RfUG:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("i5Ig"),r=e("QYtq");function l(){return l=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(i[m]=d[m])}return i},l.apply(this,arguments)}h(l,"_extends");const o=h(i=>{const{renderMenu:u,onPopoverOpen:d,onPopoverClose:m,isDisabled:c=!1,closeOnSelect:E=!0,onTriggerClose:f,onMenuItemSelected:O,onMenuKeyDown:p,...b}=i,T=h(()=>{d&&d()},"onOpenProp"),v=h(A=>{const{onClose:I,..._}=A,M=h((D,N)=>{I&&I(D),m&&m(D)},"onCloseProp"),C=u({...A,onTriggerClose:h(D=>{I&&I(D),f&&f(D)},"onTriggerClose"),onMenuItemSelected:h((D,N)=>{E&&(I&&I(N),m&&m(N)),O&&O(D,N)},"onMenuItemSelected"),onMenuKeyDown:p});return C?t.a.createElement(r.a,l({shouldFade:!1,onClose:M,onOpen:T},_),C):!1},"renderPopover");if(v.displayName="renderPopover",c)return typeof i.children=="function"?i.children(a.b):i.children;const S=i.isContextMenu?a.b:{"aria-haspopup":"menu"};return t.a.createElement(r.b,l({},b,{triggerProps:S,renderPopover:v}),i.children)},"MenuTrigger");o.displayName="MenuTrigger",n.a=o},RkbV:function(H,n,e){"use strict";var s=e("n3tL"),t=e("OZf9"),a=e("pHS2"),r=e("SQ0V"),l=e("cBLH"),o=e("ZYJ2"),i=e("cQw7"),u=e("Jhy3"),d=e("O86Y"),m=e("+l5E"),c=e("d/FZ"),E=e("aVws"),f=e("lhZz"),O=e("G5NC"),p=e("E97Y"),b=e("3TsL"),T=e("9Gfp"),v=e("E3dU"),S=e("u4cD"),A=e("FUEd"),I=e("g3FH"),_=e("Wn1n"),M=e("hiGJ"),y=e("ZKjC"),j=e("UOL+");const C=Object(y.b)((ee,X)=>{var me,Oe,Ce;return((me=Object(j.a)(ee))===null||me===void 0||(Oe=me.messageActivity)===null||Oe===void 0||(Ce=Oe.recentActivity)===null||Ce===void 0?void 0:Ce[X])||[]});C.meta={name:"createSelector",key:"createSelectorselectMessageActivityForType",description:(ee,X)=>{var me,Oe,Ce;return((me=Object(j.a)(ee))===null||me===void 0||(Oe=me.messageActivity)===null||Oe===void 0||(Ce=Oe.recentActivity)===null||Ce===void 0?void 0:Ce[X])||[]}};var D;(function(ee){ee.DM="dm"})(D||(D={}));var N=e("7xYR");function B(){if(!Object(O.a)()||!N.getFocusedWorkspace)return!1;const ee=Object(f.getStateForClientStore)(),X=Object(N.getFocusedWorkspace)(ee);return Object(_.a)(Object(f.getStateByTeamId)(X))}h(B,"getFocusedWorkspacePrimaryView");const L=Object(r.c)("process dm messages for Megaphone client event",(ee,X,me)=>{const Oe=X();if(!Object(p.g)(Object(v.d)(Oe,Object(m.x)(me))))return;const le=5,de=1,ie=60*3,pe=Date.now()/1e3,ne=D.DM,q=C(Oe,ne);q.push(me);const ce=Object(T.a)(Oe),ge=B();let be,Q=0,re=0,z=[];q.forEach(Y=>{const ve=Object(m.x)(Y);if(ge!==ve)return;const Z=+Object(b.a)(Y);if(pe-Z>ie)return;const $=Object(m.O)(Y);ce===$?Q+=1:(re+=1,be=$),z.push(Y)}),Q+re>=le&&Q>=de&&re>=de&&Object(A.c)(Oe,be)===I.a&&(ee(Object(S.a)({type:"messaging_activity"})),z=[]),ee(Object(M.a)({type:ne,messages:z}))});L.meta={name:"createThunk",key:"createThunkprocessDmMegaphoneClientEvent",description:"process dm messages for Megaphone client event"};var R=L;const U=Object(r.c)("Process received/sent messages",(ee,X,me)=>{if(!Object(O.a)()||!N.isFocusedWorkspaceInTeamOrEnterprise)return;const Oe=Object(d.h)(X());if(!Oe)return;const Ce=Object(E.a)(Oe),le=Object(f.getStateForClientStore)();if(!Object(N.isFocusedWorkspaceInTeamOrEnterprise)(le,Oe))return;const de=B();de&&me.forEach(ie=>{const pe=ie,ne=Object(m.x)(pe);!ne||de!==ne||Object(c.a)(pe)||Object(f.dispatchForTeamId)(Ce,R(pe))})});U.meta={name:"createThunk",key:"createThunkprocessIncomingMessages",description:"Process received/sent messages"};var W=U,x=e("HYaO"),G=e("xcHN");const w=Object(r.c)("Appends raw / unprocessed messages to the messages and history stores",(ee,X,me)=>{const Oe=ee(Object(i.a)({imsgs:me}));ee(Object(u.a)(Oe));const Ce=Object(d.h)(X());if(Ce)return ee(W(Oe)),Object(t.a)(Object(a.a)(me,"channel"),(le,de)=>{var ie;if(!le.length)return;const pe={channelId:de,timestamps:le.map(ne=>ne==null?void 0:ne.ts),oldest:(ie=le[0])===null||ie===void 0?void 0:ie.ts,hasMore:!1,append:!0};ee(Object(l.a)(pe)),Object(o.c)(Ce,de,pe.timestamps)}),Object(t.a)(Object(a.a)(me.filter(x.a),le=>Object(G.c)(le.channel,le.thread_ts)),(le,de)=>{var ie;le.length&&ee(Object(l.a)({channelId:de,timestamps:le.map(pe=>pe==null?void 0:pe.ts),oldest:(ie=le[0])===null||ie===void 0?void 0:ie.ts,hasMore:!1,append:!0}))}),Oe});w.meta={name:"createThunk",key:"createThunkappendMessages",description:"Appends raw / unprocessed messages to the messages and history stores"},w.propTypes=s.default.arrayOf(s.default.shape({ts:s.default.string.isRequired,channel:s.default.string.isRequired}));var se=n.a=w},RnUY:function(H,n,e){H.exports=e.p+"template_screenshot_team_priorities-ec738db.png"},RqXZ:function(H,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("MwVV"),r=e.n(a),l=e("WSQ4"),o=e("V2uK");function i(){return i=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var f=arguments[E];for(var O in f)Object.prototype.hasOwnProperty.call(f,O)&&(c[O]=f[O])}return c},i.apply(this,arguments)}h(i,"_extends");const u=Object(o.c)(o.a.REACT_VIRTUALIZED,c=>r()(c));function d(c){let{refToForward:E,...f}=c;const{window:O}=Object(s.useContext)(l.a),p=u(O).List;return t.a.createElement(p,i({ref:E},f))}h(d,"PortableReactVirtualizedList"),d.displayName="PortableReactVirtualizedList";const m=t.a.forwardRef((c,E)=>t.a.createElement(d,i({refToForward:E},c)))},Rt42:function(H,n,e){H.exports=e.p+"slackbot_neutral_360-7309dbd.png"},RwMM:function(H,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});var s=e("Tb1M"),t=e("w/U0");const a=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=h(class bs{normalizeAndScore(o){const i=Object(s.a)(o);return i===this.normalizedQuery?0:this.score(i)}score(o){if(!o||this.queryNoSeparators.length>o.replace(a,"").length||!bs.containsAllLetters(o,this.queryNode)||!this.queryNode)return 1/0;const u=bs.lettersToGraph(o,this.options);if(!u)return 1/0;const d=bs.searchWordBoundariesOnly(u,this.queryNode,this.options);if(!d)return 1/0;const m=bs.countResult(d);return m>this.fuzzyLimit?1/0:m}static scoreOnce(o,i,u){const d=Object(s.a)(i),m=Object(s.a)(o);return new bs(d,u).score(m)}static lettersToGraph(o,i){const u=o.split(""),d=u.shift();return bs.lettersToGraphWorker(d,null,u,[],0,i)}static lettersToGraphWorker(o,i,u,d,m){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!o)return null;const E=Object(t.a)(o),f=bs.makeLetterNode(o,i,d,m,E);if(bs.shouldAddJump(i,f,c)){const p=c.fuzzyJumpLimit||5;d.length<p&&d.push(f)}const O=bs.lettersToGraphWorker(u.shift(),f,u,d,m+1,c);return O&&(f.next=O),f}static shouldAddJump(o,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i.ignored?!1:!!(!o||o.ignored&&!i.ignored||u.fuzzyCJK&&(o.isCJK!==i.isCJK||i.isCJK))}static makeLetterNode(o,i,u,d,m){return{letter:o,ignored:o.match(a),next:null,prev:i,jumps:u,visited:!1,index:d,isCJK:m}}static queryToLinkedList(o){if(!o)return null;let i=o.split("");return i.length>1024&&(i=i.slice(0,1024)),bs.queryToLinkedListWorker(i,0)}static queryToLinkedListWorker(o,i){if(i>=o.length)return null;const u=o[i],d=!!(u.match(a)&&(i!==0||o.length>1));return{letter:u,isSeparator:d,isSpace:u===" ",next:bs.queryToLinkedListWorker(o,i+1),index:i}}static searchWordBoundariesOnly(o,i){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=bs.searchWordBoundariesOnlyWorker(o,i,0,u);return d||(d=o.jumps.reduce((m,c)=>m||c===o?m:bs.searchWordBoundariesOnlyWorker(c,i,1,u),null)),d}static searchWordBoundariesOnlyWorker(o,i,u){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!o||!i)return null;let m;if(!o.visited&&(o.letter===i.letter||o.ignored&&i.isSeparator)&&(m={node:o,count:u}),!m)return null;if(!i.next)return m;o.visited=!0;let c=bs.searchWordBoundariesOnlyWorker(o.next,i.next,0,d),E=i.next;for(;E.isSeparator&&E.next;)E=E.next;return c||(c=o.jumps.reduce((f,O)=>f||O.visited||O===o||(d.searchForwardOnly||d.substringsOnly)&&O.index<o.index||d.substringsOnly&&O.index>o.index+2?f:bs.searchWordBoundariesOnlyWorker(O,E,1,d),null)),o.visited=!1,c?(m.next=c,m):null}static countResult(o){return o?o.count+bs.countResult(o.next):0}static containsAllLetters(o,i){let u=i;for(;u;){if(!(u.isSeparator||o.includes(u.letter)))return!1;u=u.next}return!0}constructor(o,i={}){this.normalizedQuery=Object(s.a)(o),this.queryNode=bs.queryToLinkedList(this.normalizedQuery),this.options=i;var u;this.fuzzyLimit=(u=this.options.fuzzyLimit)!==null&&u!==void 0?u:1/0,this.queryNoSeparators=this.normalizedQuery.replace(a,"")}},"FuzzyMatcher")},S4nM:function(H,n,e){"use strict";e.d(n,"k",function(){return E}),e.d(n,"f",function(){return T}),e.d(n,"j",function(){return j}),e.d(n,"i",function(){return D}),e.d(n,"b",function(){return L}),e.d(n,"g",function(){return W}),e.d(n,"c",function(){return w}),e.d(n,"e",function(){return X}),e.d(n,"a",function(){return me}),e.d(n,"h",function(){return le}),e.d(n,"d",function(){return de});var s=e("AFNo"),t=e("DwFS"),a=e("3REw"),r=e("S4vl"),l=e("kBpe"),o=e("RgZo"),i=e("beVI"),u=e("G0eX"),d=e("RVJP"),m=e("x+oO"),c=e("LZPg");const E=Object(t.a)("Update part or all of the call");E.meta={name:"createAction",key:"createActionupdate",description:"Update part or all of the call"};const f=Object(t.a)("Update the active call token");f.meta={name:"createAction",key:"createActionsetServerToken",description:"Update the active call token"};const O=Object(t.a)("Update the elapsed call time");O.meta={name:"createAction",key:"createActiontickCallTime",description:"Update the elapsed call time"};const p=Object(t.a)("update state to notify active call window is closed");p.meta={name:"createAction",key:"createActioncallWindowClosed",description:"update state to notify active call window is closed"};const b=Object(t.a)("Show slow network alert");b.meta={name:"createAction",key:"createActionshowSlowNetworkAlert",description:"Show slow network alert"};const T=Object(t.a)("Hide slow network alert");T.meta={name:"createAction",key:"createActionhideSlowNetworkAlert",description:"Hide slow network alert"};const v=Object(t.a)("Set no media input from microphone or camera");v.meta={name:"createAction",key:"createActionsetNoMediaInput",description:"Set no media input from microphone or camera"};const S=Object(t.a)("Clear no media input from microphone or camera");S.meta={name:"createAction",key:"createActionclearNoMediaInput",description:"Clear no media input from microphone or camera"};const A=Object(t.a)("Set no audio output");A.meta={name:"createAction",key:"createActionsetNoAudioOutput",description:"Set no audio output"};const I=Object(t.a)("Clear no audio output");I.meta={name:"createAction",key:"createActionclearNoAudioOutput",description:"Clear no audio output"};const _=Object(t.a)("Set no or low input audio level");_.meta={name:"createAction",key:"createActionsetNoOrLowInputAudioLevel",description:"Set no or low input audio level"};const M=Object(t.a)("Clear no or low input audio level");M.meta={name:"createAction",key:"createActionclearNoOrLowInputAudioLevel",description:"Clear no or low input audio level"};const y=Object(t.a)("Start session timeout check");y.meta={name:"createAction",key:"createActionstartSessionTimeoutCheck",description:"Start session timeout check"};const j=Object(t.a)("Stop session timeout check");j.meta={name:"createAction",key:"createActionstopSessionTimeoutCheck",description:"Stop session timeout check"};const C=Object(t.a)("Maybe start peer joining timeout check");C.meta={name:"createAction",key:"createActionmaybeStartPeerJoinTimeoutCheck",description:"Maybe start peer joining timeout check"};const D=Object(t.a)("Stop peer joining timeout check");D.meta={name:"createAction",key:"createActionstopPeerJoinTimeoutCheck",description:"Stop peer joining timeout check"};const N=Object(t.a)("Store gleaned contextual information from the url");N.meta={name:"createAction",key:"createActionsetInitialContext",description:"Store gleaned contextual information from the url"};const B=Object(t.a)("Set call view mode");B.meta={name:"createAction",key:"createActionsetCallViewMode",description:"Set call view mode"};const L=Object(t.a)("Ends call");L.meta={name:"createAction",key:"createActionendCall",description:"Ends call"};var U=Object(s.b)({},{hasJoined:!1,hasSelfConnected:!1,hasRemotePeerConnected:!1,hasVideoBeenEnabled:!1,hasScreenshareBeenEnabled:!1,elapsedDisplayTime:Object(o.a)(0),viewMode:a.b.SPEAKER},{storeKey:"activeCall",persistenceEnabled:!1}).on(N,(ne,q)=>{let{viewId:ce,inviterUserId:ge}=q,be,Q,re;return Object(a.t)(ce)?be=ce:Object(a.v)(ce)?Q=ce:Object(a.x)(ce)&&(re=ce),{...ne,id:be,conversationId:Q,incomingInviterUserId:ge,incomingInviteResponse:Object(l.i)()?void 0:a.f.Accept,virtualRoomId:re}}).on(E,(ne,q)=>{let{terminalState:ce}=q;return ne.terminalState&&(ce=ne.terminalState),{...ne,...q,terminalState:ce}}).on(p,(ne,q)=>{let{isCallWindowClosed:ce}=q;return{...ne,isCallWindowClosed:ce}}).on(B,(ne,q)=>{let{callViewMode:ce}=q;return{...ne,viewMode:ce}}).on(O,ne=>ne.callStartedTimestamp?{...ne,elapsedDisplayTime:Object(o.a)(Date.now()-ne.callStartedTimestamp*1e3)}:ne).on(f,(ne,q)=>{let{token:ce,tokenExpiry:ge}=q;return ne.server?{...ne,server:{...ne.server,token:ce,tokenExpiry:ge}}:(Object(r.b)("Cannot set server token without a server"),ne)}).on(c.ob,(ne,q)=>({...ne,hasVideoBeenEnabled:ne.hasVideoBeenEnabled||!!q.isCameraEnabled,hasScreenshareBeenEnabled:ne.hasScreenshareBeenEnabled||!!(Object(c.ab)(q)&&q.isScreenshareEnabled),hasSelfConnected:ne.hasSelfConnected||!!(Object(c.ab)(q)&&q.isConnected)})).on(c.qb,(ne,q)=>({...ne,hasVideoBeenEnabled:ne.hasVideoBeenEnabled||!q.isContent,hasScreenshareBeenEnabled:ne.hasScreenshareBeenEnabled||q.isContent})).on(c.lb,(ne,q)=>({...ne,hasRemotePeerConnected:ne.hasRemotePeerConnected||!!q.isConnected})).on(c.mb,(ne,q)=>({...ne,hasScreenshareBeenEnabled:ne.hasScreenshareBeenEnabled||!!q.isScreenshareEnabled}));const W=h(ne=>!!ne.activeCall.incomingInviterUserId&&!ne.activeCall.incomingInviteResponse,"isIncomingInvitePending"),x=h(ne=>!!ne.activeCall.incomingInviterUserId,"wasInvitedToCall"),G=h(ne=>!!ne.activeCall.conversationId&&Object(a.w)(ne.activeCall.conversationId),"wasCreatedFromDm"),w=h(ne=>{var q;return ne==null||(q=ne.activeCall)===null||q===void 0?void 0:q.id},"getActiveCallId"),se=h(ne=>ne.activeCall.server,"getActiveCallServer"),ee=h(ne=>ne.activeCall.conversationId,"getActiveConversationId"),X=h(ne=>ne.activeCall&&ne.activeCall.dynamicSurvey,"getDynamicSurveyRates"),me=h(ne=>ne.activeCall.hasSelfConnected&&ne.activeCall.hasRemotePeerConnected,"didSelfAndPeerConnect"),Oe=h(ne=>ne.activeCall.terminalState,"getActiveCallTerminalState"),Ce=h(ne=>{if(!(!ne.activeCall||!ne.activeCall.server))return ne.activeCall.server.hostname?a.h.ORCA:a.h.FREE_WILLY},"getCallMediaBackendType"),le=h(ne=>ne.activeCall.isShroudVisible,"isShroudVisibleInCallWindow"),de=h(ne=>{var q;return(q=ne.activeCall)===null||q===void 0?void 0:q.viewMode},"getCallViewMode"),ie=h(ne=>{var q,ce;return ne==null||(q=ne.activeCall)===null||q===void 0||(ce=q.sharedInConversations)===null||ce===void 0?void 0:ce[0]},"getCallSharedInConversation"),pe=h(ne=>{const q=Object(i.g)(ne),ce=ee(ne)||ie(ne);return!!ce&&Object(d.d)(ne,"sponsored_connections_translations")==="on"&&Object(u.G)(q)&&Object(m.b)(ne,ce)},"isSponsoredConnectionsChannel")},SNS2:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ZobM");function l(i){let{className:u="",size:d,"data-qa":m}=i;return t.a.createElement("span",{className:Object(a.default)(u,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":d===16}),style:{width:`${d}px`,height:`${d}px`},"data-qa":m},t.a.createElement("span",{className:"c-hidden_user_avatar--icon"},t.a.createElement(r.a,{size:d<=24?"16":"24",name:"user-hide"})))}h(l,"HiddenUserAvatar"),l.displayName="HiddenUserAvatar";var o=n.a=t.a.memo(l)},SRu2:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("OqoL");const t=h((a,r)=>{const l={...r,type:"message",is_ephemeral:!0,text:Object(s.b)(a,r.text,{isInternalMessage:!0})};return l.username?l.subtype="bot_message":l.user="USLACKBOT",l},"buildBotMessage")},SS7u:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},Se5r:function(H,n,e){H.exports=e.p+"ava_0022-192-0cc433a.png"},"Sf+H":function(H,n,e){"use strict";var s=e("yIs4"),t=e("ifKl"),a=e("q1tI"),r=e.n(a),l=e("BHdc"),o=e("WIr4"),i=e("Gs4e"),u=e("95ku"),d=e("oEDn"),m=e("i9y5"),c=e("2K8U"),E=e("MYuU"),f=e("eH51"),O=e("1ufr"),p=e("azFB"),b=e("nNoG");function T(){return T=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(C[B]=N[B])}return C},T.apply(this,arguments)}h(T,"_extends");const v=new b.b("select"),S=1e4,A={ArrowLeft:!0,ArrowRight:!0},I={ArrowUp:!0,ArrowDown:!0},_={Backspace:!0,Delete:!0};let M=h(class extends a.Component{componentDidMount(){const{inputRef:D,focusOnMount:N,expandOnFocus:B}=this.props,L=D&&D.current;N&&(!this.state.hasFocus&&L&&L.focus(),B&&this.showOptionsList())}componentDidUpdate(D,N){const{inputRef:B,selectState:L,focusOnMount:R}=this.props,{selectedOption:U}=L,{selectState:W}=D,{selectedOption:x}=W,G=B&&B.current,{hasFocus:w,focusedViaMouse:se}=this.state;U&&w&&!se&&(U!==x||!N.hasFocus)&&setTimeout(()=>{G==null||G.select()},50),R&&D.focusOnMount!==R&&(this.state.hasFocus||G==null||G.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(D){const{inputRef:N,selectState:B,onClick:L,expandOnClick:R,searchOnClick:U}=this.props,{isDisabled:W,isExpanded:x,selectedOption:G}=B;if(W)return;const w=N&&N.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),w==null||w.focus()),(R||G)&&!x&&this.showOptionsList({searchOnClick:U}),L&&L(D)}onBlur(D){D.persist();const{onBlur:N}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{N&&N(D)})}onFocus(D){D.persist();const{onFocus:N}=this.props;this.setState(()=>({hasFocus:!0}),()=>{N&&N(D)})}onInputChanged(D){const{selectState:N,setSelectState:B,expandOnClick:L,retainPreviousSelectionOnDelete:R}=this.props,{isExpanded:U,selectedOption:W}=N;if(this.backspaceOrDeletePressed&&D.length===0&&W){B(()=>({filterQuery:D,displayQuery:D,...R?{}:{selectedOption:null}}));return}U?!L&&!D&&B(()=>({isExpanded:!1})):this.showOptionsList(),B(()=>({filterQuery:D,displayQuery:D}))}onKeyPressedEnter(D){this.props.selectState.isExpanded?D.preventDefault():(this.showOptionsList(),D.stopPropagation())}onKeyPressedEscape(D){const{selectState:N,setSelectState:B,resultsInPopover:L,onEsc:R,onOptionsListClose:U}=this.props;N.isExpanded&&L&&(D.stopPropagation(),R&&R(),U&&U(),B(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:D,onOptionsListClose:N,selectState:B}=this.props;N&&N();const{activeRowIndex:L,initialActiveOption:R}=B;typeof L!="number"&&!R&&D(()=>({isExpanded:!1}))}onUpOrDownPressed(D){D.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),D.stopPropagation())}onWrapperKeyDown(D){const{key:N}=D;if(I[N]){this.onUpOrDownPressed(D);return}if(N==="Enter"){this.onKeyPressedEnter(D);return}if(N==="Escape"){this.onKeyPressedEscape(D);return}N==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(D){const{key:N}=D,B=_[N],L=A[N],R=B||L||Object(f.a)(D);this.setState(()=>({cursorVisible:R})),this.backspaceOrDeletePressed=B}maybeRenderIconOrLoading(){const{showDropdownIcon:D,isLoading:N,size:B,expandOnClick:L}=this.props;if(N)return r.a.createElement(m.a,{className:"c-select_input__spinner",color:"blue",size:B===c.f.LARGE?"large":"medium"});if(!D||!L)return null;const R=B===c.f.SMALL?"chevron-down":"chevron-medium-down";return r.a.createElement(d.a,{inline:!0,type:R})}showOptionsList(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:N}=D;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:N}))}updateOptionsListPosition(){const{selectState:D}=this.props,{isExpanded:N}=D;if(!N&&this.measurePopoverEvent){var B;(B=this.props.window)===null||B===void 0||B.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:D,renderSelectedOption:N,classPrefix:B,selectDataQa:L,hideSelectedOptionOnDropdownOpen:R}=this.props,{isExpanded:U,selectedOption:W}=D;if(this.state.cursorVisible||!W||U&&(R||D.filterQuery))return null;const x=Object(l.default)("c-select_input__content",{[`${B}__select_input_content`]:B});return r.a.createElement("div",{className:x,"data-qa":L?`${L}-input-content`:null},r.a.createElement("span",{className:"c-select_input__content_text"},N&&N(W)))}renderTextInput(){const{selectDataQa:D,inputRef:N,classPrefix:B,ariaLabelledBy:L,ariaDescribedBy:R,icon:U,maxCharacterLimit:W,size:x,selectState:G,autoClogProps:w}=this.props,{activeRowIndex:se,filterQuery:ee,isDisabled:X,isExpanded:me,isInvalid:Oe,isRequired:Ce,selectedOption:le,selectId:de=""}=G;let ie;ee||!me&&le?ie=null:ie=this.props.placeholderText||v.t("Please select an option");const pe=me&&Object(s.a)(se)?Object(E.a)(de,`option_${se}`):null,ne=!this.state.cursorVisible&&le&&!me,q=Object(l.default)("c-select_input",{"c-select_input--offscreen":ne,"c-select_input--invalid":Oe,[`${B}__select_input`]:B}),ce=Object(E.e)([R,Object(E.a)(de,"initial-focus")]),be=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible?ee||le&&le.label:ee,Q={spellCheck:!1,className:q,id:de,name:de,"aria-activedescendant":pe,"aria-autocomplete":"list","aria-expanded":me,"aria-owns":Object(E.a)(de,"listbox"),"aria-required":Ce,"aria-label":this.props["aria-label"],"aria-labelledby":L,"aria-describedby":ce,isInvalid:Oe,autoComplete:"off",isDisabled:X,onChange:this.onInputChanged,placeholder:ie,value:be||"","data-qa":D?`${D}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:w};return U||W?r.a.createElement(u.a,T({},Q,{icon:U,size:x,maxCharacterLimit:W,showError:!1,type:"text",inputRef:N,isInvalid:Oe})):r.a.createElement(i.b,T({},Q,{ref:N}))}render(){const{icon:D,size:N,selectDataQa:B,width:L,classPrefix:R,showDropdownIcon:U,selectState:W}=this.props,{isInvalid:x}=W,G=Object(l.default)("c-select_input__wrapper",{[`c-select_input--${N}`]:N,"c-select_input--with_icon_right":U,"c-select_input--with_icon_left":!!D,"c-select_input--invalid":x,[`${R}__select_input_wrapper`]:R}),w=Object(l.default)("c-select_input__input_container",{[`${R}__select_input_container`]:R});return r.a.createElement("div",{role:"presentation",className:G,style:{width:L},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":B?`${B}-wrapper`:null},r.a.createElement("div",{className:w},this.renderTextInput(),this.renderInputContent()),r.a.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(D){super(D),Object(o.a)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=r.a.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},D.measurePopoverEventName&&(this.measurePopoverEvent=new Event(D.measurePopoverEventName))}},"SelectInput");M.displayName="SelectInput",M.defaultProps={autoClogProps:void 0,inputRef:null,onClick:t.a,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,measurePopoverEventName:null,classPrefix:void 0,onFocus:t.a,onBlur:t.a,onEsc:t.a,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:t.a,expandOnClick:!0,searchOnClick:!1,window:p.a,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0};const y={SelectInput:M};var j=n.a=Object(O.a)(M)},Sf7p:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("G0eX"),l=e("fenk");const o=new a.b("find_team"),i=h(d=>{let{inviteDetails:m,externalWorkspaceBrandAssets:c,children:E}=d;var f;const O=Object(r.h)(m==null?void 0:m.inviting_team),p=c==null||(f=c.image_1_2)===null||f===void 0?void 0:f.source_url;return!m||!Object(l.h)(m)?E:t.a.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},p&&t.a.createElement("img",{className:"p-external_workspace_invite_branding_wrapper__image",src:p,alt:o.t("{externalWorkspaceDisplayName} image",{externalWorkspaceDisplayName:O})}),t.a.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},E))},"ExternalWorkspaceInviteBrandingWrapper");i.displayName="ExternalWorkspaceInviteBrandingWrapper";var u=n.a=i},SgHf:function(H,n,e){"use strict";var s=e("6Tgc"),t=e("2xcd");e.d(n,"b",function(){return t.a});var a=e("JYsB");e.d(n,"a",function(){return a.a});var r=e("Iquu");e.d(n,"c",function(){return r.a}),n.d=s.a},"Sw/c":function(H,n,e){H.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},SwdH:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("/MKj"),t=e("Ybt4");function a(){const{getState:r}=Object(s.useStore)();return Object(t.b)({getState:r})}h(a,"useLogger")},TGfC:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});const s=":";function t(r){let{serviceId:l,homeWorkspaceId:o}=r;return[o,l].join(s)}h(t,"getFetchId");function a(r){const[l,o]=r.split(s);return{serviceId:o,homeWorkspaceId:l}}h(a,"splitFetchId")},TMWO:function(H,n,e){"use strict";e.d(n,"b",function(){return p});var s=e("ZKjC"),t=e("QOYf"),a=e("G5NC"),r=e("Z44y"),l=e("GKly"),o=e("e9jb"),i=e("4MOp"),u=e("BeUZ"),m=h(()=>Object(t.a)(),"isDarkModeFeatureEnabled"),c=e("kBpe"),E=e("mYQK"),f=e.n(E);const O=h(()=>{var S;const A=Object(c.i)()||((S=window.matchMedia)===null||S===void 0?void 0:S.call(window,"(prefers-color-scheme)").media)!=="not all",I=Object(c.p)()&&Object(u.a)(Object(u.b)(f.a.osversion),Object(u.b)("10.14"))>=0,_=Object(c.y)(),M=I||_,y=Object(c.i)()||Object(a.a)()||Object(r.a)()||Object(l.a)()||Object(o.a)()||Object(i.a)();return Object(t.a)()&&A&&M&&y},"computeSystemSyncIsSupportedOnBoot"),p=O(),b=Object(s.b)(S=>!!p&&!!m(S));b.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:S=>!!p&&!!m(S)};var T=n.a=b;const v={computeSystemSyncIsSupportedOnBoot:O}},TUw0:function(H,n,e){"use strict";e.d(n,"a",function(){return D});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("Kmpi"),o=e("E3dU"),i=e("xwCZ"),u=e("Yauy"),d=e("C3vN"),m=e("52Wj"),c=e("+tZp"),E=e("Fn/R"),f=e("NV6F"),O=e("pFNT"),p=e("gv7z"),b=e("iXLD"),T=e("1EwG"),v=e("MC67"),S=e("XVAJ"),A=e("oEDn"),I=e("zUbs"),_=e("NPtR"),M=e("LvvF"),y=e("sGXp"),j=e("A4tE");function C(){return C=Object.assign||function(L){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(L[W]=U[W])}return L},C.apply(this,arguments)}h(C,"_extends");const D={right:"right",bottom:"bottom"};function N(L){const{className:R,id:U,invert:W=!1,member:x,memberPrimaryName:G,memberSecondaryName:w,secondaryContent:se,secondaryContentPosition:ee=D.bottom,subtext:X,showSubtext:me=!0,showAvatar:Oe=!0,showDraftIcon:Ce=!1,showPresence:le=!0,showStatus:de=!0,showTooltip:ie=!0,showAppOrBotBadge:pe=!0,isDeactivated:ne=!1,useShortMode:q,showHoverCard:ce=!1,forwardedRef:ge,"data-sk":be="medium_member_entity","data-qa":Q="medium_member_entity",isUserHidden:re=!1,noStatusText:z=!1}=L,Y=Object(E.a)(x),ve=Object(d.rb)(x),Z=Object(d.V)(x),$=Object(d.jb)(x),te=Object(d.ib)(x),J=Object(l.c)(x),k=Object(l.d)(x),ae=t.a.createElement(I.a,{"data-qa":"member-entity__primary-name",name:G,invert:W&&!ne,isAppOrBot:Y,isWorkflowBot:ve,showAppOrBotBadge:pe,isDeleted:Z,isSelf:$,isNonExistent:J,isUnknown:k,isUserHidden:re}),Ee=Object(f.C)({memberId:U,children:ae}),_e=!re&&t.a.createElement(v.a,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},w),je=x&&t.a.createElement(T.a,{className:"c-member__title","data-qa":"member-entity__title"},Object(d.F)(x)),Ue=!Z&&!te&&t.a.createElement(_.a,{memberId:U,className:"c-member__presence",invert:W&&!ne,"data-qa":"member-entity__presence",inline:!1}),Ke=t.a.createElement(S.b,{memberId:U,tooltip:ie,animated:q,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:z}),ke=ee===D.bottom&&se?t.a.createElement(b.a,{"data-qa":"member-entity__metadata"},se):null,Qe=t.a.createElement("span",{className:"c-member__primary_content"},ce?Ee:ae,le&&Ue,!q&&_e,de&&Ke),Ze=Z||ne?y.d.dim:void 0,De=Object(r.default)(R,"c-member","c-member--medium",{"c-member--with-presence":le}),Fe=Object(s.useCallback)(Ve=>Oe&&(Ce?t.a.createElement(A.a,{type:"pencil",size:"inherit",className:"c-member__draft_icon","aria-hidden":!0,"data-qa":"member-entity__draft-icon"}):t.a.createElement(O.c,C({},Ve,{size:y.a.medium,userId:U,"data-qa":"member-entity__avatar",isInteractive:!1}))),[Oe,Ce,U]);return t.a.createElement(p.a,{avatar:Fe,className:De,size:"medium",style:Ze,text:Qe,subtext:me&&(X||je),metadata:!Z&&ke,"data-qa":Q,"data-sk":be,forwardedRef:ge})}h(N,"MediumMemberEntity"),N.displayName="MediumMemberEntity";function B(L,R){let{id:U,isDraftContext:W,member:x,showStatus:G}=R;const w=x||Object(i.g)(L,U);let se=!1;if(W&&U){const X=Object(o.m)(L,U);se=!!(X&&Object(u.v)(L,X.id))}const ee=U||(w==null?void 0:w.id);return{id:ee,member:w??void 0,memberPrimaryName:Object(c.a)(L,w,!1,!1),memberSecondaryName:Object(m.g)(L,w),showDraftIcon:se,showStatus:G&&Object(d.K)(w),isUserHidden:!!ee&&Object(M.b)(L,ee)}}h(B,"mapStateToProps"),n.b=Object(a.a)(B)(N)},TiPP:function(H,n,e){"use strict";e.d(n,"a",function(){return me}),e.d(n,"b",function(){return le});var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("JvzI"),l=e("d/xU"),o=e("BHdc"),i=e("Cfcg"),u=e("Tevt"),d=e("Trx9"),m=e("zm5I"),c=e("aBhT"),E=e("bdgK"),f=e("oEDn");let O=h(class extends s.PureComponent{render(){const{text:pe,className:ne,href:q,tabIndex:ce,autoClogProps:ge}=this.props,be=Object(o.default)("p-arrow_cta",ne);return t.a.createElement("span",{className:be},q?t.a.createElement(u.a,{href:q,tabIndex:ce,autoClogProps:ge},t.a.createElement("strong",null,pe)):t.a.createElement("strong",null,pe),t.a.createElement(f.a,{type:"arrow-large-right",inline:!0,className:"p-arrow_cta__icon"}))}},"ArrowCTA");O.displayName="ArrowCTA",O.defaultProps={tabIndex:0};var p=O;const b=new a.b("paid_onboarding"),T=436,v=202,S=140,A=22;let I=h(class extends s.PureComponent{componentDidMount(){this.setupObserver(),this.setUpMedia()}componentWillUnmount(){var pe;(pe=this.observer)===null||pe===void 0||pe.disconnect()}setupObserver(){var pe,ne;if(!E.a||!(!((pe=this.cardContainerRef)===null||pe===void 0)&&pe.current)||!(!((ne=this.titleRef)===null||ne===void 0)&&ne.current))return;const q=h(ce=>{var ge,be,Q,re;const z=ce[0],Y=ce[1],ve=(z==null?void 0:z.target.className)==="p-paid_benefits_card__container"?z==null||(ge=z.contentRect)===null||ge===void 0?void 0:ge.width:Y==null||(be=Y.contentRect)===null||be===void 0?void 0:be.width,Z=(z==null?void 0:z.target.className)==="p-paid_benefits_card__container"?Y==null||(Q=Y.contentRect)===null||Q===void 0?void 0:Q.height:z==null||(re=z.contentRect)===null||re===void 0?void 0:re.height;if(ve>=T&&this.state.hideAssets?this.setState(()=>({hideAssets:!1})):ve<T&&!this.state.hideAssets&&this.setState(()=>({hideAssets:!0})),ve>=T&&Z){const $=Math.floor((v-Z)/A);$!==this.state.subtitleLines&&($<1?this.setSubtitleLines(1):this.setSubtitleLines($))}else if(ve<T&&Z){const $=Math.floor((S-Z)/A);$!==this.state.subtitleLines&&($<1?this.setSubtitleLines(1):this.setSubtitleLines($))}},"observerCallback");this.observer=new E.a(q),this.observer.observe(this.cardContainerRef.current),this.observer.observe(this.titleRef.current)}setSubtitleLines(pe){this.setState(()=>({subtitleLines:pe}))}setUpMedia(){const pe=this.videoRef.current;pe&&(pe.muted=!0)}renderVideo(){const{videoSrc:pe,videoExtension:ne,videoPoster:q}=this.props;return t.a.createElement("video",{playsInline:!0,autoPlay:!0,loop:!0,className:"p-paid_benefits_card__video",poster:`${q||pe}.${ne||"jpg"}`,ref:this.videoRef},t.a.createElement("source",{type:"video/mp4",src:`${pe}.mp4`}),t.a.createElement("source",{type:"video/webm",src:`${pe}.webm`}))}renderImage(){const{imageSrc:pe,srcSet:ne,imageWidth:q,imageHeight:ce,name:ge}=this.props,be=`p-paid_benefits_card__img--${ge}`;return t.a.createElement("img",{alt:"",srcSet:ne,src:pe,width:q,height:ce,className:`p-paid_benefits_card__img ${be}`})}render(){const{ctaURL:pe,name:ne,imageSrc:q,videoSrc:ce,background:ge,shouldDisplayReverse:be,heading:Q,title:re,subtitle:z,icon:Y,isDarkMode:ve}=this.props,Z=Object(o.default)("p-paid_benefits_card__link",{"p-paid_benefits_card__reverse_link":be,"p-paid_benefits_card__link--dark":ve}),$=Object(o.default)("p-paid_benefits_card__sub_container","p-paid_benefits_card__img_container",{"p-paid_benefits_card__reverse_img_container":be,"p-paid_benefits_card__img_container--hide":this.state.hideAssets}),te=Object(o.default)("p-paid_benefits_card__sub_container","p-paid_benefits_card__content_container"),J=Object(o.default)("p-paid_benefits_card__icon",{"p-paid_benefits_card__icon--hide":!this.state.hideAssets});return t.a.createElement(d.a,{clogImpression:!0,elementName:`paid_benefits_card_${ne}`,clogImpressionDuration:!0},t.a.createElement("div",{className:"p-paid_benefits_card__container",ref:this.cardContainerRef},t.a.createElement(u.a,{className:Z,"data-qa":"paid_benefits_card_learn_more_link",href:pe,autoClogProps:{elementName:`${ne}_learn_more`,onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:$,style:{background:ge}},ce&&this.renderVideo(),q&&this.renderImage()),t.a.createElement("div",{className:te},t.a.createElement(Y,{className:J,fillColor:ge}),t.a.createElement("div",{className:"p-paid_benefits_card__heading"},Q),t.a.createElement("div",{className:"p-paid_benefits_card__title",ref:this.titleRef},re),t.a.createElement(c.a,{breakWords:!1,lines:this.state.subtitleLines},t.a.createElement("div",{className:"p-paid_benefits_card__subtitle"},z)),t.a.createElement(p,{text:b.t("Learn more",{fallbackHash:"378cbbf54cbb2e3f3bd201f02c1b946ec3601eba"}),className:"p-paid_benefits_card__learn_more_link"})))))}constructor(pe){super(pe),this.cardContainerRef=t.a.createRef(),this.titleRef=t.a.createRef(),this.videoRef=t.a.createRef(),this.state={subtitleLines:7,hideAssets:!1}}},"PaidBenefitsCard");I.displayName="PaidBenefitsCard";const _=h(ie=>({isDarkMode:Object(m.a)(ie)==="dark"}),"mapStateToProps");var M=Object(i.a)(_)(I),j=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("path",{d:"M42.0001 9.07203H35.7721C35.8299 8.11471 35.7119 7.1549 35.4241 6.24003C35.0169 4.94799 34.2695 3.78935 33.2602 2.88567C32.251 1.982 31.0171 1.3666 29.6881 1.10403C28.5771 0.876143 27.4294 0.898319 26.328 1.16895C25.2267 1.43959 24.1993 1.9519 23.3205 2.66875C22.4417 3.3856 21.7334 4.28902 21.2469 5.31352C20.7605 6.33802 20.5081 7.45792 20.5081 8.59203C20.5081 8.74803 20.5081 8.91603 20.5081 9.07203H14.2921C12.9405 9.0752 11.6451 9.61354 10.6894 10.5693C9.73363 11.525 9.1953 12.8204 9.19213 14.172V19.728C8.14061 19.6445 7.08318 19.7795 6.08639 20.1246C5.08959 20.4696 4.17499 21.0173 3.40015 21.733C2.6253 22.4487 2.00698 23.3171 1.58408 24.2834C1.16119 25.2498 0.942871 26.2932 0.942871 27.348C0.942871 28.4029 1.16119 29.4463 1.58408 30.4126C2.00698 31.379 2.6253 32.2473 3.40015 32.9631C4.17499 33.6788 5.08959 34.2264 6.08639 34.5715C7.08318 34.9165 8.14061 35.0516 9.19213 34.968V41.88C9.1953 43.2317 9.73363 44.527 10.6894 45.4828C11.6451 46.4385 12.9405 46.9769 14.2921 46.98H42.0001C43.3518 46.9769 44.6471 46.4385 45.6029 45.4828C46.5586 44.527 47.097 43.2317 47.1001 41.88V14.172C47.097 12.8204 46.5586 11.525 45.6029 10.5693C44.6471 9.61354 43.3518 9.0752 42.0001 9.07203ZM44.1001 41.88C44.097 42.436 43.8747 42.9683 43.4816 43.3615C43.0884 43.7546 42.5561 43.9769 42.0001 43.98H14.2921C13.7361 43.9769 13.2038 43.7546 12.8107 43.3615C12.4175 42.9683 12.1953 42.436 12.1921 41.88V33.096C12.1857 32.8592 12.1237 32.6273 12.0111 32.4188C11.8985 32.2104 11.7386 32.0313 11.5441 31.896C11.2922 31.7263 10.9959 31.6345 10.6921 31.632C10.5121 31.6357 10.3339 31.6682 10.1641 31.728C9.38335 32.0204 8.53827 32.0971 7.71761 31.9502C6.89694 31.8033 6.13095 31.4382 5.50003 30.8932C4.86912 30.3482 4.39655 29.6435 4.13193 28.8529C3.86731 28.0623 3.8204 27.215 3.99613 26.4C4.13505 25.7469 4.4132 25.1314 4.81161 24.5955C5.21001 24.0596 5.7193 23.6159 6.30474 23.2947C6.89017 22.9735 7.538 22.7824 8.20402 22.7343C8.87005 22.6862 9.53861 22.7823 10.1641 23.016C10.3921 23.0988 10.6366 23.1255 10.8771 23.0939C11.1175 23.0623 11.3469 22.9734 11.5457 22.8345C11.7446 22.6957 11.9071 22.511 12.0196 22.2962C12.1321 22.0813 12.1913 21.8426 12.1921 21.6V14.172C12.1921 13.6151 12.4134 13.0809 12.8072 12.6871C13.201 12.2933 13.7352 12.072 14.2921 12.072H22.3321C22.5708 12.0739 22.8064 12.0183 23.0191 11.91C23.2318 11.8017 23.4153 11.6438 23.5542 11.4497C23.693 11.2555 23.7831 11.0308 23.8169 10.7945C23.8506 10.5582 23.8271 10.3173 23.7481 10.092C23.5915 9.60734 23.5106 9.1014 23.5081 8.59203C23.5068 7.91707 23.6527 7.24994 23.9355 6.63709C24.2183 6.02424 24.6313 5.48041 25.1458 5.04347C25.6602 4.60653 26.2637 4.28698 26.9143 4.10707C27.5648 3.92716 28.2468 3.89122 28.9126 4.00176C29.5785 4.11229 30.2122 4.36664 30.7698 4.74709C31.3273 5.12754 31.7952 5.62494 32.1408 6.20467C32.4865 6.78439 32.7017 7.4325 32.7713 8.10386C32.841 8.77522 32.7634 9.4537 32.5441 10.092C32.4652 10.3173 32.4416 10.5582 32.4754 10.7945C32.5091 11.0308 32.5992 11.2555 32.7381 11.4497C32.8769 11.6438 33.0604 11.8017 33.2731 11.91C33.4858 12.0183 33.7214 12.0739 33.9601 12.072H42.0001C42.5571 12.072 43.0912 12.2933 43.4851 12.6871C43.8789 13.0809 44.1001 13.6151 44.1001 14.172V41.88Z",fill:ie.fillColor}),t.a.createElement("path",{d:"M35.9999 25.812H29.9999V20.4C29.9999 20.0022 29.8418 19.6207 29.5605 19.3394C29.2792 19.0581 28.8977 18.9 28.4999 18.9C28.102 18.9 27.7205 19.0581 27.4392 19.3394C27.1579 19.6207 26.9999 20.0022 26.9999 20.4V25.812H21.5999C21.2267 25.8455 20.8796 26.0174 20.6269 26.2939C20.3741 26.5703 20.2339 26.9314 20.2339 27.306C20.2339 27.6806 20.3741 28.0417 20.6269 28.3182C20.8796 28.5947 21.2267 28.7666 21.5999 28.8H27.0119V34.8C27.0453 35.1731 27.2172 35.5202 27.4937 35.773C27.7702 36.0258 28.1312 36.166 28.5059 36.166C28.8805 36.166 29.2415 36.0258 29.518 35.773C29.7945 35.5202 29.9664 35.1731 29.9999 34.8V28.8H35.9999C36.3977 28.8 36.7792 28.642 37.0605 28.3607C37.3418 28.0794 37.4999 27.6978 37.4999 27.3C37.4999 26.9022 37.3418 26.5207 37.0605 26.2394C36.7792 25.9581 36.3977 25.8 35.9999 25.8V25.812Z",fill:ie.fillColor}))),D=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.186 4c.923 0 1.671.748 1.671 1.671v3.343H16.2a1.671 1.671 0 0 1 0 3.343h-3.343V15.7a1.671 1.671 0 1 1-3.342 0v-3.343H6.17a1.671 1.671 0 1 1 0-3.343h3.344V5.671c0-.923.748-1.671 1.671-1.671zm11.7 1.114a1.671 1.671 0 0 0 0 3.343h12.257a5.014 5.014 0 0 1 5.014 5.014V25.73H29.571a3.343 3.343 0 0 0-3.342 3.342v10.586H13.972a5.014 5.014 0 0 1-5.015-5.014V22.386a1.671 1.671 0 0 0-3.342 0v12.257A8.357 8.357 0 0 0 13.972 43h12.782a6.128 6.128 0 0 0 4.333-1.795l10.618-10.618a6.129 6.129 0 0 0 1.795-4.334V13.471a8.357 8.357 0 0 0-8.357-8.357H22.886zm6.685 32.88 8.922-8.923h-8.922v8.922z",fill:"#C03765"}))),B=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("path",{d:"M16.3802 47.1C15.9184 47.0979 15.4643 46.9814 15.0584 46.7609C14.6526 46.5405 14.3077 46.2229 14.0545 45.8366C13.8013 45.4504 13.6478 45.0074 13.6076 44.5473C13.5674 44.0872 13.6419 43.6243 13.8242 43.2L20.1362 28.8H13.2002C12.5133 28.8042 11.8364 28.6345 11.2328 28.3065C10.6291 27.9785 10.1184 27.503 9.74819 26.9243C9.37797 26.3456 9.16034 25.6826 9.11558 24.9971C9.07082 24.3116 9.2004 23.6259 9.49222 23.004L18.6242 3.27598C18.9491 2.56403 19.4708 1.95983 20.1278 1.5346C20.7848 1.10937 21.5497 0.880851 22.3322 0.875977H31.9322C32.4036 0.876886 32.8671 0.996961 33.2797 1.22504C33.6922 1.45312 34.0404 1.7818 34.2918 2.18053C34.5433 2.57926 34.6898 3.03509 34.7179 3.50564C34.7459 3.9762 34.6545 4.44621 34.4522 4.87198L28.0802 18.192H36.0002C36.8049 18.1892 37.5925 18.4243 38.2638 18.868C38.9352 19.3116 39.4604 19.9438 39.7733 20.6852C40.0863 21.4265 40.173 22.2439 40.0227 23.0344C39.8723 23.8249 39.4915 24.5533 38.9282 25.128L18.3842 46.248C18.1242 46.5168 17.8128 46.7307 17.4686 46.8771C17.1244 47.0234 16.7543 47.0992 16.3802 47.1ZM22.4042 25.824C22.6542 25.8253 22.8759 25.8525 23.0954 25.972C23.3149 26.0916 23.5014 26.2637 23.6381 26.4729C23.7748 26.6821 23.8576 26.922 23.8789 27.1711C23.9002 27.4201 23.8594 27.6705 23.7602 27.9L17.0282 43.332L36.7442 23.04C36.9004 22.8873 37.0059 22.6904 37.0467 22.4758C37.0875 22.2612 37.0615 22.0393 36.9722 21.84C36.8901 21.6413 36.75 21.472 36.5702 21.3543C36.3903 21.2365 36.1791 21.1758 35.9642 21.18H25.7042C25.4509 21.1798 25.2016 21.116 24.9794 20.9944C24.7571 20.8728 24.569 20.6973 24.4322 20.484C24.3013 20.267 24.2253 20.0214 24.2107 19.7684C24.196 19.5154 24.2432 19.2626 24.3482 19.032L31.5482 3.88798H22.3322C22.1244 3.88807 21.921 3.94813 21.7465 4.06094C21.5719 4.17376 21.4337 4.33453 21.3482 4.52398L12.2402 24.288C12.1642 24.4511 12.1302 24.6306 12.1412 24.8103C12.1522 24.9899 12.2079 25.1639 12.3033 25.3165C12.3987 25.4692 12.5307 25.5955 12.6873 25.6841C12.844 25.7727 13.0203 25.8208 13.2002 25.824H22.4042Z",fill:ie.fillColor}))),R=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M39.6958 7.56802C37.8926 5.49468 35.6653 3.83255 33.1645 2.69394C30.6637 1.55533 27.9476 0.966766 25.1998 0.96802C24.3531 0.970215 23.5074 1.02633 22.6678 1.13602C19.4055 1.55428 16.3052 2.8036 13.6644 4.7642C11.0236 6.7248 8.93066 9.33093 7.58635 12.3327C6.24205 15.3345 5.69141 18.6313 5.98725 21.9071C6.28308 25.1828 7.41546 28.3276 9.27582 31.04L3.51582 38.444C2.84978 39.2971 2.43702 40.3203 2.32465 41.3968C2.21229 42.4732 2.40484 43.5596 2.88034 44.5319C3.35583 45.5041 4.09511 46.3231 5.01379 46.8953C5.93246 47.4676 6.99351 47.77 8.07582 47.768C8.95003 47.7691 9.81297 47.5709 10.599 47.1882C11.385 46.8056 12.0734 46.2488 12.6118 45.56L18.3598 38.24C21.4954 39.4291 24.8858 39.7846 28.1998 39.272C31.6122 38.7535 34.8217 37.3247 37.4906 35.1361C40.1594 32.9474 42.1889 30.0797 43.3655 26.8349C44.5421 23.5901 44.8222 20.0881 44.1764 16.6975C43.5306 13.3069 41.9828 10.1531 39.6958 7.56802ZM41.3518 22.424C40.8889 25.9022 39.3156 29.1381 36.866 31.6505C34.4163 34.1628 31.2212 35.8173 27.7558 36.368C26.9179 36.4962 26.0715 36.5604 25.2238 36.56C22.8604 36.5648 20.525 36.0486 18.3838 35.048C18.203 34.9647 18.0069 34.9197 17.8078 34.916C17.6164 34.9159 17.4274 34.959 17.2549 35.0421C17.0825 35.1253 16.931 35.2462 16.8118 35.396L10.2598 43.796C9.99082 44.1101 9.65524 44.3602 9.27746 44.5284C8.89968 44.6965 8.48919 44.7784 8.07582 44.768C7.55687 44.7676 7.04846 44.6214 6.60846 44.3463C6.16846 44.0711 5.81454 43.678 5.58697 43.2116C5.3594 42.7452 5.26732 42.2243 5.32121 41.7081C5.37511 41.192 5.57281 40.7013 5.89182 40.292L12.4558 31.892C12.631 31.6652 12.726 31.3866 12.726 31.1C12.726 30.8134 12.631 30.5349 12.4558 30.308C10.8025 28.1963 9.69728 25.7084 9.23848 23.0661C8.77969 20.4237 8.98162 17.7088 9.82629 15.1634C10.671 12.618 12.1321 10.321 14.0796 8.47713C16.0271 6.63324 18.4005 5.2997 20.9882 4.59532C23.576 3.89093 26.2978 3.83757 28.9112 4.43999C31.5245 5.04241 33.9483 6.2819 35.9666 8.04804C37.9849 9.81418 39.535 12.0521 40.4787 14.5625C41.4225 17.0729 41.7307 19.7777 41.3758 22.436L41.3518 22.424Z",fill:ie.fillColor}),t.a.createElement("path",{d:"M25.2 9.13989C22.4134 9.14529 19.7304 10.1964 17.6816 12.0852C15.6328 13.974 14.3675 16.5629 14.136 19.3399H12.336C12.2353 19.3384 12.1364 19.3672 12.0522 19.4225C11.968 19.4777 11.9022 19.557 11.8635 19.65C11.8247 19.743 11.8147 19.8455 11.8348 19.9442C11.8549 20.0429 11.9041 20.1334 11.976 20.2039L15.168 23.4079C15.2644 23.5017 15.3936 23.5542 15.528 23.5542C15.6625 23.5542 15.7917 23.5017 15.888 23.4079L19.092 20.2039C19.164 20.1334 19.2132 20.0429 19.2333 19.9442C19.2533 19.8455 19.2433 19.743 19.2046 19.65C19.1658 19.557 19.1001 19.4777 19.0159 19.4225C18.9316 19.3672 18.8328 19.3384 18.732 19.3399H17.088C17.3057 17.4537 18.18 15.7042 19.5579 14.3979C20.9357 13.0915 22.7292 12.3115 24.6243 12.1945C26.5194 12.0775 28.3953 12.631 29.9233 13.7579C31.4514 14.8849 32.5343 16.5135 32.9823 18.3586C33.4303 20.2037 33.215 22.1476 32.3739 23.8499C31.5328 25.5521 30.1197 26.9042 28.382 27.6693C26.6443 28.4345 24.6928 28.5639 22.8693 28.0349C21.0458 27.5059 19.4665 26.3522 18.408 24.7759C18.1862 24.4473 17.8432 24.22 17.4542 24.1435C17.0652 24.0671 16.6618 24.1477 16.332 24.3679C16.0027 24.592 15.7751 24.937 15.6987 25.328C15.6223 25.719 15.7033 26.1243 15.924 26.4559C16.9937 28.0452 18.456 29.3311 20.1692 30.1885C21.8823 31.046 23.788 31.446 25.7014 31.3497C27.6147 31.2534 29.4706 30.6641 31.089 29.6389C32.7074 28.6138 34.0333 27.1876 34.9379 25.4989C35.8425 23.8102 36.2952 21.9163 36.2519 20.001C36.2087 18.0857 35.671 16.2142 34.6911 14.568C33.7112 12.9218 32.3224 11.5569 30.6594 10.6058C28.9964 9.65475 27.1158 9.14977 25.2 9.13989Z",fill:ie.fillColor})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0"},t.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(0 0.36792)"}))))),W=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("path",{d:"M38.4 4.96392H25.116L26.256 3.76392C26.5107 3.47743 26.646 3.10432 26.6342 2.72118C26.6224 2.33804 26.4644 1.97395 26.1926 1.70367C25.9207 1.43339 25.5558 1.27743 25.1726 1.26781C24.7894 1.25818 24.417 1.39563 24.132 1.65192L20.532 5.25192C20.3923 5.39126 20.2815 5.55679 20.2059 5.73902C20.1302 5.92126 20.0913 6.11662 20.0913 6.31392C20.0913 6.51122 20.1302 6.70659 20.2059 6.88882C20.2815 7.07106 20.3923 7.23659 20.532 7.37592L24.132 10.9759C24.2718 11.1169 24.4381 11.2288 24.6215 11.305C24.8048 11.3812 25.0014 11.4203 25.2 11.4199C25.3969 11.4214 25.5921 11.3828 25.7736 11.3065C25.9552 11.2301 26.1193 11.1177 26.256 10.9759C26.3953 10.8376 26.5059 10.6731 26.5813 10.4919C26.6568 10.3106 26.6957 10.1162 26.6957 9.91992C26.6957 9.7236 26.6568 9.52922 26.5813 9.34799C26.5059 9.16675 26.3953 9.00223 26.256 8.86392L25.308 7.91592H38.4C38.956 7.91907 39.4883 8.14133 39.8814 8.53448C40.2746 8.92762 40.4968 9.45994 40.5 10.0159V38.7679C40.4968 39.3239 40.2746 39.8562 39.8814 40.2494C39.4883 40.6425 38.956 40.8648 38.4 40.8679H32.4C32.0022 40.8679 31.6206 41.026 31.3393 41.3073C31.058 41.5886 30.9 41.9701 30.9 42.3679C30.9 42.7657 31.058 43.1473 31.3393 43.4286C31.6206 43.7099 32.0022 43.8679 32.4 43.8679H38.4C39.7516 43.8648 41.047 43.3264 42.0027 42.3707C42.9585 41.4149 43.4968 40.1196 43.5 38.7679V10.0639C43.4968 8.71229 42.9585 7.41693 42.0027 6.46118C41.047 5.50543 39.7516 4.96709 38.4 4.96392Z",fill:ie.fillColor}),t.a.createElement("path",{d:"M23.832 37.7119C23.547 37.4556 23.1746 37.3181 22.7914 37.3278C22.4082 37.3374 22.0432 37.4933 21.7714 37.7636C21.4996 38.0339 21.3416 38.398 21.3298 38.7811C21.318 39.1643 21.4533 39.5374 21.708 39.8239L22.752 40.8679H9.6C9.04402 40.8647 8.5117 40.6425 8.11856 40.2493C7.72541 39.8562 7.50315 39.3239 7.5 38.7679V10.0639C7.50315 9.50788 7.72541 8.97557 8.11856 8.58242C8.5117 8.18928 9.04402 7.96702 9.6 7.96387H15.6C15.9978 7.96387 16.3794 7.80583 16.6607 7.52453C16.942 7.24322 17.1 6.86169 17.1 6.46387C17.1 6.06604 16.942 5.68451 16.6607 5.40321C16.3794 5.1219 15.9978 4.96387 15.6 4.96387H9.6C8.24837 4.96704 6.95301 5.50537 5.99726 6.46112C5.04151 7.41687 4.50317 8.71224 4.5 10.0639V38.7679C4.50317 40.1195 5.04151 41.4149 5.99726 42.3706C6.95301 43.3264 8.24837 43.8647 9.6 43.8679H22.8L21.756 44.9119C21.5488 45.1209 21.4076 45.3862 21.3501 45.6749C21.2926 45.9635 21.3212 46.2627 21.4325 46.5352C21.5438 46.8077 21.7328 47.0414 21.976 47.2072C22.2191 47.3731 22.5057 47.4637 22.8 47.4679C22.9969 47.4693 23.1921 47.4307 23.3736 47.3544C23.5552 47.2781 23.7193 47.1656 23.856 47.0239L27.456 43.4239C27.5957 43.2845 27.7065 43.119 27.7821 42.9368C27.8578 42.7545 27.8967 42.5592 27.8967 42.3619C27.8967 42.1646 27.8578 41.9692 27.7821 41.787C27.7065 41.6047 27.5957 41.4392 27.456 41.2999L23.832 37.7119Z",fill:ie.fillColor}),t.a.createElement("path",{d:"M22.2841 14.396C21.9099 14.3471 21.5312 14.4446 21.2271 14.6682C20.923 14.8918 20.717 15.2242 20.6521 15.596L20.2561 18.368H16.7281C16.3462 18.368 15.9799 18.5197 15.7099 18.7898C15.4398 19.0598 15.2881 19.4261 15.2881 19.808C15.2881 20.1899 15.4398 20.5562 15.7099 20.8262C15.9799 21.0963 16.3462 21.248 16.7281 21.248H19.8361L19.0801 26.36H15.6001C15.4008 26.3417 15.1998 26.3652 15.0101 26.429C14.8203 26.4928 14.646 26.5954 14.4981 26.7303C14.3503 26.8653 14.2322 27.0296 14.1513 27.2127C14.0705 27.3958 14.0288 27.5938 14.0288 27.794C14.0288 27.9942 14.0705 28.1921 14.1513 28.3753C14.2322 28.5584 14.3503 28.7227 14.4981 28.8576C14.646 28.9926 14.8203 29.0952 15.0101 29.159C15.1998 29.2227 15.4008 29.2462 15.6001 29.228H18.6241L18.1561 32.768C18.1041 33.1427 18.2004 33.523 18.4245 33.8278C18.6487 34.1326 18.9829 34.3379 19.3561 34.4H19.5721C19.9118 34.3991 20.2401 34.2782 20.4993 34.0586C20.7584 33.839 20.9315 33.5349 20.9881 33.2L21.6001 29.228H25.3921L24.8401 32.768C24.7881 33.1427 24.8844 33.523 25.1085 33.8278C25.3327 34.1326 25.6669 34.3379 26.0401 34.4H26.2561C26.5958 34.3991 26.9241 34.2782 27.1833 34.0586C27.4424 33.839 27.6155 33.5349 27.6721 33.2L28.2481 29.3H31.2601C31.6178 29.2672 31.9503 29.102 32.1925 28.8367C32.4346 28.5714 32.5688 28.2252 32.5688 27.866C32.5688 27.5068 32.4346 27.1606 32.1925 26.8953C31.9503 26.63 31.6178 26.4647 31.2601 26.432H28.6801L29.4241 21.32H32.4001C32.7916 21.32 33.167 21.1645 33.4438 20.8877C33.7206 20.6109 33.8761 20.2355 33.8761 19.844C33.8761 19.4525 33.7206 19.0771 33.4438 18.8003C33.167 18.5235 32.7916 18.368 32.4001 18.368H29.8801L30.2281 16.028C30.2802 15.6532 30.1839 15.273 29.9597 14.9682C29.7356 14.6634 29.4013 14.4581 29.0281 14.396C28.6548 14.3442 28.276 14.4408 27.9731 14.6652C27.6702 14.8896 27.4674 15.2237 27.4081 15.596L26.9401 18.368H23.1601L23.4961 16.028C23.5511 15.651 23.4544 15.2675 23.2273 14.9616C23.0001 14.6557 22.661 14.4523 22.2841 14.396ZM26.5201 21.248L25.7761 26.36H21.9841L22.8001 21.248H26.5201Z",fill:ie.fillColor}))),G=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"49",viewBox:"0 0 48 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("g",{clipPath:"url(#clip0)"},t.a.createElement("path",{d:"M26.6159 29.9C26.6149 29.3387 26.4692 28.7872 26.1928 28.2987C25.9165 27.8102 25.5188 27.4012 25.0383 27.1112C24.5577 26.8212 24.0105 26.66 23.4495 26.6432C22.8885 26.6265 22.3326 26.7546 21.8356 27.0154C21.3386 27.2761 20.9172 27.6606 20.6121 28.1317C20.3071 28.6028 20.1286 29.1446 20.0941 29.7048C20.0595 30.265 20.17 30.8247 20.4149 31.3297C20.6597 31.8348 21.0307 32.2681 21.4919 32.588L20.9279 35.432C20.8469 35.7919 20.8479 36.1654 20.9308 36.5249C21.0138 36.8844 21.1765 37.2206 21.4069 37.5087C21.6374 37.7968 21.9297 38.0294 22.2622 38.1892C22.5948 38.349 22.959 38.432 23.3279 38.432C23.6968 38.432 24.061 38.349 24.3935 38.1892C24.726 38.0294 25.0184 37.7968 25.2488 37.5087C25.4793 37.2206 25.642 36.8844 25.7249 36.5249C25.8079 36.1654 25.8089 35.7919 25.7279 35.432L25.1999 32.588C25.6362 32.2883 25.993 31.887 26.2397 31.4188C26.4864 30.9505 26.6155 30.4292 26.6159 29.9Z",fill:ie.fillColor}),t.a.createElement("path",{d:"M35.0158 17.6359V12.9439C35.0659 11.3799 34.8012 9.82179 34.2373 8.36211C33.6734 6.90243 32.8219 5.57099 31.7332 4.4469C30.6446 3.32281 29.3412 2.42902 27.9003 1.81862C26.4594 1.20822 24.9106 0.893677 23.3458 0.893677C21.781 0.893677 20.2321 1.20822 18.7913 1.81862C17.3504 2.42902 16.0469 3.32281 14.9583 4.4469C13.8697 5.57099 13.0181 6.90243 12.4543 8.36211C11.8904 9.82179 11.6256 11.3799 11.6758 12.9439V17.6359C10.5194 17.8685 9.47908 18.4938 8.73111 19.4058C7.98313 20.3178 7.57354 21.4604 7.57178 22.6399V42.3679C7.57178 43.7205 8.1091 45.0177 9.06553 45.9742C10.022 46.9306 11.3192 47.4679 12.6718 47.4679H34.0318C35.3834 47.4648 36.6788 46.9264 37.6345 45.9707C38.5903 45.0149 39.1286 43.7196 39.1318 42.3679V22.6399C39.1272 21.4594 38.7151 20.3166 37.9651 19.4048C37.2151 18.493 36.1733 17.8682 35.0158 17.6359ZM23.3518 4.26794C25.6507 4.27112 27.8544 5.1866 29.4789 6.81332C31.1034 8.44004 32.0158 10.645 32.0158 12.9439V17.5399H29.9278V12.9199C29.9278 11.1695 29.2324 9.49078 27.9947 8.25304C26.7569 7.0153 25.0782 6.31994 23.3278 6.31994C21.5774 6.31994 19.8986 7.0153 18.6609 8.25304C17.4231 9.49078 16.7278 11.1695 16.7278 12.9199V17.5399H14.6758V12.9439C14.6758 10.6429 15.5899 8.43615 17.2169 6.80908C18.844 5.18202 21.0508 4.26794 23.3518 4.26794ZM26.9518 17.5399H19.7518V12.9199C19.7518 11.9652 20.1311 11.0495 20.8062 10.3744C21.4813 9.69923 22.397 9.31994 23.3518 9.31994C24.3066 9.31994 25.2222 9.69923 25.8974 10.3744C26.5725 11.0495 26.9518 11.9652 26.9518 12.9199V17.5399ZM36.1318 42.3679C36.1286 42.9239 35.9064 43.4562 35.5132 43.8494C35.1201 44.2425 34.5878 44.4648 34.0318 44.4679H12.6718C12.1148 44.4679 11.5807 44.2467 11.1869 43.8529C10.793 43.459 10.5718 42.9249 10.5718 42.3679V22.6399C10.5718 22.083 10.793 21.5488 11.1869 21.155C11.5807 20.7612 12.1148 20.5399 12.6718 20.5399H34.0318C34.5887 20.5399 35.1229 20.7612 35.5167 21.155C35.9105 21.5488 36.1318 22.083 36.1318 22.6399V42.3679Z",fill:ie.fillColor})),t.a.createElement("defs",null,t.a.createElement("clipPath",{id:"clip0"},t.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(0 0.36792)"}))))),se=t.a.memo(ie=>t.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ie.className},t.a.createElement("path",{d:"M13.2 42.9842C11.856 42.9842 10.608 42.6562 9.45602 42.0002C8.32002 41.3602 7.39202 40.4882 6.67203 39.3842C5.95202 38.2802 5.52802 37.0802 5.40002 35.7842V24.3842C5.40002 20.6882 6.20802 17.3442 7.82402 14.3522C9.45603 11.3442 11.688 8.98417 14.52 7.27217C17.368 5.54418 20.528 4.68018 24 4.68018C27.424 4.68018 30.552 5.55218 33.384 7.29618C36.232 9.04017 38.48 11.4162 40.128 14.4242C41.776 17.4322 42.6 20.7522 42.6 24.3842V35.5922C42.52 36.9362 42.12 38.1762 41.4 39.3122C40.696 40.4482 39.76 41.3442 38.592 42.0002C37.44 42.6562 36.184 42.9842 34.824 42.9842H33.312C32.512 42.9842 31.768 42.7842 31.08 42.3842C30.392 41.9842 29.848 41.4402 29.448 40.7522C29.048 40.0802 28.848 39.3362 28.848 38.5202V28.9682C28.848 28.1682 29.048 27.4322 29.448 26.7602C29.848 26.0722 30.384 25.5282 31.056 25.1282C31.744 24.7282 32.496 24.5282 33.312 24.5282C34.848 24.5282 35.976 24.6082 36.696 24.7682C37.432 24.9122 38.2 25.2482 39 25.7762V24.3842C39 21.4242 38.336 18.7122 37.008 16.2482C35.68 13.7842 33.872 11.8402 31.584 10.4162C29.296 8.99218 26.768 8.28018 24 8.28018C21.136 8.28018 18.56 8.97618 16.272 10.3682C14 11.7442 12.216 13.6562 10.92 16.1042C9.64002 18.5522 9.00003 21.3122 9.00003 24.3842V25.7762C9.83203 25.2482 10.608 24.9122 11.328 24.7682C12.064 24.6082 13.192 24.5282 14.712 24.5282C15.512 24.5282 16.256 24.7282 16.944 25.1282C17.632 25.5282 18.176 26.0722 18.576 26.7602C18.976 27.4322 19.176 28.1762 19.176 28.9922V38.5442C19.176 39.3442 18.976 40.0802 18.576 40.7522C18.176 41.4402 17.632 41.9842 16.944 42.3842C16.256 42.7842 15.512 42.9842 14.712 42.9842H13.2ZM14.712 39.3842C14.936 39.3842 15.136 39.3042 15.312 39.1442C15.488 38.9682 15.576 38.7682 15.576 38.5442V28.9922C15.576 28.7522 15.488 28.5522 15.312 28.3922C15.136 28.2162 14.936 28.1282 14.712 28.1282H13.2C12.448 28.1282 11.744 28.3202 11.088 28.7042C10.448 29.0722 9.93603 29.5762 9.55203 30.2162C9.18403 30.8562 9.00003 31.5522 9.00003 32.3042V35.1842C9.00003 35.9522 9.18403 36.6562 9.55203 37.2962C9.93603 37.9362 10.448 38.4482 11.088 38.8322C11.744 39.2002 12.448 39.3842 13.2 39.3842H14.712ZM34.824 39.3842C35.576 39.3842 36.272 39.2002 36.912 38.8322C37.552 38.4482 38.056 37.9362 38.424 37.2962C38.808 36.6562 39 35.9522 39 35.1842V32.3282C39 31.5602 38.808 30.8562 38.424 30.2162C38.056 29.5762 37.552 29.0722 36.912 28.7042C36.272 28.3202 35.568 28.1282 34.8 28.1282H33.312C33.088 28.1282 32.888 28.2162 32.712 28.3922C32.536 28.5522 32.448 28.7442 32.448 28.9682V38.5202C32.448 38.7602 32.536 38.9682 32.712 39.1442C32.888 39.3042 33.088 39.3842 33.312 39.3842H34.824Z",fill:ie.fillColor})));function ee(){return ee=Object.assign||function(ie){for(var pe=1;pe<arguments.length;pe++){var ne=arguments[pe];for(var q in ne)Object.prototype.hasOwnProperty.call(ne,q)&&(ie[q]=ne[q])}return ie},ee.apply(this,arguments)}h(ee,"_extends");const X=new a.b("paid_onboarding"),me="Ppaid-benefits",Oe=h(()=>{const ie=Object(r.a)(),pe=`/img/plan_benefits/benefit_cards/messages${ie==="en-US"?"":`.${ie}`}`,ne="/img/plan_benefits/benefit_cards/security";return[{ctaURL:`https://${Object(l.l)()}/features/canvas`,name:"canvas",background:"#EEBA34",heading:X.t("SLACK CANVAS"),videoPoster:`/marketing/img/canvas/img-documentation${ie==="en-US"?"":`.${ie}`}`,videoSrc:`/marketing/img/canvas/video-documentation${ie==="en-US"?"":`.${ie}`}`,title:X.t("Stay on the same page"),subtitle:X.t("Unlock unlimited canvases to create product briefs, onboarding docs, and more right in Slack."),icon:D},{ctaURL:`https://${Object(l.l)()}/help/articles/115002422943`,name:"unlimited_messages",background:"#06AF72",heading:X.t("UNLIMITED MESSAGES"),imageSrc:`${pe}@2x.png`,srcSet:`${pe}.png 1x, ${pe}@2x.png 2x`,title:X.t("Find the information you need, when you need it"),subtitle:X.t("An unlimited archive lets you see and search all of your team's public messages and files."),icon:R},{ctaURL:`https://${Object(l.l)()}/digital-hq#huddles`,name:"huddles",videoSrc:`/marketing/img/digital-hq/videos/slack-huddles/slack-huddles${ie==="en-US"?"":`.${ie}`}`,videoExtension:"gif",background:"#FDD37F",heading:X.t("HUDDLES"),title:X.t("Solve problems aloud as a group, in real time"),subtitle:X.t("When it\u2019s easier to talk things out together, try an audio-first huddle with more people \u2060\u2014 you can share your screen, annotate and enable live captions."),icon:se},{ctaURL:`https://${Object(l.l)()}/resources/using-slack/setting-up-a-shared-channel`,name:"slack_connect",videoSrc:`/marketing/img/pricing/paid-vs-free/Streamline-communication${ie==="en-US"?"":`.${ie}`}`,background:"#67D3F4",heading:X.t("SLACK CONNECT"),title:X.t("Work with external organizations more easily"),subtitle:X.t("Slack Connect makes collaborating with external people and clients as fast and simple as working with in-house teams.",{fallbackHash:"b91e463b63ac14b759b0cd5bbdafe44f7e523b87"}),icon:W},{ctaURL:`https://${Object(l.l)()}/help/articles/202035138`,name:"apps",videoSrc:`/marketing/img/pricing/paid-vs-free/Build-trust${ie==="en-US"?"":`.${ie}`}`,background:"#E52167",heading:X.t("UNLIMITED APPS"),title:X.t("Connect all your apps and daily tools",{fallbackHash:"5c386e99165e9022af4559fe386b03e5c16514bb"}),subtitle:X.t("Schedule meetings, file tickets, track tasks, and more, by bringing the tools your team already uses into Slack.",{fallbackHash:"72deae79ecaa84ca80aae685718521cad7db421e"}),icon:j},{ctaURL:`https://${Object(l.l)()}/features/workflow-automation`,name:"workflows",videoSrc:`/marketing/img/pricing/paid-vs-free/Slack-WFB-TravelRequest${ie==="en-US"?"":`.${ie}`}`,background:"#06AF72",heading:X.t("WORKFLOWS"),title:X.t("Automate routine tasks \u2014 no technical skills required"),subtitle:X.t("With Workflow Builder, free up your team\u2019s time with automated workflows to triage requests, share statuses, and more."),icon:B},{ctaURL:`https://${Object(l.l)()}/trust/security`,name:"security",imageSrc:`${ne}@2x.png`,srcSet:`${ne}.png 1x, ${ne}@2x.png 2x`,background:"#3ECCF3",heading:X.t("ADVANCED SECURITY"),title:X.t("Enterprise-grade security and administration"),subtitle:X.t("Advanced controls, plus Slack\u2019s default encryption, help you keep data secure \u2014 even in the most regulated industries."),icon:G}]},"usePaidBenefitsCardData"),Ce=h(ie=>ie.filter(pe=>pe.isVisible!==!1).map((pe,ne)=>t.a.createElement("div",{key:pe.name},t.a.createElement(M,ee({},pe,{shouldDisplayReverse:ne%2!==0})))),"renderPaidBenefitsCards");Ce.displayName="renderPaidBenefitsCards";const le=h(()=>Ce(Oe()),"useRenderPaidBenefitsCards"),de={renderPaidBenefitsCards:Ce,usePaidBenefitsCardData:Oe}},TpDV:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},TsI9:function(H,n,e){H.exports=e.p+"ava_0022-24-21468d4.png"},Tsh7:function(H,n,e){"use strict";e.d(n,"a",function(){return A}),e.d(n,"b",function(){return I}),e.d(n,"e",function(){return C});var s=e("q1tI"),t=e.n(s),a=e("wSSu"),r=e.n(a),l=e("vJtL"),o=e("i5Ig"),i=e("2SCj"),u=e("68qM"),d=e("QYtq"),m=e("x5Wd"),c=e("WSQ4"),E=e("lYQS"),f=e("khnw"),O=e("0cEW"),p=e("DDZn"),b=e("1VgO"),T=e("Z29U"),v=e("eLtP");e.d(n,"c",function(){return T.a});function S(){return S=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var x in W)Object.prototype.hasOwnProperty.call(W,x)&&(R[x]=W[x])}return R},S.apply(this,arguments)}h(S,"_extends");const A=300,I=60,_=3,M=3;let y=h(class{track(U){this.instance&&U!==this.instance&&this.instance.hide(),this.instance=U}stopTracking(U){U===this.instance&&(this.instance=void 0)}hideActive(){this.instance&&(this.instance.hide(),this.instance=void 0)}},"TooltipManager");const j=new y;function C(){j.hideActive()}h(C,"hideVisibleTooltip");function D(R){const U=h(W=>((W==null?void 0:W.offsetWidth)||0)<((W==null?void 0:W.scrollWidth)||0)||((W==null?void 0:W.offsetHeight)||0)<((W==null?void 0:W.scrollHeight)||0),"retIsTruncated");if(R!=null&&R.querySelector){const W=R.querySelector(".c-truncate");if(W)return U(W)}return U(R)}h(D,"isElementTruncated");function N(R,U){return R.width.toFixed(2)===(U==null?void 0:U.width.toFixed(2))&&R.height.toFixed(2)===(U==null?void 0:U.height.toFixed(2))&&R.left.toFixed(2)===(U==null?void 0:U.left.toFixed(2))&&R.right.toFixed(2)===(U==null?void 0:U.right.toFixed(2))&&R.top.toFixed(2)===(U==null?void 0:U.top.toFixed(2))&&R.bottom.toFixed(2)===(U==null?void 0:U.bottom.toFixed(2))}h(N,"areBoundsEqual");const B=t.a.forwardRef((R,U)=>{let{children:W,position:x=O.b.Top,delay:G=150,shouldFade:w=!0,tip:se,tipClassName:ee,tipArrowOffset:X,"data-qa":me,status:Oe=T.a.Info,offsetX:Ce=0,offsetY:le=0,zIndex:de="menu",shouldForceVisible:ie=!1,shouldOnlyShowWhenTruncated:pe=!1,onShow:ne,onHide:q,onClick:ce,maxWidth:ge,hideFromScreenReader:be=!1,automaticallyPositionTip:Q=!0,tipAnchorRef:re,...z}=R;const Y=t.a.Children.only(W),{window:ve}=Object(s.useContext)(c.a),Z=Object(s.useRef)(),$=Object(s.useRef)(null),te=Object(s.useRef)(),J=Object(s.useRef)(!1),[k,ae]=Object(s.useState)(!1),[Ee,_e]=Object(s.useState)(!1),[je,Ue]=Object(s.useState)(!1),[Ke,ke]=Object(s.useState)(),Qe=Object(s.useContext)(m.a),Ze=D(te.current),De=Ze||!pe,Fe=ie||k||Ee,Ve=!!Ke&&De,Je=Object(s.useMemo)(()=>Object(b.b)($,U),[U]),Ot=Object(s.useCallback)((Zt,gt)=>Q?{top:Zt,left:gt}:void 0,[Q]),ht=Object(s.useMemo)(()=>`sk-tooltip-${Object(E.a)()}`,[]),Le=Object(s.useCallback)(()=>{Ue(!0)},[]),[jt,Ut]=Object(i.a)(Le),Ie=Object(s.useMemo)(()=>({id:ht,hide:()=>{Ut(),J.current&&Ue(!1),q==null||q()}}),[ht,Ut,q]),oe=Object(s.useCallback)(()=>{Ut(),j.stopTracking(Ie)},[Ie,Ut]),ye=Object(s.useCallback)(()=>{ie||Qe?Ue(!0):jt(G),ne==null||ne({isTruncated:Ze}),j.track(Ie)},[ie,Qe,ne,Ze,Ie,jt,G]),Ne=Object(s.useCallback)(()=>{oe(),je&&(Ue(!1),q==null||q())},[oe,je,q]),Ge=Object(s.useCallback)(Zt=>{Y.props.onKeyDown&&Y.props.onKeyDown(Zt),Zt.which===f.f&&je&&Qe&&(Zt.nativeEvent.stopImmediatePropagation(),Zt.stopPropagation(),Ue(!1))},[Ue,je,Qe,Y.props]),st=Object(s.useCallback)(Zt=>{Y.props.onMouseEnter&&Y.props.onMouseEnter(Zt),ae(!0),je||(Zt.persist(),Z.current=Zt)},[Y.props,je]),$e=Object(s.useCallback)(Zt=>{Y.props.onFocus&&(Zt.persist(),Y.props.onFocus(Zt)),Qe&&_e(!0)},[Y.props,Qe]),It=Object(s.useCallback)(Zt=>{Y.props.onMouseLeave&&(Zt.persist(),Y.props.onMouseLeave(Zt)),ae(!1),Z.current=void 0},[Y.props]),Lt=Object(s.useCallback)(Zt=>{Y.props.onBlur&&(Zt.persist(),Y.props.onBlur(Zt)),_e(!1)},[Y.props]);Object(s.useEffect)(h(function(){te.current||(te.current=Object(a.findDOMNode)($.current))},"syncChildDOMNodeRef")),Object(s.useEffect)(()=>(J.current=!0,()=>{J.current=!1}),[]),Object(u.a)(h(function(){let gt=te.current;if(re!=null&&re.current&&(gt=Object(a.findDOMNode)(re.current)),Fe&&gt){const at=Ke,it=gt.getClientRects();let dt=it[0];if(Z.current){const Xe=Z.current,kt=Array.from(it).find(Bt=>Xe.clientY>=Bt.top&&Xe.clientY<=Bt.bottom&&Xe.clientX>=Bt.left&&Xe.clientX<=Bt.right);kt&&(dt=kt)}if(!dt)return;const _t=ve.scrollX||ve.pageXOffset,Dt=ve.scrollY||ve.pageYOffset,Ye={height:dt.height,width:dt.width,left:dt.left+_t,right:dt.right+_t,top:dt.top+Dt,bottom:dt.bottom+Dt};N(Ye,at)||ke(Ye)}},"maybeCalculateContentBounds"),[Fe,re]),Object(u.a)(h(function(){Ve&&Fe?ye():Ne()},"showOrHideTooltip"),[Ve,Fe]);const St=Y.props["aria-label"],vt=Object(s.useMemo)(()=>St===se||be?o.b:{"aria-describedby":je?ht:void 0},[St,be,je,se,ht]),Yt=Object(s.useMemo)(()=>t.a.cloneElement(Y,{...z,...Y.props,...vt,onClick:ce||Y.props.onClick,onFocus:$e,onBlur:Lt,onKeyDown:Ge,onMouseEnter:st,onMouseLeave:It,"data-sk":"tooltip_parent"}),[vt,Y,Lt,ce,$e,Ge,st,It,z]),et=Object(s.useMemo)(()=>{if(X)return X;if(Ke)return Ke.width/2},[Ke,X]),Ft=Object(s.useMemo)(()=>({position:x,arrowOffset:et,status:Oe,className:ee,"data-qa":me,id:ht,maxWidth:ge}),[me,ge,x,Oe,ee,et,ht]),mt=Object(s.useMemo)(()=>je?t.a.createElement(d.a,{isOpen:je,position:x,targetBounds:Ke,overlayClassName:"c-popover c-popover--no-pointer",offsetX:Ce,offsetY:le,allowanceX:_,allowanceY:M,key:"tooltip-popover",zIndex:de,shouldFocusAfterRender:!1,shouldFade:w,ariaHideApp:!1,ariaHidden:!0,tryOppositePosition:!0},Zt=>{let{position:gt,top:at,left:it,targetBounds:dt}=Zt;const _t=Object(l.a)(se)?se({hasKeyboardFocus:Qe}):se;return t.a.createElement(T.b,S({},Ft,{position:gt,tipBounds:Ot(at,it),targetBounds:dt}),_t)}):null,[je,Ke,x,Ce,le,de,w,se,Qe,Ft,Ot]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(p.a,{ref:Je},Yt),mt)});B.displayName="Tooltip",n.d=B,Object.defineProperty({isElementTruncated:D,areBoundsEqual:N},"isElementTruncated",{get:()=>D,set:R=>{D=R}})},TsqY:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ZKjC");const t=Object(s.b)(a=>a&&a.promo&&a.promo.showTrialStartedCelebration);t.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:a=>a&&a.promo&&a.promo.showTrialStartedCelebration}},Tv5Z:function(H,n,e){H.exports=e.p+"slackbot_frowny_360-1cb4740.png"},TwEf:function(H,n,e){"use strict";var s=e("n3tL"),t=e("WCk1"),a=e("2XU3"),r=e("/Glb"),l=e("Z7Ay"),o=e("Lgge"),i=e("Ba7O");let u=!1;const d=Object(t.a)("Sends a message",function(c,E){let{message:f,traceId:O,parentSpanId:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const b={...f},T=E();return f.blocks&&typeof f.blocks=="object"&&(b.blocks=JSON.stringify(f.blocks)),f.unfurl&&typeof f.unfurl=="object"&&(b.unfurl=JSON.stringify(f.unfurl)),u?new o.a((v,S)=>{setTimeout(()=>{S(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):Object(i.a)(T)?c(Object(r.apiCallPersisted)({method:"chat.postMessage",args:b,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:O,parentSpanId:p})):c(Object(a.apiCall)({method:"chat.postMessage",args:b,reason:"webapp_message_send",EXPEDITED:!0,traceId:O,parentSpanId:p}))});d.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},d.propTypes={message:s.default.shape({channel:s.default.string.isRequired,client_msg_id:s.default.string}).isRequired,traceId:s.default.string,parentSpanId:s.default.string},n.a=d;const m=h(c=>{u=!!c},"setForceMessageFailure");Object(l.a)("setForceMessageFailure",m)},TxvE:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("gSGL"),l=e("ifKl"),o=e("3zPy"),i=e.n(o),u=e("AArn"),d=e("YjxU"),m=e("WIr4"),c=e("yxNq"),E=e("i7LB"),f=e("VymY");function O(_){let M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;return _ instanceof M.self.HTMLElement}h(O,"isHtmlElement");var p=e("1ufr");function b(){return b=Object.assign||function(_){for(var M=1;M<arguments.length;M++){var y=arguments[M];for(var j in y)Object.prototype.hasOwnProperty.call(y,j)&&(_[j]=y[j])}return _},b.apply(this,arguments)}h(b,"_extends");const T=i()("enter"),v=i()("tab");let S=h(class extends s.Component{componentDidMount(){const{useStaticHeight:M,supportRovingTabIndex:y,isInitialActiveItem:j,hasKeyboardFocus:C}=this.props;this.node&&!M&&(this.mutationObserver.observe(this.node,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),this.node.addEventListener("load",this.updateHeight,!0)),M||this.updateHeight(),this.maybeFocusNode(),C&&y&&!j&&this.removeChildrenFromTabFlow()}shouldComponentUpdate(M){const{children:y,validity:j,height:C,top:D,zIndex:N,...B}=this.props,{children:L,validity:R,height:U,top:W,zIndex:x,...G}=M;return D!==W||N!==x||C!==U||y&&L&&(!Object(c.a)(L.props,y.props)||L.key!==y.key)||!R?!0:!Object(c.a)(B,G)}componentDidUpdate(){const{useStaticHeight:M,isInitialActiveItem:y,supportRovingTabIndex:j,hasKeyboardFocus:C}=this.props;M||this.updateHeight(),this.maybeFocusNode(),C&&j&&(y||this.removeChildrenFromTabFlow(),y&&this.restoreChildrenIntoTabFlow())}componentWillUnmount(){const{useStaticHeight:M}=this.props;M||(this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.node&&this.node.removeEventListener("load",this.updateHeight,!0))}onClick(M){M.persist(),M.id=this.props.itemKey,this.props.onClick(M)}onFocusEnter(M){const{relatedEvent:y,target:j,currentTarget:C}=M,{itemKey:D,onTabWithin:N,onFocusEnter:B,hasKeyboardFocus:L}=this.props;if(y&&y.type==="mousedown"||j&&(j instanceof HTMLMediaElement||j.dataset.mediaFocusContainer))return;(y&&y.keyCode)===v&&C!==j&&N({id:D,hasKeyboardFocus:L,...M}),B({id:D,hasKeyboardFocus:L,...M})}onFocusLeave(M){const{itemKey:y,onFocusLeave:j,hasKeyboardFocus:C}=this.props;j({id:y,hasKeyboardFocus:C,...M})}onFocusWithin(M){const{relatedEvent:y}=M,{itemKey:j,onTabWithin:C,onFocusWithin:D,hasKeyboardFocus:N}=this.props;if(y&&y.type==="mousedown")return;(y&&y.keyCode)===v&&C({id:j,hasKeyboardFocus:N,...M}),D({id:j,hasKeyboardFocus:N,...M})}onKeyDown(M){const{target:y,currentTarget:j,keyCode:C}=M,{itemKey:D,onKeyDown:N,onClick:B}=this.props;y===j&&(N({id:D,...M,preventDefault:M.preventDefault,stopPropagation:M.stopPropagation}),C===T&&B({id:D,...M,preventDefault:M.preventDefault,stopPropagation:M.stopPropagation}))}onContextMenu(M){const{itemKey:y,onContextMenu:j,hasKeyboardFocus:C}=this.props;M!=null&&M.altKey||j(M,y,{hasKeyboardFocus:C})}onMouseDown(M){const{itemKey:y,onMouseDown:j}=this.props;j(M,y)}setRef(M){this.node=M}maybeFocusNode(){this.props.hasFocus&&this.node&&this.node.focus()}updateHeight(){if(!this.node)return;const{height:M}=this.node.getBoundingClientRect();(Math.abs(M-this.props.height)>.5||!this.props.validity)&&this.props.onHeightChange(this.props.itemKey,M)}removeChildrenFromTabFlow(){const M=this.node;if(!M)return;Object(f.a)(M).forEach(j=>{const C=j.getAttribute("tabindex");j.setAttribute("tabindex","-1"),j.dataset.removeTabIndex="true",Object(r.a)(C)&&(j.dataset.tabIndexToRestore=C)})}restoreChildrenIntoTabFlow(){const M=this.node;M&&M.querySelectorAll("[data-remove-tab-index]").forEach(y=>{if(!O(y,this.props.window))return;const j=y.dataset.tabIndexToRestore;Object(r.a)(j)?y.setAttribute("tabindex",j):y.removeAttribute("tabindex"),delete y.dataset.removeTabIndex,delete y.dataset.tabIndexToRestore})}render(){if(!this.props.children)return null;const{id:M,children:y,onFocusEnter:j,onFocusWithin:C,onFocusLeave:D,onHeightChange:N,onMouseDown:B,onClick:L,onKeyDown:R,onContextMenu:U,onTabWithin:W,className:x,top:G,zIndex:w,role:se,height:ee,validity:X,hasFocus:me,hasFocusWithin:Oe,hideFocusRing:Ce,shouldHorizontallyScroll:le,tabIndex:de,itemKey:ie,useStaticHeight:pe,hasKeyboardFocus:ne,dataQA:q,contextMenuVisible:ce,isInitialActiveItem:ge,supportRovingTabIndex:be,forceTop:Q,window:re,windowId:z,windowToken:Y,...ve}=this.props,Z=Object(a.default)(x,"c-virtual_list__item",{"c-virtual_list__item--focus":me&&ne&&!Ce,"c-virtual_list__item--focus-within":Oe,"c-virtual_list__item--auto_width":le,"c-virtual_list__item--contextmenu-visible":ce});return t.a.createElement(d.a,{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},t.a.createElement("div",b({},Object(E.a)(ve),{onMouseDown:this.onMouseDown,onClick:this.onClick,onKeyDown:this.onKeyDown,onContextMenu:this.onContextMenu,className:Z,tabIndex:de,role:se,style:pe?{top:Q??G,height:ee,zIndex:w}:{top:Q??G,zIndex:w},ref:this.setRef,id:M,"data-qa":q||"virtual-list-item","data-item-key":ie}),y))}constructor(M){super(M),this.setRef=this.setRef.bind(this),Object(m.a)(this,["onFocusEnter","onFocusWithin","onFocusLeave","onMouseDown","onClick","onKeyDown","onContextMenu"]),M.useStaticHeight||(this.updateHeight=this.updateHeight.bind(this),this.mutationObserver=new MutationObserver(this.updateHeight)),this.node=null}},"ListItem");S.displayName="ListItem",S.defaultProps={children:null,onFocusEnter:l.a,onFocusWithin:l.a,onFocusLeave:l.a,onHeightChange:l.a,onMouseDown:l.a,onClick:l.a,onKeyDown:l.a,onContextMenu:l.a,onTabWithin:l.a,className:"",top:void 0,zIndex:void 0,role:"listitem",height:0,validity:!0,hasFocus:!1,hasFocusWithin:!1,shouldHorizontallyScroll:!1,tabIndex:-1,useStaticHeight:!1,dataQA:null,contextMenuVisible:!1,isInitialActiveItem:!1,hideFocusRing:!1,supportRovingTabIndex:!0,forceTop:void 0};const A=h(function(M){const y=Object(s.useContext)(u.a);return t.a.createElement(S,b({},M,{hasKeyboardFocus:y}))},"WithKeyboardFocusListItem");A.displayName="WithKeyboardFocusListItem";var I=n.a=t.a.memo(Object(p.a)(A))},U1tW:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("ktUG"),l=e("Trx9"),o=e("WAPM"),i=e("zEKE"),u=e("vDCl"),d=e("w3c/");const m=new a.b("trials_highlight_paid_features"),c=h(f=>{let{text:O}=f;return t.a.createElement(o.a,{articleId:4402059015315,ariaLabel:m.t("Learn more about Huddles")},O)},"AlertBannerHelpLink"),E=h(()=>t.a.createElement(l.a,{eventId:r.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:r.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_invite_modal_banner"},t.a.createElement(i.a,{theme:u.b.NONE,"data-qa":"huddle_invite_modal_free_banner"},m.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":c,fallbackHash:"302b7b76d1085ff1532e888a72d2b35f253d5e82"})))),"HuddleInviteModalFreeBanner");n.a=E},UHsu:function(H,n,e){"use strict";var s=e("lBK/"),t=e("J47P");e.d(n,"b",function(){return t.b}),n.a=s.a},UWeq:function(H,n,e){H.exports=e.p+"living_room-a4fba85.jpg"},UbkG:function(H,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"c",function(){return o}),e.d(n,"d",function(){return i});var s=e("ZKjC"),t=e("i5Ig"),a=e("2VFn");const r=Object(s.b)((u,d)=>{const m=d===a.c?"main":d;return u.quipActivityHistory[m]||t.b});r.meta={name:"createSelector",key:"createSelectorgetActivityHistory",description:(u,d)=>{const m=d===a.c?"main":d;return u.quipActivityHistory[m]||t.b}};const l=Object(s.b)((u,d,m)=>{var c,E;if(!m)return;const f=d===a.c?"main":d;return(c=u.quipActivityHistory[f])===null||c===void 0||(E=c.versions)===null||E===void 0?void 0:E.find(O=>m===O.versionId)});l.meta={name:"createSelector",key:"createSelectorgetActivityHistoryVersionById",description:(u,d,m)=>{var c,E;if(!m)return;const f=d===a.c?"main":d;return(c=u.quipActivityHistory[f])===null||c===void 0||(E=c.versions)===null||E===void 0?void 0:E.find(O=>m===O.versionId)}};const o=Object(s.b)((u,d)=>{const m=d===a.c?"main":d,c=u.quipActivityHistory[m];if(!c)return;const{versions:E}=c;return E!=null&&E.length?E[0]:void 0});o.meta={name:"createSelector",key:"createSelectorgetLatestActivityHistoryVersion",description:(u,d)=>{const m=d===a.c?"main":d,c=u.quipActivityHistory[m];if(!c)return;const{versions:E}=c;return E!=null&&E.length?E[0]:void 0}};const i=Object(s.b)((u,d)=>{var m;const c=d===a.c?"main":d;return(m=u.quipActivityHistory[c])===null||m===void 0?void 0:m.selectedVersionId});i.meta={name:"createSelector",key:"createSelectorgetSelectedActivityHistoryVersionId",description:(u,d)=>{var m;const c=d===a.c?"main":d;return(m=u.quipActivityHistory[c])===null||m===void 0?void 0:m.selectedVersionId}}},"Ufq/":function(H,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"c",function(){return i}),e.d(n,"e",function(){return c}),e.d(n,"a",function(){return E}),e.d(n,"g",function(){return f}),e.d(n,"h",function(){return O}),e.d(n,"d",function(){return p}),e.d(n,"f",function(){return T}),e.d(n,"j",function(){return v}),e.d(n,"i",function(){return S}),e.d(n,"k",function(){return A});var s=e("RVJP"),t=e("ZOzc"),a=e("azFB"),r;function l(I){return Object(s.d)(I,"calls_chime_sdk_exp")==="enabled"}h(l,"isCallsChimeSdkExpEnabled");const o=(a.a===null||a.a===void 0||(r=a.a.navigator)===null||r===void 0?void 0:r.userAgent)==="slack_cli_tool/1.0",i=h(I=>!o,"isCallsChimeVoiceFocusEnabled");function u(I){return Object(s.d)(I,"calls_chime_simulcast")==="enabled"}h(u,"isCallsChimeSimulcastEnabled");function d(I){return Object(s.d)(I,"calls_chime_priority_downlink_policy")==="enabled"}h(d,"isCallsChimePriorityDownlinkPolicyEnabled");function m(I){return Object(s.d)(I,"calls_get_media_access_check_windows")==="enabled"}h(m,"isGetMediaAccessForWindowsCheckEnabled");const c=h(I=>Object(s.d)(I,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),E=h(I=>Object(s.d)(I,"calls_call_command_admin_disable")==="enabled","isCallCommandAdminDisableExperimentEnabled"),f=h(I=>Object(s.d)(I,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),O=h(I=>Object(s.d)(I,"calls_dynamic_survey")==="treatment","isDynamicSurveyEnabled"),p=h(I=>Object(s.d)(I,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),b=h(I=>Object(s.d)(I,"desktop_calls_grid")==="enabled","isCallViewModeEnabled"),T=h(I=>Object(s.d)(I,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled"),v=h(I=>Object(t.a)(I,"allow_huddles")&&Object(t.a)(I,"allow_huddles_video")&&Object(s.d)(I,"calls_deprecation")!=="on"&&Object(s.d)(I,"huddles_calls_migration_v2")==="on","isHuddleCallsMigrationFeatureFlagEnabled"),S=h(I=>{const _=Object(s.d)(I,"huddles_calls_migration_v2")==="on"&&Object(s.d)(I,"huddles_calls_migration_v3")==="on";return Object(t.a)(I,"allow_huddles")&&Object(t.a)(I,"allow_huddles_video")&&Object(s.d)(I,"calls_deprecation")!=="on"&&_},"isHuddleCallsMigrationBothFeatureFlagsEnabled"),A=h(I=>{const _=Object(s.d)(I,"huddles_calls_migration_v2")==="on"&&Object(s.d)(I,"huddles_calls_migration_v3")==="on"&&Object(s.d)(I,"huddles_calls_migration_v4")==="on";return Object(t.a)(I,"allow_huddles")&&Object(t.a)(I,"allow_huddles_video")&&Object(s.d)(I,"calls_deprecation")!=="on"&&_},"isHuddleCallsMigrationPhase3FeatureFlagsEnabled")},UjK0:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("BHdc"),l=e("Tsh7"),o=e("s9Q6"),i=e("+fxZ"),u=e("Trx9"),d=e("GiOu"),m=e("ktUG");function c(){return c=Object.assign||function(O){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(O[T]=b[T])}return O},c.apply(this,arguments)}h(c,"_extends");const E=h(O=>{let{ariaLabel:p,tooltipText:b,children:T,onClick:v,isFreemium:S,promoType:A,promoSubtype:I,showProBadge:_,tooltipClassName:M,uiComponentVariant:y,variant:j,toolTipZIndex:C,toolTipPosition:D,...N}=O;const{tooltipTitle:B,tooltipBody:L}=Object(i.b)({isFreemium:S,tooltipText:b,promoType:A,promoSubtype:I,variant:j}),R=Object(a.d)(x=>Object(o.b)(x,A,I)),U=L?`${B} - ${L}`:B;if(R)return T;const W=t.a.createElement(u.a,{clogImpression:!0,eventId:m.EventId.UPGRDEXP_TRIAL,uiComponentName:m.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:y},t.a.createElement("div",{className:"p-trial_feature_tooltip"},t.a.createElement("span",{className:"p-trial_feature_tooltip__title"},_&&t.a.createElement(d.b,{badgeTheme:d.a.White,className:"p-trial_feature_tooltip__pro_badge"}),t.a.createElement("div",{className:"p-trial_feature_tooltip__title_text"},B)),t.a.createElement("div",{className:"p-trial_feature_tooltip__body"},L)));return t.a.createElement(l.d,c({tipClassName:Object(r.default)("p-trial_feature_tooltip__container",M),tip:W,onClick:v,zIndex:C,position:D,"aria-label":p?`${p}: ${U}`:`${U}`},N),T)},"TrialFeatureTooltip");E.displayName="TrialFeatureTooltip";var f=n.a=E},UnJt:function(H,n,e){"use strict";e.d(n,"c",function(){return p}),e.d(n,"b",function(){return b}),e.d(n,"h",function(){return A}),e.d(n,"f",function(){return I}),e.d(n,"g",function(){return _}),e.d(n,"d",function(){return y}),e.d(n,"e",function(){return j}),e.d(n,"a",function(){return C});var s=e("w2lx"),t=e("Fsnq"),a=e("s4P+"),r=e("kBpe"),l=e("9Gfp"),o=e("O86Y"),i=e("Aqb/"),u=e("1Np4");const d="notification:sent",m="notification:received",c="notification:opened",E="notification:quick_reply",f="notification:read_in_app",O=100;function p(D){try{return JSON.stringify(D)}catch(N){return Object(a.b)().warn("encodeNotificationTracePassthrough json stringify error",N),""}}h(p,"encodeNotificationTracePassthrough");function b(D){try{const{traceId:N,parentSpanId:B}=JSON.parse(D);return{traceId:N,parentSpanId:B}}catch(N){return Object(a.b)().warn("decodeNotificationTracePassthrough json parse error",N),{traceId:"",parentSpanId:""}}}h(b,"decodeNotificationTracePassthrough");function T(D){let{tracer:N,name:B,parentSpanId:L,traceId:R}=D;return N.createSpan({name:B,samplingOptions:{sampleType:i.a.ALWAYS},options:{parentSpanId:L,traceId:R}})}h(T,"createSpan");function v(D){let{tracer:N,name:B,parentSpanId:L,traceId:R}=D;const U=T({tracer:N,name:B,parentSpanId:L,traceId:R});return U.close(),U}h(v,"createAndCloseSpan");function S(D,N){let{tracer:B,message:L}=N;const R=v({tracer:B,name:d}),U=Object(r.i)()?"desktop":"browser",W=Object(l.a)(D),x=Object(o.g)(D),G=Object(s.a)(L==null?void 0:L.ts,".",""),w=L==null?void 0:L.channel,se=`${W}-${w}-${G}`;return R.addTags({platform:U,encoded_user_id:W,encoded_team_id:x,encoded_channel_id:w,message_ts:G,notification_id:se}),R}h(S,"createAndCloseNotificationSentSpan");function A(D,N){let{message:B}=N;if(!B||!(B!=null&&B.ts)||!(B!=null&&B.channel))return;const L=Object(u.a)({state:D});let R,U;const W=[];if((B==null?void 0:B.type)==="desktop_notification"&&(B!=null&&B.trace_ctx))R=B.trace_ctx["x-b3-traceid"],U=B.trace_ctx["x-b3-spanid"];else{const G=S(D,{tracer:L,message:B});W.push(G),U=G.getId(),R=G.getTraceId()}const x=v({name:m,tracer:L,traceId:R,parentSpanId:U});return W.push(x),L.reportSpans(W),{traceId:R,parentSpanId:U}}h(A,"traceNotificationSentAndReceived");function I(D,N){let{notificationTracePassthroughData:B}=N;if(!B)return;const{traceId:L,parentSpanId:R}=B,U=Object(u.a)({state:D}),W=v({tracer:U,traceId:L,parentSpanId:R,name:c});U.reportSpans([W])}h(I,"traceNotificationOpened");function _(D,N){let{notificationTracePassthroughData:B,clientMsgId:L}=N;if(!B||!L)return;const{traceId:R,parentSpanId:U}=B,W=Object(u.a)({state:D}),x=v({tracer:W,traceId:R,parentSpanId:U,name:E});x.addTags({reply_message_client_message_id:L}),W.reportSpans([x])}h(_,"traceNotificationQuickReply");let M={};function y(D){return!!M[D]}h(y,"messageHasPendingNotificationTrace");function j(D,N){let{timestamp:B,notificationTracePassthroughData:L}=N;if(!L)return;Object(t.a)(M)>O&&(Object(a.a)({state:D}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),M={});const{traceId:R,parentSpanId:U}=L,W=Object(u.a)({state:D}),x=T({tracer:W,traceId:R,parentSpanId:U,name:f});M[B]=x}h(j,"openNotificationReadSpan");function C(D,N){let{timestamp:B}=N;if(!B)return;const L=M[B];if(!L)return;const R=Object(u.a)({state:D});L.close(),R.reportSpans([L]),delete M[B]}h(C,"closeAndReportNotificationReadSpan")},UnpP:function(H,n,e){"use strict";e.d(n,"a",function(){return L});var s=e("RaLP"),t=e.n(s),a=e("q1tI"),r=e.n(a),l=e("zxER"),o=e("Cfcg"),i=e("BHdc"),u=e("JoR1"),d=e("EJqq"),m=e("O86Y"),c=e("yrot"),E=e("whaK"),f=e("jlKB"),O=e("nNoG"),p=e("RJAC"),b=e("Y31Q"),T=e("Bkx2"),v=e("HJKc"),S=e("iomZ"),A=e("nWdO"),I=e("oEDn"),_=e("s4P+");function M(){return M=Object.assign||function(w){for(var se=1;se<arguments.length;se++){var ee=arguments[se];for(var X in ee)Object.prototype.hasOwnProperty.call(ee,X)&&(w[X]=ee[X])}return w},M.apply(this,arguments)}h(M,"_extends");function y(w){return class extends a.PureComponent{componentDidCatch(se,ee){this.setState(()=>({hasError:!0})),Object(_.b)().error({label:"Error rendering emoji component",error:se,message:ee})}render(){return this.state.hasError?r.a.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},r.a.createElement("img",{src:t.a})):r.a.createElement(w,M({},this.props))}constructor(se){super(se),this.state={hasError:!1}}}}h(y,"withEmojiErrorBoundary"),y.displayName="withEmojiErrorBoundary";var j=y,C=e("L1AX"),D=e("9BZl"),N=e("Oy0v");function B(){return B=Object.assign||function(w){for(var se=1;se<arguments.length;se++){var ee=arguments[se];for(var X in ee)Object.prototype.hasOwnProperty.call(ee,X)&&(w[X]=ee[X])}return w},B.apply(this,arguments)}h(B,"emoji_extends");const L={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},R=h(w=>{const se=Object(l.d)(ee=>{if(!w.isStandard)return w.url;var X;const me=(X=w.sourceTeamId)!==null&&X!==void 0?X:Object(m.g)(ee);return w.isStandard?Object(c.j)(ee,{text:w.text||"",teamId:me,emojiMode:Object(E.a)(ee,{forceDisplay:!!w.forceDisplay}),emojiSize:L.XLARGE}):w.url});return r.a.createElement(U,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:L.LARGER,text:w.text,displayText:w.displayText,url:se||"",sourceTeamId:w.sourceTeamId,ariaLabel:w.ariaLabel,alt:w.alt,unicode:w.unicode,emojiNameFromText:w.emojiNameFromText,dispatch:w.dispatch,stopAnimations:w.stopAnimations,fallbackUrl:w.fallbackUrl,isStandard:w.isStandard})},"EmojiTooltipEmoji");R.displayName="EmojiTooltipEmoji";let U=h(class extends a.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return r.a.createElement(I.a,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:se}=this.state,{isImportAllowed:ee,isStandard:X}=this.props;return ee&&!X&&!se}renderEmojiElement(){const{text:se,displayText:ee,url:X,emojiSize:me,isEmojiInlineWithText:Oe,className:Ce,shouldFallbackOnLoadError:le,fallbackUrl:de,ariaLabel:ie,alt:pe}=this.props,{isLoadError:ne}=this.state,q=Object(i.default)("c-emoji",`c-emoji__${me}`,Ce,{"c-emoji--inline":Oe}),ce=ie??(ee&&Object(b.a)(ee)),ge={"data-stringify-type":"emoji","data-stringify-emoji":se},be=this.isImportable()?this.handleEmojiImport:void 0;return Oe?r.a.createElement("span",{className:q,"data-qa":(ne||!X)&&le?"emoji-fallback":"emoji"},r.a.createElement("img",B({src:(ne||!X)&&le?de:X,onError:this.onLoadError,onContextMenu:be,"aria-label":ce,alt:ee},ge))):r.a.createElement("img",B({src:(ne||!X)&&le?de:X,onError:this.onLoadError,"aria-label":ce,alt:pe??ee,className:q,onContextMenu:be,"data-qa":(ne||!X)&&le?"emoji-fallback":"emoji"},ge))}renderUnicodeAsEmoji(se){if(se&&Object(v.a)(se)){const{emojiSize:ee}=this.props,X=Object(S.a)({codePointLikeString:se});return r.a.createElement("span",{className:Object(i.default)("c-emoji__unicode",{"c-emoji__unicode--large":ee===L.LARGE})},X)}}renderTooltip(){const{renderAsText:se,displayText:ee,text:X,isStandard:me,url:Oe,unicode:Ce,sourceTeamId:le,ariaLabel:de,alt:ie,emojiNameFromText:pe,stopAnimations:ne,fallbackUrl:q,forceDisplay:ce}=this.props;if(se)return ee;const ge=me?void 0:Oe;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"c-emoji__emoji-tooltip"},r.a.createElement(R,{text:X,displayText:ee,url:ge,sourceTeamId:le,ariaLabel:de,alt:ie,unicode:Ce,emojiNameFromText:pe,dispatch:this.props.dispatch,stopAnimations:ne,fallbackUrl:q,isStandard:me,forceDisplay:ce})),ee,this.isImportable()&&r.a.createElement(D.a,{emojiName:ee,emojiUrl:Oe}))}render(){const{displayText:se,url:ee,renderAsText:X,showTooltip:me,iconInTextMode:Oe,renderEmojiFallback:Ce,unicode:le,emojiNameFromText:de}=this.props;if(!ee&&!se&&!le)return null;if((X||!ee)&&!Ce&&!le)return Oe?this.renderIconFallback():se;if(le&&!de){var ie;return(ie=this.renderUnicodeAsEmoji(le))!==null&&ie!==void 0?ie:se}return me?r.a.createElement(A.c,{tip:this.renderTooltip,delay:A.a,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(se){super(se),this.handleEmojiImport=ee=>{if(ee!=null&&ee.altKey)return;const{url:X,dispatch:me,displayText:Oe}=this.props;me(Object(C.a)({emojiName:Oe,emojiUrl:X,event:ee}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");U.displayName="Emoji",U.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:L.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0};const W=h((w,se)=>{const{stopAnimations:ee,forceDisplay:X,emojiSize:me=L.MEDIUM,url:Oe,unicode:Ce}=se;let{text:le}=se,de=Object(c.i)(w,Ce??"");de&&de.charAt(de.length-1)!==":"&&de.charAt(0)!==":"&&(de=`:${de}:`),le=de||le||"";let ie=Oe;const pe=Object(m.g)(w)||"",ne=!Object(u.t)(w,"a11y_animations"),q=ee||ne,ce=Object(O.m)({teamOrEnterpriseId:pe,recalc:!1}),ge=Object(d.i)({state:w,locale:ce,name:le}),be=!X&&Object(f.a)(w),Q=Object(N.a)(le),re=Object(T.b)(w,Q);if(!be&&!ie){const ve=Object(E.a)(w,{forceDisplay:!!X});var z;const Z=(z=se.sourceTeamId)!==null&&z!==void 0?z:pe;ie=Object(c.j)(w,{text:le,parsedEmoji:Q,teamId:Z,emojiMode:ve,emojiSize:me===L.LARGER?L.XLARGE:me})||void 0}if(q&&!re){var Y;ie=(Y=Object(p.a)(w,{url:ie,stopAnimations:q,isEmoji:!0}))!==null&&Y!==void 0?Y:void 0}return{text:le,url:ie,renderAsText:be,emojiSize:me,displayText:ge||"",stopAnimations:q,fallbackUrl:t.a,isStandard:re,emojiNameFromText:de}},"mapStateToProps"),x={mapStateToProps:W};var G=n.b=j(Object(o.a)(W)(U))},Uqsd:function(H,n,e){"use strict";e.d(n,"c",function(){return oe}),e.d(n,"a",function(){return ye}),e.d(n,"b",function(){return Ne}),e.d(n,"d",function(){return st}),e.d(n,"e",function(){return ot}),e.d(n,"g",function(){return yt}),e.d(n,"f",function(){return Kt}),e.d(n,"h",function(){return cn});var s=e("9oTK"),t=e("Lgge"),a=e("ifKl"),r=e("ZP0B"),l=e("s4P+"),o=e("SQ0V"),i=e("lhZz"),u=e("O86Y"),d=e("9Gfp"),m=e("uBea"),c=e("4p6e"),E=e("Z7Ay"),f=e("uAML"),O=e("G5NC"),p=e("GlHf"),b=e("3KJg"),T=e("+HFy"),v=e("aVws"),S=e("UIWO"),A=e("gSGL"),I=e("E3dU"),_=e("jlq+"),M=e("Sl1j"),y=e("Zbwg"),j=e("+l5E"),C=e("E97Y"),D=e("Yauy");function N(lt,ct,Rt){return!lt.text||!(j.d.test(lt.text)||j.a.test(lt.text)||j.b.test(lt.text)||j.c.test(lt.text))||!Object(I.z)(Rt(),lt.channel)?t.a.resolve():ct(Object(_.a)({channelId:lt.channel})).catch(a.a)}h(N,"maybeEnsureMemberCount");let B=function(){var lt=Object(s.coroutine)(function*(ct,Rt){const zt=Rt(),mn=h(function(){for(var In=arguments.length,Dn=new Array(In),_n=0;_n<In;_n++)Dn[_n]=arguments[_n];return Object(i.dispatchForTeamId)(Object(u.g)(zt),...Dn)},"dispatch"),fn=ct.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${ct.type} and subtype: ${ct.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${ct.type}`,Ln=Object(A.a)(ct.channel)&&Object(y.a)(ct.channel)&&!Object(I.z)(zt,ct.channel)?mn(Object(M.f)({ids:[ct.channel],reason:fn,callSource:M.a.EnsureModelObsArePresent})):t.a.resolve();yield t.a.all([Ln,N(ct,mn,Rt)]).catch(a.a)});return h(function(Rt,zt){return lt.apply(this,arguments)},"ensureModelObsInMessageArePresent")}();function L(lt,ct){return R.apply(this,arguments)}h(L,"ensureModelObsInMessageAreOpen");function R(){return R=Object(s.coroutine)(function*(lt,ct){if(lt.subtype)return;const Rt=!1,zt=Object(I.d)(ct(),lt.channel,Rt);zt&&Object(C.h)(zt)&&(Object(D.jb)(zt)||(yield Object(i.dispatchForTeamId)(Object(u.g)(ct()),Object(M.r)({channel:zt.id,reason:"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))))}),R.apply(this,arguments)}h(R,"_ensureModelObsInMessageAreOpen");function U(lt,ct){return W.apply(this,arguments)}h(U,"preprocessRtmMessage");function W(){return W=Object(s.coroutine)(function*(lt,ct){if(lt.type==="message")try{yield B(lt,ct),yield L(lt,ct)}catch{}}),W.apply(this,arguments)}h(W,"_preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:N,ensureModelObsInMessageAreOpen:L},"ensureModelObsInMessageArePresent",{get:()=>B,set:lt=>{B=lt}});var G=e("oTSI"),w=e("9mJw"),se=e("Yk1L"),ee=e("DKof"),X=e("Pw4T"),me=e("PLUl"),Oe=e("aNqa"),Ce=e("rIJ2");const le=7;let de;const ie=[],pe=[];let ne,q;Object(E.b)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:ie.concat(ne),backgroundTeams:pe.concat(q)}}));const ce=Object(G.a)(()=>Object(Ce.a)(1)||Object(Oe.a)(Object(i.getStateForClientStore)(),"feature_tinyspeck"));function ge(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!Object(O.a)()||!ce())return;const ct=Math.floor(Date.now()/1e3);if(de!==ct){let Rt=0;if(de){const zt=ct-de;zt>60?(ne=void 0,q=void 0,ie.length=0,pe.length=0):zt>1&&(Rt=ct-de)}if(de=ct,ne!==void 0){ie.push(ne),pe.push(q);for(let mn=0;mn<Rt;mn++)ie.push(0),pe.push(0);const zt=15*60;if(ie.length>=zt){const mn=Object(X.a)(),fn=Object(w.a)(Object(se.a)(ie),1),ln=Object(r.a)(ie)||0,Ln=Object(ee.a)(ie);Object(l.b)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${Ln} total, ${ln} per second at peak, ${fn} per second average`);const Dn={is_count:!0,allow_zero:!0};mn.store(`rtm_nq_at${le}_avg`,fn,Dn),mn.store(`rtm_nq_at${le}_max`,ln,Dn),mn.store(`rtm_nq_at${le}_total`,Ln,Dn),ie.length=0,pe.length=0}}ne=0,q=0}ne=(ne||0)+lt}h(ge,"maybeMeasureEnqueueVelocity");let be=0,Q=0,re=Date.now(),z=Date.now();const Y=5*60*1e3;function ve(lt){const ct=Date.now();be=Math.max(be,lt.length),re+Y<ct&&(Object(X.a)().count("rtm_queue_length_max",be),be=0,re=ct)}h(ve,"maybeMeasureMaxQueueLength");function Z(lt){const Rt=lt[0]._enqueuedAt,zt=Date.now(),mn=Rt&&zt-Rt;if(Q=mn?Math.max(Q,mn):Q,z+Y<zt){const fn=Object(me.a)(),ln=fn.createMetricsTrace({label:"rtm_queue"});ln.store({name:"rtm_queue_delay_max",value:Q}),fn.reportTrace(ln),Q=0,z=zt}}h(Z,"maybeMeasureMaxQueueDelay");var $=e("2Qyd"),te=e("+N8b"),J=e("QjW8"),k=e("Yzsk");const ae="RTM",Ee=100;let _e={};const je=h(function(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return _e[`${lt}${ct?`_${ct}`:""}`]||1},"getCurrentMaxBatchSize"),Ue=h(function(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;_e[`${lt}${ct?`_${ct}`:""}`]=Rt},"setCurrentMaxBatchSize");let Ke=!1;const ke=new Set(["accounts_changed","benchmark","bot_changed","channel_changed","channel_marked","client_logs_request","commands_changed","desktop_notification","draft_create","email_domain_changed","file_change","file_created","file_public","file_shared","file_unshared","group_marked","im_marked","manual_presence_change","mpim_marked","team_rename","user_change","user_invalidated","user_typing"]),Qe=16;let Ze={},De={},Fe={},Ve={};function Je(lt){var ct;return(ct=De[lt])!==null&&ct!==void 0?ct:Ze[lt]}h(Je,"getHandler");function Ot(lt){return lt.__isShared}h(Ot,"isSharedHandler");function ht(lt){return lt.enterpriseId!==void 0}h(ht,"isRoutedOrgHandler");function Le(lt){return lt.teamOrEnterpriseId!==void 0}h(Le,"isRoutedTeamHandler");function jt(lt){return ht(lt)?lt.enterpriseId:lt.teamOrEnterpriseId}h(jt,"getTeamOrEnterpriseId");function Ut(lt){let{messages:ct,teamOrEnterpriseId:Rt}=lt;if(ct.msgs.length===0)return;const zt=Je(ct.rtmEventType);if(!zt)return;const mn={handler:zt,messages:ct};if(Object($.c)(Rt)||Object(S.d)(Rt))return{...mn,teamOrEnterpriseId:Rt};const ln=T.a.get(Rt).getRouting(ct.rtmFilters);return ln.teamIds.length===0?void 0:ln.enterpriseId&&Ot(zt)?{...mn,handler:zt,enterpriseId:ln.enterpriseId,teamIds:ln.teamIds}:{...mn,teamIds:ln.teamIds}}h(Ut,"getRoutedHandler");function Ie(lt,ct){if(Fe[lt]){const zt=Object(m.a)()||Object(c.a)()?`addRtmErrorHandler: duplicate call to add a handler for ${lt}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${lt}`;throw new Error(zt)}Fe[lt]=ct}h(Ie,"addRtmErrorHandler");function oe(lt,ct){Ge({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:lt});const Rt=Object.assign(ct,{__isShared:!0});De[lt]=Rt}h(oe,"addSharedRtmHandler");function ye(lt,ct){Ge({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:lt}),Ze[lt]=ct}h(ye,"addBatchRtmHandler");function Ne(lt,ct){ye(lt,(Rt,zt,mn)=>{for(const fn of Rt)ct(fn,zt,mn)})}h(Ne,"addRtmHandler");function Ge(lt){let{functionName:ct,handlersName:Rt,rtmEventType:zt}=lt;if(!Ze[zt]&&!De[zt])return;const fn=Object(m.a)()||Object(c.a)()?`${ct}: duplicate call to add a handler for ${zt}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Rt}', {});\` to work around it.`:`${ct}: a handler is already registered for ${zt}`;throw new Error(fn)}h(Ge,"throwIfHandlerRegistered");function st(lt){return!!Ze[lt]}h(st,"doesHandlerExist");function $e(){return Ze}h($e,"debugGetHandlers");function It(){return Ve}h(It,"debugGetPendingMessages");function Lt(lt){const{rtmEventType:ct,rtmEventSubtype:Rt,msgs:zt,fromEvtLog:mn}=lt.messages,fn=jt(lt),ln=Object(l.a)({label:ae,teamOrEnterpriseId:fn}),Ln=performance.now();try{if(f.b.pauseRefetchIndefinitely(),ht(lt))lt.handler(zt,lt.enterpriseId);else{const Dn=lt.handler;if(Ot(Dn))Dn(zt,lt.teamOrEnterpriseId);else{const _n=Object(i.getStoreInstanceByTeamId)(lt.teamOrEnterpriseId);Dn(zt,_n.dispatch,_n.getState)}}}catch(Dn){throw ln.error(`Error processing ${ct}: ${Dn.message}`),Dn}finally{f.b.unpauseRefetchImmediately()}const In=performance.now()-Ln;try{Object(b.c)({teamOrEnterpriseId:fn,rtmEventType:ct,duration:In,msgs:zt,fromEvtLog:mn}),te.a.publish({type:J.a.RtmMetrics,update:In})}catch{}if(In>Qe){let Dn=`Processed ${zt.length} ${ct}`;Rt&&(Dn+=`:${Rt}`),Dn+=" event(s)";const _n=[];zt.forEach(qe=>{var Et;const Wt=(Et=qe)===null||Et===void 0?void 0:Et.channel;Wt&&_n.push(Wt)}),_n.length&&(Dn+=` in channel(s) ${_n.join(",")}`),Dn+=` over ${In.toFixed(2)}ms`,ln.info(Dn)}}h(Lt,"dispatchMessages");const St=50,vt=100,Yt=.75,et=1.1;function Ft(lt){return lt>St}h(Ft,"shouldDefer");function mt(lt){return Zt.apply(this,arguments)}h(mt,"preprocessRtmMessagesWithTimeout");function Zt(){return Zt=Object(s.coroutine)(function*(lt){let{msgs:ct,getState:Rt}=lt;const zt={},mn=3e4,fn=t.a.delay(mn,zt),ln=t.a.map(ct,In=>U(In,Rt).catch(a.a),{concurrency:1});(yield t.a.race([ln,fn]))===zt&&Object(l.a)({getState:Rt}).warn("Preprocessing messages took too long; continue to process queue")}),Zt.apply(this,arguments)}h(Zt,"_preprocessRtmMessagesWithTimeout");function gt(lt){return at.apply(this,arguments)}h(gt,"routeMessages");function at(){return at=Object(s.coroutine)(function*(lt){let{messages:ct,teamOrEnterpriseId:Rt,elapsed:zt}=lt;const mn=Ut({messages:ct,teamOrEnterpriseId:Rt});if(!mn||Xt(Rt))return zt;if(ht(mn)||Le(mn))return it({routedHandler:mn,elapsed:zt});const fn=yield t.a.all(mn.teamIds.map(Ln=>{const In={...mn,teamOrEnterpriseId:Ln};return it({routedHandler:In,elapsed:zt})}));var ln;return(ln=Object(r.a)(fn))!==null&&ln!==void 0?ln:zt}),at.apply(this,arguments)}h(at,"_routeMessages");function it(lt){return dt.apply(this,arguments)}h(it,"dispatchMessagesWithPreprocessing");function dt(){return dt=Object(s.coroutine)(function*(lt){let{routedHandler:ct,elapsed:Rt}=lt;const zt=performance.now(),mn=ht(ct)?ct.teamIds:[ct.teamOrEnterpriseId];yield t.a.all(mn.map(Ln=>{const In=Object(i.getStoreInstanceByTeamId)(Ln);return mt({msgs:ct.messages.msgs,getState:In.getState})}));const fn=performance.now();Lt(ct);let ln=Rt;return fn-zt>St&&(ln=0),ln+=performance.now()-fn,ln}),dt.apply(this,arguments)}h(dt,"_dispatchMessagesWithPreprocessing");function _t(lt){return Dt.apply(this,arguments)}h(_t,"handleNextMessageFromQueue");function Dt(){return Dt=Object(s.coroutine)(function*(lt){let{queue:ct,teamOrEnterpriseId:Rt,elapsed:zt=0}=lt;for(var mn;ct&&ct.length>0&&!(!((mn=ct[0])===null||mn===void 0)&&mn.type);)ct.shift();if(!ct||!ct.length)return t.a.resolve();const fn=Object(l.a)({teamOrEnterpriseId:Rt,label:ae});try{ve(ct),Z(ct)}catch{}const ln=ct[0].type,Ln=ct[0].subtype,In=T.a.getFilters(ct[0]),Dn=Object($.b)(ct[0]);let _n=je(ln,Ln);const qe=[ct[0]],Et=[];for(let hn=1;hn<ct.length&&qe.length<_n&&Et.length<_n;hn++)if(ct[hn].type===ln&&ct[hn].subtype===Ln&&T.a.isEqualFilters(In,T.a.getFilters(ct[hn])))qe.push(ct[hn]);else if(ke.has(ct[hn].type))Et.push(ct[hn]);else break;const Wt=qe.length;Wt>1&&fn.debug(ae,`Batch processing ${Wt} of type ${ln}, skipping ${Et.length} interleaved events ${Et.map(hn=>hn.type).join(",")}`);let qt=zt;try{qt=yield gt({messages:{rtmEventType:ln,rtmEventSubtype:Ln,rtmFilters:In,msgs:qe,fromEvtLog:Dn},teamOrEnterpriseId:Rt,elapsed:qt})}catch(hn){fn.error(`Error while processing ${Wt} ${ln} event(s)`,hn)}finally{Wt!==qe.length&&(fn.error(`Message batch size for type (${ln}) changed during handling`),fn.warn(`Original batch size: ${Wt} Post-handler batch size: ${qe.length}`));const hn=Wt+Et.length;ct.splice(0,hn,...Et)}const nn=Ft(qt),rn=document.visibilityState==="visible";return _n=je(ln,Ln),rn&&(nn?_n>1&&qt>vt&&(Ue(ln,Ln,Math.max(1,Math.floor(_n*Yt))),fn.debug(ae,`Maximum batch size decreased to ${je(ln,Ln)}`)):_n<Ee&&qe.length===_n&&(Ue(ln,Ln,Math.min(Ee,Math.ceil(_n*et))),fn.debug(ae,`Maximum batch size increased to ${je(ln,Ln)}`))),ct.length?rn&&nn?t.a.delay(St).then(()=>{we(Rt)}):_t({queue:ct,teamOrEnterpriseId:Rt,elapsed:qt}):t.a.resolve()}),Dt.apply(this,arguments)}h(Dt,"_handleNextMessageFromQueue");let Ye=0,Xe,kt=100;function Bt(){let lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Object(l.b)();if(Xe)return;const ct=Date.now()-Ye;if(ct<kt){const Rt=Math.min(kt-ct,kt),zt=Object(O.a)()&&!Object(p.m)(Object(i.getStateForClientStore)());zt&&lt.info(ae,`Setting a timeout of ${Rt} ms to process more rtm events`),Xe=window.setTimeout(()=>{Xe=void 0,zt&&lt.info(ae,`Waited ${Rt} ms, processing more rtm events now`),wt()},Rt);return}wt()}h(Bt,"maybeDrainQueues");function wt(){Ye=Date.now();const lt=h(()=>{const ct=Object.keys(Ve);for(const Rt of ct)we(Rt)},"drainQueuesFn");Ke?Object(k.e)(lt):lt()}h(wt,"drainQueues");function we(lt){!Ve[lt]||!Ve[lt].length||_t({queue:Ve[lt],teamOrEnterpriseId:lt})}h(we,"drainQueue");function ot(lt,ct){let Rt=0;const zt=ct.filter(ln=>ln!=null&&ln.type?(Object($.b)(ln)||(Rt+=1),!0):(Object(l.a)({teamOrEnterpriseId:lt,label:ae}).warn("Received attempt to enqueue an invalid message; dropping it",ln),!1));try{ge(Rt)}catch{}Ve[lt]=Ve[lt]||[];const mn=Ve[lt].length,fn=Date.now();for(const ln of zt)ln._enqueuedAt=fn;Ve[lt].push(...zt),!mn&&Ve[lt].length>0&&Bt()}h(ot,"enqueueMessages");const yt=Object(o.c)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(lt,ct,Rt)=>{const zt=Object(u.g)(ct()),mn=Ut({messages:{rtmEventType:Rt.type,rtmEventSubtype:Rt.subtype,msgs:[Rt],fromEvtLog:Object($.b)(Rt)},teamOrEnterpriseId:zt});mn&&Lt(mn)});yt.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const Kt=Object(o.c)("Calls the relevant handler for the given message",(lt,ct,Rt)=>{if(!Fe[Rt]){if(Rt&&Rt.includes&&Rt.includes("started_with_org_token")){var zt;Object(l.a)({getState:ct}).error(new Error(`Unexpected start error: ${Rt}`),JSON.stringify({error:Rt,pathname:window==null||(zt=window.location)===null||zt===void 0?void 0:zt.pathname}),{subtype:"gs_start_error"})}else Object(l.a)({getState:ct}).error(new Error(`Unexpected start error: ${Rt}`),JSON.stringify({error:Rt}),{subtype:"gs_start_error"});return}Fe[Rt](Rt,lt,ct)});Kt.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function Xt(lt){const ct=Object(i.getStateByTeamId)(Object(v.a)(lt));return Object(d.l)(ct)&&!Object(d.n)(ct)}h(Xt,"shouldIgnoreRtmStream");const cn=h(lt=>{Ke=lt},"setIsActiveHuddle"),gn=Object(o.c)("Fake an RTM event for testing only",(lt,ct,Rt)=>{const zt=Object(u.g)(ct()),mn=Ut({messages:{rtmEventType:Rt[0].type,rtmEventSubtype:Rt[0].subtype,msgs:Rt,fromEvtLog:Object($.b)(Rt[0])},teamOrEnterpriseId:zt});mn&&Lt(mn)});gn.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const vn={handleNextMessageFromQueue:_t,shouldIgnoreRtmStream:Xt,errorHandlers:Fe,handlers:Ze,sharedHandlers:De,currentMaxBatchSize:_e,drainQueues:wt,drainQueue:we,maybeDrainQueues:Bt,queueDrainTimeout:Xe,lastQueueDrainTimestamp:Ye,pendingMessages:Ve};Object.defineProperty(vn,"handleNextMessageFromQueue",{get:()=>_t,set:lt=>{_t=lt}}),Object.defineProperty(vn,"errorHandlers",{get:()=>Fe,set:lt=>{Fe=lt}}),Object.defineProperty(vn,"handlers",{get:()=>Ze,set:lt=>{Ze=lt}}),Object.defineProperty(vn,"sharedHandlers",{get:()=>De,set:lt=>{De=lt}}),Object.defineProperty(vn,"currentMaxBatchSize",{get:()=>_e,set:lt=>{_e=lt}}),Object.defineProperty(vn,"drainQueues",{get:()=>wt,set:lt=>{wt=lt}}),Object.defineProperty(vn,"drainQueue",{get:()=>we,set:lt=>{we=lt}}),Object.defineProperty(vn,"maybeDrainQueues",{get:()=>Bt,set:lt=>{Bt=lt}}),Object.defineProperty(vn,"queueDrainTimeout",{get:()=>Xe,set:lt=>{Xe=lt}}),Object.defineProperty(vn,"lastQueueDrainTimestamp",{get:()=>Ye,set:lt=>{Ye=lt}}),Object.defineProperty(vn,"pendingMessages",{get:()=>Ve,set:lt=>{Ve=lt}}),Object(E.a)("rtm",{handlers:Ze,errorHandlers:Fe,interceptHandler:(lt,ct)=>{const Rt=Ze[lt];Ze[lt]=function(){for(var zt=arguments.length,mn=new Array(zt),fn=0;fn<zt;fn++)mn[fn]=arguments[fn];ct(Rt,...mn)}},getPendingMessages:()=>Ve,globalQueue:{drainQueues:wt,drainQueue:we,maybeDrainQueues:Bt,getCurrentMaxBatchSize:()=>_e,setCurrentMaxBatchSize:lt=>{_e=lt},setQueueDrainInterval:lt=>{kt=lt}}})},Uy34:function(H,n,e){H.exports=e.p+"ava_0002-192-0ddd598.png"},"V/As":function(H,n,e){"use strict";e.d(n,"a",function(){return u}),e.d(n,"b",function(){return m});var s=e("gV2L"),t=e.n(s),a=e("1Lli"),r=e("bPB8"),l=e("zmn3"),o=e("7EGn"),i=e("DR7d");const u=t.a;function d(c){return!c||!c.icons?[]:Object(a.a)(Object(r.a)(Object(l.a)(c.icons,(E,f)=>{let O=f.replace("image_","");return O=O.replace("image",""),parseInt(O,10)})),[],"desc")}h(d,"getAvailableIconSizes");function m(c,E){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"icons.image_";const p=Object(i.a)(E,d(c)),b="icons.image",T=Object(o.a)(c,`${O}${p}`),v=Object(o.a)(c,`${b}${p}`,f);return T??v}h(m,"getAppIcon")},V0AD:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("2um6");const l=Object(s.createContext)({useARIAApplicationForListViews:!1}),o=h(i=>{const u=Object(a.d)(r.k),d=Object(s.useMemo)(()=>({useARIAApplicationForListViews:u}),[u]);return t.a.createElement(l.Provider,{value:d},i.children)},"A11yPrefsProvider");o.displayName="A11yPrefsProvider"},VFO2:function(H,n,e){H.exports=e.p+"template_card_bugs-545dad5.png"},VHTg:function(H,n,e){"use strict";var s=e("lCmp"),t=e("s4P+"),a=e("G5NC"),r=e("TMWO"),l=e("vfQU"),o=e("Kyco"),i=e("lhZz"),u=e("PZKh"),d=e("WvYH"),m=e("zm5I"),c=e("apAF"),E=e("7xYR");let f="light",O=!1,p="light";try{r.b&&Object(a.a)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(T=>{const v=T.matches?"dark":"light";p=v,O&&(f=p);const S=Object(i.getClientStoreInstance)();if(S){const A=S.getState(),I=Object(E.getBootedWorkspaces)(A),_=Object(s.a)(I.map(M=>Object(r.a)(Object(i.getStateByTeamId)(M))));S.dispatch(Object(d.c)(v)),_&&Object(m.b)(A)&&S.dispatch(Object(c.a)(v))}})}catch(T){Object(t.b)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",T)}try{const T=window.localStorage.getItem(u.b),v=window.localStorage.getItem(u.a);f=T||"light",r.b&&(v?O=v==="true":O=!T,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(p="dark"),O&&(f=p)),Object(l.fb)()&&(Object(l.ec)({name:"userTheme",value:f}),Object(l.ec)({name:"systemThemeSyncEnabled",value:O}))}catch(T){Object(t.b)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",T)}const b=Object(o.b)({},{clientTheme:f,systemSync:O,systemTheme:p},{storeKey:"clientTheme",persistenceEnabled:!1}).on(d.a,function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...T,clientTheme:v}}).on(d.b,function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...T,systemSync:v}}).on(d.c,function(T){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...T,systemTheme:v}});n.a=b},VKu5:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("AFNo"),t=e("GNR7"),a=e("O86Y"),r=e("sekU");const l=Object(s.c)((o,i)=>{const u=Object(t.B)(o);if(u)return u;const d=Object(t.a)(o,i);if(!d)return null;const m=Object(a.g)(o);return d.name===void 0?(Object(r.b)().fetchObjectWithId(m,d.id),null):(Object(r.a)().maybeRefetch(m,d.id),d.name)});l.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(o,i)=>{const u=Object(t.B)(o);if(u)return u;const d=Object(t.a)(o,i);if(!d)return null;const m=Object(a.g)(o);return d.name===void 0?(Object(r.b)().fetchObjectWithId(m,d.id),null):(Object(r.a)().maybeRefetch(m,d.id),d.name)}}},VSFm:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("SQ0V"),t=e("Lgge"),a=e("do0Y"),r=e("Zbwg"),l=e("s4P+"),o=e("mb4i");const i=Object(s.c)("Fetch teams connected to a shared channel and upsert into frontend store.",(u,d,m)=>{let{channelId:c,reason:E="fetchAndUpsertSharedChannelTeamConnections"}=m;return Object(r.a)(c)?u(Object(o.a)({reason:E,channel:c})).then(f=>{const{channel:O,connections:p=[],pending_connections:b=[],previous_connections:T=[]}=f;return u(Object(a.a)({id:O.id,conversationHostId:O.conversation_host_id,isChannelSponsored:O.is_sponsored,connections:p,pendingConnections:b,previousConnections:T})),f}).catch(f=>{throw f}):(Object(l.a)({getState:d}).warn(`fetchAndUpsertSharedChannelTeamConnections called with incorrect channelId type: ${c}`),t.a.resolve())});i.meta={name:"createThunk",key:"createThunkfetchAndUpsertSharedChannelTeamConnections",description:"Fetch teams connected to a shared channel and upsert into frontend store."}},VSuV:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("xwCZ"),l=e("Enx8"),o=e("C3vN"),i=e("nNoG"),u=e("hooW");const d=new i.b("channel_token"),m=h(c=>{let{userId:E,isFirst:f,isSelf:O}=c;var p;const b=(p=Object(a.d)(v=>Object(r.g)(v,E)))!==null&&p!==void 0?p:void 0;let T=Object(a.d)(v=>Object(l.a)(v,E));return Object(o.pb)(b)?t.a.createElement(u.a,{type:"unknown",subtler:!0}):Object(o.fb)(b)?t.a.createElement(u.a,{type:"non-existent",subtler:!0}):(O&&(T=f?d.t("You"):d.t("you")),t.a.createElement(t.a.Fragment,null,T))},"TooltipMemberName");m.displayName="TooltipMemberName",n.a=t.a.memo(m)},VXST:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("Lgge"),a=e("Tkkt"),r=e("blur"),l=e("05YS"),o=e("s4P+"),i=e("ASxg"),u=e("TBTs"),d=e("TU0B"),m=e("vkL2"),c=e("ohbk"),E=e("3fJ/"),f=e("rZ8V"),O=e("kZhr"),p=e("I0j/"),b=e("37+L");const T=Object(s.c)("Set a request from the editable request",(v,S,A)=>{let{query:I,fetchSuggestions:_=!0,module:M,mode:y,page:j,preventQueryRewrite:C=!1}=A;v(Object(a.m)({windowId:O.a}));const D=S(),N=I||Object(l.A)(D)||"",B=Object(o.a)({getState:S}),L=Object(l.D)(D);let R;if(M){B.info(i.a,`Retrying previous search for ${M} module`);const W=Object(u.m)(D,M)||{};R=v(Object(r.d)({page:j??W.page,module:M,reason:"search-retry-module"}))}else B.info(i.a,"Starting new search"),v(Object(a.c)({windowId:O.a})),R=v(Object(r.b)({query:N,reason:"search-new-query",fetchSuggestions:_,preventQueryRewrite:C}));const U=Object(d.a)(D);return U?(v(Object(m.b)({value:U})),Object(f.o)(D)?v(Object(p.a)(Object(b.ab)(U))):v(Object(c.a)({id:"Psearch",routeParams:{searchQuery:U}})),v(Object(E.Q)({view:M||"all",position:0})),N&&v(Object(r.q)({query:N,type:y||"unknown"})),L&&v(Object(a.d)({windowId:O.a})),R):t.a.reject(new Error("Error getting route param from search state"))});T.meta={name:"createThunk",key:"createThunksetRequestFromEditableRequest",description:"Set a request from the editable request"},n.a=T},VYSP:function(H,n,e){"use strict";e.d(n,"a",function(){return w}),e.d(n,"b",function(){return me});var s=e("65zA"),t=e("PLUl"),a=e("5MVR"),r=e("tHoN"),l=e("s4P+"),o=e("lhZz"),i=e("j77i"),u=e("O86Y"),d=e("xwCZ"),m=e("JvzI"),c=e("RVJP"),E=e("E3dU"),f=e("gCYc"),O=e("7xYR"),p=e("4Vim"),b=e("Oczg"),T=e("hoMV"),v=e("8kWR"),S=e("SjsT"),A=e("DuRM"),I=e("XO6L"),_=e("3vtZ"),M=e("rZ8V"),y=e("GlHf"),j=e("hhWw"),C=e("Z7Ay");function D(){var Oe,Ce;return{hardware_concurrency:(Oe=window.navigator)===null||Oe===void 0?void 0:Oe.hardwareConcurrency,device_memory:(Ce=window.navigator)===null||Ce===void 0?void 0:Ce.deviceMemory}}h(D,"getDeviceStats");function N(){const Oe=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),Ce=Object(r.b)(),le=Object(r.a)(),de=Ce&&le?(Ce/le).toPrecision(4):null;return{total_client_redux_size:Oe,js_heap_used:Ce,js_heap_total:le,js_heap_used_percentage:de}}h(N,"getPerfMemoryStats");function B(){const Oe=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!Oe)return{};try{return JSON.parse(Oe)}catch(Ce){return Object(l.b)().warn("Error parsing appStats in localStorage:",Oe,Ce),{}}}h(B,"getDesktopAppStats");function L(){return{...Object(I.a)(),num_started_sockets:Object(T.d)(),frontend_build_type:Object(s.a)(),object_store_redux_group:Object(v.b)(j.a)}}h(L,"getClientStateTags");function R(Oe,Ce){const le=Ce.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),de=Object.values(Object(E.b)(Oe)).length,ie=Object.values(Object(E.i)(Oe)).length,pe=Object.values(Object(E.o)(Oe)).length,ne=Object.values(Object(E.r)(Oe)).length;return le.close(),{num_channels_in_redux:de,num_all_channels_user_is_in:ie,num_dms_user_is_in:pe,num_group_dms_user_is_in:ne}}h(R,"getChannelInfoTags");function U(Oe,Ce){const le=Ce.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),de=Object.keys(Object(f.l)(Oe)||{}).length,ie=Object(a.a)(Object(f.f)(Oe));return le.close(),{num_drafts:de,drafts_store_size:ie}}h(U,"getDraftsInfoTags");function W(Oe){return{user_locale:Object(m.a)({teamOrEnterpriseId:Object(u.h)(Oe)})}}h(W,"getLocaleTags");function x(Oe){return{active_collab_instance_count:Object(b.b)(),open_quip_embed_instance_count:Object(p.a)(Oe).length,canvas_child_window_count:Object(A.a)()}}h(x,"getCanvasTags");const G=h(Oe=>{const Ce=["spaceship_beyond_iframes","selector_memo"],le={};return Ce.forEach(ie=>{const pe=Object(c.d)(Oe,ie,!1);pe&&(le[ie]=pe)}),["redux_key_tracker"].forEach(ie=>{const pe=Object(v.b)(ie);pe!==v.a.NoGroup&&(le[ie]=pe)}),le.ia4=Object(M.o)(Oe)?"on":"off",le},"getExperimentTagsForTraces"),w=h((Oe,Ce)=>{const le=Ce??["desktop_flannel_emoji"],de={},ie=Object(c.b)(Oe),pe=Date.now()/1e3,ne=60*60*24*7*4;for(const[q,ce]of Object.entries(ie)){const{trigger:ge,schedule_ts:be}=ce;(le.includes(q)||ge&&be&&ge!=="finished"&&ge!=="force_debug"&&be>pe-ne)&&(de[q]=ce.group)}return de},"getExperimentTags");function se(Oe){return{num_members_in_redux:Object(d.a)(Oe).length}}h(se,"getMembersTags");function ee(Oe){const Ce=Object(i.f)("lastColdBootTs"),le=Object(y.c)(Oe);return{last_cold_boot_ts:Ce,boot_type:le}}h(ee,"getConfigTags");function X(){return{is_in_active_huddle:Object(_.y)()}}h(X,"getHuddleTags");function me(Oe){const Ce=Object(o.getStateForClientStore)();if(!Ce)return{};const le=Oe??Object(O.getFocusedWorkspace)(Ce),de=Object(o.getStateByTeamId)(le),ie=Object(t.a)(),pe=ie.createTrace({traceName:"add_tags:performance_tracing_metatags"}),ne=Object(I.b)(le),q=L(),ce=R(de,pe),ge=U(de,pe),be=D(),Q=N(),re=B(),z=W(de),Y=se(de),ve=ee(de),Z=S.a.getTraceTags(),$=G(de),te=x(de),J=X(),k={...ne,...q,...ce,...ge,...be,...Q,...re,...z,...Y,...ve,...Z,...$,...te,...J};return ie.reportTrace(pe),k}h(me,"getPerformanceTracingMetatags"),Object(C.b)("performanceTracingMetatags",me)},VfSx:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t&&t.installed}h(s,"isEmojiCollectionInstalled")},VjAc:function(H,n,e){"use strict";e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"j",function(){return u}),e.d(n,"h",function(){return d}),e.d(n,"i",function(){return c}),e.d(n,"f",function(){return E}),e.d(n,"g",function(){return f}),e.d(n,"k",function(){return O}),e.d(n,"e",function(){return T}),e.d(n,"c",function(){return v}),e.d(n,"d",function(){return S});var s=e("gSGL"),t=e("nNoG"),a=e("ykb+"),r=e("s4P+");const l=new t.b("channels"),o=250,i=250;function u(I){return Object(s.a)(I)?I.length>o:(Object(a.b)()&&Object(r.b)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}h(u,"channelTopicExceedsLimit");const d="too_long",m="restricted_action",c="user_is_restricted",E="method_not_supported_for_channel_type",f="method_not_supported_for_dm";function O(I){switch(I){case d:return l.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:o});case m:case c:return l.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case E:return l.t("It\u2019s not possible to set a topic here, unfortunately.");case f:return l.t("Regrettably, direct messages do not have topics.");default:return l.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}h(O,"getChannelTopicError");const p="too_long",b="restricted_action",T="user_is_restricted",v="method_not_supported_for_channel_type",S="method_not_supported_for_dm";function A(I){switch(I){case p:return l.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:i,fallbackHash:"087b894e92ec32b794a3cd30bd37323df4175897"});case b:case T:return l.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case v:return l.t("It\u2019s not possible to set a purpose here, unfortunately.",{fallbackHash:"12ce622a898e7e78ccd1f2fe5fce11cb2c1cf1da"});case S:return l.t("Regrettably, direct messages do not have purposes.",{fallbackHash:"40ea8381b1de99e2bdf1a5860a8c436049338689"});default:return l.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}h(A,"getChannelPurposeError")},VkPA:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("WIr4"),o=e("ktUG"),i=e("VymY"),u=e("lYQS"),d=e("Kcy5"),m=e("MLXQ"),c=e("LrWZ"),E=e("qDEp"),f=e("oEDn"),O=e("ZobM"),p=e("U28S"),b=e("j4mf");function T(J){return/\.(jpe?g|png|gif|bmp)$/i.test(J)}h(T,"hasImageExtention");var v=T,S=e("n3y5");function A(){return A=Object.assign||function(J){for(var k=1;k<arguments.length;k++){var ae=arguments[k];for(var Ee in ae)Object.prototype.hasOwnProperty.call(ae,Ee)&&(J[Ee]=ae[Ee])}return J},A.apply(this,arguments)}h(A,"_extends");const I=h(J=>{let{icon:k,svgIcon:ae,customIcon:Ee,className:_e}=J;return t.a.createElement("div",{className:_e,"data-qa":"tabs_item_render_icon"},!Ee&&k&&!ae&&t.a.createElement(f.a,{type:k,size:"inherit",inline:!0}),!Ee&&ae&&!k&&t.a.createElement(O.a,A({},ae)),Ee&&Ee)},"TabsItemIcon");I.displayName="TabsItemIcon";const _=h(J=>J>=1e4?Object(p.a)(J,{precision:4,decimal_places:0,lowercase:!0}):Object(b.a)(J),"formatNumber"),M=h(J=>{let{shouldFormatCount:k,titleCount:ae,maxTitleCount:Ee}=J;return k&&ae?_(ae):Ee&&ae&&ae>Ee?`${Ee}+`:ae},"formatCount");var j=Object(s.forwardRef)((J,k)=>{let{label:ae,onClick:Ee,title:_e,isSelected:je,isFocused:Ue,focusOnMount:Ke,fullWidth:ke,titleCount:Qe,maxTitleCount:Ze,icon:De,svgIcon:Fe,customIcon:Ve,formatCount:Je,isLoading:Ot,isCountLoading:ht,isDisabled:Le,iconPosition:jt="right",className:Ut="",...Ie}=J;const oe=Object(m.a)(k),ye=Object(a.default)(Ut,"c-tabs__tab","js-tab",{"c-tabs__tab--active":je,"c-tabs__tab--full_width":ke}),Ne=ae||_e,Ge=typeof Ne=="string"&&v(Ne)?t.a.createElement(S.a,{classes:"c-tabs__tab_image",image:Ne,ariaHidden:!0}):Ne,st=Ie.id,$e=Object(s.useCallback)(vt=>{Ee&&Ee(st,vt)},[st,Ee]),It=M({shouldFormatCount:Je,titleCount:Qe,maxTitleCount:Ze}),Lt=Object(c.a)(Ue)?je:Ue,St=Object(d.a)(Lt);return Object(s.useEffect)(()=>{if(!Lt)return;const vt=Object(c.a)(St);if(vt&&Ke||!vt&&!St){var Yt;(Yt=oe.current)===null||Yt===void 0||Yt.focus()}},[Lt,St,Ke,oe]),t.a.createElement(E.d,A({},Ie,{onClick:$e,role:"tab",className:ye,"aria-selected":je,tabIndex:Lt?0:-1,disabled:Le,ref:oe}),Ot?t.a.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.a.createElement(t.a.Fragment,null,(!!De||!!Fe||!!Ve)&&jt==="left"&&t.a.createElement(I,{icon:De,svgIcon:Fe,customIcon:Ve,className:"c-tabs__tab_icon--left"}),t.a.createElement("span",{className:"c-tabs__tab_content"},Ge),Number.isFinite(Qe)&&t.a.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},It),ht&&t.a.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!De||!!Fe||!!Ve)&&jt==="right"&&t.a.createElement(I,{icon:De,svgIcon:Fe,customIcon:Ve,className:"c-tabs__tab_icon--right"})))}),C=e("c+dP"),D=e("Tsh7");const N={name:"ellipsis-horizontal",variation:"filled"};var L=Object(s.forwardRef)((J,k)=>{let{renderMenu:ae,position:Ee,label:_e,id:je,isSelected:Ue,isFocused:Ke}=J;return t.a.createElement(C.e,{renderMenu:ae,position:Ee||"bottom-left"},t.a.createElement(D.d,{tip:_e,position:"top",offsetY:6},t.a.createElement(j,{id:je,"aria-label":_e,isSelected:Ue,isFocused:Ke,className:"c-tabs__tab_overflow",svgIcon:N,ref:k})))});function R(){return R=Object.assign||function(J){for(var k=1;k<arguments.length;k++){var ae=arguments[k];for(var Ee in ae)Object.prototype.hasOwnProperty.call(ae,Ee)&&(J[Ee]=ae[Ee])}return J},R.apply(this,arguments)}h(R,"tabs_content_extends");var W=Object(s.forwardRef)((J,k)=>{let{content:ae,fullHeight:Ee,className:_e,...je}=J;const Ue=Object(a.default)(_e,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":Ee});return t.a.createElement("div",R({role:"tabpanel",className:Ue,"data-qa":"tabs_content_container",ref:k},je),ae)}),x=e("0cEW"),G=e("s4P+"),w=e("ykb+"),se=e("muVS"),ee=e("tcEy"),X=e("tv4y"),me=e("DKof");const Oe=53,Ce=27;function le(J){const k=J.ownerDocument.defaultView;if(!k)return J.offsetWidth;const ae=k.getComputedStyle(J),Ee=parseFloat(ae.getPropertyValue("margin-left"))+parseFloat(ae.getPropertyValue("margin-right"));return J.offsetWidth+Ee}h(le,"getWidth");function de(J){const k=J.ownerDocument.defaultView;if(!k)return J.offsetHeight;const ae=k.getComputedStyle(J),Ee=parseFloat(ae.getPropertyValue("margin-top"))+parseFloat(ae.getPropertyValue("margin-bottom"));return J.offsetHeight+Ee}h(de,"getHeight");const ie=h((J,k)=>{let{outerElement:ae,innerElement:Ee,threshold:_e,totalTabsLength:je,childElements:Ue,containerSize:Ke,isHorizontal:ke}=J;if(!ae||!Ee||!Ue||je===0)return;const Qe=Ke-_e,Ze=ke?le:de,De=Array.from(Ue).map(ht=>Ze(ht));if(Object(me.a)(De)<Qe&&De.length===je){k(je);return}let Ve=ke?Oe:Ce,Je=Qe,Ot=1;De.forEach(ht=>{Ve+=ht,Ve<Qe&&ht<=Je&&(Ot+=1),Je-=ht}),k(Ot)},"recalculateVisibleTabs");var pe=e("nNoG"),ne=e("gSGL"),ce=h(J=>Object(ne.a)(J),"isReactNodeAString");function ge(){return ge=Object.assign||function(J){for(var k=1;k<arguments.length;k++){var ae=arguments[k];for(var Ee in ae)Object.prototype.hasOwnProperty.call(ae,Ee)&&(J[Ee]=ae[Ee])}return J},ge.apply(this,arguments)}h(ge,"tabs_extends");const be=new pe.b("slack-kit"),Q=85,re=52,z=["ArrowLeft"],Y=["ArrowRight"],ve=z.concat("ArrowUp"),Z=Y.concat("ArrowDown");let $=h(class extends s.PureComponent{setVisibleTabs(k){this.setState(()=>({numOfVisibleTabsShown:k}))}onResize(){var k,ae,Ee,_e,je,Ue,Ke,ke,Qe,Ze;const De=this.props.orientation===x.a.Horizontal,Fe=De?(k=this.tabsContainerRef)===null||k===void 0||(ae=k.current)===null||ae===void 0?void 0:ae.clientWidth:(Ee=this.tabsContainerRef)===null||Ee===void 0||(_e=Ee.current)===null||_e===void 0?void 0:_e.clientHeight;if(!Fe)return;const Ve=De?Q:re,Je={outerElement:(je=this.tabsContainerRef)===null||je===void 0||(Ue=je.current)===null||Ue===void 0?void 0:Ue.getBoundingClientRect(),innerElement:(Ke=this.lastVisibleTabRef)===null||Ke===void 0||(ke=Ke.current)===null||ke===void 0?void 0:ke.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(Qe=this.tabsContainerRef)===null||Qe===void 0||(Ze=Qe.current)===null||Ze===void 0?void 0:Ze.children};ie({...Je,threshold:Ve,containerSize:Fe,isHorizontal:De},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}))}componentDidMount(){this._isMounted=!0;const{maxSize:k}=this.props;if(k&&!this.resizeListener){var ae;this.resizeListener=Object(ee.a)(this.onResize),this.resizeListener.observe((ae=this.tabsContainerRef)===null||ae===void 0?void 0:ae.current)}}componentDidUpdate(k,ae){var Ee;const{defaultTabId:_e,tabs:je,manualTabActivation:Ue}=this.props;var Ke;((Ke=(Ee=k.tabs)===null||Ee===void 0?void 0:Ee.length)!==null&&Ke!==void 0?Ke:0)!==je.length&&this.updateSelectedTab(),_e!==k.defaultTabId&&_e&&this.selectTab(_e,void 0);const ke=ae.numOfVisibleTabsShown!==this.state.numOfVisibleTabsShown,Qe=ae.selectedTabId!==this.state.selectedTabId&&!Ue;(ke||Qe)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var k;(k=this.resizeListener)===null||k===void 0||k.disconnect(),this.resizeListener=null}}onFocus(k){const{focusedTabIndex:ae}=this.state,Ee=this.getTabIndexById(k.target.id);Ee!==ae&&this.focusTab(Ee)}onKeyDown(k){const ae=k.key;if(k.shiftKey||k.metaKey||k.ctrlKey||k.altKey)return;const _e=this.props.orientation==="vertical",je=_e?Z:Y,Ue=_e?ve:z;if(!["Home","End"].concat(je,Ue).includes(ae))return;const ke=je.includes(ae),Qe=Ue.includes(ae);k.preventDefault(),ke&&this.onNextArrow(k),Qe&&this.onPreviousArrow(k),ae==="Home"&&this.onHome(k),ae==="End"&&this.onEnd(k)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:k}=this.props,{numOfVisibleTabsShown:ae}=this.state;return k.slice(ae,k.length)}getVisibleTabs(){var k,ae;const{tabs:Ee,maxSize:_e}=this.props;if(!!!_e)return Ee;const Ue=((k=this)===null||k===void 0||(ae=k.state)===null||ae===void 0?void 0:ae.numOfVisibleTabsShown)||Ee.length;return Ee.length===Ue?Ee:Ee.slice(0,Ue).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(k=>{let{id:ae}=k;return ae})}getTabById(k){var ae;return(ae=this.props.tabs)===null||ae===void 0?void 0:ae.find(Ee=>Ee.id===k)}getTabIndexById(k){return this.getVisibleTabIds().indexOf(k)}onHome(k){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:ae,manualTabActivation:Ee,onTabChange:_e}=this.props,je=this.getVisibleTabIds(),Ue=0;if(this.focusTab(Ue),Ee)return;const Ke=je[Ue];Ke!==this.overflowTabId&&(ae==null?void 0:ae(Ke))!==!1&&this.setState(()=>({selectedTabId:Ke}),()=>{_e==null||_e(Ke,k)})}onEnd(k){const ae=this.getVisibleTabIds(),Ee=ae.length-1;if(this.state.focusedTabIndex===Ee)return;const{onTabWillChange:_e,manualTabActivation:je,onTabChange:Ue}=this.props;if(this.focusTab(Ee),je)return;const Ke=ae[Ee];Ke!==this.overflowTabId&&(_e==null?void 0:_e(Ke))!==!1&&this.setState(()=>({selectedTabId:Ke}),()=>Ue==null?void 0:Ue(Ke,k))}onNextArrow(k){const{onTabWillChange:ae,manualTabActivation:Ee,onTabChange:_e}=this.props,je=this.getVisibleTabIds(),Ue=this.getTabIndexById(k.target.id),Ke=Ue>=je.length-1?0:Ue+1;if(this.focusTab(Ke),Ee)return;const ke=je[Ke];ke!==this.overflowTabId&&(ae==null?void 0:ae(ke))!==!1&&this.setState(()=>({selectedTabId:ke}),()=>_e==null?void 0:_e(ke,k))}onPreviousArrow(k){const{onTabWillChange:ae,manualTabActivation:Ee,onTabChange:_e}=this.props,je=this.getVisibleTabIds(),Ue=this.getTabIndexById(k.target.id),Ke=Ue===0?je.length-1:Ue-1;if(this.focusTab(Ke),Ee)return;const ke=je[Ke];ke!==this.overflowTabId&&(ae==null?void 0:ae(ke))!==!1&&this.setState(()=>({selectedTabId:ke}),()=>_e==null?void 0:_e(ke,k))}getNextTabId(){const{defaultTabId:k,tabs:ae,currentTabId:Ee}=this.props,_e=k?this.getTabIndexById(k):void 0,je=Ee?this.getTabIndexById(Ee):void 0;return Ee&&je?Ee:k&&_e?k:ae[0].id}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const k=this.getNextTabId();k!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:k}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:k}=this.focusedTabRef;if(k)return k.focus(),!0;const ae=this.props.currentTabId||this.state.selectedTabId,Ee=this.getTabIndexById(ae)||0;return this.focusTab(Ee),!0}focusTab(k){this.setState(()=>({focusedTabIndex:k}))}selectTab(k,ae){const{onTabWillChange:Ee,onTabChange:_e}=this.props,je=this.getTabById(k);if(!je)return null;if((Ee==null?void 0:Ee(k))!==!1){if(je.isExternalLink){var Ue;return(Ue=je.onClick)===null||Ue===void 0?void 0:Ue.call(je,k,ae)}return this.setState(()=>({selectedTabId:k}),()=>{if(_e==null||_e(k,ae),this.props.focusOnFirstFocusableChildOnChange){const Ke=this.panelRef&&this.panelRef.current,ke=Object(i.d)(Ke);ke==null||ke.focus()}}),null}}updateFocusedTabIndex(){const k=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(k)}))}onTabClick(k,ae){var Ee;const _e=this.getTabById(k);_e&&(_e.isExternalLink||this.selectTab(_e.id,ae),_e==null||(Ee=_e.onClick)===null||Ee===void 0||Ee.call(_e,_e.id,ae))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(k){const ae=be.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return ae;const Ee=this.getTabById(k);if(!Ee)return ae;const _e=Ee["aria-label"]||Ee.label||Ee.title;return!_e||!ce(_e)?ae:be.t("More: {selectedTabLabel}",{selectedTabLabel:_e,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(k,ae){const{tabs:Ee,fullWidthMenu:_e,orientation:je,iconPosition:Ue,focusOnMount:Ke}=this.props,ke=this.state.focusedTabIndex===ae,Qe=ke?this.focusedTabRef:void 0,Ze=k.autoClogProps?{...this.autoClogProps,...k.autoClogProps,elementType:o.ElementType.TAB}:this.autoClogProps,De=ae===Ee.length-1?this.lastVisibleTabRef:void 0,Fe=De?Object(se.a)(Qe,De):Qe,Ve=this.props.currentTabId||this.state.selectedTabId,Je=Ve===k.id;return k.id===this.overflowTabId?t.a.createElement(L,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel(Ve),isSelected:!this.isSelectedTabVisible(),isFocused:ke,ref:Fe,id:k.id,key:k.id}):t.a.createElement(j,{key:k.id,id:k.id,icon:k.icon,svgIcon:k.svgIcon,customIcon:k.customIcon,label:k.label||k.title,onClick:this.onTabClick,autoClogProps:Ze,isSelected:Je,isFocused:ke,focusOnMount:Ke,isDisabled:k.isDisabled,fullWidth:_e||je==="vertical",titleCount:k.titleCount,maxTitleCount:k.maxTitleCount,"aria-label":k["aria-label"],"aria-describedby":k["aria-describedby"],"data-qa":k["data-qa"]||"tabs_item","aria-haspopup":k["aria-haspopup"],ref:Fe,formatCount:this.props.formatCount,isLoading:k.isLoading,isCountLoading:k.isCountLoading,iconPosition:Ue,className:k.className})}renderTabsItems(){return this.getVisibleTabs().map((ae,Ee)=>{typeof ae.label!="string"&&!t.a.isValidElement(ae.label)&&typeof ae.title!="string"&&!t.a.isValidElement(ae.title)&&!ae["aria-label"]&&(Object(w.b)()||Object(w.c)())&&Object(G.b)().error("Tabs requires either a label of type string, or an aria-label.");const _e=this.renderTabsItem(ae,Ee);return ae.renderWrapper?t.a.createElement(t.a.Fragment,{key:ae.id},ae.renderWrapper(_e)):_e})}renderOverflowMenu(k){var ae;const{selectedTabId:Ee}=this.state,_e=(ae=this.getHiddenTabs())===null||ae===void 0?void 0:ae.map(je=>({label:je.label||je.title,id:je.id,click:Ue=>this.onTabClick(je.id,Ue),key:je.id,type:X.b.radio,checked:je.id===Ee,icon:je.svgIcon?t.a.createElement(O.a,ge({},je.svgIcon,{variation:void 0,size:"18"})):null,className:"c-tabs__tab_overflow_menu_item"}));return t.a.createElement(C.a,ge({width:"200px"},k,{template:_e}))}renderTabPanelLabel(k){const ae=this.getTabById(k);if(!ae)return;const Ee=ae["aria-label"]||ae.label||ae.title;if(ce(Ee))return Ee}render(){var k;const{fullHeight:ae,fullWidthMenu:Ee,className:_e,orientation:je,tabMenuClassnames:Ue,tabPanelClassnames:Ke,ariaLabel:ke,currentTabId:Qe,maxSize:Ze}=this.props,De=Qe||this.state.selectedTabId;var Fe;const Ve=(Fe=(k=this.getTabById(De))===null||k===void 0?void 0:k.content)!==null&&Fe!==void 0?Fe:"",Je=Object(a.default)(_e,{"c-tabs__tab_container--full_height":ae,"c-tabs__tab_container--vertical":je==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!Ze}),Ot=Object(a.default)(Ue,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":Ee,"c-tabs__tab_menu--vertical":je==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),ht=Object(a.default)(Ke,{"c-tabs__tab_panel--vertical":je==="vertical"});return t.a.createElement("div",{className:Je,"data-qa":"tabs_full_height_class"},t.a.createElement("div",{role:"tablist",className:Ot,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,"aria-orientation":je,"aria-label":ke,ref:this.tabsContainerRef},this.renderTabsItems()),Ve&&t.a.createElement(W,{content:Ve,fullHeight:ae,ref:this.panelRef,className:ht,"aria-label":this.renderTabPanelLabel(De)}))}constructor(k){var ae;super(k),Object(l.a)(this,["onKeyDown","onFocus","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.focusedTabRef=t.a.createRef(),this.panelRef=t.a.createRef(),this.tabsContainerRef=t.a.createRef(),this.lastVisibleTabRef=t.a.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,k.autoClogProps&&(this.autoClogProps={...k.autoClogProps,elementType:o.ElementType.TAB});const Ee=k.currentTabId||k.defaultTabId||((ae=k.tabs[0])===null||ae===void 0?void 0:ae.id),_e=this.getTabIndexById(Ee);this.state={selectedTabId:Ee,focusedTabIndex:_e!==-1?_e:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${Object(u.a)()}`}},"Tabs");$.displayName="Tabs",$.defaultProps={onTabChange:r.a,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0};var te=n.a=$},Vnbe:function(H,n,e){"use strict";e.d(n,"a",function(){return m}),e.d(n,"e",function(){return p}),e.d(n,"c",function(){return b}),e.d(n,"d",function(){return T}),e.d(n,"b",function(){return v});var s=e("9oTK"),t=e.n(s),a=e("nNoG"),r=e("1Zcw"),l=e("jUSB"),o=e("pJ2S"),i=e("JoR1"),u=e("35RN");const d=new a.b("huddles"),m="LOUNGE_MUSIC_PLAYER",c=[o.f,o.i,o.r,o.s,o.w,o.B,o.A,o.C],E=[o.A,o.w,o.C];var f;(function(S){S.WaitingRoom="waiting",S.Subway="subway",S.Whistle="whistle",S.Jazz="jazz",S.Focus="focus",S.DiscoParty="disco",S.Zen="zen",S.Nature="nature"})(f||(f={}));const O=f.Jazz,p=h(S=>S?!!Object.values(f).includes(S):!1,"isValidSongKey"),b=h(S=>Object(i.t)(S,u.a)||O,"getSongKeyFromUserPref"),T=h(()=>({[f.WaitingRoom]:{key:f.WaitingRoom,urlName:"waitingRoom",url:o.B,displayName:d.t("Waiting Room")},[f.Subway]:{key:f.Subway,urlName:"subwayMusic",url:o.w,displayName:d.t("Subway Music")},[f.Whistle]:{key:f.Whistle,urlName:"whistleTune",url:o.C,displayName:d.t("Whistle Tune")},[f.Jazz]:{key:f.Jazz,urlName:"waitingMuzak",url:o.A,displayName:d.t("Smooth Jazz")},[f.Focus]:{key:f.Focus,urlName:"focusBeats",url:o.i,displayName:d.t("Focus Beats")},[f.DiscoParty]:{key:f.DiscoParty,urlName:"discoParty",url:o.f,displayName:d.t("Happy Bass")},[f.Zen]:{key:f.Zen,urlName:"momentOfZen",url:o.r,displayName:d.t("Sound Bath")},[f.Nature]:{key:f.Nature,urlName:"natureMeditation",url:o.s,displayName:d.t("Nature Meditation")}}),"getSongsMetadata");let v=h(class Da{static getInstance(A){let{experimentHuddlesLoungeMusicPlayerGroupOn:I}=A;return Da.instance||(Da.instance=new Da({experimentHuddlesLoungeMusicPlayerGroupOn:I})),Da.instance}constructor({experimentHuddlesLoungeMusicPlayerGroupOn:A}){this.getCurrentTrackDisplayName=()=>{const _=this.getPlaylist()[this.activeTrackIndex],M=T(),y=Object.values(M).find(j=>j.url===_);return y==null?void 0:y.displayName};var I=this;this.playMusic=Object(s.coroutine)(function*(){let{songKey:_,registerOnEndedCallback:M,audioOutputDeviceId:y,logger:j,fromFirstTrack:C,loopSong:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};const N=I.getPlaylist();C&&(I.activeTrackIndex=0),M&&N.forEach(U=>{Object(l.a)(U,{ended:I.playNextTrack})});let B=N[I.activeTrackIndex];const L=Object(l.b)(B);if(_){var R;L&&Object(l.e)(B);const W=(R=T()[_])===null||R===void 0?void 0:R.url,x=W?N.findIndex(G=>G===W):-1;x>-1&&(B=W,I.activeTrackIndex=x)}if(y&&L)try{yield L.setSinkId(y),j==null||j.info(r.c,`setSinkId success for lounge music on deviceID: ${y}`)}catch{j==null||j.info(r.c,`setSinkId failed for lounge music on deviceID: ${y}`)}Object(l.c)(B,{loop:!!D})}),this.stopMusic=_=>{let{clearOnEndedCallback:M,logger:y,logContext:j}=_;const C=this.getPlaylist();M&&C.forEach(D=>{Object(l.d)(D,"ended",this.playNextTrack)}),Object(l.e)(C[this.activeTrackIndex],{logFailure:!1}),y.info(r.c,`stopped lounge music [${j}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<this.getPlaylist().length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{const _=this.getPlaylist();Object(l.e)(_[this.activeTrackIndex]),this.incrementActiveTrackIndex(),Object(l.c)(_[this.activeTrackIndex],{loop:!1})},this.getPlaylist=()=>this.experimentHuddlesLoungeMusicPlayerGroupOn?c:E,this.activeTrackIndex=0,this.experimentHuddlesLoungeMusicPlayerGroupOn=A}},"HuddleLoungeMusicManager")},Vu8N:function(H,n,e){"use strict";e.d(n,"a",function(){return E}),e.d(n,"c",function(){return M}),e.d(n,"b",function(){return y});var s=e("9Gfp"),t=e("nePV"),a=e("RVJP"),r=e("NjAx"),l=e("Yauy"),o=e("E97Y"),i=e("ISSR"),u=e("g05w"),d=e("XXd4"),m=e("O0Iw"),c=e("q0lC");const E={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},f={ok:!1,reason:E.ChannelNotFound},O={ok:!1,reason:E.ChannelTypeNotSupported},p={ok:!1,reason:E.CantArchiveGeneral},b={ok:!1,reason:E.NotInChannel},T={ok:!1,reason:E.AlreadyArchived},v={ok:!1,reason:E.AwayExternallyShared},S={ok:!1,reason:E.UserHasNoPermissions},A={ok:!1,reason:E.DefaultOrgWideChannel},I={ok:!1,reason:E.WhoCanManagePref},_={ok:!0},M=h((j,C)=>{if(!Object(o.e)(C))return f;if(Object(o.g)(C)||Object(o.i)(C))return O;if(Object(o.o)(C))return p;if(Object(i.a)(C))return T;if(Object(d.a)(j,C))return v;if(!Object(m.b)(j,C)&&!Object(l.db)(C))return b;const N=Object(l.i)(C),B=Object(r.p)(j,{channelId:N});return Object(a.d)(j,"light_read_channel_archive_pref_migration")==="on"?Object(u.a)(C)&&!Object(t.a)(j)&&!Object(r.K)(j,{channelId:N})?I:B?_:S:B?_:Object(s.m)(j)&&Object(u.a)(C)&&Object(l.kb)(C)&&!Object(c.a)(j)?A:_},"canUserSeeArchiveChannelOptionWithReasons"),y=h((j,C)=>M(j,C).ok,"canUserSeeArchiveChannelOption")},Vw6i:function(H,n,e){H.exports=e.p+"slackbot_fancy_72-9db8807.png"},VxqI:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("s4P+"),t=e("uVZW");const a=Object(s.b)(),r=h(l=>{let{spaceName:o,notificationName:i}=l;i&&a.error(t.d,`${i} is not a recognized notification name for space ${o}.`)},"maybeLogUnrecognizedNotification")},W7ht:function(H,n,e){"use strict";e.d(n,"a",function(){return S}),e.d(n,"b",function(){return A});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("Fbvv"),l=e("GNR7"),o=e("r6c4"),i=e("VKu5"),u=e("9Gfp"),d=e("pFNT"),m=e("qZ3p"),c=e("3vtZ"),E=e("+tZp"),f=e("4qCO"),O=e("nNoG"),p=e("E3dU");const b=new O.b("huddles"),T=5,v=8,S=h(I=>{let{channelId:_}=I;const M=Object(a.g)(D=>Object(l.f)(D,_)),y=M.length,j=y>T,C=j?M.slice(0,T):M;return y===0?null:t.a.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},C.map((D,N)=>{const B=N===C.length-1;return t.a.createElement("div",{key:D,className:"p-huddle_channel_tooltip__avatar_container",style:{width:B?"auto":d.a.medium-v}},t.a.createElement(d.c,{className:"p-huddle_channel_tooltip__avatar",userId:D,size:d.a.medium,renderCustomBadge:r.a,isInteractive:!1,additionalOverlay:j&&B?y-C.length+1:void 0}))}))},"HuddleTooltipAvatarStack");S.displayName="HuddleTooltipAvatarStack";function A(I){let{channelId:_}=I;const M=Object(a.d)(G=>Object(p.d)(G,_)),y=Object(a.d)(G=>Object(c.e)(G,M)||Object(o.b)(G)),j=Object(a.d)(u.a),C=Object(a.g)(G=>Object(l.g)(G,_)),D=Object(a.d)(c.v),N=C.length,L=N>T?C.slice(0,T):C,R=Object(a.g)(G=>L.map(w=>({id:w.id,name:w.id===j?b.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"a11y"}):Object(E.a)(G,w)})).sort((w,se)=>w.id===j?1:se.id===j?-1:Object(f.a)(w.name,se.name)).map(w=>{let{name:se}=w;return se})),U=Object(a.d)(G=>Object(i.a)(G,_));if(!y)return null;let W=t.a.createElement(t.a.Fragment,null);R.length===1?C[0].id===j?W=b.rt("Just you in the huddle",{fallbackHash:"12a689a8d10b55bce68de5314954ddafb4917f7d"}):W=b.rt("{name} is in the huddle",{name:R[0],fallbackHash:"3ad19838f1b04066bbb33d61d86ec6a23de98a79"}):W=b.rt("{memberCount} people in the huddle",{memberCount:N,fallbackHash:"4890b1ead2959bfef66e9d6b2c5f663450205117"});let x;return x=U?t.a.createElement(m.a,{text:U}):null,C.length>=D&&(x=b.t("Only {maxParticipants} people can join a huddle",{maxParticipants:D})),t.a.createElement("div",{className:"p-huddle_channel_tooltip"},t.a.createElement(S,{channelId:_}),t.a.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},x),t.a.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},W))}h(A,"HuddleChannelTooltip")},WA8N:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("O86Y"),t=e("ayM7");let a=h(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(i){const u=this.queryCache.has(i);return this.clearIfStale(),u}containsPrefixOf(i){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(i)}add(i){return this.clearIfStale(),this.queryCache.add(i)}addAsPrefix(i){return this.clearPrefixIfStale(),this.prefixQueryCache.add(i)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.a,this.prefixQueryCache=new t.a,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function l(o){const i=Object(s.g)(o),d=Object(s.d)(o)||i||"";return r[d]||(r[d]=new a),r[d]}h(l,"getWorkflowTriggersAutocompleteQueryCache")},WAPM:function(H,n,e){"use strict";var s=e("GkJf");n.a=s.a},WBOM:function(H,n,e){"use strict";e.d(n,"a",function(){return v}),e.d(n,"b",function(){return A}),e.d(n,"e",function(){return _}),e.d(n,"f",function(){return M}),e.d(n,"d",function(){return y}),e.d(n,"c",function(){return j});var s=e("bPB8"),t=e("E3dU"),a=e("beVI"),r=e("wwBm"),l=e("d26c"),o=e("ltDl"),i=e("6dQg"),u=e("eUIW"),d=e("fde3"),m=e("sOnb"),c=e("Zbwg"),E=e("3203"),f=e("3REw"),O=e("JfJV"),p=e("25cE"),b=e("a7YP"),T=e("sR4G"),v;(function(C){C.MESSAGE="message",C.FILE="file",C.MEMBER="member",C.ROOM="room",C.FREE_WILLY="free-willy",C.QUIP="quip",C.SEARCH="search",C.SLACKHELP="slackhelp",C.SHORTCUT_LINK_TRIGGER="shortcuts",C.HUDDLE="huddle",C.LIST="list",C.CHANNEL_CANVAS="canvas",C.ORG_CHART="org_chart",C.WIDGETS="widgets"})(v||(v={}));function S(C,D){if(!D)return null;const N=!1;return Object(t.d)(C,D,N)||Object(t.m)(C,D.replace(/^@/,""))||Object(t.e)(C,D)}h(S,"findChannelByIdentifier");function A(C){switch(C){case"archives":case"messages":case"conversation":return v.MESSAGE;case"file":case"files":return v.FILE;case"team":return v.MEMBER;case"calls":return v.ROOM;case"free-willy":return v.FREE_WILLY;case"docs":return v.QUIP;case"search":return v.SEARCH;case"slackhelp":return v.SLACKHELP;case"shortcuts":return v.SHORTCUT_LINK_TRIGGER;case"huddle":return v.HUDDLE;case"lists":return v.LIST;case"canvas":return v.CHANNEL_CANVAS;case"org_chart":return v.ORG_CHART;case"widgets":return v.WIDGETS;default:return null}}h(A,"getPermalinkType");function I(C,D,N,B){const L=Object(s.a)(D.split("/")),R=A(L[0]);switch(R){case v.MESSAGE:{var U;const X=L[1],me=S(C,X),Oe=me&&me.id||X;if(!Oe)return null;const Ce=Object(r.d)(N),le=Object(E.a)(L[2]),de=Object(E.a)((U=Ce.thread_ts)===null||U===void 0?void 0:U.toString());return{type:R,channelId:Oe,ts:le,threadTs:de}}case v.HUDDLE:{if(!L[1])return null;let X=null;if(Object(c.a)(L[1])?X=L[1]:Object(c.a)(L[2])&&(X=L[2]),X){const me=S(C,X),Oe=me&&me.id||X;return Oe?{type:R,channelId:Oe}:null}return Object(f.x)(L[1])?{type:R,roomId:L[1]}:null}case v.FILE:{const X=L[2];return Object(i.a)(X)?{type:R,fileId:X}:null}case v.MEMBER:{const X=L[1];return Object(u.a)(X)?{type:R,memberId:X}:null}case v.ROOM:{const X=L[1];if(X&&Object(f.x)(X))return{type:R,roomId:X};const me=L.length>2?L[2]:null;return me&&Object(f.t)(me)?{type:R,callId:me,channelId:L[1]}:me&&Object(f.x)(me)?{type:R,roomId:me,teamId:L[1]}:null}case v.FREE_WILLY:{const X=L[2];return X&&Object(f.t)(X)?{type:R,callId:X,channelId:L[1]}:X&&Object(f.x)(X)?{type:R,roomId:X,teamId:L[1]}:null}case v.QUIP:{const X=L[1],me=L[2];if(me&&Object(i.a)(me)&&B!=="app"){var W,x;const Oe=Object(r.d)(N),Ce=Object(E.a)((W=Oe.focus_thread_ts)===null||W===void 0?void 0:W.toString())||"";return{type:R,fileId:me,teamId:X,focusThreadTs:Ce,focusSectionId:((x=Oe.focus_section_id)===null||x===void 0?void 0:x.toString())||""}}return null}case v.LIST:{const X=L[2];if(X&&Object(i.a)(X)){var G,w,se;const me=Object(r.d)(N),Oe=Object(E.a)((G=me.focus_thread_ts)===null||G===void 0?void 0:G.toString())||"";return{type:R,fileId:X,recordId:((w=me.record_id)===null||w===void 0?void 0:w.toString())||"",viewId:((se=me.view_id)===null||se===void 0?void 0:se.toString())||"",focusThreadTs:Oe}}return null}case v.SEARCH:{const X=L[1];return{type:R,encodedSearchString:X}}case v.SLACKHELP:{if(L.length>=2){if(Object(d.a)(L[2]))return{type:R,articleId:L[2]};if(L[1]==="whats_new")return{type:R,articleId:"whats_new"}}return{type:R}}case v.SHORTCUT_LINK_TRIGGER:return Object(m.a)(L[1])&&Object(b.A)(C)?{type:R,triggerId:L[1]}:null;case v.CHANNEL_CANVAS:{var ee;const X=L[1],me=S(C,X),Oe=me&&me.id||X;if(!Oe)return null;const Ce={type:R,channelId:Oe},de=(ee=Object(r.d)(N).focus_section_id)===null||ee===void 0?void 0:ee.toString();return de&&(Ce.focusSectionId=de),Ce}case v.ORG_CHART:{const X=L[1];return Object(u.a)(X)?{type:R,memberId:X}:null}case v.WIDGETS:return{type:R,widgetId:L[1]};default:return null}}h(I,"getPermalinkParams");function _(C,D){if(!D)return null;const N=Object(o.a)(D);return M(C,N)}h(_,"parsePermalink");function M(C,D){const{hostname:N,pathname:B,search:L}=D;if(!N||!B||!Object(l.a)(N))return null;let R;N!=="slack.com"&&(R=N.split(".")[0]);const U=I(C,B,L,R);return U?{subdomain:R,...U}:null}h(M,"parsePermalinkFromParsedUrl");function y(C,D){const N={channel:null,team:null};if(!C||!D)return N;const B=_(C,D);if(!B)return N;const{subdomain:L,channelId:R}=B,U=Object(t.d)(C,R),W=Object(a.r)(C,L);return{channel:U,team:W}}h(y,"getTeamAndChannelFromPermalink");function j(C,D){const N=Object(T.a)(C,D.subdomain);if(N)switch(D.type){case v.FILE:if(D.channelId&&D.fileId)return Object(O.k)(p.i,{teamId:N,entityId:D.channelId,fileId:D.fileId});break;case v.MEMBER:if(D.channelId&&D.memberId)return D.ts?Object(O.k)(p.z,{teamId:N,entityId:D.channelId,memberId:D.memberId,timestamp:D.ts}):Object(O.k)(p.z,{teamId:N,entityId:D.channelId,memberId:D.memberId});break;case v.MESSAGE:if(D.channelId)return D.ts&&D.threadTs?Object(O.k)(p.w,{teamId:N,entityId:D.channelId,threadId:`${D.channelId}-${D.threadTs}`,replyTs:D.threadTs}):D.ts?Object(O.k)(p.b,{teamId:N,entityId:D.channelId,timestamp:D.ts}):Object(O.k)(p.b,{teamId:N,entityId:D.channelId});break;default:}}h(j,"getSonicUrlForPermalink")},WCSk:function(H,n,e){"use strict";e.d(n,"c",function(){return l}),e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"f",function(){return c}),e.d(n,"g",function(){return O});var s=e("OZf9"),t=e("NFsq"),a=e("LxFC"),r=e("mSpc");const l="default",o="communications",i=[a.b.Microphone,a.b.Camera,a.c];function u(p,b){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i;Object(s.a)(b,(v,S)=>{if(!Object(t.a)(T,S))return;if(!v.length){p.warn(`No ${S} devices available`);return}const A=new r.a(["id","label"]);v.forEach(I=>{A.add([I.id,I.label].map(String))}),p.info(`${S} devices:
${A.report()}`)})}h(u,"logDevices");function d(){return{camera:[],microphone:[],output:[]}}h(d,"createEmptyDevices");const m={audioinput:a.b.Microphone,videoinput:a.b.Camera,audiooutput:a.c};function c(p){const b=m[p.kind],T={id:p.deviceId,label:p.label||void 0,groupId:p.groupId||void 0};return E(b)?{...T,type:b}:{...T,type:b}}h(c,"makeDevice");function E(p){return p!==a.c}h(E,"isInputDeviceType");function f(p){return E(p.type)}h(f,"isInputDevice");function O(p){return p.replace(/ *?\([^)]*?\) *?/g,"")}h(O,"removeDeviceIdFromDeviceLabel")},WD3d:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("nNoG"),t=e("bJNA"),a=e("2m2s");const r=new s.b("slack_docs"),l=h(function(o){let{experimentCanvasInsertWorkflowMenuGroupOn:i,experimentCanvasSmartCardsGroupOn:u,experimentListsXcanvasGroupOn:d,experimentWidgetsGroupOn:m,experimentCanvasToolbarProfileUnfurlsGroupOn:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(o){case t.a.FILE:return r.t("File");case t.a.IMAGE:return r.t("Image");case t.a.CHECK_LIST:return r.t("Check list");case t.a.CHECK_LIST_TOGGLE:return r.t("Check list");case t.a.BULLET_LIST:return r.t("Bulleted list");case t.a.ORDERED_LIST:return r.t("Ordered list");case t.a.VIDEO_CLIP:return r.t("Record video clip");case t.a.AUDIO_CLIP:return r.t("Record audio clip");case t.a.DIVIDER:return r.t("Divider");case t.a.PINS:return r.t("Pins");case t.a.SMART_SUMMARY:return u?r.t("AI Channel Summary"):"";case t.a.BLOCKQUOTE:return r.t("Blockquote");case t.a.CODE_BLOCK:return r.t("Code block");case t.a.PARAGRAPH:return r.t("Paragraph");case t.a.H1:return r.t("Big heading");case t.a.H2:return r.t("Medium heading");case t.a.H3:return r.t("Small heading");case t.a.CANVAS:return r.t("Canvas");case t.a.WORKFLOW:return i?r.t("Workflow"):"";case a.a.CODE:return r.t("Code");case t.a.TABLE:return r.t("Table");case t.a.LIST:return d?r.t("List"):"List";case t.a.WIDGET:return m?r.t("Widget"):"Widget";case t.a.USER_PROFILE_UNFURL:return c?r.t("Profile"):"Profile";default:return o}},"getQuipButtonLabel")},WJHF:function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("CpTu"),t=e("uXhx"),a=e("lE2N"),r=e("BeL+"),l=e("GxtX"),o=e("uKXT"),i=e("ZP0B"),u=e("J/RB"),d=e("Lgge"),m=e("SQ0V"),c=e("xcHN"),E=e("ZAxE");const f=Object(m.c)("gets thread replies from the API",(O,p,b)=>{const{channelId:T,threadTs:v,oldest:S,limit:A}=b;let I=b.latest;S===I&&I===b.threadTs&&(I=null);const _=Object(c.c)(T,v);return S&&I?d.a.all([O(Object(E.e)({channelId:T,threadTs:v,latest:I,limit:A})),O(Object(E.e)({channelId:T,threadTs:v,oldest:S,limit:A}))]).then(M=>{let[y,j]=M;const C=Object(s.a)(y.msgs,{ts:v})||Object(s.a)(j.msgs,{ts:v}),D=Object(t.a)(y.msgs,{ts:v}),N=Object(t.a)(j.msgs,{ts:v}),B=y.deleted,L=j.deleted,R=Object(a.a)(D.concat(N),"ts"),U=Object(r.a)(Object(l.a)(B,L));!y.hasMore&&C&&R.unshift(C);const W=R.map(x=>x.ts);return O(Object(u.a)({msgs:R,channelId:_,hasMore:{hasMoreStart:y.hasMore,hasMoreEnd:j.hasMore},oldest:Object(o.a)([S,Object(o.a)(W)]),latest:Object(i.a)([I,Object(i.a)(W)]),deleted:U})),{msgs:R}}):O(Object(E.e)({channelId:T,threadTs:v,oldest:S,latest:I,limit:A})).then(function(){let{msgs:M,deleted:y,hasMore:j}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const C=I&&!j||S===v||I===v||!S&&!I&&!j;let D=M;C||(D=Object(t.a)(M,{ts:v}));let N=j;!S&&!I&&(N={hasMoreStart:j,hasMoreEnd:!1}),O(Object(u.a)({msgs:D,channelId:_,hasMore:N,oldest:S,latest:I,deleted:y}));const B=Object(s.a)(M,{ts:v});return B&&S===v&&O(Object(u.a)({msgs:[B],channelId:_,hasMore:!1,latest:v})),{msgs:D}})});f.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},WTVm:function(H,n,e){"use strict";e.d(n,"a",function(){return Ss});var s=e("Olm7"),t=e("lCmp"),a=e("c8Bs"),r=e("DKof"),l=e("3Hq1"),o=e("X6iR"),i=e("hoZp"),u=e("BlE4"),d=e("wQ1d"),m=e("ISSR"),c=e("vfvl"),E=e("Yauy"),f=e("E97Y"),O=e("C3vN"),p=e("K7jq"),b=e("Fn/R"),T=e("OL4R"),v=e("mgFs");const S=Object(T.a)(v.b);function A(V){return S[V]}h(A,"getFeatureNameFromId");var I=e("s4P+"),_=e("XhtD"),M=e("ifKl");class y{writeNumericalFeature(he,We){!he||!isFinite(he)||(this.writeIdAndType(We,v.a.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,he),this.offset+=4)}writeBinaryFeature(he,We){he&&this.writeIdAndType(We,v.a.BINARY)}writeTextFeature(he,We){if(!he)return;this.writeIdAndType(We,v.a.TEXT);const Ct=unescape(encodeURIComponent(he));this.ensureCapacity(2+Ct.length),this.view.setUint16(this.offset,Ct.length),this.offset+=2,Object(_.a)(Ct.length).forEach(Gt=>{this.view.setUint8(this.offset,Ct.charCodeAt(Gt)),this.offset+=1})}writeNullFeature(){Object(M.a)()}writeIdAndType(he,We){this.ensureCapacity(2),this.view.setUint16(this.offset,he<<3|We),this.offset+=2}ensureCapacity(he){this.offset+he>this.buffer.byteLength&&this.resize(this.offset+he)}resize(he){if(this.buffer.byteLength>=he)return;const We=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(We).set(new Uint8Array(this.buffer)),this.buffer=We,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}h(y,"feature_vector_serializer_BinaryFeatureVectorSerializer");var j=e("Tb1M");const C={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};function D(V,he){return De.fromSuggestion(V,he)}h(D,"featureVectorForSuggestion");function N(){return Object(I.b)({label:"SORTER-RANKING"})}h(N,"getLogger");function B(V){return Number.isInteger(V)}h(B,"isIntegerWithType");const L=60*60,R=24*L;var U,W,x,G,w,se,ee,X,me,Oe,Ce,le,de,ie,pe,ne,q,ce,ge,be,Q,re,z,Y,ve,Z,$,te,J,k,ae,Ee,_e,je,Ue,Ke,ke,Qe;const Ze={FRECENCY:V=>Le({id:v.b.FRECENCY,value:Ut(V)}),TYPE_NAVIGATION_CHANNEL:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.TYPE_NAVIGATION_CHANNEL,value:We})},TYPE_NAVIGATION_FILE:V=>Le({id:v.b.TYPE_NAVIGATION_FILE,value:V.suggestionType===d.b.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:V=>Le({id:v.b.TYPE_NAVIGATION_LINK,value:V.suggestionType===d.b.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:V=>Le({id:v.b.TYPE_NAVIGATION_MODAL,value:V.suggestionType===d.b.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:V=>Le({id:v.b.TYPE_NAVIGATION_MPIM,value:!!Object(f.i)(V.item)}),TYPE_NAVIGATION_USER:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.TYPE_NAVIGATION_USER,value:We})},TYPE_QUERY:V=>Le({id:v.b.TYPE_QUERY,value:V.suggestionType===d.b.QUERY}),TYPE_QUERY_HISTORY:V=>Le({id:v.b.TYPE_QUERY_HISTORY,value:V.suggestionType===d.b.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_IN,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_FROM,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_TO,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_BEFORE,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_DURING,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_ON,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_AFTER,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_HAS,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_IS,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:V=>Le({id:v.b.ACTIVE_TOKEN_FILTER_WITH,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:V=>Le({id:v.b.ACTIVE_TOKEN_MEMBER,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.MEMBER}),ACTIVE_TOKEN_STRING:V=>Le({id:v.b.ACTIVE_TOKEN_STRING,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.STRING}),ACTIVE_TOKEN_PHRASE:V=>Le({id:v.b.ACTIVE_TOKEN_PHRASE,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.PHRASE}),STRING_EXACT_MATCH:V=>jt({id:v.b.STRING_EXACT_MATCH,suggestion:V,extractionFunction:Ft}),STRING_EXACT_PREFIX_MATCH:V=>jt({id:v.b.STRING_EXACT_PREFIX_MATCH,suggestion:V,extractionFunction:mt}),STRING_NORMAL_MATCH:V=>jt({id:v.b.STRING_NORMAL_MATCH,suggestion:V,extractionFunction:Zt}),STRING_NORMAL_PREFIX_MATCH:V=>jt({id:v.b.STRING_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt}),STRING_SAME_NUMBER_WORDS:V=>jt({id:v.b.STRING_SAME_NUMBER_WORDS,suggestion:V,extractionFunction:at}),EXCESS_STRING_LENGTH:V=>jt({id:v.b.EXCESS_STRING_LENGTH,suggestion:V,extractionFunction:it}),ID:V=>Le({id:v.b.ID,value:V.logId||V.id}),FILE_SUGGESTION_SCORE:V=>Le({id:v.b.FILE_SUGGESTION_SCORE,value:oe(V)}),ACTIVE_TOKEN_QUERY_SUGGESTION:V=>Le({id:v.b.ACTIVE_TOKEN_QUERY_SUGGESTION,value:V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.API}),QUERY_SUGGESTION_SCORE_V2:V=>Le({id:v.b.QUERY_SUGGESTION_SCORE_V2,value:Ie(V)}),TYPE_NAVIGATION_TEAM:V=>Le({id:v.b.TYPE_NAVIGATION_TEAM,value:V&&V.suggestionType===d.b.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:V=>Le({id:v.b.TYPE_NAVIGATION_VIEW,value:V&&V.suggestionType===d.b.VIEW_NAVIGATION}),TYPE_USER_QUERY:V=>Le({id:v.b.TYPE_USER_QUERY,value:V&&V.suggestionType===d.b.QUERY_USER}),NAV_EXACT_MATCH:V=>jt({id:v.b.NAV_EXACT_MATCH,suggestion:V,extractionFunction:Ft,text:Ge(V)}),NAV_EXACT_PREFIX_MATCH:V=>jt({id:v.b.NAV_EXACT_PREFIX_MATCH,suggestion:V,extractionFunction:mt,text:Ge(V)}),NAV_NORMAL_MATCH:V=>jt({id:v.b.NAV_NORMAL_MATCH,suggestion:V,extractionFunction:Zt,text:Ge(V)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(V,he)=>{let{itemIsChannel:We}=he;var Ct,Gt;return jt({id:v.b.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:V,extractionFunction:sn=>{let{text:Pe,query:g}=sn;return Pe?Object(t.a)(Pe.split(",").map(P=>Ft({text:P,query:g}))):!1},text:We?(Ct=V.item)===null||Ct===void 0||(Gt=Ct.previous_names)===null||Gt===void 0?void 0:Gt.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(V,he)=>{let{itemIsChannel:We}=he;var Ct,Gt;return jt({id:v.b.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:V,extractionFunction:sn=>{let{text:Pe,query:g}=sn;return Pe?Object(t.a)(Pe.split(",").map(P=>mt({text:P,query:g}))):!1},text:We?V==null||(Ct=V.item)===null||Ct===void 0||(Gt=Ct.previous_names)===null||Gt===void 0?void 0:Gt.join(","):null})},CHANNEL_IS_ARCHIVED:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_IS_ARCHIVED,value:We&&Object(m.a)(V.item)})},CHANNEL_IS_MEMBER:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_IS_MEMBER,value:We&&Object(E.db)(V.item)})},CHANNEL_IS_STARRED:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_IS_STARRED,value:We&&V.isStarred})},MPIM_IS_STARRED:V=>Le({id:v.b.MPIM_IS_STARRED,value:Object(f.i)(V.item)&&V.isStarred}),CHANNEL_IS_UNREAD:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_IS_UNREAD,value:We&&Object(E.ub)(V.item)})},MPIM_IS_UNREAD:V=>Le({id:v.b.MPIM_IS_UNREAD,value:Object(f.i)(V.item)&&Object(E.ub)(V.item)}),CHANNEL_IS_OTHER_TEAM:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_IS_OTHER_TEAM,value:We&&Object(E.X)(V.item)})},USER_IS_ACTIVE:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_IS_ACTIVE,value:We&&Object(O.N)(V.item)})},USER_IS_EXTERNAL:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_IS_EXTERNAL,value:We&&Object(p.a)(V.item)})},USER_IS_BOT:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_IS_BOT,value:We&&Object(b.a)(V.item)})},USER_SAME_TEAM:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_SAME_TEAM,value:We&&!!V.sameTeam})},USER_IS_CURRENT_USER:(V,he)=>{let{isCurrentUser:We}=he;return Le({id:v.b.USER_IS_CURRENT_USER,value:We})},USER_DM_IS_STARRED:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_IS_STARRED,value:We&&V.im&&V.imIsStarred})},USER_DM_IS_UNREAD:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_IS_UNREAD,value:We&&V.im&&Object(E.ub)(V.im)})},CHANNEL_PRIORITY:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_PRIORITY,value:We&&(V==null?void 0:V.priority)})},CHANNEL_READ_AGE_DECAY_7D:(V,he)=>{let{itemIsChannel:We,now:Ct}=he;return Le({id:v.b.CHANNEL_READ_AGE_DECAY_7D,value:We&&Xe(Ct,parseFloat((U=V.lastReadTs)!==null&&U!==void 0?U:""),7*R)||0})},CHANNEL_READ_AGE_DECAY_2H:(V,he)=>{let{itemIsChannel:We,now:Ct}=he;return Le({id:v.b.CHANNEL_READ_AGE_DECAY_2H,value:We&&Xe(Ct,parseFloat((W=V.lastReadTs)!==null&&W!==void 0?W:""),2*L)||0})},MPIM_READ_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_READ_AGE_DECAY_2H,value:Object(f.i)(V.item)&&Xe(We,parseFloat((x=V.lastReadTs)!==null&&x!==void 0?x:""),2*L)||0})},MPIM_READ_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_READ_AGE_DECAY_7D,value:Object(f.i)(V.item)&&Xe(We,parseFloat((G=V.lastReadTs)!==null&&G!==void 0?G:""),7*R)||0})},USER_DM_READ_AGE_DECAY_7D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_AGE_DECAY_7D,value:We&&V.im&&Xe(Ct,parseFloat((w=V.lastReadTs)!==null&&w!==void 0?w:""),7*R)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_AGE_DECAY_7D_V2,value:We&&V.im&&Xe(Ct,parseFloat((se=V.lastReadImTs)!==null&&se!==void 0?se:""),7*R)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_AGE_DECAY_7D_V3,value:We&&Xe(Ct,parseFloat((ee=et(V))!==null&&ee!==void 0?ee:""),7*R)||0})},USER_DM_READ_AGE_DECAY_2H:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_AGE_DECAY_2H,value:We&&V.im&&Xe(Ct,parseFloat((X=V.lastReadTs)!==null&&X!==void 0?X:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_AGE_DECAY_2H_V2,value:We&&V.im&&Xe(Ct,parseFloat((me=V.lastReadImTs)!==null&&me!==void 0?me:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_AGE_DECAY_2H_V3,value:We&&Xe(Ct,parseFloat((Oe=et(V))!==null&&Oe!==void 0?Oe:""),2*L)||0})},USER_DM_NULL:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_NULL,value:We&&!V.im})},USER_DM_EMPTY:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_EMPTY,value:We&&V.im&&!parseFloat((Ce=V.latestTs)!==null&&Ce!==void 0?Ce:"")})},USER_DM_EMPTY_V2:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_EMPTY_V2,value:We&&V.im&&!parseFloat((le=V.latestImTs)!==null&&le!==void 0?le:"")})},USER_HAS_DMED:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_HAS_DMED,value:We&&!!parseFloat((de=et(V))!==null&&de!==void 0?de:"")})},USER_DM_NOT_OPEN:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_NOT_OPEN,value:We&&V.im&&!Object(E.jb)(V.im)})},USER_DM_OPEN:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_OPEN,value:We&&V.im&&Object(E.jb)(V.im)})},USER_DM_LATEST_OLDER_30D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_OLDER_30D,value:We&&Bt(Ct,parseFloat((ie=V.latestTs)!==null&&ie!==void 0?ie:""),30*R)})},USER_DM_LATEST_OLDER_30D_V2:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_OLDER_30D_V2,value:We&&Bt(Ct,parseFloat((pe=V.latestImTs)!==null&&pe!==void 0?pe:""),30*R)})},USER_DM_LATEST_OLDER_90D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_OLDER_90D,value:We&&Bt(Ct,parseFloat((ne=V.latestTs)!==null&&ne!==void 0?ne:""),90*R)})},USER_DM_LATEST_OLDER_90D_V2:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_OLDER_90D_V2,value:We&&Bt(Ct,parseFloat((q=V.latestImTs)!==null&&q!==void 0?q:""),90*R)})},USER_DM_READ_OLDER_7D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_OLDER_7D,value:We&&Bt(Ct,parseFloat((ce=et(V))!==null&&ce!==void 0?ce:""),7*R)})},USER_DM_READ_OLDER_30D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_OLDER_30D,value:We&&Bt(Ct,parseFloat((ge=et(V))!==null&&ge!==void 0?ge:""),30*R)})},USER_DM_READ_OLDER_90D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_READ_OLDER_90D,value:We&&Bt(Ct,parseFloat((be=et(V))!==null&&be!==void 0?be:""),90*R)})},USER_MPIM_READ_AGE_DECAY_7D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_MPIM_READ_AGE_DECAY_7D,value:We&&V.mpimFeatures&&Xe(Ct,V.mpimFeatures.lastReadTs,7*R)||0})},USER_MPIM_READ_AGE_DECAY_2H:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_MPIM_READ_AGE_DECAY_2H,value:We&&V.mpimFeatures&&Xe(Ct,V.mpimFeatures.lastReadTs,2*L)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:We&&V.mpimFeatures&&Xe(Ct,V.mpimFeatures.latestMsgTs,7*R)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:We&&V.mpimFeatures&&Xe(Ct,V.mpimFeatures.latestMsgTs,2*L)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(V,he)=>{let{itemIsMember:We}=he;var Ct;return Le({id:v.b.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:We&&((Ct=V.mpimFeatures)===null||Ct===void 0?void 0:Ct.itemCount)&&Math.log1p(V.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(V,he)=>{let{itemIsMember:We}=he;var Ct;return Le({id:v.b.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:We&&((Ct=V.mpimFeatures)===null||Ct===void 0?void 0:Ct.hitCount)&&Math.log1p(V.mpimFeatures.hitCount)||0})},QUERY_LENGTH:V=>jt({id:v.b.QUERY_LENGTH,suggestion:V,extractionFunction:Dt}),NAV_QUERY_LENGTH:V=>jt({id:v.b.NAV_QUERY_LENGTH,suggestion:V,extractionFunction:Dt,text:Ge(V)}),SUGGESTION_TEXT_LENGTH:V=>jt({id:v.b.SUGGESTION_TEXT_LENGTH,suggestion:V,extractionFunction:Ye}),NAV_TEXT_LENGTH:V=>jt({id:v.b.NAV_TEXT_LENGTH,suggestion:V,extractionFunction:Ye,text:Ge(V)}),RAW_FRECENCY:V=>Le({id:v.b.RAW_FRECENCY,value:V.rawFrecencyScore}),MPIM_PRIORITY:V=>Le({id:v.b.MPIM_PRIORITY,value:Object(f.i)(V.item)&&(V==null?void 0:V.priority)}),QUERY_RATIO_LENGTH_STRING:V=>jt({id:v.b.QUERY_RATIO_LENGTH_STRING,suggestion:V,extractionFunction:dt}),NAV_QUERY_RATIO_LENGTH_STRING:V=>jt({id:v.b.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:V,extractionFunction:dt,text:Ge(V)}),USER_QUERY_RATIO_LENGTH_STRING:V=>jt({id:v.b.USER_QUERY_RATIO_LENGTH_STRING,suggestion:V,extractionFunction:dt,text:st(V,d.b.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:V=>jt({id:v.b.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:V,extractionFunction:dt,text:st(V,d.b.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:V=>jt({id:v.b.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:V,extractionFunction:dt,text:st(V,d.b.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:V=>Le({id:v.b.MPIM_WITH_DEACTIVATED_USER,value:Object(f.i)(V.item)&&V.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:V=>jt({id:v.b.NAV_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:Ge(V)}),FRECENCY_BONUS:V=>Le({id:v.b.FRECENCY_BONUS,value:Object(r.a)(Object.values(V.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_FIRST_NAME_EXACT_MATCH,suggestion:V,extractionFunction:Ft,text:We&&Object(O.t)(V.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:V,extractionFunction:mt,text:We&&Object(O.t)(V.item)})},USER_FIRST_NAME_NORMAL_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_FIRST_NAME_NORMAL_MATCH,suggestion:V,extractionFunction:Zt,text:We&&Object(O.t)(V.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:We&&Object(O.t)(V.item)})},USER_LAST_NAME_EXACT_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_LAST_NAME_EXACT_MATCH,suggestion:V,extractionFunction:Ft,text:We&&Object(O.u)(V.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:V,extractionFunction:mt,text:We&&Object(O.u)(V.item)})},USER_LAST_NAME_NORMAL_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_LAST_NAME_NORMAL_MATCH,suggestion:V,extractionFunction:Zt,text:We&&Object(O.u)(V.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(V,he)=>{let{itemIsMember:We}=he;return jt({id:v.b.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:We&&Object(O.u)(V.item)})},USER_EMAIL_MATCH:V=>{var he,We;return Le({id:v.b.USER_EMAIL_MATCH,value:((he=V.scoreDetails)===null||he===void 0?void 0:he.email)!==void 0?((We=V.scoreDetails)===null||We===void 0?void 0:We.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:V=>{var he,We;return Le({id:v.b.USER_EMAIL_ONLY_MATCH,value:((he=V.scoreDetails)===null||he===void 0?void 0:he.email)!==void 0&&((We=V.scoreDetails)===null||We===void 0?void 0:We.email)>=0&&Object.keys((Q=V.scoreDetails)!==null&&Q!==void 0?Q:{}).length===1})},USER_PRIORITY:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_PRIORITY,value:We&&V.im&&(V==null?void 0:V.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:V=>Le({id:v.b.ONLY_MATCHES_PREVIOUS_NAME,value:V.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:V=>Le({id:v.b.FRECENCY_WEIGHT_HIT_VISITS,value:V.weightHitVisits}),FRECENCY_HIT_VISITS_4H:V=>Le({id:v.b.FRECENCY_HIT_VISITS_4H,value:V.hitVisits4h}),FRECENCY_HIT_VISITS_1D:V=>Le({id:v.b.FRECENCY_HIT_VISITS_1D,value:V.hitVisits1d}),FRECENCY_HIT_VISITS_3D:V=>Le({id:v.b.FRECENCY_HIT_VISITS_3D,value:V.hitVisits3d}),FRECENCY_HIT_VISITS_1W:V=>Le({id:v.b.FRECENCY_HIT_VISITS_1W,value:V.hitVisits1w}),FRECENCY_HIT_VISITS_1M:V=>Le({id:v.b.FRECENCY_HIT_VISITS_1M,value:V.hitVisits1m}),FRECENCY_HIT_VISITS_90D:V=>Le({id:v.b.FRECENCY_HIT_VISITS_90D,value:V.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:V=>Le({id:v.b.FRECENCY_ITEM_VISITS_4H,value:V.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:V=>Le({id:v.b.FRECENCY_ITEM_VISITS_1D,value:V.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:V=>Le({id:v.b.FRECENCY_ITEM_VISITS_3D,value:V.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:V=>Le({id:v.b.FRECENCY_ITEM_VISITS_1W,value:V.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:V=>Le({id:v.b.FRECENCY_ITEM_VISITS_1M,value:V.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:V=>Le({id:v.b.FRECENCY_ITEM_VISITS_90D,value:V.itemVisits90d}),FRECENCY_HIT_COUNT:V=>Le({id:v.b.FRECENCY_HIT_COUNT,value:V.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:V=>Le({id:v.b.FRECENCY_WEIGHT_ITEM_VISITS,value:V.weightItemVisits}),FRECENCY_ITEM_COUNT:V=>Le({id:v.b.FRECENCY_ITEM_COUNT,value:V.itemCount}),NAV_NORMAL_MATCH_USER:V=>jt({id:v.b.NAV_NORMAL_MATCH_USER,suggestion:V,extractionFunction:he=>{let{text:We,normalizedQuery:Ct}=he;return Zt({text:We,normalizedQuery:Ct})&&!gt({text:Object(O.t)(V.item),normalizedQuery:Ct})},text:st(V,d.b.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:V=>jt({id:v.b.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:V,extractionFunction:he=>{let{text:We,normalizedQuery:Ct}=he;return gt({text:We,normalizedQuery:Ct})&&!gt({text:Object(O.t)(V.item),normalizedQuery:Ct})},text:st(V,d.b.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:V=>jt({id:v.b.NAV_NORMAL_MATCH_NO_USER,suggestion:V,extractionFunction:Zt,text:$e(V)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:V=>jt({id:v.b.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:V,extractionFunction:gt,text:$e(V)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{itemIsChannel:We,now:Ct}=he;return Le({id:v.b.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:We&&Xe(Ct,parseFloat((re=V.latestTs)!==null&&re!==void 0?re:""),7*R)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{itemIsChannel:We,now:Ct}=he;return Le({id:v.b.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:We&&Xe(Ct,parseFloat((z=V.latestTs)!==null&&z!==void 0?z:""),2*L)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_LATEST_MSG_AGE_DECAY_2H,value:Object(f.i)(V.item)&&Xe(We,parseFloat((Y=V.latestTs)!==null&&Y!==void 0?Y:""),2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:Object(f.i)(V.item)&&Xe(We,V.maxLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:Object(f.i)(V.item)&&Xe(We,V.maxLatestMsgTsOfAllMembers,7*R)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:Object(f.i)(V.item)&&Xe(We,V.avgLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:Object(f.i)(V.item)&&Xe(We,V.avgLatestMsgTsOfAllMembers,7*R)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:Object(f.i)(V.item)&&Xe(We,V.maxLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:Object(f.i)(V.item)&&Xe(We,V.maxLastReadTsOfAllMembers,7*R)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:Object(f.i)(V.item)&&Xe(We,V.avgLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:Object(f.i)(V.item)&&Xe(We,V.avgLastReadTsOfAllMembers,7*R)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:V=>Le({id:v.b.MPIM_USERS_PCT_NON_EMPTY_DMS,value:Object(f.i)(V.item)&&V.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:V=>Le({id:v.b.MPIM_USERS_PCT_NON_NULL_DMS,value:Object(f.i)(V.item)&&V.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:V=>Le({id:v.b.MPIM_USERS_ALL_INTERNAL,value:Object(f.i)(V.item)&&V.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.MPIM_LATEST_MSG_AGE_DECAY_7D,value:Object(f.i)(V.item)&&Xe(We,parseFloat((ve=V.latestTs)!==null&&ve!==void 0?ve:""),7*R)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:We&&V.im&&Xe(Ct,parseFloat((Z=V.latestTs)!==null&&Z!==void 0?Z:""),7*R)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:We&&V.im&&Xe(Ct,parseFloat(($=V.latestImTs)!==null&&$!==void 0?$:""),7*R)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:We&&V.im&&Xe(Ct,parseFloat((te=V.latestTs)!==null&&te!==void 0?te:""),2*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(V,he)=>{let{itemIsMember:We,now:Ct}=he;return Le({id:v.b.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:We&&V.im&&Xe(Ct,parseFloat((J=V.latestImTs)!==null&&J!==void 0?J:""),2*L)||0})},FRECENCY_LOG_HIT_COUNT:V=>Le({id:v.b.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((k=V.hitCount)!==null&&k!==void 0?k:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:V=>Le({id:v.b.FRECENCY_LOG_HIT_COUNT_SCALED,value:V.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:V=>Le({id:v.b.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((ae=V.itemCount)!==null&&ae!==void 0?ae:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:V=>Le({id:v.b.FRECENCY_LOG_ITEM_COUNT_SCALED,value:V.logItemCountScaled}),QUERY_FRECENCY_RAW:V=>Le({id:v.b.QUERY_FRECENCY_RAW,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&V.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:V=>Le({id:v.b.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&V.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:V=>Le({id:v.b.QUERY_FRECENCY_HIT_COUNT,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&V.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:V=>Le({id:v.b.QUERY_LOG_HIT_COUNT,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&wt(V.scoringContext.frecencyHitCount)||V.suggestionType===d.b.QUERY_HISTORY&&wt((Ee=V.count)!==null&&Ee!==void 0?Ee:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:V=>Le({id:v.b.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&V.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:V=>Le({id:v.b.QUERY_FRECENCY_ITEM_COUNT,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&V.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:V=>Le({id:v.b.QUERY_FUZZY_SCORE,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&V.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:V=>{var he;return Le({id:v.b.QUERY_FRECENCY_BONUS,value:(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER)&&Object(r.a)(Object.values(((he=V.scoringContext)===null||he===void 0?void 0:he.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:V=>Le({id:v.b.QUERY_HISTORY_LOG_INDEX,value:V.suggestionType===d.b.QUERY_HISTORY&&wt(V.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(V,he)=>{let{now:We}=he;return Le({id:v.b.QUERY_HISTORY_AGE_DECAY_30D,value:V.suggestionType===d.b.QUERY_HISTORY&&Xe(We,V.lastUpdateTs,30*R)||0})},FUZZY_SCORE:V=>Le({id:v.b.FUZZY_SCORE,value:V.score}),FUZZY_SCORE_SCALED_EXP:V=>Le({id:v.b.FUZZY_SCORE_SCALED_EXP,value:B(V.score)&&.5**Math.min(V.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:V=>Le({id:v.b.FUZZY_SCORE_SCALED_FLIPPED,value:B(V.score)&&10-Math.min(V.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:V=>Le({id:v.b.FUZZY_SCORE_SCALED_SUBTRACT,value:B(V.score)&&Math.min(V.score,10)-1}),FUZZY_SCORE_50:V=>Le({id:v.b.FUZZY_SCORE_50,value:V.bonusPointMap&&V.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:V=>Le({id:v.b.FUZZY_SCORE_25,value:V.bonusPointMap&&V.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:V=>Le({id:v.b.FUZZY_SCORE_ALL,value:V.bonusPointMap&&V.bonusPointMap.fuzzyScoreBonus&&V.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:V=>Le({id:v.b.FILTER_USER_IS_ACTIVE,value:V.lastSuggestionToken&&V.lastTokenMemberOrNull&&Object(O.N)(V.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:V=>Le({id:v.b.FILTER_USER_IS_CURRENT_USER,value:V.lastSuggestionToken&&V.lastTokenMemberOrNull&&Object(O.jb)(V.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:V=>Le({id:v.b.FILTER_USER_DM_IS_STARRED,value:V.lastTokenIm&&V.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:V=>Le({id:v.b.FILTER_USER_DM_IS_UNREAD,value:V.lastTokenIm&&Object(E.ub)(V.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILTER_USER_DM_READ_AGE_DECAY_7D,value:V.lastTokenIm&&Xe(We,V.lastTokenImLastRead,7*R)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILTER_USER_DM_READ_AGE_DECAY_2H,value:V.lastTokenIm&&Xe(We,V.lastTokenImLastRead,2*L)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:V.lastTokenIm&&Xe(We,parseFloat((_e=V.lastTokenImLatest)!==null&&_e!==void 0?_e:""),7*R)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:V.lastTokenIm&&Xe(We,parseFloat((je=V.lastTokenImLatest)!==null&&je!==void 0?je:""),2*L)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:V=>jt({id:v.b.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:V,extractionFunction:Zt,text:St(V)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:V=>jt({id:v.b.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:St(V)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:V=>jt({id:v.b.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:V,extractionFunction:Zt,text:vt(V)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:V=>jt({id:v.b.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:vt(V)}),FILTER_USER_PRIORITY:V=>Le({id:v.b.FILTER_USER_PRIORITY,value:V.lastTokenIm&&(V==null?void 0:V.priority)}),HERE_KEYWORD:V=>Le({id:v.b.HERE_KEYWORD,value:V.name==="here"}),HERE_KEYWORD_EXACT_MATCH:V=>Le({id:v.b.HERE_KEYWORD_EXACT_MATCH,value:V.name==="here"&&V.query==="here"}),IS_BROADCAST_KEYWORD:V=>Le({id:v.b.IS_BROADCAST_KEYWORD,value:!!(V.type&&V.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:V=>Le({id:v.b.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(V.type&&V.type==="broadcastKeyword"&&Zt({text:(Ue=V.name)!==null&&Ue!==void 0?Ue:"",normalizedQuery:V.normalizedQuery}))}),EMOJI_EXACT_MATCH:V=>Le({id:v.b.EMOJI_EXACT_MATCH,value:V.bonusPointMap&&V.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:V=>jt({id:v.b.QUERY_TOKEN_NORMAL_MATCH,suggestion:V,extractionFunction:Zt,text:Yt(V)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:V=>jt({id:v.b.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:Yt(V)}),FILTER_CHANNEL_IS_ARCHIVED:V=>Le({id:v.b.FILTER_CHANNEL_IS_ARCHIVED,value:Object(m.a)(V.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:V=>Le({id:v.b.FILTER_CHANNEL_IS_MEMBER,value:Object(E.db)(V.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:V=>Le({id:v.b.FILTER_CHANNEL_IS_STARRED,value:V.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:V=>Le({id:v.b.FILTER_CHANNEL_IS_UNREAD,value:Object(E.ub)(V.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:Xe(We,V.lastTokenChannelLastRead,7*R)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:Xe(We,V.lastTokenChannelLastRead,2*L)})},FILTER_CHANNEL_PRIORITY:V=>Le({id:v.b.FILTER_CHANNEL_PRIORITY,value:V==null?void 0:V.priority}),CHANNEL_IS_FROZEN:(V,he)=>{let{itemIsChannel:We}=he;return Le({id:v.b.CHANNEL_IS_FROZEN,value:We&&Object(c.a)(V.item)})},USER_DM_IS_FROZEN:(V,he)=>{let{itemIsMember:We}=he;return Le({id:v.b.USER_DM_IS_FROZEN,value:We&&V.im&&Object(c.a)(V.im)})},CHANNEL_HAS_DRAFT:V=>Le({id:v.b.CHANNEL_HAS_DRAFT,value:V.hasDraft}),USER_DM_HAS_DRAFT:V=>Le({id:v.b.USER_DM_HAS_DRAFT,value:V.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:V=>Le({id:v.b.EMOJI_QUERY_LENGTH_RATIO,value:V.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:V=>Le({id:v.b.EMOJI_TOTAL_COMBO_BREAKS,value:V.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:V=>Le({id:v.b.EMOJI_COMBO_BREAK_0,value:V.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:V=>Le({id:v.b.EMOJI_COMBO_BREAK_1,value:V.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:V=>Le({id:v.b.EMOJI_COMBO_BREAK_2,value:V.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:V=>Le({id:v.b.EMOJI_COMBO_BREAK_3,value:V.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:V=>Le({id:v.b.TYPE_APP_ACTION,value:V.suggestionType===d.b.APP_ACTION}),OS_APP_ACTION:(V,he)=>{let{source:We}=he;return Le({id:v.b.OS_APP_ACTION,value:(We==null?void 0:We.startsWith("omniswitcher"))&&V.suggestionType===d.b.APP_ACTION})},TYPE_APP:V=>Le({id:v.b.TYPE_APP,value:V.suggestionType===d.b.APP}),TYPE_SLASH_COMMAND:V=>Le({id:v.b.TYPE_SLASH_COMMAND,value:V.suggestionType===d.b.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:V=>Le({id:v.b.TYPE_GLOBAL_ACTION,value:V.suggestionType===d.b.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:V=>Le({id:v.b.IS_INVITE_WORKSPACE,value:V.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:V=>Le({id:v.b.TYPE_CHANNEL_ACTION,value:V.suggestionType===d.b.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:V=>Le({id:v.b.TYPE_WORKFLOW_TRIGGER,value:V.suggestionType===d.b.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:V=>Le({id:v.b.TYPE_NAVIGATION_MESSAGE,value:V.suggestionType===d.b.MESSAGE_NAVIGATION}),TYPE_EMOJI:V=>Le({id:v.b.TYPE_EMOJI,value:V.suggestionType===d.b.EMOJI}),HAS_CHANNEL_ASSOCIATION:V=>Le({id:v.b.HAS_CHANNEL_ASSOCIATION,value:V.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:V=>Le({id:v.b.MEMBER_OF_CURRENT_CHANNEL,value:V.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:V=>jt({id:v.b.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:V,extractionFunction:_t,text:st(V,d.b.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FRECENCY_HIT_VISIT_DECAY_2H,value:Xe(We,V.latestHitVisit,2*L)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FRECENCY_HIT_VISIT_DECAY_7D,value:Xe(We,V.latestHitVisit,7*R)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FRECENCY_ITEM_VISIT_DECAY_2H,value:Xe(We,V.latestItemVisit,2*L)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FRECENCY_ITEM_VISIT_DECAY_7D,value:Xe(We,V.latestItemVisit,7*R)||0})},MPIM_MEMBERS:V=>Le({id:v.b.MPIM_MEMBERS,value:V.item.members.length}),MPIM_MEMBER_NAME_MATCHES:V=>Le({id:v.b.MPIM_MEMBER_NAME_MATCHES,value:V.scoreDetailsByMember&&Object.values(V.scoreDetailsByMember).filter(he=>((Ke=he.score_details.real_name)!==null&&Ke!==void 0?Ke:-1/0)>=0||((ke=he.score_details.display_name)!==null&&ke!==void 0?ke:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:V=>Le({id:v.b.MPIM_MEMBER_ALL_MATCHES,value:V.scoreDetailsByMember&&Object.keys(V.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:V=>Le({id:v.b.MPIM_MATCHER_SCORE,value:V.score}),MPIM_MATCHER_SCORE_0:V=>Le({id:v.b.MPIM_MATCHER_SCORE_0,value:V.score===0}),MPIM_MATCHER_SCORE_1:V=>Le({id:v.b.MPIM_MATCHER_SCORE_1,value:V.score===1}),MPIM_MATCHER_SCORE_2:V=>Le({id:v.b.MPIM_MATCHER_SCORE_2,value:V.score===2}),MPIM_MATCHER_SCORE_3:V=>Le({id:v.b.MPIM_MATCHER_SCORE_3,value:V.score===3}),EMOJI_TEAM_CTR_90DD:V=>{var he;return Le({id:v.b.EMOJI_TEAM_CTR_90DD,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},EMOJI_USER_CTR_30DD:V=>{var he;return Le({id:v.b.EMOJI_USER_CTR_30DD,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:V=>{var he;return Le({id:v.b.MPIM_TEAM_CTR_90DD,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},MPIM_USER_CTR_30DD:V=>{var he;return Le({id:v.b.MPIM_USER_CTR_30DD,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:V=>{var he;return Le({id:v.b.CHANNEL_TEAM_CTR_90DD,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:V=>{var he;return Le({id:v.b.CHANNEL_USER_CTR_30DD,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:V=>Le({id:v.b.USER_ENTITY_TYPE_CTR_30DD,value:V.entityTypeCtr}),NUM_RESULTS:V=>Le({id:v.b.NUM_RESULTS,value:V.numResults}),QUERY_IS_SELF:V=>{var he;return Le({id:v.b.QUERY_IS_SELF,value:((he=V.scoreDetails)===null||he===void 0?void 0:he.self_score)===0})},CURRENT_USER_TEXTY:(V,he)=>{let{isCurrentUser:We,source:Ct}=he;return Le({id:v.b.CURRENT_USER_TEXTY,value:Ct==="texty-autocomplete"&&We})},FILE_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_AGE_DECAY_7D,value:V.item&&Xe(We,V.item.created,7*R)})},FILE_AGE_DECAY_28D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_AGE_DECAY_28D,value:V.item&&Xe(We,V.item.created,28*R)})},FILE_AGE_DECAY_90D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_AGE_DECAY_90D,value:V.item&&Xe(We,V.item.created,90*R)})},FILE_FROM_CURRENT_USER:V=>Le({id:v.b.FILE_FROM_CURRENT_USER,value:V.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:V=>jt({id:v.b.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:V,extractionFunction:Zt,text:st(V,d.b.CHANNEL_NAVIGATION),multiplier:wt(V.numResults)}),FILE_LOG_PUBLIC_SHARES:V=>{var he,We;return Le({id:v.b.FILE_LOG_PUBLIC_SHARES,value:((he=V.item)===null||he===void 0||(We=he.shares)===null||We===void 0?void 0:We.public)&&wt(Object.keys(V.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:V=>{var he,We;return Le({id:v.b.FILE_LOG_PRIVATE_SHARES,value:((he=V.item)===null||he===void 0||(We=he.shares)===null||We===void 0?void 0:We.private)&&wt(Object.keys(V.item.shares.private).length)})},FILE_LOG_ACTIONS:V=>{var he;return Le({id:v.b.FILE_LOG_ACTIONS,value:((he=V.item)===null||he===void 0?void 0:he.actions)&&wt(V.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_ACTION_AGE_DECAY_2H,value:Xe(We,V.latestActionTs,2*L)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_ACTION_AGE_DECAY_7D,value:Xe(We,V.latestActionTs,7*R)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_ACTION_AGE_DECAY_90D,value:Xe(We,V.latestActionTs,90*R)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_SHARE_AGE_DECAY_2H,value:Xe(We,V.latestShareTs,2*L)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_SHARE_AGE_DECAY_7D,value:Xe(We,V.latestShareTs,7*R)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_SHARE_AGE_DECAY_90D,value:Xe(We,V.latestShareTs,90*R)})},FILE_CHANNEL_CTR:V=>Le({id:v.b.FILE_CHANNEL_CTR,value:V.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:V=>Le({id:v.b.FILE_SUGGESTIONS_SEARCHER,value:V.fileSuggestionsFromSearcher}),FILE_USER_CTR:V=>Le({id:v.b.FILE_USER_CTR,value:V.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:V=>jt({id:v.b.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:V,extractionFunction:we,text:st(V,d.b.FILE_NAVIGATION)}),FILE_IS_CANVAS:V=>Le({id:v.b.FILE_IS_CANVAS,value:It(V,"quip")}),FILE_HAS_DMS_WITH_CREATOR:V=>Le({id:v.b.FILE_HAS_DMS_WITH_CREATOR,value:V.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:V=>Le({id:v.b.FILE_HAS_DMS_WITH_CREATOR_V2,value:V.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(V,he)=>{let{now:We}=he;return Le({id:v.b.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:Bt(We,parseFloat((Qe=V.lastReadTs)!==null&&Qe!==void 0?Qe:"")/1e3,90*R)})},APP_NAME_PREFIX_MATCH:V=>{var he;return jt({id:v.b.APP_NAME_PREFIX_MATCH,suggestion:V,extractionFunction:gt,text:(he=V.item)===null||he===void 0?void 0:he.appName})},BEST_NAME_MATCH_LOG_RESULTS:V=>Le({id:v.b.BEST_NAME_MATCH_LOG_RESULTS,value:V.bestNameIsExactMatch&&wt(V.numResults)}),SLASH_COMMAND_USER_CTR:V=>{var he;return Le({id:v.b.SLASH_COMMAND_USER_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:V=>{var he;return Le({id:v.b.WORKFLOW_TRIGGER_USER_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:V=>{var he;return Le({id:v.b.GLOBAL_ACTION_USER_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:V=>{var he;return Le({id:v.b.CHANNEL_ACTION_USER_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},APP_ACTION_USER_CTR:V=>{var he;return Le({id:v.b.APP_ACTION_USER_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:V=>{var he;return Le({id:v.b.SLASH_COMMAND_TEAM_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:V=>{var he;return Le({id:v.b.WORKFLOW_TRIGGER_TEAM_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:V=>{var he;return Le({id:v.b.GLOBAL_ACTION_TEAM_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:V=>{var he;return Le({id:v.b.CHANNEL_ACTION_TEAM_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},APP_ACTION_TEAM_CTR:V=>{var he;return Le({id:v.b.APP_ACTION_TEAM_CTR,value:(he=V.offlineFeatures)===null||he===void 0?void 0:he.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:V=>Le({id:v.b.SHORTCUT_ENTITY_TYPE_CTR,value:V.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:V=>Le({id:v.b.EXACT_MATCH_LOG_RESULTS,value:(V.isExactMatch?1:0)*wt(V.numResults)}),HISTORY_AGE_DECAY_2H:(V,he)=>{let{now:We}=he;return Le({id:v.b.HISTORY_AGE_DECAY_2H,value:Xe(We,V.historyTs,2*L)})},HISTORY_AGE_DECAY_7D:(V,he)=>{let{now:We}=he;return Le({id:v.b.HISTORY_AGE_DECAY_7D,value:Xe(We,V.historyTs,7*R)})},HISTORY_POSITION:V=>Le({id:v.b.HISTORY_POSITION,value:V.historyPosition})};class De{serialize(){const he=new y;this.featureList.forEach(Ct=>ht({feature:Ct,serializer:he}));const We=he.serialize();return`${this.featuresVersion}:${We}`}valueForFeature(he){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(he==null)return N().error(`Invalid feature id: ${he}`),null;const Ct=this.featureList.find(Gt=>Gt.id===he);if(!Object(l.a)(Ct))return We?Ot(Ct)||"":Je(Ct)||0}static fromSuggestion(he,We){const Ct=Date.now()/1e3,Gt=!!Object(O.db)(he.item),sn=!!(Object(f.l)(he.item)||Object(f.k)(he.item)),Pe=Gt&&Object(O.jb)(he.item),g={itemIsChannel:sn,itemIsMember:Gt,now:Ct,isCurrentUser:Pe,source:We};return new this(Fe(he,We).map(P=>Ze[P]&&Ze[P](he,g)||null))}constructor(he){this.featureList=he,this.featuresVersion="v8"}}h(De,"sorter_ranking_SuggestionFeatureVector");function Fe(V,he){return he==="slash-command-menu"?[...C.globalFeatures]:V.suggestionType===d.b.USER_NAVIGATION?[...C.globalFeatures,...C.userFeatures]:V.suggestionType===d.b.CHANNEL_NAVIGATION?[...C.globalFeatures,...C.channelFeatures]:V.suggestionType===d.b.MPIM_NAVIGATION?[...C.globalFeatures,...C.mpimFeatures]:V.suggestionType===d.b.VIEW_NAVIGATION?[...C.globalFeatures,...C.viewFeatures]:V.suggestionType===d.b.FILE_NAVIGATION?[...C.globalFeatures,...C.fileFeatures,...C.queryFeatures]:V.suggestionType===d.b.LINK_NAVIGATION?[...C.globalFeatures,...C.linkFeatures]:V.suggestionType===d.b.MODAL_NAVIGATION?[...C.globalFeatures,...C.modalFeatures]:V.suggestionType===d.b.TEAM_NAVIGATION?[...C.globalFeatures,...C.teamFeatures]:V.type==="emoji"?[...C.globalFeatures,...C.emojiFeatures]:V.type==="broadcastKeyword"?[...C.globalFeatures,...C.broadcastKeywordFeatures]:V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER?[...C.globalFeatures,...C.queryFeatures]:V.suggestionType===d.b.APP_ACTION?[...C.globalFeatures,...C.shortcutFeatures,...C.appActionFeatures]:V.suggestionType===d.b.SLASH_COMMAND?[...C.globalFeatures,...C.shortcutFeatures,...C.slashCommandFeatures]:V.suggestionType===d.b.GLOBAL_ACTION?[...C.globalFeatures,...C.shortcutFeatures,...C.globalActionFeatures]:V.suggestionType===d.b.CHANNEL_ACTION?[...C.globalFeatures,...C.shortcutFeatures,...C.channelActionFeatures]:V.suggestionType===d.b.WORKFLOW_TRIGGER?[...C.globalFeatures,...C.shortcutFeatures,...C.workflowTriggerFeatures]:V.suggestionType===d.b.APP?[...C.globalFeatures,...C.appFeatures]:V.suggestionType===d.b.MESSAGE_NAVIGATION?[...C.globalFeatures,...C.messageFeatures]:V.suggestionType===d.b.QUERY_HISTORY?[...C.globalFeatures,...C.queryFeatures]:C.globalFeatures}h(Fe,"getFeaturesForExtraction");class Ve{constructor({id:he,value:We}){he==null&&N().error(`Invalid feature id: ${he}`);const Ct=A(he);Ct||N().error(`Missing feature name for id: ${he}`),this.id=he,this.name=Ct,this.valueOrNull=We}}h(Ve,"sorter_ranking_Feature");function Je(V){return typeof V.valueOrNull=="number"&&isFinite(V.valueOrNull)?V.valueOrNull:typeof V.valueOrNull=="boolean"&&V.valueOrNull?1:0}h(Je,"getNumericValueForFeature");function Ot(V){return V.valueOrNull===null||V.valueOrNull===void 0?"":V.valueOrNull.toString()}h(Ot,"getStringValueForFeature");function ht(V){let{feature:he,serializer:We}=V;he.valueOrNull===null&&We.writeNullFeature(),typeof he.valueOrNull=="number"&&We.writeNumericalFeature(he.valueOrNull,he.id),typeof he.valueOrNull=="boolean"&&We.writeBinaryFeature(he.valueOrNull,he.id),typeof he.valueOrNull=="string"&&We.writeTextFeature(he.valueOrNull,he.id)}h(ht,"serializeFeature");function Le(V){let{id:he,value:We}=V;const Ct=Object(l.a)(We)?null:We;return new Ve({id:he,value:Ct})}h(Le,"makeFeature");function jt(V){let{id:he,suggestion:We,extractionFunction:Ct,text:Gt=Ne(We),multiplier:sn=1}=V;if(!Gt)return Le({id:he,value:null});const Pe=Ct({text:Gt,query:We.query||"",normalizedQuery:We.normalizedQuery||""}),g=Pe===!0?1:Pe===!1?0:Pe;return Le({id:he,value:(g??0)*sn})}h(jt,"makeTextFeature");function Ut(V){let he=null;return(V.suggestionType===d.b.QUERY||V.suggestionType===d.b.QUERY_USER||V.suggestionType===d.b.CHANNEL_NAVIGATION||V.suggestionType===d.b.MPIM_NAVIGATION||V.suggestionType===d.b.USER_NAVIGATION||V.suggestionType===d.b.TEAM_NAVIGATION||V.suggestionType===d.b.VIEW_NAVIGATION||V.suggestionType===d.b.FILE_NAVIGATION)&&(he=V.frecencyScore),he}h(Ut,"getFrecencyScoreForSuggestion");function Ie(V){let he=null;return V.suggestionType===d.b.QUERY&&V.lastSuggestionToken&&V.lastSuggestionToken.type===d.a.API&&(he=V.lastSuggestionToken.querySuggestionScore),he}h(Ie,"getQuerySuggestionScoreV2");function oe(V){let he=null;return V.suggestionType===d.b.FILE_NAVIGATION&&(he=V.rawScore),he}h(oe,"getFileSuggestionScore");function ye(V){return V&&V.lastSuggestionToken?V.lastSuggestionToken.toString():""}h(ye,"getLastSuggestionTokenString");function Ne(V){return Lt(V)?ye(V):V.suggestionType===d.b.FILE_NAVIGATION?V.name:null}h(Ne,"getTextOrNullFromQuerySuggestion");function Ge(V){return V.isNavigational||V.isAction||V.isApp?V.name:null}h(Ge,"getTextOrNullFromNavigationalSuggestion");function st(V,he){return V.suggestionType===he?V.name:null}h(st,"getTextOrNullFromSuggestionWithType");function $e(V){return V.suggestionType===d.b.USER_NAVIGATION||Object(l.a)(V.name)?null:V.name}h($e,"getTextOrNullFromSuggestionNotUser");function It(V,he){return V.suggestionType!==d.b.FILE_NAVIGATION?!1:V.fileType===he}h(It,"isFileTypeMatch");function Lt(V){return V.lastSuggestionToken?V.lastSuggestionToken.type===d.a.STRING||V.lastSuggestionToken.type===d.a.PHRASE||V.lastSuggestionToken.type===d.a.API:!1}h(Lt,"isActiveTokenStringLike");function St(V){return V.lastTokenMemberOrNull&&V.lastTokenMemberOrNull.profile&&V.lastTokenMemberOrNull.profile.first_name}h(St,"getLastTokenUserFirstName");function vt(V){return V.lastTokenMemberOrNull&&V.lastTokenMemberOrNull.profile&&V.lastTokenMemberOrNull.profile.last_name}h(vt,"getLastTokenUserLastName");function Yt(V){return V.lastTokenMemberName||V.lastTokenChannelName||null}h(Yt,"lastTokenName");function et(V){return V?V.im&&V.lastReadImTs?V.lastReadImTs:V.remoteImMetadata&&V.lastReadRemoteImMetadataTs?(V.lastReadRemoteImMetadataTs/1e6).toString():null:null}h(et,"lastReadFromLocalClientElseCachedRemote");function Ft(V){let{text:he,query:We}=V;return he===We}h(Ft,"isExactMatch");function mt(V){let{text:he,query:We}=V;return!!(We&&he&&Object(o.a)(he,We))}h(mt,"isPrefixMatch");function Zt(V){let{text:he,normalizedQuery:We}=V;return Object(j.a)(he).replace(/^[@#]/g,"")===We}h(Zt,"isNormalizedExactMatch");function gt(V){let{text:he,normalizedQuery:We}=V;const Ct=Object(j.a)(he).replace(/^[@#]/g,"");return!!(Ct&&We&&Object(o.a)(Ct,We))}h(gt,"isNormalizedPrefixMatch");function at(V){let{text:he,query:We}=V;return Object(i.a)(he).length+(Object(u.a)(he," ")?1:0)===Object(i.a)(We).length}h(at,"stringSameNumberWordsValueFromSuggestion");function it(V){let{text:he,query:We}=V;return Math.max(0,he.length-We.length)}h(it,"excessStringLengthValueFromSuggestion");function dt(V){let{text:he,query:We}=V;return he.length>0?We.length/he.length:0}h(dt,"queryRatioLengthValueFromSuggestion");function _t(V){let{text:he,normalizedQuery:We}=V;return Zt({text:he,normalizedQuery:We})&&We.length>1?2**-We.length:null}h(_t,"queryLengthDecayNormalMatch");function Dt(V){let{normalizedQuery:he}=V;return he.length}h(Dt,"queryLength");function Ye(V){let{text:he}=V;return he.length}h(Ye,"suggestionTextLength");function Xe(V,he,We){if(he){var Ct;return Math.min(1,Math.exp(Math.log(.5)/We*((Ct=kt(V,he))!==null&&Ct!==void 0?Ct:0)))}return 0}h(Xe,"expAgeDecay");function kt(V,he){return he?Math.max(0,V-he):null}h(kt,"age");function Bt(V,he,We){if(!he)return!0;const Ct=kt(V,he);return!Ct||Ct>We}h(Bt,"ageLatestOlderOrMissing");function wt(V){return V>0?Math.log1p(V):0}h(wt,"log1pSafe");function we(V){let{text:he,normalizedQuery:We}=V;const Ct=Object(j.a)(he).replace(/^[@#]/g,"");return Ct&&We&&Ct.includes(We)}h(we,"stringContainsQueryNormalized");class ot{score(he){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ct=0;const Gt=he.featureList.length;for(let sn=0;sn<Gt;sn++)Ct+=this._weightForFeature(he.featureList[sn],We.source||null)*(Je(he.featureList[sn])||0);return Ct}explain(he){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Ct=We.source||null,Gt=he.featureList.map(g=>({id:g.id,name:g.name,value:g.valueOrNull,weight:this._weightForFeature(g,Ct),globalWeight:this._globalWeightForFeature(g),score:this._weightForFeature(g,Ct)*Je(g)})),sn=Gt.filter(g=>g.score).sort((g,P)=>P.score-g.score),Pe=Gt.filter(g=>g.value&&!g.score&&g.name!=="ID");return{score:this.score(he,We),features:[...sn,...Pe],remoteModel:this.isRemote}}_globalWeightForFeature(he){return this.weights[he.name]||0}_weightForFeature(he){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ct=0;he.name==="USER_IS_EXTERNAL"&&(Ct=-1);const Gt=this.weights[he.name]||0,Pe=We&&(We==="composer_page__destination"||We.startsWith("share"))?"WRITE":"READ",g=this.weights[`${Pe}_${he.name}`]||0;return Gt+g+Ct}constructor(he,We=!1){this.isRemote=We,this.weights=he}}h(ot,"linear_model_LinearModel");var yt=new ot({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),Kt=new ot({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),Xt=new ot({FRECENCY:1}),cn=new ot({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),gn=new ot({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),vn=new ot({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),lt=new ot({FRECENCY_LOG_ITEM_COUNT:1}),Rt={testing:yt,testing_2:Kt,frecency:Xt,autocompleteFallback:vn,shortcuts1:cn,shortcuts3:gn,emojiFrequentlyUsed:lt},zt=e("Pw4T"),mn=e("E3dU"),fn=e("QYqd"),ln=e("52Wj"),Ln=e("ehcD"),In=e("Kmpi");function Dn(V){var he;const We=(he=V.actions)===null||he===void 0?void 0:he[0];if(!We)return 0;const Ct=parseFloat(We.ts);return isNaN(Ct)?0:Ct}h(Dn,"getLatestActionTs");var _n=e("xwCZ"),qe=e("9Gfp"),Et=e("Ir4d"),Wt=e("Fjja"),qt=e("DeaP"),nn=e("nNoG"),rn=e("t9sm"),hn=e("lhZz"),en=e("K7TJ"),Un=e("Lgge"),Yn=e("rTjz");class ns extends Yn.a{fetchData(){return Un.a.resolve()}onCacheData(he){super.onCacheData(he);const We=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*We)}getStaleWhileRevalidate(he){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?he:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}h(ns,"autocomplete_cache_AutocompleteCache");class cs extends ns{fetchData(){return Object(hn.dispatchForTeamId)(this.teamId,Object(rn.c)({reason:"AutocompleteModelCache"})).catch(he=>({model:null,omniswitcherModel:null,exception:he})).then(he=>{const We={model:null,omniswitcherModel:null};if(he.model){const Ct=Object(en.a)(Object.entries(he.model).map(Gt=>{let[sn,Pe]=Gt;return[sn.toUpperCase(),Pe]}));We.model=new ot(Ct,!0)}else return null;if(he.omniswitcher_model){const Ct=Object(en.a)(Object.entries(he.omniswitcher_model).map(Gt=>{let[sn,Pe]=Gt;return[sn.toUpperCase(),Pe]}));We.omniswitcherModel=new ot(Ct,!0)}else We.omniswitcherModel=We.model;return We})}constructor(he){super(),this.teamId=he}}h(cs,"autocomplete_model_cache_AutocompleteModelCache");let is=null;function es(V){return is||(is=new cs(V)),is}h(es,"getAutocompleteModelCache");var Is=e("bJfW");const kn=.014,ts=.094,Ds=.148,vs=.132,ss=.179;class Zn extends ns{fetchData(){return Object(Is.c)(this.teamId)?Object(hn.dispatchForTeamId)(this.teamId,Object(rn.b)()).catch(he=>({exception:he})).then(he=>new Os({topEmojis:he.top_emojis,topMpims:he.top_mpims,topChannels:he.top_channels,topUsers:he.top_users,emojiFeatures:he.emoji_features,mpimFeatures:he.mpim_features,channelFeatures:he.channel_features,userFeatures:he.user_features,mpimCtr:he.mpim_ctr,channelCtr:he.channel_ctr,userCtr:he.user_ctr,emojiCtr:he.emoji_ctr,otherCtr:he.other_ctr,defaultFeatureNames:he.default_features,topAppActions:he.top_app_actions,topGlobalActions:he.top_global_actions,topSlashCommands:he.top_slash_commands,topWorkflowTriggers:he.top_workflow_triggers,topChannelActions:he.top_channel_actions,appActionCtr:he.app_action_ctr,globalActionCtr:he.global_action_ctr,slashCommandCtr:he.slash_command_ctr,workflowTriggerCtr:he.workflow_trigger_ctr,channelActionCtr:he.channel_action_ctr,usersHasDmed:he.users_has_dmed})):Un.a.resolve(new Os)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new Os)}constructor(he){super(),this.teamId=he}}h(Zn,"autocomplete_features_cache_AutocompleteFeaturesCache");class Os{getFeatures(he,We){const Ct=this.topEntities[We],Gt=this.featureNames[We]||this.featureNames.default,sn=this.defaultEntityFeatures[We],Pe=Ct&&Ct[he];if(Pe&&Gt){const g={};for(let F=0;F<Gt.length;F++)g[Gt[F]]=Pe[F];const P={team_ctr_90dd:sn.team_ctr_90dd,user_ctr_30dd:sn.user_ctr_30dd};for(const F of Object.keys(sn))P[F]=g[F]||sn[F];return P}return sn}getEntityCtr(he){return this.entityCtr[he]||this.otherEntityCtr}getUserDmChannelMetadata(he){return this.usersHasDmed?this.usersHasDmed[he]:null}constructor({topEmojis:he,topMpims:We,topChannels:Ct,topUsers:Gt,emojiFeatures:sn,mpimFeatures:Pe,channelFeatures:g,userFeatures:P,mpimCtr:F,channelCtr:K,userCtr:fe,emojiCtr:Me,otherCtr:Te,defaultFeatureNames:xe,topAppActions:He,topGlobalActions:ze,topSlashCommands:Be,topWorkflowTriggers:Mt,topChannelActions:Pt,appActionCtr:Qt,globalActionCtr:tn,slashCommandCtr:pt,workflowTriggerCtr:At,channelActionCtr:an,usersHasDmed:$t}={}){this.topEntities={emoji:he,mpim:We,channel:Ct,member:Gt,appAction:He,globalAction:ze,slashCommand:Be,workflowTrigger:Mt,channelAction:Pt},this.featureNames={emoji:sn,mpim:Pe,channel:g,member:P,default:xe},this.otherEntityCtr=Te??ss,this.entityCtr={mpim:F??kn,channel:K??Ds,member:fe??vs,emoji:Me??ts,appAction:Qt??this.otherEntityCtr,globalAction:tn??this.otherEntityCtr,slashCommand:pt??this.otherEntityCtr,workflowTrigger:At??this.otherEntityCtr,channelAction:an??this.otherEntityCtr},this.defaultEntityFeatures={};for(const Mn of Object.keys(this.entityCtr))this.defaultEntityFeatures[Mn]={team_ctr_90dd:this.getEntityCtr(Mn),user_ctr_30dd:this.getEntityCtr(Mn)};this.usersHasDmed=$t}}h(Os,"AutocompleteFeatures");const Cs={};function ys(V){let{teamId:he,enterpriseId:We}=V;const Ct=We||he||"_default";return Cs[Ct]||(Cs[Ct]=new Zn(he)),Cs[Ct]}h(ys,"getAutocompleteFeaturesCache");var Ls=e("4CqU"),Es=e("RVJP"),zn=e("a/vO"),_s=e("G5NC"),ls=e("t4eE"),Ts=e("Zbwg"),gs=e("h2ws");const As=new nn.b("search"),xn="autocompleteFallback";let Ss=h(class{sort(he,We){var Ct;const Gt=Object(zt.d)({state:he});Gt.mark("sorter-sort-mark");const sn=this.prepSuggestions(he,We);this.extractFeatures(he,sn);const Pe=this.scoreItems(he,sn),g=((Ct=this.options)===null||Ct===void 0?void 0:Ct.dryRun)===!0?Pe:this.sortByScore(Pe);Gt.measureAndClear("sorter-sort-mark","sorter-sort");const P=2,F=this.boostExactMatches(g,P);return this.forceMatches(F)}boostExactMatches(he,We){const Ct=he.slice(0,We),Gt=[],sn=[];for(let Pe=We;Pe<he.length;Pe++){const g=he[Pe];g.isExactMatch||g.bestNameIsExactMatch?Gt.push(g):sn.push(g)}return[...Ct,...Gt,...sn]}forceMatches(he){var We,Ct;return!((We=this.options)===null||We===void 0)&&We.selfFirst&&!(!((Ct=he[0])===null||Ct===void 0)&&Ct.isSelf)?[...Object(s.a)(he,sn=>sn.isSelf),...he]:he}getModels(he,We){const Ct={model:Rt[he],omniswitcherModel:Rt[he]};if(We){const sn=es(We).getStaleWhileRevalidate(Ct);return sn===null||sn.model===null||sn.model===void 0?Ct:sn}return Ct}getHistoryChannels(he){if(Object(Es.d)(he,"sq_sorter_history")!=="treatment")return{};if(!Object(_s.a)())return{};var We;const Ct=[...(We=Object(zn.a)(Object(hn.getStateForClientStore)()))!==null&&We!==void 0?We:[]];if(!Ct)return{};for(let sn=0;sn<Ct.length;sn++)Ct[sn].position=sn+1;const Gt={};return Ct.filter(sn=>!Object(ls.b)()&&sn.teamId!==this.teamId||!sn.primaryView?!1:Object(Ts.a)(sn.primaryView)).forEach(sn=>{if(sn.primaryView&&!(sn.primaryView in Gt)){var Pe;Gt[sn.primaryView]={ts:sn.ts/1e3,position:(Pe=sn==null?void 0:sn.position)!==null&&Pe!==void 0?Pe:-1}}}),Gt}prepSuggestions(he,We){var Ct,Gt,sn;const Pe=Object(j.a)(Object(Et.a)(this.query));if(!((Ct=this.options)===null||Ct===void 0)&&Ct.currentChannel&&Pe.length<=1&&!Object(f.i)((Gt=this.options)===null||Gt===void 0?void 0:Gt.currentChannel)&&!Object(f.g)((sn=this.options)===null||sn===void 0?void 0:sn.currentChannel)){const He=We.filter(ze=>ze.type==="member"||Object(O.db)(ze.item)).map(ze=>(ze.item||ze).id);Object(hn.dispatchForTeamId)(this.teamId,Object(Ls.a)({channelId:this.options.currentChannel.id,userIds:He}))}let g=null;if(Object(Es.d)(he,"snd_autocomplete_features_cache")==="treatment"&&this.teamId){var P;g=ys({teamId:this.teamId,enterpriseId:(P=this.enterpriseId)!==null&&P!==void 0?P:void 0}).getStaleWhileRevalidate()}const F=We.length,K=Object(qe.a)(he),fe=Object(_n.c)(he),Me=Object(Ln.e)(fe),Te=this.getHistoryChannels(he),xe={};return We.forEach(He=>{const ze=He.item;(He.type==="mpim"||Object(f.i)(He.item))&&(Object(E.C)(ze)||[]).forEach(Mt=>{if(Mt!==K){const Pt=xe[Mt]||{itemCount:0,hitCount:0},Qt=Object(E.z)(he,ze),tn=Qt?parseFloat(Qt):void 0,pt=Object(fn.b)(he,ze.id),At=pt?parseFloat(pt):void 0;tn&&(Pt.lastReadTs?Pt.lastReadTs=Math.max(Pt.lastReadTs,tn):Pt.lastReadTs=tn),At&&(Pt.latestMsgTs?Pt.latestMsgTs=Math.max(Pt.latestMsgTs,At):Pt.latestMsgTs=At),Pt.hitCount+=(He==null?void 0:He.hitCount)||0,Pt.itemCount+=(He==null?void 0:He.itemCount)||0,xe[Mt]=Pt}})}),We.map(He=>{const ze=He.item||He,Be={...He,query:this.query,normalizedQuery:Pe,id:ze.id,suggestionType:d.b.UNKNOWN,numResults:F};if(He.type==="member"||Object(O.db)(He.item)){var Mt,Pt,Qt;const pn=ze.id&&Object(mn.m)(he,ze.id),Wn=ze.id&&g&&g.getUserDmChannelMetadata(ze.id);Be.remoteImMetadata=Wn,Be.im=pn,Be.latestImTs=pn&&Object(fn.b)(he,pn.id),Be.imHasDraft=pn&&Object(E.v)(he,pn.id),Be.imIsStarred=pn&&Object(E.qb)(he,pn),Be.name=Object(ln.b)(He.item),Be.lastReadImTs=Object(E.z)(he,pn),Be.lastReadRemoteImMetadataTs=Wn==null?void 0:Wn.last_read_abs,Object(Ln.e)(He.item)===Me&&(Be.sameTeam=!0);let Fn;if(!((Mt=this.options)===null||Mt===void 0)&&Mt.currentChannel&&(Fn=this.options.currentChannel),Fn)if(Object(f.i)(Fn)){var tn,pt;Be.isMemberOfCurrentChannel=(pt=Fn==null||(tn=Fn.members)===null||tn===void 0?void 0:tn.includes(He.item.id))!==null&&pt!==void 0?pt:!1}else Object(f.g)(Fn)||(Be.isMemberOfCurrentChannel=Object(gs.a)(he,ze,Fn));Be.priority=Object(E.M)(he,pn),Be.suggestionType=d.b.USER_NAVIGATION,Be.isNavigational=!0,Be.historyTs=pn&&((Pt=Te[pn.id])===null||Pt===void 0?void 0:Pt.ts),Be.historyPosition=pn&&((Qt=Te[pn.id])===null||Qt===void 0?void 0:Qt.position);const Bn=xe[ze.id];Bn&&(Be.mpimFeatures=Bn)}else Be.name=ze.name||ze.string;if(He.type==="channel"||Object(f.e)(He.item)){var At,an;Be.suggestionType=d.b.CHANNEL_NAVIGATION,Be.isNavigational=!0,Be.isChannelMember=Object(f.l)(ze)&&!Object(m.a)(ze)&&Object(E.db)(ze),Be.hasDraft=Object(E.v)(he,ze.id),Be.offlineFeatures=g&&g.getFeatures(He.item.id,"channel"),Be.historyTs=(At=Te[ze.id])===null||At===void 0?void 0:At.ts,Be.historyPosition=(an=Te[ze.id])===null||an===void 0?void 0:an.position,Be.latestTs=Object(fn.b)(he,ze.id),Be.lastReadTs=Object(E.z)(he,ze),Be.priority=Object(E.M)(he,ze),Be.isStarred=Object(E.qb)(he,ze)}if(He.type==="mpim"||Object(f.i)(He.item)){var $t,Mn;Be.suggestionType=d.b.MPIM_NAVIGATION,Be.isNavigational=!0;const Wn=(Object(E.C)(ze)||[]).map(Xn=>Object(_n.g)(he,Xn));Be.isMpimWithDeactivatedMember=Object(t.a)(Wn,Xn=>Object(O.V)(Xn)||Object(O.mb)(Xn)),Be.isMpimWithOnlyInternalMembers=Object(a.a)(Wn,Xn=>!Object(p.a)(Xn)),Be.hasDraft=Object(E.v)(he,ze.id),Be.name=Object(E.Bb)(he,He.item),Be.offlineFeatures=g&&g.getFeatures(He.item.id,"mpim"),Be.historyTs=($t=Te[ze.id])===null||$t===void 0?void 0:$t.ts,Be.historyPosition=(Mn=Te[ze.id])===null||Mn===void 0?void 0:Mn.position,Be.priority=Object(E.M)(he,ze),Be.maxLastReadTsOfAllMembers=null,Be.maxLatestMsgTsOfAllMembers=null;let Fn=0,Bn=0,Nn=0,Gn=0,as=0;Wn.forEach(Xn=>{if(Xn.id!==K){const js=Xn.id?Object(mn.m)(he,Xn.id):void 0,zs=js&&Object(E.z)(he,js),Hs=Xn.id&&g&&g.getUserDmChannelMetadata(Xn.id),ks=Hs&&Hs.last_read_abs/1e6,Bs=js||Hs,Fs=zs?parseFloat(zs):ks;if(Bs){if(as+=1,Fs){Nn+=1;var Ns;Be.maxLastReadTsOfAllMembers=Math.max((Ns=Be.maxLastReadTsOfAllMembers)!==null&&Ns!==void 0?Ns:-1/0,Fs),Fn+=Fs}const us=Object(fn.b)(he,js==null?void 0:js.id),Ps=js&&us?parseFloat(us):void 0;if(Ps){Gn+=1;var Ws;Be.maxLatestMsgTsOfAllMembers=Math.max((Ws=Be.maxLatestMsgTsOfAllMembers)!==null&&Ws!==void 0?Ws:-1/0,Ps),Bn+=Ps}}}}),Be.avgLastReadTsOfAllMembers=Fn===0?null:Fn/Nn,Be.avgLatestMsgTsOfAllMembers=Bn===0?null:Bn/Gn,Be.pctNonEmptyDmsForAllMembers=Nn/(Wn.length-1)*100,Be.pctNonNullDmsForAllMembers=as/(Wn.length-1)*100}if(He.type==="team"&&(Be.suggestionType=d.b.TEAM_NAVIGATION,Be.isNavigational=!0),He.type==="view"&&(Be.suggestionType=d.b.VIEW_NAVIGATION,Be.isNavigational=!0),He.type==="appAction"&&(Be.suggestionType=d.b.APP_ACTION,Be.isAction=!0,Be.offlineFeatures=g&&g.getFeatures(He.item.id,"appAction")),He.type==="app"&&(Be.suggestionType=d.b.APP,Be.isApp=!0),He.type==="emoji"&&(Be.name=Be.emojiBestNameMatch,Be.suggestionType=d.b.EMOJI,Be.isNavigational=!0,Be.offlineFeatures=g&&g.getFeatures(He.item.id,"emoji")),He.type==="slashCommand"){var Cn;Be.suggestionType=d.b.SLASH_COMMAND,Be.isApp=!0,Be.name=(Cn=Be.name)===null||Cn===void 0?void 0:Cn.substring(1),Be.firstWordOfRawQuery&&(Be.query=Be.firstWordOfRawQuery,Be.normalizedQuery=Be.firstWordOfRawQuery),Be.offlineFeatures=g&&g.getFeatures(He.item.id,"slashCommand")}if(He.type==="globalAction"&&(Be.suggestionType=d.b.GLOBAL_ACTION,Be.isApp=!0,Be.offlineFeatures=g&&g.getFeatures(He.item.id,"globalAction")),He.type==="quipShortcutCommand"&&(Be.suggestionType=d.b.QUIP_SHORTCUT),He.type==="channelAction"&&(Be.suggestionType=d.b.CHANNEL_ACTION,Be.isApp=!0,Be.offlineFeatures=g&&g.getFeatures(He.item.id,"channelAction")),He.type==="workflowTrigger"&&(Be.suggestionType=d.b.WORKFLOW_TRIGGER,Be.isApp=!0,Be.offlineFeatures=g&&g.getFeatures(He.item.id,"workflowTrigger")),He.type==="file"){Be.suggestionType=d.b.FILE_NAVIGATION,Be.isNavigational=!0,Be.fileSuggestionsFromSearcher=!0;const pn=Be.item;Be.id=pn.id,Be.fileId=pn.id,Be.logId=pn.id,Be.fileType=pn.highlight_type||pn.filetype,Be.name=pn.title,Be.fileTypeDescription=pn.is_external?Object(qt.a)(pn,he):pn.pretty_type,Be.fileTypeDescription==="Arugula"&&(Be.fileTypeDescription=As.t("Post")),Be.fromCurrentUser=pn.user===K;const Wn=pn.user&&Object(mn.m)(he,pn.user),Fn=pn.user&&g&&g.getUserDmChannelMetadata(pn.user);if(Be.hasNonNullDmsWithCreator=Wn!==null,Be.hasNonNullLocalOrRemoteDmsWithCreator=Wn!==null||Fn!==null,Be.lastReadTs=pn.last_read,pn.shares){const Nn=pn.shares.public&&Math.max(...Object.values(pn.shares.public).flatMap(as=>as.map(Xn=>Xn.ts?parseFloat(Xn.ts):-1/0))),Gn=pn.shares.private&&Math.max(...Object.values(pn.shares.private).flatMap(as=>as.map(Xn=>Xn.ts?parseFloat(Xn.ts):-1/0)));Nn&&Gn?Be.latestShareTs=Nn>Gn?Nn:Gn:Be.latestShareTs=Nn||Gn}const Bn=Dn(pn);if(Bn&&(Be.latestActionTs=Bn),g){const Nn=pn.channels&&Array.isArray(pn.channels)&&pn.channels.length&&Math.max(...pn.channels.map(as=>g.getFeatures(as,"channel").user_ctr_30dd)),Gn=pn.groups&&Array.isArray(pn.groups)&&pn.groups.length&&Math.max(...pn.groups.map(as=>g.getFeatures(as,"mpim").user_ctr_30dd));Nn>0&&Gn>0?Be.fileChannelCtr=Math.max(Nn,Gn):Nn>0?Be.fileChannelCtr=Nn:Gn>0&&(Be.fileChannelCtr=Gn),pn.user?Be.fileUserCtr=g.getFeatures(pn.user,"member").user_ctr_30dd:Be.fileUserCtr=g.getEntityCtr("member")}}if(He.type==="link"&&(Be.suggestionType=d.b.LINK_NAVIGATION,Be.isNavigational=!0,Be.name=He.item.title||He.item.url),He.type==="modal"&&(Be.suggestionType=d.b.MODAL_NAVIGATION,Be.name=He.item.name),He.type==="queryHistory"&&(Be.suggestionType=d.b.QUERY_HISTORY,Be.is_type_query_history=!0,Be.id=Object(Wt.a)(He.id||He.name||He.string),Be.logId=Be.id,Be.exact_string=He.string),He.type==="query"||He.type==="queryUser"||He.type==="queryHistory"){var Rn,An,On;Be.is_type_query_completion=!0,Be.lastSuggestionToken=!Be.suggestionTokenList||Be.suggestionTokenList.length<1?null:Be.suggestionTokenList[Be.suggestionTokenList.length-1],Be.frecencyScore=Be.lastSuggestionToken&&Be.lastSuggestionToken._frecencyScore,Be.scoringContext=((Rn=Be.lastSuggestionToken)===null||Rn===void 0?void 0:Rn._scoringContext)||{},Be.lastTokenMemberOrNull=null,Be.lastTokenChannelOrNull=null;const pn=Be.lastSuggestionToken&&(Be.lastSuggestionToken.type===d.a.FILTER_FROM||Be.lastSuggestionToken.type===d.a.FILTER_TO||Be.lastSuggestionToken.type===d.a.FILTER_WITH),Wn=Be.lastSuggestionToken&&Be.lastSuggestionToken.type===d.a.FILTER_IN;if(!((An=Be.lastSuggestionToken)===null||An===void 0)&&An._id&&(Be.lastTokenMemberOrNull=pn&&Object(_n.g)(he,Be.lastSuggestionToken._id),Be.lastTokenChannelOrNull=Wn&&(Object(mn.d)(he,Be.lastSuggestionToken._id)||Object(mn.m)(he,Be.lastSuggestionToken._id)),Be.priority=Be.lastTokenChannelOrNull?Object(E.M)(he,Be.lastTokenChannelOrNull):void 0),Be.lastSuggestionToken&&Be.lastSuggestionToken._name&&(Be.lastTokenMemberOrNull||(Be.lastTokenMemberOrNull=pn&&Object(_n.h)(he,Be.lastSuggestionToken._name)),Be.lastTokenChannelOrNull||(Be.lastTokenChannelOrNull=Wn&&Object(mn.e)(he,Be.lastSuggestionToken._name))),Object(In.e)(Be.lastTokenMemberOrNull)&&(Be.lastTokenMemberOrNull=null),Be.lastTokenMemberName=Object(ln.b)(Be.lastTokenMemberOrNull)||void 0,Object(In.e)(Be.lastTokenChannelOrNull))Be.lastTokenChannelOrNull=null;else{const Bn=Object(E.z)(he,Be.lastTokenChannelOrNull);Be.lastTokenChannelLastRead=Bn?parseFloat(Bn):void 0,Be.lastTokenChannelIsStarred=Object(E.qb)(he,Be.lastTokenChannelOrNull)}Be.lastTokenChannelName=Object(E.t)(he,Be.lastTokenChannelOrNull)||null,Be.lastTokenIm=Be.lastTokenMemberOrNull&&Be.lastTokenMemberOrNull.id?Object(mn.m)(he,Be.lastTokenMemberOrNull.id):void 0,Be.lastTokenImLatest=Object(fn.b)(he,(On=Be.lastTokenIm)===null||On===void 0?void 0:On.id);const Fn=Object(E.z)(he,Be.lastTokenIm);Fn&&(Be.lastTokenImLastRead=Fn?parseFloat(Fn):void 0),Be.lastTokenIm&&(Be.priority=Object(E.M)(he,Be.lastTokenIm)),Be.lastTokenImIsStarred=Object(E.qb)(he,Be.lastTokenIm)}if(He.type==="query"&&(Be.suggestionType=d.b.QUERY),He.type==="queryUser"&&(Be.suggestionType=d.b.QUERY_USER),He.type==="queryHistory"&&(Be.suggestionType=d.b.QUERY_HISTORY),He.type==="query"||He.type==="queryUser"||He.type==="queryHistory"){var bn;Be.normalizedQuery=Object(j.a)(Object(Et.a)(Be.query)),Be.logId=((bn=Be.lastSuggestionToken)===null||bn===void 0?void 0:bn.logId)||"";var Pn;Be.name=((Pn=Be.suggestionTokenList)!==null&&Pn!==void 0?Pn:[]).map(pn=>pn.toString()).join(" ")}return He.type==="quickMessage"&&(Be.isNavigational=!0,Be.suggestionType=d.b.MESSAGE_NAVIGATION),Be.entityTypeCtr=g?g.getEntityCtr(He.type):void 0,Be})}extractFeatures(he,We){We.forEach(Ct=>{var Gt;const sn=D(Ct,(Gt=this.options)===null||Gt===void 0?void 0:Gt.source);this.featureVectors[Ct.id]=sn})}selectModelForScoring(){return this.model}scoreItems(he,We){var Ct;const Gt={source:(Ct=this.options)===null||Ct===void 0?void 0:Ct.source},sn=this.selectModelForScoring();return We.map(Pe=>{var g;const P=this.featureVectors[Pe.id],F=sn.score(P,Gt);let K;return!((g=this.options)===null||g===void 0)&&g.explain&&(K=sn.explain(P,Gt)),{...Pe,modelScore:F,featureVectorRaw:P,explain:K}})}sortByScore(he){var We,Ct;return he.sort((Gt,sn)=>((We=sn==null?void 0:sn.modelScore)!==null&&We!==void 0?We:0)-((Ct=Gt==null?void 0:Gt.modelScore)!==null&&Ct!==void 0?Ct:0))}constructor({query:he,options:We={},teamId:Ct=null,enterpriseId:Gt=null}){this.query=he,this.options=We;let sn=We.model;sn===void 0&&(sn=xn);const Pe=this.getModels(sn,Ct||Gt);this.model=Pe.model,this.omniswitcherModel=Pe.omniswitcherModel,this.teamId=Ct,this.enterpriseId=Gt,this.featureVectors={}}},"Sorter")},WXkz:function(H,n,e){"use strict";e.d(n,"m",function(){return v}),e.d(n,"q",function(){return S}),e.d(n,"r",function(){return A}),e.d(n,"c",function(){return I}),e.d(n,"t",function(){return _}),e.d(n,"s",function(){return M}),e.d(n,"v",function(){return y}),e.d(n,"e",function(){return j}),e.d(n,"f",function(){return C}),e.d(n,"w",function(){return D}),e.d(n,"C",function(){return N}),e.d(n,"D",function(){return B}),e.d(n,"o",function(){return L}),e.d(n,"p",function(){return R}),e.d(n,"a",function(){return w}),e.d(n,"n",function(){return se}),e.d(n,"E",function(){return ee}),e.d(n,"g",function(){return X}),e.d(n,"b",function(){return me}),e.d(n,"y",function(){return Ce}),e.d(n,"j",function(){return le}),e.d(n,"i",function(){return ie}),e.d(n,"A",function(){return q}),e.d(n,"B",function(){return ce}),e.d(n,"h",function(){return ge}),e.d(n,"k",function(){return be}),e.d(n,"d",function(){return Q}),e.d(n,"z",function(){return re}),e.d(n,"u",function(){return z}),e.d(n,"x",function(){return Y}),e.d(n,"l",function(){return ve});var s=e("ZKjC"),t=e("O86Y"),a=e("robD"),r=e("6CnZ"),l=e("dmdh"),o=e("gded"),i=e("JoR1"),u=e("P9LH"),d=e("fGfo"),m=e("OaiI"),c=e("xcHN"),E=e("hwwf"),f=e("UOL+"),O=e("G4qV"),p=e("rdha"),b=e("i5Ig");const T=h(Z=>Object(f.a)(Z).lists,"getListsState"),v=Object(s.b)((Z,$)=>Object(m.isListsStoreRefactorEnabled)(Z)?Object(l.e)(Z,$):T(Z).listsById[$]);v.meta={name:"createSelector",key:"createSelectorgetList",description:(Z,$)=>Object(m.isListsStoreRefactorEnabled)(Z)?Object(l.e)(Z,$):T(Z).listsById[$]};const S=Object(s.b)((Z,$)=>{var te;return $&&((te=T(Z).listsById[$])===null||te===void 0?void 0:te.records)||b.b});S.meta={name:"createSelector",key:"createSelectorgetListRecords",description:(Z,$)=>{var te;return $&&((te=T(Z).listsById[$])===null||te===void 0?void 0:te.records)||b.b}};const A=Object(O.a)(v,Z=>Z==null?void 0:Z.title),I=Object(s.b)(Z=>T(Z).clock);I.meta={name:"createSelector",key:"createSelectorgetClock",description:Z=>T(Z).clock};const _=Object(s.b)(Z=>T(Z).listsById);_.meta={name:"createSelector",key:"createSelectorgetListsLegacy",description:Z=>T(Z).listsById};const M=Object(s.b)(Z=>Object(l.c)(Z));M.meta={name:"createSelector",key:"createSelectorgetLists",description:Z=>Object(l.c)(Z)};const y=Object(s.b)((Z,$,te)=>{var J,k;return(J=T(Z).listsById[$])===null||J===void 0||(k=J.records)===null||k===void 0?void 0:k[te]});y.meta={name:"createSelector",key:"createSelectorgetRecord",description:(Z,$,te)=>{var J,k;return(J=T(Z).listsById[$])===null||J===void 0||(k=J.records)===null||k===void 0?void 0:k[te]}};const j=Object(s.b)((Z,$,te)=>{const J=v(Z,$),k=Object(d.i)(J);return k==null?void 0:k.find(ae=>ae.key===te)});j.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(Z,$,te)=>{const J=v(Z,$),k=Object(d.i)(J);return k==null?void 0:k.find(ae=>ae.key===te)}};const C=Object(s.b)((Z,$,te)=>{var J;return(J=j(Z,$,te))===null||J===void 0?void 0:J.id});C.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(Z,$,te)=>{var J;return(J=j(Z,$,te))===null||J===void 0?void 0:J.id}};const D=Object(s.b)((Z,$,te)=>{var J;const k=(J=T(Z).listsById[$])===null||J===void 0?void 0:J.records;if(k)return Object.values(k).find(ae=>ae.threadTs===te)});D.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(Z,$,te)=>{var J;const k=(J=T(Z).listsById[$])===null||J===void 0?void 0:J.records;if(k)return Object.values(k).find(ae=>ae.threadTs===te)}};const N=Object(s.b)((Z,$)=>T(Z).templatesById[$]);N.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(Z,$)=>T(Z).templatesById[$]};const B=Object(s.b)(Z=>T(Z).templatesById);B.meta={name:"createSelector",key:"createSelectorgetTemplates",description:Z=>T(Z).templatesById};const L=Object(s.b)(Z=>{const $=[],te=Object(m.isListsStoreRefactorEnabled)(Z);let J;te?J=M(Z):J=Object.values(_(Z));for(const ae of J){var k;const Ee={id:ae.id,title:(k=ae.title)!==null&&k!==void 0?k:""};$.push(Ee)}return $});L.meta={name:"createSelector",key:"createSelectorgetListMentions",description:Z=>{const $=[],te=Object(m.isListsStoreRefactorEnabled)(Z);let J;te?J=M(Z):J=Object.values(_(Z));for(const ae of J){var k;const Ee={id:ae.id,title:(k=ae.title)!==null&&k!==void 0?k:""};$.push(Ee)}return $}};const R=Object(s.b)((Z,$)=>{const te=Object(m.isListsStoreRefactorEnabled)(Z);let J;te?J=M(Z):J=Object.values(_(Z));const k=Object(E.x)($);if(!k)return[];const{listTitle:ae}=k,Ee=Object(E.j)(J,ae);if(!Ee)return[];const _e=Object(l.e)(Z,Ee.id),je=U(Ee),Ue=[],Ke=S(Z,Ee.id);for(const Ze of Object.values(Ke??{})){var ke,Qe;const De={id:Ze.id,name:(ke=Ze.fields[je])!==null&&ke!==void 0?ke:"",listId:_e.id,listTitle:(Qe=_e.title)!==null&&Qe!==void 0?Qe:""};Ue.push(De)}return Ue});R.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(Z,$)=>{const te=Object(m.isListsStoreRefactorEnabled)(Z);let J;te?J=M(Z):J=Object.values(_(Z));const k=Object(E.x)($);if(!k)return[];const{listTitle:ae}=k,Ee=Object(E.j)(J,ae);if(!Ee)return[];const _e=Object(l.e)(Z,Ee.id),je=U(Ee),Ue=[],Ke=S(Z,Ee.id);for(const Ze of Object.values(Ke??{})){var ke,Qe;const De={id:Ze.id,name:(ke=Ze.fields[je])!==null&&ke!==void 0?ke:"",listId:_e.id,listTitle:(Qe=_e.title)!==null&&Qe!==void 0?Qe:""};Ue.push(De)}return Ue}};function U(Z){let $;const te=Object(d.i)(Z);for(const J of te??[])if(J.type==="text"&&($||($=J),J.key.toUpperCase()==="NAME"))return J.key;return $?$.key:"name"}h(U,"findColumnKeyForMention");const W=Object(s.b)(Z=>Object(m.isListsEnabled)(Z)?!!Object(i.t)(Z,"seen_onboarding_lists"):!0);W.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:Z=>Object(m.isListsEnabled)(Z)?!!Object(i.t)(Z,"seen_onboarding_lists"):!0};const x=Object(s.b)((Z,$)=>{var te;const J=v(Z,$);return(te=Object(d.i)(J))===null||te===void 0?void 0:te.find(k=>(k==null?void 0:k.key)==="name")});x.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(Z,$)=>{var te;const J=v(Z,$);return(te=Object(d.i)(J))===null||te===void 0?void 0:te.find(k=>(k==null?void 0:k.key)==="name")}};const G=Object(s.b)((Z,$,te,J)=>{var k;if(!$||!te||!J)return!1;const ae=Object(c.c)(te,$),Ee=Object(r.j)(Z,ae,$);return Ee?J<(Ee==null?void 0:Ee.timestamps[(Ee==null||(k=Ee.timestamps)===null||k===void 0?void 0:k.length)-1]):!1});G.meta={name:"createSelector",key:"createSelectorhasListRecordThreadUnreads",description:(Z,$,te,J)=>{var k;if(!$||!te||!J)return!1;const ae=Object(c.c)(te,$),Ee=Object(r.j)(Z,ae,$);return Ee?J<(Ee==null?void 0:Ee.timestamps[(Ee==null||(k=Ee.timestamps)===null||k===void 0?void 0:k.length)-1]):!1}};const w=Object(s.b)((Z,$)=>T(Z).listBannerMessagesbyId[$]);w.meta={name:"createSelector",key:"createSelectorgetBannerMessageForList",description:(Z,$)=>T(Z).listBannerMessagesbyId[$]};const se=Object(s.b)((Z,$)=>{const te=Object(l.e)(Z,$);return!te||!te.access||!Object(u.Wb)(te)});se.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(Z,$)=>{const te=Object(l.e)(Z,$);return!te||!te.access||!Object(u.Wb)(te)}};const ee=Object(s.b)(Z=>Object(t.d)(Z)==="E12KS1G65");ee.meta={name:"createSelector",key:"createSelectorshouldShowFeedbackLink",description:Z=>Object(t.d)(Z)==="E12KS1G65"};const X=Object(s.b)((Z,$)=>T(Z).historyById[$]);X.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(Z,$)=>T(Z).historyById[$]};const me=Object(s.b)((Z,$)=>{const te=v(Z,$),J=S(Z,$);if(!te||!J)return null;let k="";for(const ae of Object.values(J)){ae.position&&k<ae.position&&(k=ae.position);for(const Ee of Object.values(ae.viewPositions))k<Ee&&(k=Ee)}return k||null});me.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(Z,$)=>{const te=v(Z,$),J=S(Z,$);if(!te||!J)return null;let k="";for(const ae of Object.values(J)){ae.position&&k<ae.position&&(k=ae.position);for(const Ee of Object.values(ae.viewPositions))k<Ee&&(k=Ee)}return k||null}};const Oe=Object(s.b)((Z,$,te)=>{const J=Object(o.a)({listId:$,viewId:te});return T(Z).localFiltersById[J]});Oe.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(Z,$,te)=>{const J=Object(o.a)({listId:$,viewId:te});return T(Z).localFiltersById[J]}};const Ce=Object(p.d)((Z,$,te)=>{const J=v(Z,$),k=Object(d.j)(J,te);var ae;const Ee=(ae=k==null?void 0:k.filters)!==null&&ae!==void 0?ae:[];var _e;return Ee.concat((_e=k==null?void 0:k.infoColumnFilters)!==null&&_e!==void 0?_e:[])}),le=Object(O.a)(Oe,Ce,(Z,$)=>Z!=null&&Z.length?Z.length!==($==null?void 0:$.length)?!0:!Object(a.d)(Z,$,"columnId"):!1),de=Object(O.a)(Oe,Ce,(Z,$)=>{if(!Z)return new Set;const te=new Map($==null?void 0:$.map(k=>[k.key,k])),J=Z.filter(k=>Object(a.c)(k,te)).map(k=>k.key);return new Set(J)}),ie=Object(O.a)(Oe,Ce,(Z,$)=>Z!==void 0?Z:$||[]),pe=Object(s.b)((Z,$,te)=>{const J=Object(o.a)({listId:$,viewId:te});return T(Z).localSortsById[J]});pe.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(Z,$,te)=>{const J=Object(o.a)({listId:$,viewId:te});return T(Z).localSortsById[J]}};const ne=Object(p.d)((Z,$,te)=>{const J=v(Z,$),k=Object(d.j)(J,te);return k==null?void 0:k.sorts}),q=Object(O.a)(pe,ne,(Z,$)=>Z!==void 0?Z:$||[]),ce=Object(O.a)(pe,ne,(Z,$)=>Z!=null&&Z.length?Z.length!==($==null?void 0:$.length)?!0:!Object(a.d)(Z,$,"columnId"):!1),ge=Object(s.b)(Z=>{var $;return($=T(Z))===null||$===void 0?void 0:$.filterPillKey});ge.meta={name:"createSelector",key:"createSelectorgetFilterPillKey",description:Z=>{var $;return($=T(Z))===null||$===void 0?void 0:$.filterPillKey}};const be=Object(s.b)(Z=>{var $;return($=T(Z))===null||$===void 0?void 0:$.groupByPillAutoOpen});be.meta={name:"createSelector",key:"createSelectorgetGroupByPillAutoOpen",description:Z=>{var $;return($=T(Z))===null||$===void 0?void 0:$.groupByPillAutoOpen}};const Q=Object(s.b)((Z,$,te)=>{const J=Object(o.a)({listId:$,viewId:te});return T(Z).localCollapsedGridsById[J]});Q.meta={name:"createSelector",key:"createSelectorgetCollapsedGridsByViewId",description:(Z,$,te)=>{const J=Object(o.a)({listId:$,viewId:te});return T(Z).localCollapsedGridsById[J]}};const re=Object(s.b)((Z,$)=>Object(d.p)(v(Z,$)));re.meta={name:"createSelector",key:"createSelectorgetShouldHideRecordThread",description:(Z,$)=>Object(d.p)(v(Z,$))};const z=Object(s.b)(Z=>T(Z).myItemMap);z.meta={name:"createSelector",key:"createSelectorgetMyItemMap",description:Z=>T(Z).myItemMap};const Y=Object(s.b)((Z,$)=>{var te;return(te=T(Z).refinePillAutoOpenByViewId)===null||te===void 0?void 0:te[$]});Y.meta={name:"createSelector",key:"createSelectorgetRefinePillAutoOpenByViewId",description:(Z,$)=>{var te;return(te=T(Z).refinePillAutoOpenByViewId)===null||te===void 0?void 0:te[$]}};const ve=Object(s.b)((Z,$)=>{var te;return(te=T(Z).lastReadTimestampById)===null||te===void 0?void 0:te[$]});ve.meta={name:"createSelector",key:"createSelectorgetLastReadTimestampByListId",description:(Z,$)=>{var te;return(te=T(Z).lastReadTimestampById)===null||te===void 0?void 0:te[$]}}},"Ws5+":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("gz6s"),o=e("IV+o"),i=e("ktUG"),u=e("FRd1"),d=e("1VgO");function m(){return m=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var p=arguments[O];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(f[b]=p[b])}return f},m.apply(this,arguments)}h(m,"_extends");const c=t.a.forwardRef((f,O)=>{let{className:p,isRequired:b=!1,"aria-disabled":T,indeterminate:v=!1,checked:S,hasKeyboardFocus:A,unstyled:I,autoClogProps:_,onChange:M,focusOnMount:y,...j}=f;const C=Object(s.useRef)(null),[D,N]=Object(s.useState)(!1);Object(s.useEffect)(()=>{if(v&&S==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");C.current&&(C.current.indeterminate=v)},[S,v]),Object(s.useEffect)(()=>{if(y){var x;(x=C.current)===null||x===void 0||x.focus()}},[y]);const B=Object(s.useCallback)(x=>{S===void 0&&_&&(x.persist(),N(x.target.checked)),M==null||M(x)},[_,S,M]),L=I?Object(a.default)("c-input_unstyled_checkbox",p,{"c-input_unstyled_checkbox--focus-visible":A,"c-input_unstyled_checkbox--checked":S}):Object(a.default)("c-input_checkbox",p,{"c-input_checkbox--focus-visible":A,"c-input_checkbox--disabled":T}),R=t.a.createElement("input",m({},j,Object(o.a)(j),{"aria-disabled":T,"aria-checked":v?"mixed":void 0,checked:S,type:"checkbox",required:b,className:L,ref:Object(d.b)(C,O),onChange:T?r.a:B})),U=S!==void 0?S:D,W=Object(s.useMemo)(()=>({onChange:{action:U?i.UiAction.UNCHECK:i.UiAction.CHECK}}),[U]);return _?t.a.createElement(u.a,{autoClogProps:_,actionProps:W,elementType:i.ElementType.CHECKBOX},R):R});c.displayName="Checkbox";var E=n.a=Object(l.a)(c)},WvVy:function(H,n,e){"use strict";e.d(n,"a",function(){return p}),e.d(n,"d",function(){return y}),e.d(n,"b",function(){return j}),e.d(n,"c",function(){return C});var s=e("E3dU"),t=e("NjAx"),a=e("rKeN"),r=e("ptp8"),l=e("9Gfp"),o=e("RTHw"),i=e("g05w"),u=e("E97Y"),d=e("ByMX"),m=e("O0Iw"),c=e("lihz"),E=e("nePV"),f=e("RVJP"),O=e("OOsk");const p={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},b={ok:!1,reason:p.InvalidParams},T={ok:!1,reason:p.InvalidDm},v={ok:!1,reason:p.InvalidChannelType},S={ok:!1,reason:p.RestrictedUser},A={ok:!1,reason:p.OrgSharedSettings},I={ok:!1,reason:p.OwnerRequired},_={ok:!1,reason:p.UserHasNoPermissions},M=h((D,N)=>{const B=Object(f.d)(D,"roles_account_types")==="on";if(!Object(u.e)(N))return b;if(Object(u.g)(N)||Object(u.i)(N))return T;if(Object(u.n)(N))return v;const L=Object(l.h)(D),R=Object(r.a)(D),U=Object(r.b)(D);if(!L)return R&&(Object(u.k)(N)&&Object(o.a)(D)||Object(u.l)(N)&&Object(o.c)(D))||U&&(Object(u.k)(N)&&Object(o.b)(D)||Object(u.l)(N)&&Object(o.d)(D))?O.a:_;const W=Object(E.a)(D)||Object(t.K)(D);return Object(i.a)(N)&&!W?A:Object(c.a)(D,N)||Object(t.R)(D,{channelId:N.id})?O.a:B&&Object(a.a)(D)?_:Object(d.b)(D)||Object(d.c)(D)?S:Object(m.b)(D,N)?O.a:I},"canUserRenameChannelWithReason"),y=h((D,N)=>{const L=Object(s.d)(D,N,!1);return L?M(D,L):b},"canUserRenameChannelWithReasonById"),j=h((D,N)=>M(D,N).ok,"canUserRenameChannel"),C=h((D,N)=>y(D,N).ok,"canUserRenameChannelById")},WvYH:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("DwFS");const t=Object(s.a)("Set the current theme field in redux (do not use this)");t.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const a=Object(s.a)("Set the OS system sync field in redux (do not use this)");a.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=Object(s.a)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"}},"X/Mv":function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("bJNA"),t=e("2m2s");const a=h(r=>{switch(r){case s.a.FILE:return{name:"attachment"};case s.a.IMAGE:return{name:"image"};case s.a.CHECK_LIST:return{name:"checkbox"};case s.a.CHECK_LIST_TOGGLE:return{name:"checkbox"};case s.a.BULLET_LIST:return{name:"bulleted-list"};case s.a.ORDERED_LIST:return{name:"numbered-list"};case s.a.VIDEO_CLIP:return{name:"video"};case s.a.AUDIO_CLIP:return{name:"microphone"};case s.a.DIVIDER:return{name:"divider"};case s.a.TABLE:return{name:"spreadsheet"};case s.a.PINS:return{name:"pin"};case s.a.SMART_SUMMARY:return{name:"magic-wand"};case s.a.BLOCKQUOTE:return{name:"quote"};case s.a.CODE_BLOCK:return{name:"code-block"};case t.a.CODE:return{name:"code"};case s.a.PARAGRAPH:return{name:"paragraph"};case s.a.H1:return{name:"heading-1"};case s.a.H2:return{name:"heading-2"};case s.a.H3:return{name:"heading-3"};case s.a.CANVAS:return{name:"canvas"};case s.a.WORKFLOW:return{name:"play"};case s.a.LIST:return{name:"lists"};case s.a.WIDGET:return{name:"blocks"};case s.a.USER_PROFILE_UNFURL:return{name:"user"};default:return{name:"help"}}},"getQuipButtonIcon")},X1Aw:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("o1Pf"),a=e("Lgge"),r=e("jj3I"),l=e("r9F4"),o=e("lhZz"),i=e("+CZ0"),u=e("ED8d"),d=e("smhd");const m=Object(s.c)("Stop transcription for current huddle",(c,E)=>{if(!Object(l.a)(E())||Object(l.b)(E()))return a.a.resolve();const f=Object(o.getStateForClientStore)(),O=Object(i.a)(f);return O?(c(Object(r.a)()),c(Object(r.e)(!0)),c(Object(t.a)({reason:"stop-event-log",callId:O})).finally(()=>{c(Object(r.e)(!1));const{huddleEventsTrace:p}=Object(u.a)().getAllTraceHandlers();p==null||p.update({name:d.a.TRANSCRIPT,type:d.b.STOP})})):a.a.reject(new Error("No active call ID for huddle"))});m.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"},n.a=m},X8Vd:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const l=Object(t.c)("Sets whether or not the sidebar is part of the grid layout at normal window sizes",(o,i,u)=>{Object(r.w)(s.x,u),o(Object(a.b)(u))});l.meta={name:"createThunk",key:"createThunksetIsSidebarVisible",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes"}},"XDa+":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("2VFn"),t=e("nNoG");const a=new t.b("view");function r(l){let{tab:o,experimentDesktopIa4GroupOn:i,experimentDesktopIa4NewTeamsV3GroupTreatment:u,experimentIA4TabrailCustomizationGroupOn:d}=l;if(!i)return"";let m;switch(o){case s.d.Home:m=a.t("Home");break;case s.d.DMs:m=a.t("DMs");break;case s.d.Activity:m=a.t("Activity");break;case s.d.Later:m=a.t("Later");break;case s.d.SalesHome:m=a.t("Sales");break;case s.d.Search:m=a.t("Search");break;case s.d.Canvases:m=a.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case s.d.Files:m=a.t("Files",{ns:"search"});break;case s.d.FilesPrototype:m=a.t("Content",{ns:"search"});break;case s.d.Channels:m=a.t("Channels",{ns:"search"});break;case s.d.People:m=a.t("People",{ns:"search"});break;case s.d.Platform:m=a.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case s.d.ExternalConnections:case s.d.ExternalConnectionsTemp:m=d||u?a.t("External"):a.t("External connections");break;case s.d.Huddles:m=a.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33x`",fallbackHashNs:"search"});break;case s.d.Assistant:m=a.t("Assistant");break;case s.d.Browse:m=a.t("More");break;case s.d.CRM:m=a.t("Sales");break;case s.d.Lists:m=a.t("Lists");break;case s.d.ExternalWorkspace:m=a.t("Events");break;default:m="";break}return m}h(r,"getTabLabel")},XM5t:function(H,n,e){"use strict";e.d(n,"a",function(){return m}),e.d(n,"b",function(){return c}),e.d(n,"c",function(){return E});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),l=e("DneB"),o=e("SIMs"),i=e("f9ip"),u=e("+CZ0"),d=e("3vtZ"),m;(function(f){f.CANVAS_OPEN="canvas_open",f.CANVAS_JOIN="canvas_join",f.CANVAS_LEAVE="canvas_leave",f.CANVAS_TOOLBAR="canvas_toolbar",f.EMOJI_PICKER_OPEN="emoji_picker_open",f.EMOJI_SENT="emoji_sent",f.LINK_OPEN="link_open",f.FOCUS_OPEN="focus_open",f.FOCUS_CLOSE="focus_close",f.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",f.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",f.MINI_PLAYER_VIEW_START="mini_player_view_start",f.MINI_PLAYER_VIEW_END="mini_player_view_end",f.SCREENSHARE_START="screenshare_start",f.SCREENSHARE_END="screenshare_end",f.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",f.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",f.THREAD_WINDOW_VIEW_START="thread_window_view_start",f.THREAD_WINDOW_VIEW_END="thread_window_view_end",f.THREAD_OPEN="thread_open",f.THREAD_CLOSE="thread_close",f.SELF_VIDEO="self_video",f.WINDOW_COMPACT_VIEW_START="window_compact_view_start",f.WINDOW_COMPACT_VIEW_END="window_compact_view_end",f.WINDOW_FULL_VIEW_START="window_full_view_start",f.WINDOW_FULL_VIEW_END="window_full_view_end",f.WINDOW_RESIZE_BUTTON="window_resize_button",f.BACKGROUND_CHANGED="background_changed",f.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",f.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",f.CAPTIONS_START="huddles_captions_start",f.CAPTIONS_STOP="huddles_captions_stop",f.INVITATION_SENT="invitation_sent",f.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",f.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",f.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",f.NOTES_OPEN="notes_open",f.NOTES_CLOSE="notes_close",f.CHANNEL_SPACE_OPEN="channel_space_open",f.CHANNEL_SPACE_CLOSE="channel_space_close"})(m||(m={}));var c;(function(f){f.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",f.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",f.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",f.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",f.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",f.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",f.CANVAS_WINDOW="canvas_window",f.LEAVE_CALL="leave_call",f.CLOSE_MODAL="close_modal",f.EMOJI_PICKER="emoji_picker",f.JUKEBOX_MENU="jukebox_menu",f.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",f.REACTION_BUBBLE="reaction_bubble",f.CHANGE_BACKGROUND_DIALOG="change_background_dialog",f.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",f.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",f.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(c||(c={}));function E(){const f=Object(l.b)(u.a),O=Object(r.g)(A=>Object(d.l)(A,{huddleId:f})),p=Object(l.b)(d.k,a.shallowEqual),b=Object(l.b)(d.j,a.shallowEqual),T=Object(r.d)(A=>Object(o.q)(A,{huddleId:f})),v=Object(r.d)(i.c);return Object(s.useMemo)(()=>({canvasThreadChannelId:O.canvas_thread_channel_id,canvasThreadId:O.canvas_thread_id,canvasHuddleSessionId:p.canvas_huddle_session_id,callsRoomId:b.room_id,callsChannelId:b.channel_id,uiPage:T?T.toString():null,fileId:v}),[O.canvas_thread_channel_id,O.canvas_thread_id,p.canvas_huddle_session_id,b.room_id,b.channel_id,T,v])}h(E,"useHuddleClogContext")},XOse:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("SQ0V"),r=e("3l96"),l=e("beVI"),o=e("5IZy"),i=e("ktUG"),u=e("7pFd"),d=e("O86Y"),m=e("bJfW"),c=e("9Gfp"),E=e("G0eX");const f=Object(a.c)("Opens the apps browser modal",function(O,p){let{initialTab:b,emojiNameSuggestion:T,elementName:v,emojiUrl:S}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=p(),I=Object(d.h)(A);let _;I&&Object(m.b)(I)?_=Object(l.m)(A):Object(c.m)(A)&&(_=Object(E.l)(Object(l.g)(A))),Object(o.a)({getState:p}).track(i.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:v}}}}),O(Object(r.a)({element:t.a.createElement(u.b,{showEmojiPacks:!S,orgName:_,initialTab:b,emojiNameSuggestion:T,emojiUrl:S}),isStackable:!0}))});f.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"},n.a=f},XVAJ:function(H,n,e){"use strict";var s=e("g/kD"),t=e("ItXa");e.d(n,"a",function(){return t.a}),n.b=s.a},XcMG:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("BHdc"),l=e("/qcS"),o=e("vJdC"),i=e("9Sxv");function u(m){let{channelSection:c,className:E,spacing:f="medium"}=m;const p=Object(a.useDispatch)()(Object(o.a)({channelSection:c})),b=p&&p.split(" "),T=b&&b[0],v=b&&(b.length>1?` ${b.slice(1).join(" ")}`:null),S=h(()=>c.emoji?t.a.createElement(l.b,{className:Object(r.default)({margin_right_0:f==="none",margin_right_25:f==="small",margin_right_50:f==="medium"}),shouldFallbackOnLoadError:!0,text:c.emoji,stopAnimations:!0,emojiSize:l.a.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):t.a.createElement(i.a,{type:c.type,spacing:f}),"getIcon");return S.displayName="getIcon",t.a.createElement("span",{className:Object(r.default)("p-inline_channel_section",E)},t.a.createElement("span",{className:"p-inline_channel_section__lockup"},S(),T),v)}h(u,"InlineChannelSection"),u.displayName="InlineChannelSection";var d=n.a=u},XcRx:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("xwCZ"),t=e("Awbm"),a=e("K7jq");function r(l,o){if(!o)return"member";const i=Object(s.g)(l,o);let u="member";return Object(a.a)(i)?u="external":Object(t.b)(i)&&!Object(t.c)(i)?u="ra":Object(t.c)(i)&&(u="ura"),u}h(r,"getMemberType")},Xfjg:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("7lBi"),t=e("SQ0V"),a=e("ED1u"),r=e("j77i");const l=Object(t.c)("Set the user-specified sidebar width and mode",(o,i,u)=>{let{sidebarWidthIntent:d,sidebarWidthMode:m}=u;Object(r.w)(s.y,d),Object(r.w)(s.z,m),o(Object(a.e)({sidebarWidthIntent:d,sidebarWidthMode:m}))});l.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},"Y3/F":function(H,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"f",function(){return o}),e.d(n,"e",function(){return i});var s=e("RVJP");const t=h(u=>{var d;return(d=Object(s.d)(u,"help_shareables_tm")==="on")!==null&&d!==void 0?d:!1},"isHelpShareablesTmExperimentOn"),a=h(u=>{var d;return(d=Object(s.d)(u,"help_articles_in_search")==="treatment")!==null&&d!==void 0?d:!1},"isHelpArticlesInSearchExperimentTreatment"),r=h(u=>{var d;return(d=Object(s.d)(u,"help_smarticles")==="on")!==null&&d!==void 0?d:!1},"isHelpSmarticlesExperimentOn"),l=h(u=>{var d;return(d=Object(s.d)(u,"help_navigation")==="on")!==null&&d!==void 0?d:!1},"isHelpNavigationExperimentOn"),o=h(u=>{var d;return(d=Object(s.d)(u,"help_tour")==="treatment")!==null&&d!==void 0?d:!1},"isHelpTourExperimentTreatment"),i=h(u=>{var d;return(d=Object(s.d)(u,"help_tips")==="on")!==null&&d!==void 0?d:!1},"isHelpTipsExperimentOn")},Y31Q:function(H,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("nNoG"),t=e("Oy0v"),a=e("5KsB");const r=/_|-/g,l=new s.b("emoji"),o=h(function(i,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!i||!u)return null;const{name:m,skinTone:c}=Object(t.a)(i)||{};if(!m)return d?l.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:i,size:u}):`${u} ${i} emojis`;const E=m.replace(r," "),f=d?l.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:E,size:u}):`${u} ${E} emojis`;if(!c)return f;const O=Object(a.a)(c);return O===""?f:d?l.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:E,size:u,skinToneDescription:O}):`${u} ${E} emojis with ${O}`},"makePhraseForEmojiGroup");n.a=function(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!i)return i;const{name:d,skinTone:m}=Object(t.a)(i)||{};if(!d)return i;const c=d.replace(r," "),E=l.t("{emojiPhrase} emoji",{emojiPhrase:c});if(!m)return E===""?c:E;const f=Object(a.a)(m);return f===""?E===""?c:E:u?l.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:c,skinToneDescription:f}):l.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:c,skinToneDescription:f})}},YKhI:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("oTSI"),t=e("Lgge"),a=e("uAML"),r=e("lhZz"),l=e("yuD6"),o=e("ZzdX");const i=Object(s.a)(()=>new a.b({fetch:(u,d)=>t.a.map(d,m=>(Object(r.dispatchForTeamId)(u,Object(l.b)({channelId:m})),Object(r.dispatchForTeamId)(u,Object(o.a)({channelId:m})))),isEnabled:()=>!0,metricsName:"pins"}))},YKpg:function(H,n,e){"use strict";e.d(n,"a",function(){return d});const s=/\bA[A-Z0-9]{8,}\b/g,t=/\bB[A-Z0-9]{8,}\b/g,a=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,l=/\b(U|W)[A-Z0-9]{8,}\b/g,o=/\b[\d]{10}\.[\d]{6}\b/g,i=/\bS[A-Z0-9]{8,}\b/g,u=/\bT[A-Z0-9]{8,}\b/g;function d(m){return String(m).replace(s,"[APP_ID]").replace(t,"[BOT_ID]").replace(a,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(l,"[MEMBER_ID]").replace(o,"[MESSAGE_TS]").replace(i,"[USER_GROUP_ID]").replace(u,"[TEAM_ID]")}h(d,"normalizeError")},YLXe:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),l=e("j77i");const o=Object(t.c)("Set the user-specified sidebar width and mode",(i,u,d)=>{let{sidebarWidthIntent:m,sidebarWidthMode:c}=d;Object(l.w)(s.i,m),Object(l.w)(s.j,c),i(Object(a.e)({sidebarWidthIntent:m,sidebarWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.e)({sidebarWidthIntent:m,sidebarWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},YQ8e:function(H,n,e){H.exports=e.p+"slackbot_neutral_20-00a116e.png"},YWu2:function(H,n,e){H.exports=e.p+"slackbot_neutral_24-9a05991.png"},YjxU:function(H,n,e){"use strict";var s=e("n3tL"),t=e("q1tI"),a=e.n(t),r=e("ifKl"),l=e("1ufr"),o=e("2VFn"),i=e("VymY"),u=e("khnw"),d=e("kBpe");const m='<div aria-hidden="true" style="position:absolute" tabindex="1"></div>',c='<div aria-hidden="true" style="position:absolute" tabindex="0"></div>',E={},f={},O=h((j,C)=>{const D=j.createElement("div");D.innerHTML=m+c;const N=D.firstChild,B=D.lastChild,L=j.body;L.insertBefore(N,L.firstChild),L.appendChild(B),f[C].firstHiddenTabStop=N,f[C].lastHiddenTabStop=B},"createHiddenTabStops"),p=h((j,C)=>{const{firstHiddenTabStop:D,lastHiddenTabStop:N}=f[C];D&&j.body.removeChild(D),N&&j.body.removeChild(N)},"removeHiddenTabStops"),b=h(j=>{const C=Object(i.d)(j.getElementById("client-ui"));C&&C.focus()},"focusFirstInClient"),T=h(j=>{const C=Object(i.e)(j.getElementById("client-ui"));C&&C.focus()},"focusLastInClient"),v=h((j,C)=>{let{keyCode:D,type:N,shiftKey:B,ctrlKey:L,metaKey:R}=C;const U=f[j];D===u.q&&(L||Object(d.p)()&&R||(clearTimeout(U.keydownTimeoutId),U.relatedEvent={type:N,keyCode:D,shiftKey:B},U.keydownTimeoutId=setTimeout(()=>{U.relatedEvent=null},15)))},"onDocumentKeyDown"),S=h((j,C)=>{let{type:D}=C;const N=f[j];clearTimeout(N.mousedownTimeoutId),N.relatedEvent={type:D},N.mousedownTimeoutId=setTimeout(()=>{N.relatedEvent=null},15)},"onDocumentMouseDown"),A=h((j,C)=>{let{currentTarget:D,target:N,relatedTarget:B}=C;const L=f[j],R=L.relatedEvent,U=R&&R.type==="keydown"?R:null,W=L.firstHiddenTabStop,x=L.lastHiddenTabStop,G=N===W,w=N===x;if(N!==D){if(G&&U){if(U.shiftKey){N.blur();return}if(!B){b(D);return}}if(w&&U){U.shiftKey?T(D):N.blur();return}if(!B&&!U&&(G||w)){if(L.relatedEvent={type:"keydown",shiftKey:!1,keyCode:9},G){b(D),L.relatedEvent=null;return}w&&(T(D),L.relatedEvent=null)}}},"onDocumentFocus"),I=h((j,C)=>{let{currentTarget:D,relatedTarget:N}=C;const B=f[j];B.blurTimeoutId&&(clearTimeout(B.blurTimeoutId),B.blurTimeoutId=null);const{shiftKey:L,type:R,keyCode:U}=B.relatedEvent||{};!N&&R==="keydown"&&(B.blurTimeoutId=setTimeout(()=>{if(D.activeElement!==D.body)return;B.relatedEvent={type:R,shiftKey:L,keyCode:U},(L?T:b)(D),B.relatedEvent=null},150))},"onDocumentBlur"),_=h((j,C)=>C.bind(null,j),"withWindowId"),M=h(j=>({firstHiddenTabStop:null,lastHiddenTabStop:null,onDocumentBlur:_(j,I),onDocumentFocus:_(j,A),onDocumentKeyDown:_(j,v),onDocumentMouseDown:_(j,S),relatedEvent:null,blurTimeoutId:null,keydownTimeoutId:null,mousedownTimeoutId:null}),"initRefs");let y=h(class extends t.PureComponent{componentDidMount(){const C=a.a.Children.only(this.props.children);typeof C.type=="function"&&this.checkChildIsValid(C);const{window:D,windowId:N}=this.props,B=D.document;if(!E[N]){E[N]=0,f[N]=M(N);const L=f[N];Object(d.i)()?B.addEventListener("blur",L.onDocumentBlur,!0):(O(B,N),B.addEventListener("focus",L.onDocumentFocus,!0)),B.addEventListener("keydown",L.onDocumentKeyDown,!0),B.addEventListener("mousedown",L.onDocumentMouseDown,!0)}E[N]+=1}componentWillUnmount(){const{window:C,windowId:D}=this.props,N=C.document;if(E[D]-=1,E[D]===0){const B=f[D];Object(d.i)()?N.removeEventListener("blur",B.onDocumentBlur,!0):(p(N,D),N.removeEventListener("focus",B.onDocumentFocus,!0)),N.removeEventListener("keydown",B.onDocumentKeyDown,!0),N.removeEventListener("mousedown",B.onDocumentMouseDown,!0),clearTimeout(B.blurTimeoutId),clearTimeout(B.keydownTimeoutId),clearTimeout(B.mousedownTimeoutId),delete E[D],delete f[D]}}onBlur(C){const{currentTarget:D,target:N,relatedTarget:B}=C,L={relatedTarget:B,currentTarget:D,target:N};D.contains(B)||this.props.onFocusLeave(L)}onFocus(C){const{currentTarget:D,target:N,relatedTarget:B}=C,{relatedEvent:L}=f[this.props.windowId];if(!D.contains(N))return;(D.contains(B)?this.props.onFocusWithin:this.props.onFocusEnter)({relatedTarget:B,currentTarget:D,target:N,relatedEvent:L})}checkChildIsValid(C){const{onFocus:D,onBlur:N}=C.props;if(!(D&&N))throw new Error("FocusManager requires a single child with onFocus and onBlur props.")}render(){const C=this.props.children;return a.a.cloneElement(C,{onFocus:this.onFocus,onBlur:this.onBlur},C.props.children)}constructor(C){super(C),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this)}},"FocusManager");y.displayName="FocusManager",y.propTypes={children:s.default.node,onFocusEnter:s.default.func,onFocusWithin:s.default.func,onFocusLeave:s.default.func,window:s.default.object,windowId:s.default.oneOfType([s.default.string,s.default.symbol])},y.defaultProps={children:null,onFocusEnter:r.a,onFocusWithin:r.a,onFocusLeave:r.a,window,windowId:o.c},n.a=Object(l.a)(y)},YsXF:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("hbEN"),l=e("WIr4"),o=e("1ufr"),i=e("HP72"),u=e("QYtq"),d=e("2K8U"),m=e("FRd1"),c=e("ktUG");function E(){return E=Object.assign||function(A){for(var I=1;I<arguments.length;I++){var _=arguments[I];for(var M in _)Object.prototype.hasOwnProperty.call(_,M)&&(A[M]=_[M])}return A},E.apply(this,arguments)}h(E,"_extends");const f={onClose:{action:c.UiAction.CLOSE},onOpen:{action:c.UiAction.OPEN}},O=50,p=50,b=12,T=4,v=32;let S=h(class extends s.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(I){return(I==null?void 0:I.type)==="click"}didClickInput(I){const{inputRef:_}=this.props;if(!(_!=null&&_.current)||!this.isMouseEvent(I))return;const M=I.clientX,y=I.clientY,j=_.current.getBoundingClientRect();return M>j.left&&M<j.right&&y>j.top&&y<j.bottom}onClose(I){var _;const{selectState:M,inputRef:y,onOptionsListClose:j,setSelectState:C}=this.props;if(M.isExpanded){if(I instanceof KeyboardEvent){var D;(D=this.optionsListRef.current)===null||D===void 0||D.close(I)}y==null||(_=y.current)===null||_===void 0||_.focus(),j==null||j(this.didClickInput(I)),C(()=>({isExpanded:!1,activeRowIndex:null,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:I,inputContainerRef:_=null}=this.props,M=_||I;return M&&M.current?M.current.getBoundingClientRect():null}getPopoverPosition(I){let{top:_,bottom:M}=I;var y;const j=_,C=(((y=this.props.window)===null||y===void 0?void 0:y.innerHeight)||0)-M,{selectState:D,maxListHeight:N=d.e}=this.props,{options:B}=D;let L=0;const R=h(W=>W.map(x=>this.getRowHeight(x)).reduce((x,G)=>x+G,0),"calculateRowHeight");if(B){const W=[];B.forEach(x=>{if(x.options){W.push(x.label),x.options.forEach(G=>W.push(G));return}W.push(x)}),L=R(W)}const U=Math.min(L,N);return C<U&&C<j?"top-left":"bottom-left"}getRowHeight(I){const{optionsRowHeight:_=d.a}=this.props;return I.type&&I.type==="divider"?d.b:_}maybeInstallListener(){var I,_;if(this.listenerInstalled)return;(I=this.props.window)===null||I===void 0||I.addEventListener("resize",this.onResize),(_=this.props.window)===null||_===void 0||_.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:M=null}=this.props;if(M){var y;(y=this.props.window)===null||y===void 0||y.addEventListener(M,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:I=null}=this.props;if(this.listenerInstalled){var _,M;if(this.onResize.cancel(),this.onScroll.cancel(),(_=this.props.window)===null||_===void 0||_.removeEventListener("resize",this.onResize),(M=this.props.window)===null||M===void 0||M.removeEventListener("scroll",this.onScroll),I){var y;(y=this.props.window)===null||y===void 0||y.removeEventListener(I,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var I,_;const{popoverProps:M={},selectState:y,minOptionsListWidth:j=null,onOpen:C=a.a,onScrollablePage:D=!1,autoClogProps:N=void 0,maxListHeight:B=d.e,shouldAllowUnselectInSingleSelectMode:L,shouldAllowUnselectInMultiSelectMode:R,stayExpandedAfterSelection:U}=this.props,{selectId:W}=y,x=this.state.optionsListBounds||{width:0,bottom:0,left:0},G=this.getPopoverPosition({top:x.top,bottom:x.bottom}),w=G==="top-left",se=((I=this.props.window)===null||I===void 0?void 0:I.innerWidth)||0;let ee=x.width;j&&x.width<j&&(ee=j);const X=x.left-b+ee;let me=0;j&&X>se&&(me=j-x.width);const Ce=(w?x.top:(((_=this.props.window)===null||_===void 0?void 0:_.innerHeight)||0)-x.bottom)-v,le=Math.min(Ce,B),de={...this.props,autoClogProps:N,width:ee+b*2,maxListHeight:le,shouldAllowUnselectInSingleSelectMode:L,shouldAllowUnselectInMultiSelectMode:R,stayExpandedAfterSelection:U},{pageYOffset:ie}=this.props.window||{},pe={top:x.top+ie+T,bottom:x.bottom+ie-T,left:x.left-(b+me),width:ee};let ne;if(D){var q;ne={height:(q=this.props.window)===null||q===void 0?void 0:q.document.body.scrollHeight}}return t.a.createElement(m.a,E({elementType:c.ElementType.DROPDOWN,actionProps:f},N?{autoClogProps:N}:{}),t.a.createElement(u.a,E({position:G,allowanceX:-b,ref:this.popover},M,{onClose:this.onClose,isOpen:!!y.isExpanded,key:`${W}-popover`,shouldFocusAfterRender:!1,targetBounds:pe,ariaHideApp:!1,onOpen:C},typeof ne<"u"?{overlayStyle:ne}:{},{shouldPropagateOnClose:!0}),t.a.createElement(i.b,E({},de,{ref:this.optionsListRef}))))}constructor(I){super(I),this.popover=t.a.createRef(),this.optionsListRef=t.a.createRef(),this.state={optionsListBounds:null},Object(l.a)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=Object(r.a)(this.measureOptionsListAndSetState,O,{maxWait:O}),this.onScroll=Object(r.a)(this.measureOptionsListAndSetState,p,{maxWait:p}),this.listenerInstalled=null}},"SelectPopoverOptionsList");S.displayName="SelectPopoverOptionsList",S.defaultProps={includePadding:!0,window},n.a=Object(o.a)(S)},Yzsk:function(H,n,e){"use strict";e.d(n,"d",function(){return I}),e.d(n,"c",function(){return _}),e.d(n,"e",function(){return M}),e.d(n,"b",function(){return y}),e.d(n,"a",function(){return j});var s=e("8QLk"),t=e("hbEN"),a=e("yIs4"),r=e("vJtL"),l=e("oTSI"),o=e("OCqp"),i=e("s4P+");const u=1e3,d=500,m=3*1e3,c=250,E=1,f=5,O=100,p=20,b=5e3,T=5,v=Object(i.a)({label:"HUDDLE-RTM-SCHEDULER"});let S=h(class{reportMetrics(N){const{cpuCompetitionScore:B}=N;if(!B)return;const L=O-B;if(L<p)this.decreaseDelay();else{const R=Object(s.a)(Math.floor(L/p),E,f);this.increaseDelayWithMultiplier(R)}}constructor(){var N=this;this.currentDelay=u,this.taskQueueLength=0,this.resetSchedulerState=()=>{this.currentDelay=u,this.currentQueueDrainFn=void 0,this.taskQueueLength=0},this.increaseDelayWithMultiplier=function(){const L=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*c,R=N.currentDelay+L;N.setNextDelay(R)},this.decreaseDelay=()=>{if(this.currentDelay===d)return;const B=this.currentDelay-c;this.setNextDelay(B)},this.setNextDelay=Object(t.a)(B=>{if(!Object(a.a)(B))return;const L=this.currentDelay;this.currentDelay=Object(s.a)(B,d,m),L!==this.currentDelay&&v.debug(`Updated current RTM processing delay to ${this.currentDelay}`)},b,{leading:!0,maxWait:b}),this.scheduleQueueDrain=B=>{if(!Object(r.a)(B))return;if(this.taskQueueLength>T){v.info("too many RTM tasks enqueued, executing queue drain immediately"),B(),this.taskQueueLength=0;return}v.debug(`scheduling RTM queue drain with delay of ${this.currentDelay}`);const L=Date.now();return this.taskQueueLength+=1,this.currentQueueDrainFn=B,Object(o.a)("huddle-rtm",B,{delay:this.currentDelay}).then(()=>{v.debug(`successfully executed rtm queue drain after ${Date.now()-L}ms`)}).catch(R=>{Object(r.a)(this.currentQueueDrainFn)?this.currentQueueDrainFn():(v.error("queue drain function not defined. Attempting queue drain function in scope"),Object(r.a)(B)&&B()),v.warn(`an error occurred while processing rtm queue drain: ${R.toString()}`)}).finally(()=>{this.taskQueueLength-=1})},this.onHuddleEnd=()=>{var B,L;(L=(B=this).currentQueueDrainFn)===null||L===void 0||L.call(B),v.info("Huddle ended. Drained queue and returned scheduling control to base RTM processor"),this.resetSchedulerState()},this.getCurrentDelay=()=>this.currentDelay,this.getTaskQueueLength=()=>this.taskQueueLength,v.info(`Initialized Huddle RTM scheduler with initial delay of ${this.currentDelay}`)}},"HuddleRtmScheduler");const A=Object(l.a)(()=>new S),I=h((D,N)=>{(N||A()).reportMetrics(D)},"reportMetricsToRtmScheduler"),_=h(D=>{(D||A()).onHuddleEnd()},"reportHuddleEndToRtmScheduler"),M=h((D,N)=>{(N||A()).scheduleQueueDrain(D)},"scheduleHuddleRtmQueueDrain"),y=h(D=>(D||A()).getTaskQueueLength(),"getCurrentRtmTaskQueueLength"),j=h(D=>(D||A()).getCurrentDelay(),"getCurrentRtmSchedulerDelay"),C=A},Z01D:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("WXkz"),a=e("OaiI"),r=e("q1tI"),l=e.n(r);const o=Object(s.c)("Temporary store refactor thunk to get lists",(i,u)=>{const d=u();if(Object(a.isListsStoreRefactorEnabled)(d))return Object(t.s)(d);const c=Object(t.t)(d);return Object(r.useMemo)(()=>Object.values(c),[c])});o.meta={name:"createThunk",key:"createThunktempGetLists",description:"Temporary store refactor thunk to get lists"}},Z242:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("UXvI");const l=h(o=>{let{store:i,children:u}=o;const d=Object(s.useRef)({...i,subscribe:m=>i.subscribeImmediate(Object(r.a)(m,16))});return t.a.createElement(a.Provider,{store:d.current}," ",u," ")},"BackgroundableProvider");l.displayName="BackgroundableProvider",n.a=l},Z3RE:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("nNoG"),l=e("G4FP"),o=e("ZIxB"),i=e("E97Y"),u=e("y6S6"),d=e("x5lL"),m=e("Zbwg"),c=e("eUIW");const E=new r.b("huddles");var f;(function(j){j.CHANNEL="channel",j.MEMBER="member"})(f||(f={}));function O(j){let{id:C,entity:D,channel:N,huddleId:B}=j,L;Object(m.a)(C)?L=f.CHANNEL:Object(c.a)(C)&&(L=f.MEMBER);const R=Object(a.d)(ee=>N&&Object(u.c)(ee,N.id,C)),U=R&&R.isKnown&&(R==null?void 0:R.isMember),W=N&&Object(i.h)(N),x=Object(a.d)(ee=>Object(d.o)(ee,B,C)),G=!!x&&x==="joining_soon";let w=null;if(x?w=G?E.t("Joining soon"):E.t("Invited"):N&&W&&!U?w=E.t("Not in conversation"):N&&!W&&!U&&(w=E.t("Not in channel")),!L)return null;let se;return L===f.CHANNEL?se=t.a.createElement(l.a,{channelId:C,channel:D}):L===f.MEMBER&&(se=t.a.createElement(o.a,{id:C,member:D,showPresence:!0,secondaryContent:w})),t.a.createElement("div",{className:"display_flex"},se)}h(O,"HuddleInviteMultiSelectRenderOption"),O.displayName="HuddleInviteMultiSelectRenderOption";var p=Object(s.memo)(O),b=e("tZQI"),T=e("1HOW"),v=e("DneB"),S=e("+CZ0"),A=e("i5Ig");function I(){return I=Object.assign||function(j){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(j[N]=D[N])}return j},I.apply(this,arguments)}h(I,"_extends");const _=new r.b("huddles"),M=h(j=>{let{isFreeTeam:C,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:D,channel:N,otherMembersInHuddle:B,onSelectedMembersChange:L,onSelectedChannelChange:R,selectedMemberIds:U=A.a,selectedChannel:W}=j;const x=Object(v.b)(S.a),G=Object(s.useMemo)(()=>R&&!N&&!C&&!(U!=null&&U.length),[N,C,R,U]),w=Object(s.useMemo)(()=>W!=null&&W.id&&W.isCurrentSuggestedChannel?!0:!(W!=null&&W.id),[W]),se=Object(s.useMemo)(()=>({entities:{...G&&{channels:{canPost:!0,includeArchived:!1}},...w&&{members:{includeSelf:!1,includeSlackbot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:N},allowEmptyQuery:!0,filter:de=>!B.includes(de.id)}),[G,w,N,B]),ee=Object(s.useCallback)(de=>{R&&Object(m.a)(de.value)?R(de.value):L([de.value])},[R,L]),X=Object(s.useCallback)(de=>{const ie=[];let pe;de.forEach(ne=>{Object(m.a)(ne.value)?(!pe||ne.value!==(W==null?void 0:W.id))&&(pe=ne.value):ie.push(ne.value)}),R==null||R(pe),L(ie)},[R,L,W]),me=Object(s.useCallback)(de=>{let{value:ie,entity:pe}=de;return t.a.createElement(p,{channel:N,id:ie,entity:pe,huddleId:x})},[N,x]),Oe=Object(s.useCallback)(de=>{let{value:ie}=de;return Object(m.a)(ie)?t.a.createElement(l.a,{channelId:ie}):t.a.createElement(o.a,{id:ie,showAvatar:!0})},[]),Ce=Object(s.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:se,renderOption:me,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:C,focusOnMount:!0}),[se,me,C]),le=Object(s.useMemo)(()=>{const de=U.map(ie=>({value:ie}));return W!=null&&W.id&&de.push({value:W.id}),de},[W,U]);return C&&D?t.a.createElement(T.e,I({},Ce,{onOptionSelected:ee,placeholderText:_.t("Find someone to invite\u2026"),renderSelectedOption:Oe,selectedOption:le[0]})):t.a.createElement(b.e,I({},Ce,{onSelectedItemsChange:X,selectedOptions:le,placeholderText:_.t("Search by name")}))},"HuddleInviteModalSelect");M.displayName="HuddleInviteModalSelect";var y=n.a=M},ZE32:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("YUBf");const l=h(o=>{let{children:i,className:u}=o;return t.a.createElement(r.g,{className:"p-upgrades_modal__footer"},t.a.createElement(r.h,{className:Object(a.default)("p-upgrades_modal__footer_actions",u)},i))},"ModalFooter");n.a=l},ZElP:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("8aX7");function r(l){let{slackId:o,displayName:i}=l;return!o&&!i?null:o?t.a.createElement(a.a,{isBold:!1,id:o}):t.a.createElement("span",null,i)}h(r,"HuddleMsgTextUser"),r.displayName="HuddleMsgTextUser",n.a=r},ZIxB:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("4HNC"),l=e("sGXp"),o=e("M2+7");function i(){return i=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(d[E]=c[E])}return d},i.apply(this,arguments)}h(i,"_extends");let u=h(class extends s.Component{render(){const{className:m,id:c,isActive:E=!1,isDeactivated:f=!1,isDisabled:O=!1,isDraftContext:p,showAvatar:b,showBadge:T,showPresence:v,showStatus:S,showTooltip:A,withTruncationTooltip:I,showUnreadCount:_,useShortMode:M,secondaryContent:y,onlyBoldIfUnread:j=!1,forceRealName:C}=this.props;let D;return E?O||f?D=l.d.highlightDim:D=l.d.highlightDark:(O||f)&&(D=l.d.dim),t.a.createElement(r.a,{className:Object(a.default)(m,"c-small_member_list_entity"),primaryContent:t.a.createElement(o.b,i({id:c,invert:D===l.d.highlightDark,isDeactivated:f,truncateStatus:!!y,showAvatar:b,showPresence:v,showBadge:T,useShortMode:M,showStatus:S,showTooltip:A,withTruncationTooltip:I,showUnreadCount:_,isDraftContext:p,onlyBoldIfUnread:j,forceRealName:C},this.props)),secondaryContent:y,size:"small",style:D})}},"SmallMemberListEntity");u.displayName="SmallMemberListEntity",n.a=u},ZMRP:function(H,n,e){"use strict";e.d(n,"a",function(){return M});var s=e("q1tI"),t=e.n(s),a=e("3Hq1"),r=e("qAkX"),l=e("ifKl"),o=e("kBpe"),i=e("khnw"),u=e("WIr4"),d=e("RMmo"),m=e("YjxU"),c=e("zrD9"),E=e("MO4o");const f=["radio","searchbox","slider","spinbutton","switch","textbox","combobox","listbox","option"],O=["button","submit","reset"];function p(j){if(!j)return!1;const C=j.nodeName;if((C==="BUTTON"||C==="INPUT"&&O.includes(j.getAttribute("type")||""))&&j.matches('[role="toolbar"] button, [role="toolbar"] input'))return!0;const B=j.getAttribute("role");return B?f.includes(B):!1}h(p,"isInlineAriaWidget");var b=e("V0AD"),T=e("Nyj0"),v=e("TxvE"),S=e("tOKv"),A=e("1ufr");function I(){return I=Object.assign||function(j){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(j[N]=D[N])}return j},I.apply(this,arguments)}h(I,"_extends");const _=21;class M extends T.a{componentDidMount(){super.componentDidMount(),this.determineInitialActiveItem(),this.props.disableKeyboardShortcuts||this.bindKeyboardShortcuts()}componentWillUnmount(){super.componentWillUnmount(),this.unbindKeyboardShortcuts()}componentDidUpdate(C,D){super.componentDidUpdate(C,D);const{activeItem:N,onActiveItemChange:B,disableKeyboardShortcuts:L}=this.props,{activeItem:R,hasKeyboardFocus:U,itemWithVisibleContextMenu:W}=this.state;L&&!C.disableKeyboardShortcuts&&this.unbindKeyboardShortcuts(),!L&&C.disableKeyboardShortcuts&&this.bindKeyboardShortcuts();const x=D.activeItem&&R&&R!==D.activeItem;!this.isScrolling()&&!U&&this.determineInitialActiveItem(D.initialActiveItem),N&&N!==C.activeItem&&(this.setActiveItem(N,!0),this.isItemInView(N)||this.scrollToKey(N)),x&&B(R),this.isScrolling()||this.updateFocusIfPreviouslyFocusedItemWasRemoved(C),!W&&D.itemWithVisibleContextMenu&&this.restoreFocusWhenContextMenuCloses&&(this.focus(),this.restoreFocusWhenContextMenuCloses=!1),this.focusOnNextUpdate&&(this.focus(),this.focusOnNextUpdate=!1)}bindKeyboardShortcuts(){if(this.keyCommands)return;const C=[{keys:["pageup"],handler:this.onKeyDownPageUp},{keys:["pagedown"],handler:this.onKeyDownPageDown},{keys:["home"],handler:this.onKeyDownHome,action:"keydown"},{keys:["end"],handler:this.onKeyDownEnd,action:"keydown"},{keys:["home"],handler:this.onKeyUpHome,action:"keyup"},{keys:["end"],handler:this.onKeyUpEnd,action:"keyup"},{keys:["up","down"],handler:this.onArrowKeyDown}],D=this.props.keyCommands?C.concat(this.props.keyCommands):C;var N;const B=(N=D==null?void 0:D.map(L=>{const R=L.filter;return{...L,filter:this.shouldIgnoreKeyboardShortcut.bind(this,R)}}))!==null&&N!==void 0?N:[];this.keyCommands=new d.a(this.props.window.document),this.keyCommands.bindAll(B)}unbindKeyboardShortcuts(){this.keyCommands&&(this.keyCommands.reset(),this.keyCommands=null)}determineInitialActiveItem(C){const{keys:D,initialActiveItem:N,keysToExcludeFromRovingTabIndex:B}=this.props,{initialActiveItem:L}=this.state;if(B&&B.length>0&&L&&B.includes(L)){C&&this.isItemInView(C)&&!B.includes(C)?this.setState(()=>({initialActiveItem:C})):this.setInitialActiveItemToFirstItemInView();return}const W=L!==null&&D.indexOf(L)!==-1,x=!(Object(a.a)(N)||N===null||D.indexOf(N)===-1||B.includes(N));if(!x&&!W){this.setInitialActiveItemToFirstItemInView();return}if(x&&W&&N===L){if(this.isItemInView(L))return;this.setInitialActiveItemToFirstItemInView();return}x&&!W&&this.setState(()=>({initialActiveItem:N}))}updateFocusIfPreviouslyFocusedItemWasRemoved(C){let{keys:D}=C;const{initialActiveItem:N,hasKeyboardFocus:B}=this.state,{keys:L,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:R}=this.props;if(this.props.activeItem||!B||!N)return;const U=D.indexOf(N);if(!(U!==-1&&!L.includes(N))||R&&!R())return;const x=L[U]||Object(r.a)(L);x&&this.focusOnKey(x)}getPageHeight(){const{pageHeight:C,height:D}=this.props;return C||D-_}getKeysForFocusableItems(){const{keys:C,isFocusableItem:D}=this.props;return C.filter((N,B)=>D({index:B,key:N}))}getListItemTabIndex(C){const{hasKeyboardFocus:D,initialActiveItem:N}=this.state,{keysToExcludeFromRovingTabIndex:B,preventTabKeyNavigationIntoList:L}=this.props;return B!=null&&B.includes(C)||!D&&L?-1:N===C?0:-1}onKeyDownPageUp(C){if(C.preventDefault(),this.props.onPageUp(C)===!1)return;const D=this.getScrollTop()-this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(D);return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}this.scrollToAndFocusFirstItemInView(D)}onKeyDownPageDown(C){if(C.preventDefault(),this.props.onPageDown(C)===!1)return;const D=this.getScrollTop()+this.getPageHeight();if(!this.state.hasKeyboardFocus){this.scrollToOffset(D);return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const N=this.getNextLastFocusableItemInView(D);this.setActiveItem(N??null,!0),this.scrollToOffset(D)}onKeyDownHome(C){if(this.isHomeKeyPressed||(this.isHomeKeyPressed=!0,C.preventDefault(),this.props.onHome(C)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(0,{absolute:!0});return}if(this.isScrolledToTop()){this.focusFirstItemInView();return}const N=this.getKeysForFocusableItems()[0];this.setActiveItem(N,!0),this.scrollToKey(N)}onKeyDownEnd(C){if(this.isEndKeyPressed||(this.isEndKeyPressed=!0,C.preventDefault(),this.props.onEnd(C)===!1))return;if(!this.state.hasKeyboardFocus){this.scrollToOffset(1/0,{absolute:!0});return}if(this.isScrolledToBottom()){this.focusLastItemInView();return}const D=this.getKeysForFocusableItems(),N=D[D.length-1];this.setActiveItem(N,!0),this.scrollToKey(N)}onArrowKeyDown(C){if(C.defaultPrevented)return;if(this.state.hasKeyboardFocus){C.preventDefault(),this.focusNextItem(C.keyCode);return}const D=this.getScrollTop(),N=40;if(C.key==="ArrowUp"){this.scrollToOffset(D-N);return}this.scrollToOffset(D+N)}onKeyUpHome(){this.isHomeKeyPressed=!1}onKeyUpEnd(){this.isEndKeyPressed=!1}onItemFocusEnter(C){const{id:D,relatedEvent:N,currentTarget:B,target:L,hasKeyboardFocus:R}=C,{keys:U,isFocusableItem:W,onItemFocusEnter:x}=this.props,G=R;if(!this.haveActiveItem()&&L===B){this.setActiveItem(D),x(C);return}const se=!this.haveActiveItem()&&!N&&B.contains(L),ee=W({index:U.indexOf(D),key:D})?D:this.state.initialActiveItem;se&&this.setState(()=>({hasKeyboardFocus:G,activeItem:null,initialActiveItem:ee})),x(C)}onItemFocusWithin(C){const{id:D,currentTarget:N,target:B}=C,{onItemFocusWithin:L}=this.props;if(B===N){this.setActiveItem(D),L(C);return}const{keys:R,isFocusableItem:U}=this.props,W=U({index:R.indexOf(D),key:D})?D:this.state.initialActiveItem;this.setState(()=>({activeItem:null,initialActiveItem:W})),L(C)}onItemTabWithin(C){this.props.onItemTabWithin(C)}onFocusEnter(C){const{relatedEvent:D,target:N}=C;if(D&&D.type==="mousedown"||N&&(N instanceof HTMLMediaElement||N.dataset.mediaFocusContainer))return;const B=!D,R=D&&D.type==="keydown"||B;if(!R){this.props.onFocusEnter(C);return}this.props.onFocusEnter({isKeyboardFocus:R,...C})}onFocusLeave(C){const{onFocusLeave:D}=this.props,N=this.state.activeItem,B=this.haveActiveItem()?{activeItem:null,hasKeyboardFocus:!1,initialActiveItem:N,isInitialFocusInRange:!1}:{activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1},L={activeItem:N,...C};this.setState(()=>B,()=>{D(L)})}onFocusedElementRemoved(){this.state.hasKeyboardFocus&&this.focus()}onItemContextMenu(C,D,N){let{hasKeyboardFocus:B}=N;const{onItemContextMenu:L}=this.props;if(L&&L(C,D,{hasKeyboardFocus:B}),!C.defaultPrevented)return;const R=this.getTargetBoundsForContextMenu(C);this.restoreFocusWhenContextMenuCloses=this.state.hasKeyboardFocus,this.setState(()=>({itemWithVisibleContextMenu:D,contextMenuTargetBounds:R}))}onItemMouseDown(C,D){this.setState(()=>({hasKeyboardFocus:!1,activeItem:null,initialActiveItem:D}))}focus(){const C=this.state.initialActiveItem;if(C&&this.isItemInView(C)){this.setActiveItem(C,!0);return}this.scrollToAndFocusFirstItemInView()||(this.focusOnNextUpdate=!0)}focusOnKey(C){let{offset:D=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{keys:N}=this.props;return C&&N.indexOf(C)!==-1?(this.setActiveItem(C,!0),this.isItemInView(C)||this.scrollToKey(C,{offset:D}),!0):!1}scrollToAndFocusFirstItemInView(C){const D=this.getNextFirstFocusableItemInView(C);return D?(this.setActiveItem(D,!0),this.scrollToKey(D),!0):!1}blur(){var C;const D=this.props.window.document.activeElement;!((C=this.getScrollerRef())===null||C===void 0)&&C.contains(D)&&D.blur()}getActiveItem(){return this.state.activeItem}getTargetBoundsForContextMenu(C){if(!this.state.hasKeyboardFocus)return Object(S.b)({left:C.pageX,top:C.pageY});const{left:D,top:N,width:B,height:L}=C.currentTarget.getBoundingClientRect();return Object(S.b)({left:D+B/2,top:N+L/2})}closeContextMenu(){this.setState(()=>({itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}))}shouldIgnoreKeyboardShortcut(C,D){var N;const{ignoreKeyCommandsOnInputs:B,useGlobalKeyboardShortcuts:L}=this.props,R=D.target,U=(N=this.getScrollerRef())===null||N===void 0?void 0:N.contains(R);return L&&!U&&R!==this.props.window.document.body||!L&&!U?!0:R.matches(".c-virtual_list__item")?!1:!!(B&&(Object(E.a)(R)||p(R))||C&&C(D))}setActiveItem(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.setState(()=>({hasKeyboardFocus:!0,activeItem:C,initialActiveItem:C,isInitialFocusInRange:D}))}haveActiveItem(){return this.state.activeItem!==null}getUniqueItemId(C){const{id:D}=this.props;return D?`${D}_${C}`:C}focusFirstItemInView(){const C=this.getFocusableItemsInView()[0];this.state.activeItem!==C&&this.setActiveItem(C,!0)}focusLastItemInView(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const D=this.getFocusableItemsInView(void 0,C),N=D[D.length-1];this.state.activeItem!==N&&this.setActiveItem(N,!0)}focusNextItem(C){const D=this.getNextActiveItem(C,this.state.activeItem);D&&(this.setActiveItem(D,!1),this.isItemInView(D,this.layout.anchorOffset)||this.scrollToKey(D))}getFocusableItemsInView(C,D){const{keys:N,isFocusableItem:B}=this.props,{start:L,end:R}=this.getVisibleRange(C,D);return(L===R?N.slice(L,L+1):N.slice(L,R)).filter(W=>B({index:N.indexOf(W),key:W}))}getNextFirstFocusableItemInView(C){const D=this.state.activeItem,N=this.getFocusableItemsInView(C)[0];return N&&N===D||!N&&D?this.getNextActiveItem(i.r,D):N}getNextLastFocusableItemInView(C){const D=this.state.activeItem,N=this.getFocusableItemsInView(C),B=N[N.length-1];return B&&B===D||!B&&D?this.getNextActiveItem(i.c,D):B}getInitialActiveItem(){return this.state.initialActiveItem}getNextActiveItem(C,D){const N=this.state.initialActiveItem;if(!this.haveActiveItem())return N&&!this.isItemInView(N)?this.getNextFirstFocusableItemInView():N||this.getNextFirstFocusableItemInView();const B=D,L=this.props.keys.indexOf(B),R=C===i.r?L-1:L+1,U=this.props.keys[R];return U&&!this.props.isFocusableItem({index:R,key:U})?this.getNextActiveItem(C,U):U}getTabIndex(){return!this.shouldUseARIAApplicationRole()&&Object(o.x)()?-1:void 0}setInitialActiveItemToFirstItemInView(){const{keysToExcludeFromRovingTabIndex:C}=this.props,D=this.getFocusableItemsInView().find(N=>!C.includes(N));D&&this.setState(()=>({initialActiveItem:D}))}shouldUseARIAApplicationRole(){const{useARIAApplicationForListViews:C}=this.context;return!Object(o.x)()||!this.props.useApplicationRole?!1:!!C}renderContextMenu(){const{itemWithVisibleContextMenu:C,contextMenuTargetBounds:D}=this.state;if(!C||!D)return null;const N={targetBounds:D,onCloseRequested:this.closeContextMenu};return this.props.renderContextMenuForItem(C,N)}renderItem(C,D){const{activeItem:N,initialActiveItem:B,hasKeyboardFocus:L}=this.state,R=this.getTop(C),U=this.layout.getHeight(C),W=N===C,x=N===null&&L&&B===C,G=this.isItemInView(C),w=this.layout.getHeightValidity(C),se=L&&!this.isScrolling()?this.getNextFirstFocusableItemInView():void 0,{rowRenderer:ee,getPropsForItem:X,onItemClick:me,onItemKeyDown:Oe,onItemFocusLeave:Ce,shouldHorizontallyScroll:le,useStaticHeightForListItems:de,width:ie,keysToExcludeFromRovingTabIndex:pe}=this.props,ne=this.getUniqueItemId(C),q=W&&this.state.isInitialFocusInRange,ce=this.state.itemWithVisibleContextMenu===C,ge=!pe.includes(C),be=B===C,Q=X({key:C,index:D,isInitialFocusInRange:q,hasFocus:W,activeItem:N,initialActiveItem:B,firstItemInView:se})||{};return t.a.createElement(v.a,I({tabIndex:this.getListItemTabIndex(C)},Q,{supportRovingTabIndex:ge,id:ne,itemKey:C,key:C,height:U,validity:w,top:R,hasFocus:W,hasFocusWithin:x,contextMenuVisible:ce,onFocusEnter:this.onItemFocusEnter,onFocusWithin:this.onItemFocusWithin,onFocusLeave:Ce,onTabWithin:this.onItemTabWithin,onHeightChange:this.setHeight,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,onClick:me,onKeyDown:Oe,shouldHorizontallyScroll:le,useStaticHeight:de,isInitialActiveItem:be,"aria-setsize":"-1"}),ee(D,{key:C,hasFocus:W,hasFocusWithin:x,itemId:ne,listWidth:ie,isInView:G,isExpanded:Q["aria-expanded"],hasContextMenu:ce}))}render(){const C=this.shouldUseARIAApplicationRole()?"application":"presentation";return t.a.createElement(t.a.Fragment,null,t.a.createElement(m.a,{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},t.a.createElement(c.a,{onFocus:l.a,onBlur:l.a,onFocusedElementRemoved:this.onFocusedElementRemoved},t.a.createElement("div",{role:C,id:this.props.id},super.render()))),this.renderContextMenu())}constructor(C){super(C),Object(u.a)(this,["onFocusEnter","onFocusLeave","onFocusedElementRemoved","onItemMouseDown","onItemFocusEnter","onItemFocusWithin","onItemTabWithin","onItemContextMenu","closeContextMenu","focus","onKeyDownPageUp","onKeyDownPageDown","onKeyDownHome","onKeyDownEnd","onKeyUpHome","onKeyUpEnd","onArrowKeyDown"]),this.state={...this.state,initialActiveItem:null,activeItem:null,hasKeyboardFocus:!1,isInitialFocusInRange:!1,itemWithVisibleContextMenu:null,contextMenuTargetBounds:null}}}h(M,"keyboard_navigable_list_BaseKeyboardNavigableList"),M.displayName="BaseKeyboardNavigableList",M.contextType=b.a,M.defaultProps={...T.a.defaultProps,activeItem:void 0,initialActiveItem:void 0,isFocusableItem:()=>!0,onFocusEnter:l.a,onFocusLeave:l.a,onPageUp:l.a,onPageDown:l.a,onHome:l.a,onEnd:l.a,onItemClick:l.a,onItemKeyDown:l.a,onItemTabWithin:l.a,onItemFocusEnter:l.a,onItemFocusWithin:l.a,onItemFocusLeave:l.a,onItemContextMenu:l.a,onActiveItemChange:l.a,keyCommands:void 0,pageHeight:void 0,ignoreKeyCommandsOnInputs:!0,getPropsForItem:l.a,preventTabKeyNavigationIntoList:!1,renderContextMenuForItem:l.a,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1,keysToExcludeFromRovingTabIndex:[],useApplicationRole:!0,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:()=>!0};var y=n.b=Object(A.a)(M)},ZYJ2:function(H,n,e){"use strict";e.d(n,"f",function(){return ie}),e.d(n,"c",function(){return pe}),e.d(n,"d",function(){return ne}),e.d(n,"a",function(){return ce}),e.d(n,"e",function(){return Q}),e.d(n,"b",function(){return re});var s=e("oTSI"),t=e("ifKl"),a=e("lhZz"),r=e("uAML");function l(z,Y){return`${z}:${Y}`}h(l,"serialize");function o(z){const[Y,ve]=z.split(":");return{channelId:Y,ts:ve}}h(o,"deserialize");var i=e("Z7Ay"),u=e("aVws"),d=e("OZf9"),m=e("lCmp"),c=e("c8Bs"),E=e("F294"),f=e("qAkX"),O=e("n3tL"),p=e("Lgge"),b=e("SQ0V"),T=e("s4P+"),v=e("+l5E"),S=e("JQ3U"),A=e("rebY"),I=e("ccuj"),_=e("HYaO"),M=e("xcHN"),y=e("UIhb"),j=e("Zbwg"),C=e("ZAxE"),D=e("uXhx"),N=e("J/RB");const B="HISTORY-CFM";function L(z,Y){return h(function ve(){let{channelId:Z,oldest:$,latest:te,cursor:J="",msgsInRange:k=[],deletedInRange:ae=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ee={channelId:Z,oldest:$,latest:te,cursor:J,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return z(Object(C.b)(Ee)).then(function(){let{msgs:_e=[],deleted:je=[],isLimited:Ue,hasMore:Ke,responseMetadata:ke={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return k.push(..._e),ae.push(...je),Ke&&!Ue&&ke.next_cursor?ve({channelId:Z,oldest:$,latest:te,cursor:ke.next_cursor,msgsInRange:k,deletedInRange:ae}):(z(Object(N.a)({msgs:k,channelId:Z,isLimited:Ue,latest:te,oldest:$,deletedInRange:ae})),p.a.resolve())})},"fetchHistoryRangeHelper")(Y)}h(L,"fetchHistoryRange");function R(z,Y){return h(function ve(){let{channelId:Z,threadTs:$,oldest:te,latest:J,cursor:k="",msgsInRange:ae=[],deletedInRange:Ee=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _e={channelId:Z,threadTs:$,oldest:te,latest:J,cursor:k,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return z(Object(C.e)(_e)).then(function(){let{msgs:je=[],deleted:Ue=[],hasMore:Ke,responseMetadata:ke={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(ae.push(...k?Object(D.a)(je,{ts:$}):je),Ee.push(...Ue),Ke&&ke.next_cursor)return ve({channelId:Z,threadTs:$,oldest:te,latest:J,cursor:ke.next_cursor,msgsInRange:ae,deletedInRange:Ee});const Ze=te===$||J===$?ae:Object(D.a)(ae,{ts:$});return z(Object(N.a)({msgs:Ze,channelId:Object(M.c)(Z,$),latest:J,oldest:te,deletedInRange:Ee})),p.a.resolve()})},"fetchRepliesRangeHelper")(Y)}h(R,"fetchRepliesRange");const U=Object(b.c)("Fetches a range of messages",(z,Y,ve)=>{let{channelId:Z,oldest:$,latest:te}=ve;return Object(T.a)({getState:Y,label:B}).info(`Re-fetching ${Z} ${$} - ${te}`),Object(j.a)(Z)?L(z,{channelId:Z,oldest:$,latest:te}):R(z,{...Object(M.a)(Z),oldest:$,latest:te})});U.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var W=e("6CnZ");function x(z){const Y={};return z.forEach(ve=>{const{channelId:Z,ts:$}=o(ve);Y[Z]=Y[Z]||[],Y[Z].push($)}),Y}h(x,"groupTimestampsByChannel");function G(z){let Y,ve;return Object(d.a)(z,(Z,$)=>{Y===void 0&&(Y=$),ve===void 0&&(ve=$),$<Y&&(Y=$),$>ve&&(ve=$)}),{minTs:Y,maxTs:ve}}h(G,"getMinAndMaxTs");function w(){let z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(m.a)(Y,(ve,Z)=>z[Z])}h(w,"hasIntersection");function se(z,Y){return Object(c.a)(Y,(ve,Z)=>z[Z])}h(se,"isSuperset");function ee(z){let{ranges:Y={},tsMaps:ve=[]}=z;const Z={...Y};let $=ve[0];return ve.forEach(te=>{$!==te&&(w($,te)?se($,te)?delete Z[te.rangeId]:se(te,$)?(delete Z[$.rangeId],$=te):Object(d.a)(te,(J,k)=>delete $[k]):$=te)}),Object.values(Z)}h(ee,"dedupe");function X(z,Y){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const Z=Object(T.a)({state:z,label:B}),$={},te=[];return ve.sort().forEach(J=>{const ae=Object(y.b)(z,Y,J,!1);if(!ae){Z.warn(`No message for ${J} in ${Y}`);return}if(Object(v.bb)(ae)||Object(A.a)(ae))return;const Ee=[];(!Object(_.a)(ae)||Object(v.vb)(ae)||Object(S.j)(ae))&&Ee.push(Y),(Object(v.vb)(ae)||Object(_.a)(ae))&&Ee.push(Object(M.c)(Y,Object(I.a)(ae))),Ee.forEach(_e=>{if(!_e)return;const je=Object(W.j)(z,_e,J);if(!je||je===W.a)return;const{start:Ue,end:Ke,timestamps:ke}=je,Qe=`${Ue}-${Ke}`;if(!$[Qe]){const De={};Object.defineProperty(De,"rangeId",{enumerable:!1,value:Qe}),$[Qe]={id:_e,firstTs:Object(E.a)(ke),lastTs:Object(f.a)(ke),start:Ue,end:Ke,tsMap:De},te.push(De)}const Ze=$[Qe];Ze.tsMap[J]=!0})}),{ranges:$,tsMaps:te}}h(X,"segment");function me(z,Y){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(ee(X(z,Y,ve))||[{}]).map($=>{let{id:te,firstTs:J,lastTs:k,start:ae,end:Ee,tsMap:_e}=$;const{minTs:je,maxTs:Ue}=G(_e);return{id:te,oldest:je===J?ae:je,latest:Ue===k?Ee:Ue}})}h(me,"rangify");const Oe=Object(b.c)("Fetches chunks of channel history for the given message IDs",(z,Y,ve)=>{let{ids:Z}=ve;const $=x(Z),te={};return Object(d.a)($,(J,k)=>{const ae=me(Y(),k,J);te[k]=p.a.map(ae,Ee=>{let{oldest:_e,latest:je,id:Ue}=Ee;return z(U({channelId:Ue,oldest:_e,latest:je}))})}),p.a.all(Object.values(te))});Oe.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"},Oe.propTypes={ids:O.default.arrayOf(O.default.string)};var Ce=Oe,le=e("RVJP");const de=Object(s.a)(()=>new r.b({fetch:(z,Y)=>Object(a.dispatchForTeamId)(z,Ce({ids:Y})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:z=>Object(le.d)(z,"channel_eventlog_fe_skip_message_events")!=="on"})),ie=h((z,Y,ve)=>de().maybeRefetch(Object(u.b)(z,"channelHistory"),l(Y,ve)),"maybeRefetch"),pe=h((z,Y,ve)=>de().markObjectsAsFresh(Object(u.b)(z,"channelHistory"),ve.map(Z=>l(Y,Z))),"markObjectsAsFresh"),ne=h((z,Y,ve)=>de().markObjectsAsStale(Object(u.b)(z,"channelHistory"),ve.map(Z=>l(Y,Z))),"markObjectsAsStale"),q=h((z,Y,ve)=>de().isObjectFresh(Object(u.b)(z,"channelHistory"),l(Y,ve)),"isObjectFresh"),ce=h(z=>de().getFreshObjects(Object(u.b)(z,"channelHistory")).map(o),"getFreshObjects");Object(i.b)("conditionalFetchManagerChannelHistory",de);const ge="reachedEnd",be=Object(s.a)(()=>new r.b({fetch:t.a,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),Q=h(z=>be().markObjectsAsFresh(Object(u.b)(z,"channelHistory"),[ge]),"markReachedEndAsFresh"),re=h(z=>be().isObjectFresh(Object(u.b)(z,"channelHistory"),[ge]),"isReachedEndFresh")},ZbzB:function(H,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"c",function(){return u}),e.d(n,"g",function(){return d}),e.d(n,"f",function(){return m}),e.d(n,"e",function(){return c}),e.d(n,"d",function(){return E}),e.d(n,"b",function(){return f});var s=e("QOYf"),t=e("kBpe"),a=e("W29z"),r=e("RVJP"),l=e("JoR1"),o;const i=h(()=>{var O,p;return(o=(O=window.matchMedia)===null||O===void 0||(p=O.call(window,"not all and (prefers-contrast), (prefers-contrast)"))===null||p===void 0?void 0:p.matches)!==null&&o!==void 0?o:!1},"browserSupportsHighContrastColors"),u=h(()=>Object(s.a)()&&(Object(t.p)()||Object(t.y)())&&Object(t.j)("4.20.0"),"desktopSupportsHighContrastColors"),d=h((O,p)=>Object(r.d)(O,"a11y_message_replay")==="on"&&Object(a.h)(O,p)&&Object(a.d)(O,p),"shouldTriggerMessageReplay"),m=h(O=>Object(r.d)(O,"a11y_underline_button_link")==="on"&&!!Object(l.t)(O,"underline_links"),"shouldShowUnderlineButtonLink"),c=h(O=>Object(r.d)(O,"aria_message_sounds_and_announcements_expansion")==="on","isExpandingMessageSounds"),E=h(O=>Object(r.d)(O,"aria_message_announcements_expansion")==="on","isExpandingMessageAnnouncements"),f=h(O=>Object(r.d)(O,"secondary_view_container_as_dialog")==="on","canSecondaryViewContainerBeDialog")},Zgaw:function(H,n,e){"use strict";n.a=s=>s?s.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):""},ZrLl:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o});var s=e("rZ8V"),t=e("i5Ig"),a=e("PMNn"),r=e("E3dU");const l=h(i=>(i==null?void 0:i.name)||"","getActionName"),o=h((i,u,d)=>{const m=!d;let c=t.a;if(d){const E=Object(r.d)(i,d);c=E&&Object(a.b)(i,E)||t.a}return Object(s.o)(i)&&u.teams&&(c.length||m)&&!u.isWorkspaceAgnostic?m?u.teams:u.teams.filter(f=>c.includes(f)):t.a},"getActionRelatedWorkspaces")},ZvnG:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("4TP3");class t{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){Object(s.a)(this.subscribers,r)}publish(r){this.subscribers.forEach(l=>{l(r)})}constructor(){this.subscribers=[]}}h(t,"PubSub")},ZzdX:function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("s4P+"),t=e("9cNQ"),a=e("3zNH"),r=e("SQ0V"),l=e("O86Y"),o=e("xQ1x"),i=e("cQw7"),u=e("Jhy3"),d=e("8z+9"),m=e("yuD6"),c=e("+nBv"),E=e("YKhI"),f=e("C0ks");const O=Object(r.c)("Fetch pinned items list for channel",(p,b,T)=>{const v=T.channelId;return p(Object(m.d)({loadingState:d.b.LOADING,channelId:v})),p(Object(t.b)({reason:"fetchPinsList",...T})).then(function(){let{items:S}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const A=S.filter(M=>M.type.includes(d.a.FILE)).map(M=>{if(M.type===d.a.FILE_COMMENT){const{comment:y,file:j,...C}=M,D=Object(o.a)(y,j);return{...C,file:D}}return M}),I=S.filter(M=>M.type===d.a.MESSAGE);if(A.length){const M=A.filter(j=>j.type!==d.a.FILE_COMMENT),y=A.filter(j=>j.type===d.a.FILE_COMMENT);p(Object(a.a)({files:M.map(j=>j.file)})),p(Object(a.a)({files:y.map(j=>j.file)}))}if(I.length){const M=I.map(j=>{let{message:C}=j;return C}),y=p(Object(i.a)({imsgs:M,channelId:v}));p(Object(u.a)(y))}p(Object(c.a)({channelId:v,count:S.length})),p(Object(m.a)({items:S.map(f.a),channelId:v})),p(Object(m.d)({loadingState:d.b.LOADED,channelId:v}));const _=Object(l.g)(b());Object(E.a)().markObjectsAsFresh(_,[v])}).catch(S=>{throw p(Object(m.d)({loadingState:d.b.NOT_LOADED,channelId:v})),Object(s.a)({getState:b}).error(`Error in fetchPinsList: ${JSON.stringify(S)}`),S})});O.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},a1Y7:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},aBhT:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("4man");const l=t.a.forwardRef((i,u)=>{let{children:d,lines:m,breakWords:c=!0,withTooltip:E,shouldForceTooltipVisible:f,customTooltipText:O,tooltipClassName:p}=i;const b={"--lines":m},T=t.a.createElement("span",{className:Object(a.default)("c-truncate",{"c-truncate--break_words":c}),style:b,ref:u},d);return E?t.a.createElement(r.a,{tip:O||d,zIndex:"above_fs",shouldForceVisible:f,tipClassName:p},T):T});l.displayName="Truncate";var o=n.a=l},aNqa:function(H,n,e){"use strict";var s=e("ZKjC"),t=e("9Gfp"),a=e("lhZz"),r=e("7xYR");const l=Object(s.b)((o,i)=>(Object(r.getAllWorkspaces)(o)||[]).some(d=>{const m=Object(a.getStoreInstanceByTeamId)(d);if(!m)return!1;const c=m.getState();return c?Object(t.i)(c,i):!1}));l.meta={name:"createSelector",key:"createSelectorisFeatureFlagEnabledForAnyTeam",description:(o,i)=>(Object(r.getAllWorkspaces)(o)||[]).some(d=>{const m=Object(a.getStoreInstanceByTeamId)(d);if(!m)return!1;const c=m.getState();return c?Object(t.i)(c,i):!1})},n.a=l},akkM:function(H,n,e){"use strict";e.d(n,"d",function(){return l}),e.d(n,"b",function(){return o}),e.d(n,"g",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"f",function(){return d}),e.d(n,"h",function(){return m}),e.d(n,"c",function(){return c}),e.d(n,"e",function(){return E});var s=e("m8R6");let t=20,a=new Map;function r(O,p){if(a.has(O)&&a.delete(O),a.set(O,p),a.size>t){const[b]=a.keys();a.delete(b)}}h(r,"addDocUiData");function l(O){return a.delete(O)}h(l,"clearDocUiData");function o(O,p){var b;const T=(b=a.get(O))!==null&&b!==void 0?b:{};r(O,{...T,scrollPosition:p})}h(o,"addScrollPosition");function i(O){var p;return(p=a.get(O))===null||p===void 0?void 0:p.scrollPosition}h(i,"getScrollPosition");function u(O,p){var b;const T=(b=a.get(O))!==null&&b!==void 0?b:{};r(O,{...T,focusState:p})}h(u,"addFocusState");function d(O){var p;return(p=a.get(O))===null||p===void 0?void 0:p.focusState}h(d,"getFocusState");function m(O){var p;return(p=a.get(O))===null||p===void 0?void 0:p.scrollToOpenComment}h(m,"getScrollToOpenComment");function c(O){var p;const b=(p=a.get(O))!==null&&p!==void 0?p:{};r(O,{...b,scrollToOpenComment:!0})}h(c,"addScrollToOpenComment");function E(O){var p;const b=(p=a.get(O))!==null&&p!==void 0?p:{},T=Object(s.a)(b,"scrollToOpenComment");Object.keys(T).length?r(O,T):l(O)}h(E,"clearScrollToOpenComment"),Object.defineProperty({MAX_POSITIONS:t,reset:()=>{a=new Map}},"MAX_POSITIONS",{get:()=>t,set:O=>{t=O}})},apAF:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("s4P+"),t=e("vfQU"),a=e("SQ0V"),r=e("PZKh"),l=e("WvYH");const o=Object(a.c)("Set the current theme for the device",function(i,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.b,d)}catch{Object(s.b)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}i(Object(l.a)(d)),Object(t.ec)({name:"userTheme",value:d})});o.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},aqbC:function(H,n,e){"use strict";e.d(n,"a",function(){return b});var s=e("6CnZ"),t=e("ZAxE"),a=e("UIhb"),r=e("y6S6"),l=e("9Gfp"),o=e("xwCZ"),i=e("C3vN"),u=e("Fn/R"),d=e("+l5E"),m=e("gukb"),c=e("ssje"),E=e("mVl8"),f=e("FUEd"),O=e("2Ci3");const p=23;function b(T,v,S){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max(Object(t.c)(),S),I=arguments.length>4?arguments[4]:void 0;if(!Object(s.b)(T,v))return[];const _=Object(s.h)(T,v);if(!_||!_.timestamps)return[];const M=Object(a.a)(T,v),y=_.timestamps.slice(-A),j=Object(l.a)(T);let C=[],D=[],N=!1;const B=[],L=[],R=[],U=[],W=[],x=[];let G=!1;for(let se=y.length-1;se>=0;se--){const ee=M[y[se]],X=Object(d.z)(ee);if(!X)continue;if(I&&X===j){G=!0;continue}if(!(I?B.includes(X)||R.includes(X)||W.includes(X):C.includes(X))&&!Object(c.a)(ee)&&Object(m.a)(ee,j)){const Oe=Object(r.c)(T,v,X),Ce=Object(o.g)(T,X);if(N||(N=!(Oe!=null&&Oe.isKnown)||Object(i.pb)(Ce)),!N&&(Oe!=null&&Oe.isKnown)&&(Oe!=null&&Oe.isMember)&&!Object(u.a)(Ce)&&!Object(i.V)(Ce)){if(I){if(Object(f.c)(T,X)==="active"?Object(O.e)(T,X)?(R.push(X),U.push(Ce)):(B.push(X),L.push(Ce)):(W.push(X),x.push(Ce)),L.length===S||R.length+x.length===p-S)break}else if(C.push(X),D.push(Ce),D.length===S)break}}}if(N)return[];if(I&&(L.length===S?(D=L,C=B):(D=L.concat(U.slice(0,S-L.length)),C=B.concat(R.slice(0,S-W.length)),D.length<S&&(D=D.concat(x.slice(0,S-L.length)),C=C.concat(W.slice(0,S-W.length))))),D.length>=S)return D;const w=Object(E.a)(T,v);if(!w.length)return[];for(let se=0;se<w.length;se++){const ee=w[se];if(ee&&!C.includes(ee)&&(I&&ee===j?G=!0:(C.push(ee),D.push(Object(o.g)(T,ee)))),D.length===S)break}return D.length===0&&G&&(C.push(j),D.push(Object(o.g)(T,j))),D}h(b,"getLastNRelevantMembersInChannel")},arBb:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=20,t={PREF:"saved_view",PAGE:"page",FLEXPANE:"flexpane"}},asny:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("v5L4");const a=Object(s.c)("Search SalesForce objects by query",(r,l,o)=>r(Object(t.a)({...o,reason:"sales-home"})).then(i=>{let{records:u}=i;return u?u.map(d=>{var m,c,E;const f=(m=o.sobjects.find(O=>O.sobjectApiName===d.type))===null||m===void 0||(c=m.fields)===null||c===void 0?void 0:c[0];return{id:d.id,key:d.id,label:((E=d.additional_fields)===null||E===void 0?void 0:E[`${f}`])||`Salesforce ${d.type}`,value:d.id,type:d.type,extras:d.additional_fields}}):[]}).catch(()=>[]));a.meta={name:"createThunk",key:"createThunksearchObjects",description:"Search SalesForce objects by query"},n.a=a},aykK:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("E3dU"),t=e("g0EK"),a=e("6etV"),r=e("O0Iw");function l(o,i){const u=Object(s.B)(o,i)&&Object(s.d)(o,i)||void 0;return Object(r.e)(o,u)?!0:Object(t.a)(o,i)&&!Object(a.a)(o,u==null?void 0:u.id,{allowToAdmins:!0})}h(l,"canUserAtChannelInChannelById")},b28g:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("RwMM");const t=h(function(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;if(!i)return o;const{label:u,options:d}=i,m=new s.b(r,{fuzzyLimit:3,...l});if(!d)isFinite(m.normalizeAndScore(u))&&o.push(i);else{const c=[];d.forEach(E=>{const{label:f}=E;isFinite(m.normalizeAndScore(f))&&c.push(E)}),c.length&&o.push({label:i.label,options:c})}return o},"findMatches");function a(r,l){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l?r.reduce((i,u)=>t(l,o,i,u),[]):r}h(a,"defaultFilter")},"b8K+":function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"c",function(){return t}),e.d(n,"a",function(){return a});const s=20,t={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},a={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},bJNA:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("8NKP"),t;(function(r){r.UNKNOWN="unknown",r.TITLE="title",r.FILE="file",r.IMAGE="image",r.VIDEO_CLIP="video-clip",r.AUDIO_CLIP="audio-clip",r.DIVIDER="divider",r.TABLE="table",r.SHORTCUT="shortcut",r.MENU_SEPARATOR="menu-separator",r.PINS="pins",r.BOOKMARKS="bookmarks",r.USER_UNFURL="user-unfurl",r.CANVAS_UNFURL="canvas-unfurl",r.MESSAGE_UNFURL="message-unfurl",r.PUBLIC_LINK_UNFURL="public-link-unfurl",r.SHORTCUT_UNFURL="shortcut-unfurl",r.USER_PROFILE_UNFURL="user-profile-unfurl",r.UNFURL="unfurl",r.CANVAS="canvas",r.GENERIC="generic",r.WORKFLOW="workflow",r.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",r.SMART_SUMMARY="smart-summary",r.LIST="list",r.WIDGET="widget"})(t||(t={}));const a={...s.a,...t}},bNCI:function(H,n,e){"use strict";var s=e("NZ+B"),t=e("7lBi"),a=e("Kyco"),r=e("ED1u"),l=e("j77i");const o={persistenceEnabled:!1,storeKey:"workspaceLayout"},i={inspectorWidthIntent:null,inspectorWidthMode:t.e.AUTO,isSidebarVisible:!0,isSidebarVisibleWhenFloating:!1,isTeamSidebarVisible:!0,sidebarWidthIntent:null,sidebarWidthMode:t.e.AUTO,userPrefersResponsiveSidebar:!0};try{i.sidebarWidthIntent=Object(l.f)(t.y)||null,i.inspectorWidthIntent=Object(l.f)(t.l)||null,i.sidebarWidthMode=Object(l.f)(t.z)||"auto",i.inspectorWidthMode=Object(l.f)(t.m)||"auto";const d=Object(l.f)(t.x);i.isSidebarVisible=Object(s.a)(d)?d:!0;const m=Object(l.f)(t.A);i.isTeamSidebarVisible=Object(s.a)(m)?m:!0;const c=Object(l.f)(t.E);i.userPrefersResponsiveSidebar=Object(s.a)(c)?c:!0}catch{}const u=Object(a.b)({},i,o).on(r.e,(d,m)=>{let{sidebarWidthIntent:c,sidebarWidthMode:E}=m;return{...d,sidebarWidthIntent:c,sidebarWidthMode:E}}).on(r.a,(d,m)=>{let{inspectorWidthIntent:c,inspectorWidthMode:E}=m;return{...d,inspectorWidthIntent:c,inspectorWidthMode:E}}).on(r.b,(d,m)=>({...d,isSidebarVisible:m})).on(r.c,(d,m)=>({...d,isSidebarVisibleWhenFloating:m})).on(r.d,(d,m)=>({...d,isTeamSidebarVisible:m})).on(r.f,(d,m)=>({...d,userPrefersResponsiveSidebar:m}));n.a=u},bTOH:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"c",function(){return t}),e.d(n,"b",function(){return a});const s={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},t="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",a={EMAIL:new RegExp(`^${t}$`,"i"),CONTAINS_EMAIL:new RegExp(`${t}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},bbt7:function(H,n,e){"use strict";e.d(n,"a",function(){return N}),e.d(n,"c",function(){return L}),e.d(n,"b",function(){return R});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("mmwi"),o=e.n(l),i=e("Bi0V"),u=e.n(i),d=e("nWdO"),m=e("nNoG"),c=e("n3y5"),E=e("Efzj"),f=e("6R8Z"),O=e("NV6F"),p=e("SNS2"),b=e("D6Rr"),T=e("/qcS");const v={small:"small",medium:"medium",large:"large"},S={small:22,medium:26,large:32};var A=e("F0YV"),I=e("oEDn"),_=e("i9jZ"),M=e("37+L"),y;(function(U){U.BaseHeart="mask__base-heart",U.SmallHeart="mask__small-heart",U.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",U.BaseSingleChannelGuest="mask__base-single-channel-guest",U.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",U.SmallSingleChannelGuest="mask__small-single-channel-guest",U.BaseGuestDnd="mask__base-guest-dnd",U.BaseGuest="mask__base-guest",U.SmallGuestDnd="mask__small-guest-dnd",U.SmallGuest="mask__small-guest",U.BaseMemberDnd="mask__base-member-dnd",U.BaseMember="mask__base-member",U.SmallMemberDnd="mask__small-member-dnd",U.SmallMember="mask__small-member"})(y||(y={}));function j(U){let{size:W="base",userType:x="member",isDnd:G=!1}=U;return t.a.createElement("svg",{className:"sr-only"},x==="slackbot"&&(W==="base"?t.a.createElement("clipPath",{id:y.BaseHeart,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.a.createElement("clipPath",{id:y.SmallHeart,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),x==="ura"&&(W==="base"?G?t.a.createElement("clipPath",{id:y.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:y.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):G?t.a.createElement("clipPath",{id:y.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.a.createElement("clipPath",{id:y.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(x==="ra"||x==="external")&&(W==="base"?G?t.a.createElement("clipPath",{id:y.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:y.BaseGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):G?t.a.createElement("clipPath",{id:y.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.a.createElement("clipPath",{id:y.SmallGuest,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),x==="member"&&(W==="base"?G?t.a.createElement("clipPath",{id:y.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.a.createElement("clipPath",{id:y.BaseMember,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):G?t.a.createElement("clipPath",{id:y.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.a.createElement("clipPath",{id:y.SmallMember,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}h(j,"AvatarMasks");function C(){return C=Object.assign||function(U){for(var W=1;W<arguments.length;W++){var x=arguments[W];for(var G in x)Object.prototype.hasOwnProperty.call(x,G)&&(U[G]=x[G])}return U},C.apply(this,arguments)}h(C,"_extends");const D=new m.b("avatar"),N={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},B=t.a.memo(U=>{let{botEmoji:W,canRenderEmoji:x}=U;return W?x?t.a.createElement(T.b,{className:"c-avatar__emoji",text:W,emojiSize:T.a.LARGE,stopAnimations:!0,forceDisplay:!0}):t.a.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:u.a,srcSet:`${o.a} 2x`,alt:""}):null});function L(U){let{isExternal:W,teamId:x,team:G,showTooltip:w,badgeIconType:se,badgeIconClassName:ee,allowTeamInitials:X=!0}=U;if(se){const me=ee?{[ee]:!!ee}:{};return()=>t.a.createElement(I.a,{className:Object(a.default)("c-avatar__icon c-avatar__nonteam_icon",{...me}),type:se})}return W&&x?()=>t.a.createElement(A.b,{className:"c-avatar__icon c-avatar__team_icon",id:x,team:G,size:16,showTooltip:w,allowTeamInitials:X,ariaHidden:!0}):()=>null}h(L,"getCustomBadgeIconRenderer"),L.displayName="getCustomBadgeIconRenderer";const R=h(U=>{let{size:W,userId:x,isAdHocMember:G,botId:w,botProfile:se=void 0,imageUrl:ee,imageUrl2x:X,additionalOverlay:me,onClick:Oe=void 0,className:Ce,teamId:le,isExternal:de=!1,isRestricted:ie=!1,isUltraRestricted:pe=!1,isInToken:ne=!1,isDeleted:q=!1,tokenSize:ce=void 0,memberOrBotName:ge=void 0,showTooltip:be=!1,showCard:Q=!1,showBadge:re=!0,showPresence:z=!1,badgeIconType:Y=void 0,badgeIconClassName:ve=void 0,isInteractive:Z=!0,clogLinkClick:$=r.a,tabIndex:te=0,ariaHidden:J=void 0,team:k=void 0,botEmoji:ae=void 0,canRenderEmoji:Ee=void 0,renderCustomBadge:_e=void 0,autoClogProps:je=void 0,openProfile:Ue=r.a,showMemberProfileInWindow:Ke=r.a,propagateClickEvent:ke=!1,fromQuipDoc:Qe=!1,allowTeamInitials:Ze=!0,disableLink:De=!1,isUserHidden:Fe=!1,onLoad:Ve=r.a,onError:Je=r.a,shouldUseNavigate:Ot=!1,navigate:ht,resetIA:Le,userType:jt,isDnd:Ut,isSlackbot:Ie,"data-qa":oe,"data-stringify-ignore":ye}=U;const Ne=Object(s.useCallback)(ot=>(ot.preventDefault(),Z?(ke||ot.stopPropagation(),ot.persist(),$(),Qe||(Object(_.d)(ot)?Ke(x):Ot&&ht&&x?ht(Object(M.P)(x)):Ue({memberId:x,serviceId:w,botProfile:se})),Oe?Oe(ot):null):null),[x,w,se,$,Qe,Oe,Z,ht,Ue,ke,Ot,Ke]),Ge=h(()=>x?`/team/${x}`:w&&!De?`/services/${w}`:"","getHrefAttr"),st=h(()=>X?`${X} 2x`:"","getSrcSetAttribute"),$e=h(()=>{if(me){const ot=me>9?"9+":`+${me}`;return t.a.createElement("div",{className:"c-avatar__additional_overlay"},ot)}return null},"renderAdditionalOverlay");$e.displayName="renderAdditionalOverlay";const It=h(ot=>{let{tooltipText:yt,className:Kt}=ot,Xt=t.a.createElement("span",{className:"c-avatar__badge_inner"});be&&(Xt=t.a.createElement(d.c,{tip:yt},Xt));const cn=Object(a.default)("c-avatar__badge",Kt);return t.a.createElement("span",{className:cn},Xt)},"renderBadgeElement");It.displayName="renderBadgeElement";const Lt=h(()=>{const ot=ce?S[ce]:W;if(_e!==void 0&&ot>=32){const yt=_e();if(yt)return yt}if(_e===void 0&&ot>=32){const yt=L({isExternal:de,teamId:le,team:k,showTooltip:be,badgeIconType:Y,badgeIconClassName:ve,allowTeamInitials:Ze})();if(yt)return yt}return z?t.a.createElement(b.a,{memberId:x,inline:!1,className:"c-avatar__presence",inheritIconSize:!0}):pe&&ot>=32?It({tooltipText:h(()=>D.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,Kt=>{let{text:Xt}=Kt;return t.a.createElement("span",{className:"c-avatar__tooltip_detail"},Xt)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):ie&&ot>=32?It({tooltipText:h(()=>D.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,Kt=>{let{text:Xt}=Kt;return t.a.createElement("span",{className:"c-avatar__tooltip_detail"},Xt)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");Lt.displayName="renderBadgeOrPresence";const St=h(()=>{let ot=ee||X;return ce?(ce==="large"&&X&&(ot=X),t.a.createElement(c.a,{image:ot,classes:"c-base_icon--token",srcSet:st(),size:S[ce],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:Ve,onError:Je,resetIA:Le})):null},"renderTokenAvatar");St.displayName="renderTokenAvatar";const vt=h(()=>ee||X?ce||ne?St():t.a.createElement(c.a,{image:ee||X,size:W,srcSet:st(),ariaHidden:!0,widthOnly:!0,onLoad:Ve,onError:Je,resetIA:Le}):null,"renderImageTag");vt.displayName="renderImageTag";const Yt=h(ot=>{let{fallback:yt=null}=ot,Kt=yt;return(ee||X)&&(Kt=vt()),Kt},"renderImageOrFallback"),et=ae?t.a.createElement(B,{botEmoji:ae,canRenderEmoji:Ee}):null,Ft=W>26?"base":"small",mt=jt==="member",Zt=jt==="ra"||jt==="external",gt=jt==="ura",at=t.a.useMemo(()=>z?Ie&&Ft==="base"?y.BaseHeart:Ie&&Ft==="small"?y.SmallHeart:mt&&Ft==="base"&&Ut?y.BaseMemberDnd:mt&&Ft==="base"?y.BaseMember:mt&&Ft==="small"&&Ut?y.SmallMemberDnd:mt&&Ft==="small"?y.SmallMember:Zt&&Ft==="base"&&Ut?y.BaseGuestDnd:Zt&&Ft==="base"?y.BaseGuest:Zt&&Ft==="small"&&Ut?y.SmallGuestDnd:Zt&&Ft==="small"?y.SmallGuest:gt&&Ft==="base"&&Ut?y.BaseSingleChannelGuestDnd:gt&&Ft==="base"?y.BaseSingleChannelGuest:gt&&Ft==="small"&&Ut?y.SmallSingleChannelGuestDnd:gt&&Ft==="small"?y.SmallSingleChannelGuest:"":"",[z,Ut,Ft,Zt,mt,gt,Ie]),it=Object(a.default)(Ce,"c-avatar",{"c-avatar--no_image":!(ee||X||et),"c-avatar--interactive":Z&&!G&&!De,"c-avatar--ad_hoc_member":G,"c-avatar--deleted_member":q,"c-avatar--resetIA":Le}),dt=ce?S[ce]:W,_t={height:`${dt}px`,width:`${dt}px`};let Dt;w&&(Dt=Z&&Ge());const Ye=ge&&(Z||Dt)?D.t("View {name}\u2019s Profile",{name:ge}):void 0,Xe=Yt({fallback:et}),kt={..._t,"--avatar-image-size":`${dt}px`},Bt=Ie?"slackbot":jt,wt=z||re;let we=t.a.createElement(t.a.Fragment,null,z&&jt&&t.a.createElement(j,{isDnd:Ut,userType:Bt,size:Ft}),Fe?t.a.createElement(p.a,{className:Ce,size:dt}):Xe,wt&&Lt(),$e());return Dt?we=t.a.createElement(E.a,{href:Dt,target:"_blank",rel:"noopener noreferrer",style:_t,className:it,onClick:Ne,tabIndex:te,"aria-hidden":J,"aria-label":Ye,autoClogProps:je,"data-qa":oe,"data-stringify-ignore":ye},we):Z&&!De?we=t.a.createElement(f.a,{style:_t,className:it,"data-qa":oe,"data-stringify-ignore":ye,"aria-hidden":J,"aria-label":Ye,tabIndex:te,onClick:Ne,autoClogProps:je},we):we=t.a.createElement("span",C({style:kt,className:it},at?{"data-mask":at}:{},{"data-qa":oe,"data-stringify-ignore":ye,"aria-hidden":J}),we),Z&&Q&&W>=N.medium?Object(O.C)({memberId:x,serviceId:w,botProfile:se,children:we}):we},"BaseAvatar");R.displayName="BaseAvatar"},bcZH:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("tfcd"),t=e("uNaj"),a=e("v7mh"),r=e("2VFn");function l(o,i){var u;const d=Object(t.a)();if(Object(s.a)(d==null||(u=d.params)===null||u===void 0?void 0:u.entityId))return!0;if(i){var m;const c=Object(a.d)(o,{windowId:i,container:r.h.Primary});return!!(!(c==null||(m=c.params)===null||m===void 0)&&m.versionId)}return!1}h(l,"isViewingQuipActivityHistory")},bdv9:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},beWg:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal",workflowBuilderFreemiumTrialOfferModal:"unlimited_workflows_trial_offer_modal"}},boyP:function(H,n,e){"use strict"},"c+dP":function(H,n,e){"use strict";var s=e("7JHn");e.d(n,"g",function(){return s.b});var t=e("RfUG");e.d(n,"e",function(){return t.a});var a=e("x5cI");e.d(n,"b",function(){return a.a});var r=e("GFD/");e.d(n,"d",function(){return r.a});var l=e("NPyv");e.d(n,"c",function(){return l.a});var o=e("/K2e");e.d(n,"a",function(){return o.a});var i=e("6FZx");n.f=s.a},c7sk:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){const a=(t||"").split("-");return a&&(a.length===3||a.length===4)?a[2]:null}h(s,"getUserIdFromExternalId")},cRDo:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("q1tI"),t=e.n(s);const a=h(function(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=Object(s.useRef)(),u=Object(s.useCallback)(()=>{const d=i.current;d&&(window.clearTimeout(d),i.current=void 0)},[]);return Object(s.useEffect)(()=>(u(),i.current=window.setTimeout(r,l),u),[r,u,l].concat(o)),u},"useTimeout")},cRTT:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("Muja"),r=e("n3tL");function l(){return l=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(i[m]=d[m])}return i},l.apply(this,arguments)}h(l,"_extends");function o(i){const u={showConfirmDialog:r.default.func,setSelectState:r.default.func.isRequired,selectedOptions:r.default.array,selectedOption:r.default.object},d={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0};let m=h(class extends s.Component{setSelectState(E,f){const O=E();O.selectedOptions&&!Object(a.a)(O.selectedOptions,this.selectedOptions)||O.selectedOption&&!Object(a.a)(O.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({isExpanded:!1})),this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(E,f),this.selectedOptions=O.selectedOptions||this.selectedOptions,this.selectedOption=O.selectedOption||this.selectedOption}})):(this.props.setSelectState(E,f),this.selectedOptions=O.selectedOptions||this.selectedOptions,this.selectedOption=O.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:E}=this.props,f=E?this.setSelectState:this.props.setSelectState;return t.a.createElement(i,l({},this.props,{setSelectState:f}))}constructor(E){super(E),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=E.selectedOptions,this.selectedOption=E.selectedOption}},"ConfirmSelectWrapper");return m.displayName="ConfirmSelectWrapper",m.propTypes=u,m.defaultProps=d,m}h(o,"withConfirm")},ciPa:function(H,n,e){"use strict";var s=e("ZKjC"),t=e("JoR1");const a=Object(s.b)(r=>Object(t.t)(r,"messages_theme")==="dense"?"dense":"light");a.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:r=>Object(t.t)(r,"messages_theme")==="dense"?"dense":"light"},n.a=a},coh6:function(H,n,e){"use strict";e.d(n,"a",function(){return qe}),e.d(n,"l",function(){return Wt}),e.d(n,"o",function(){return qt}),e.d(n,"t",function(){return nn}),e.d(n,"u",function(){return rn}),e.d(n,"z",function(){return hn}),e.d(n,"A",function(){return en}),e.d(n,"h",function(){return Un}),e.d(n,"i",function(){return Yn}),e.d(n,"x",function(){return ns}),e.d(n,"g",function(){return cs}),e.d(n,"q",function(){return is}),e.d(n,"C",function(){return es}),e.d(n,"r",function(){return Is}),e.d(n,"k",function(){return kn}),e.d(n,"D",function(){return ts}),e.d(n,"j",function(){return Ds}),e.d(n,"y",function(){return vs}),e.d(n,"v",function(){return ss}),e.d(n,"p",function(){return Zn}),e.d(n,"n",function(){return Os}),e.d(n,"m",function(){return Cs}),e.d(n,"f",function(){return ys}),e.d(n,"B",function(){return Ls}),e.d(n,"w",function(){return _s}),e.d(n,"F",function(){return ls}),e.d(n,"G",function(){return Ts}),e.d(n,"c",function(){return As}),e.d(n,"d",function(){return xn}),e.d(n,"s",function(){return Ss}),e.d(n,"b",function(){return he}),e.d(n,"e",function(){return Ct}),e.d(n,"E",function(){return sn}),e.d(n,"H",function(){return Pe});var s=e("Lgge"),t=e("3Hq1"),a=e("ifKl"),r=e("NFsq"),l=e("TGBA"),o=e("lCmp"),i=e("fujP"),u=e("/1FC"),d=e("xWuZ"),m=e("wBxZ"),c=e("TSHB"),E=e("1+fu"),f=e("SQ0V"),O=e("i5Ig"),p=e("Sl1j"),b=e("Zp3w"),T=e("Mqk2"),v=e("7T78"),S=e("CPJ1"),A=e("kpmE"),I=e("o+v5"),_=e("E3dU"),M=e("x3ts"),y=e("g4Nj"),j=e("dmdh"),C=e("y23z"),D=e("WXkz"),N=e("xwCZ"),B=e("ByMX"),L=e("9wgI"),R=e("od0p"),U=e("GhjL"),W=e("beVI"),x=e("O86Y"),G=e("I27i"),w=e("fTzy"),se=e("YxGS"),ee=e("2vQQ"),X=e("nNoG"),me=e("kBpe"),Oe=e("ITkT"),Ce=e("G0eX"),le=e("1lov"),de=e("TdVx");const ie=new X.b("modals");function pe(g){return[{id:"downloads",name:ie.t("Downloads"),icon:"download",isEnabled:()=>Object(me.i)()},{id:"invite_to_workspace",name:ie.t("Invite people to {workspaceName}",{workspaceName:Object(Ce.h)(Object(W.g)(g))}),icon:"add-user",isEnabled:()=>Object(Oe.e)(g)},{id:"create_a_channel",name:ie.t("Create a Channel"),icon:"plus",isEnabled:()=>Object(le.c)(g)},{id:"create_a_canvas",name:ie.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>Object(de.a)(g)}]}h(pe,"getAllModals");function ne(g){return pe(g).filter(P=>P.isEnabled())}h(ne,"getAllEnabledModals");var q=e("8pYz"),ce=e("yrot"),ge=e("uAML"),be=e("bqbz"),Q=e("6H+D"),re=e("iJ8e"),z=e("Y3/F"),Y=e("ie1g"),ve=e("ISSR"),Z=e("Yauy"),$=e("e55/"),te=e("E97Y"),J=e("y/Pn"),k=e("isHU"),ae=e("C3vN"),Ee=e("Awbm"),_e=e("V+O/"),je=e("Fn/R"),Ue=e("K7jq"),Ke=e("ehcD"),ke=e("RW41"),Qe=e("9ToC"),Ze=e("DQNL"),De=e("mzZe"),Fe=e("rKeN"),Ve=e("Pw4T"),Je=e("mLC8"),Ot=e("gPPH"),ht=e("ktUG"),Le=e("Z7Ay"),jt=e("lhZz"),Ut=e("JoR1"),Ie=e("RVJP"),oe=e("Ir4d"),ye=e("Bwf8"),Ne=e("+eea"),Ge=e("RwMM"),st=e("wWBL"),$e=e("WTVm"),It=e("w/U0"),Lt=e("26vS"),St=e("NV6F"),vt=e("KPXh"),Yt=e("n7UZ"),et=e("G5NC"),Ft=e("DvAh"),mt=e("jvEW"),Zt=e("FdVR"),gt=e("ptQX"),at=e("6DCH"),it=e("P9LH"),dt=e("WA8N"),_t=e("rZ8V"),Dt=e("PMNn"),Ye=e("uiBO");const Xe=new X.b("ia4"),kt={get[Ye.b.BrowseCanvases](){return Xe.t("All canvases",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Ye.b.BrowseChannels](){return Xe.t("All channels",{fallbackHash:"50a279de829f2dc398ac2ac7c9367508ea4b5df5",fallbackHashNs:"channel_sidebar"})},get[Ye.b.BrowsePeople](){return Xe.t("All people",{fallbackHash:"7aeeec03f7c076af275e9b7c0e187a40bd193acc",fallbackHashNs:"enterprise_dashboard"})},get[Ye.b.BrowseFiles](){return Xe.t("All files",{fallbackHash:"f7857dcc71d3ce6a9095d1fbca5acb8cc9319005",fallbackHashNs:"search"})},get[Ye.b.RecentFiles](){return Xe.t("Recently Viewed Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Ye.b.FilesSharedWithYou](){return Xe.t("Files shared with you",{fallbackHash:"72f2b0dfa1e68a34813db5999ff8098f60ef699d",fallbackHashNs:"search"})},get[Ye.b.FilesCreatedByYou](){return Xe.t("Files created by you",{fallbackHash:"8c292710d9aa5d3b598cf24b70f804cb0341e24e",fallbackHashNs:"search"})},get[Ye.b.RecentCanvases](){return Xe.t("Recently Viewed Canvases",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Ye.b.CanvasesSharedWithYou](){return Xe.t("Canvases shared with you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},get[Ye.b.CanvasesCreatedByYou](){return Xe.t("Canvases created by you",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b"})},[Ye.b.DmsList]:void 0,[Ye.b.LaterList]:void 0,[Ye.b.Channel]:void 0,[Ye.b.AppSpace]:void 0,[Ye.b.Quip]:void 0,[Ye.b.BrowseApps]:void 0,get[Ye.b.ExternalOrganizations](){return Xe.t("External organizations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ye.b.ExternalOrganization](){return Xe.t("External organization",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ye.b.ExternalPeople](){return Xe.t("External people",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ye.b.SlackConnectChannels](){return Xe.t("Slack Connect channels",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},get[Ye.b.SlackConnectInvitations](){return Xe.t("Slack Connect invitations",{fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5",fallbackHashNs:"slack_connect_hub"})},[Ye.b.BrowseExternalWorkspace]:void 0,[Ye.b.PostEvent]:void 0,[Ye.b.BrowseShortcuts]:void 0,[Ye.b.BrowseWorkflowsManagedByYou]:void 0,[Ye.b.BrowseWorkflowTemplates]:void 0,[Ye.b.BrowseUserGroups]:void 0,[Ye.b.OrgDirectory]:void 0,get[Ye.b.RecentPlatform](){return Xe.t("Recently used workflows",{fallbackHash:"f97d1ab1f281e78d5e61024eee5be84679fd60ac",fallbackHashNs:"search"})},[Ye.b.SlackConnect]:void 0,[Ye.b.Page]:void 0,[Ye.b.Threads]:void 0,[Ye.b.Thread]:void 0,[Ye.b.Profile]:void 0,[Ye.b.FileDetails]:void 0,[Ye.b.Help]:void 0,[Ye.b.UserGroup]:void 0,[Ye.b.KeyboardShortcuts]:void 0,[Ye.b.WhatsNew]:void 0,[Ye.b.Feedback]:void 0,[Ye.b.List]:void 0,[Ye.b.ListRecord]:void 0,[Ye.b.ListRecordDetails]:void 0,[Ye.b.ComposeList]:void 0,[Ye.b.Compose]:void 0,[Ye.b.QuipCommentThread]:void 0,[Ye.b.QuipCommentStream]:void 0,[Ye.b.QuipActivityHistory]:void 0,[Ye.b.QuipVariablesOverview]:void 0,[Ye.b.Canvas]:void 0,[Ye.b.ChannelCanvas]:void 0,[Ye.b.CanvasBrowser]:void 0,[Ye.b.PaidBenefits]:void 0,[Ye.b.Setup]:void 0,[Ye.b.SearchEmpty]:void 0,[Ye.b.AboutWorkspace]:void 0,[Ye.b.Unknown]:void 0,[Ye.b.MorePeopleSidebar]:void 0,[Ye.b.MoreCanvasesSidebar]:void 0,[Ye.b.SalesHome]:void 0,[Ye.b.CRM]:void 0,[Ye.b.AppPopout]:void 0,[Ye.b.MorePlatformSidebar]:void 0,[Ye.b.Search]:void 0,[Ye.b.ChannelList]:void 0,[Ye.b.BrowseLists]:void 0,[Ye.b.MyItems]:void 0,[Ye.b.BrowseList]:void 0,[Ye.b.ActivityList]:void 0,[Ye.b.MoreFilesSidebar]:void 0,[Ye.b.MoreListsSidebar]:void 0,[Ye.b.FilesPrototypeSidebar]:void 0,[Ye.b.MoreChannelsSidebar]:void 0,[Ye.b.MoreHuddlesSidebar]:void 0,[Ye.b.MoreExternalConnectionsSidebar]:void 0,[Ye.b.HelpBrowser]:void 0,[Ye.b.Huddle]:void 0,[Ye.b.KeyboardShortcutsBrowser]:void 0,[Ye.b.WhatsNewBrowser]:void 0,[Ye.b.FeedbackBrowser]:void 0,[Ye.b.ExternalWorkspaceSidebar]:void 0,[Ye.b.ExternalWorkspacePeopleBrowser]:void 0,[Ye.b.ExternalWorkspaceChannelBrowser]:void 0,[Ye.b.AiSummaryDetails]:void 0,[Ye.b.AiSummaryList]:void 0,[Ye.b.DailyDigest]:void 0,[Ye.b.MoreAiSummarySidebar]:void 0,[Ye.b.SearchSummary]:void 0,[Ye.b.AssistantList]:void 0,[Ye.b.BrowseFilesPrototype]:void 0,[Ye.b.Today]:void 0,[Ye.b.Record]:void 0,[Ye.b.RecordChannelCreate]:void 0,[Ye.b.SalesLogActivity]:void 0,[Ye.b.AssistantThread]:void 0};var wt=h(g=>g in kt?kt[g]:"","getDisplayNameForViewType"),we=e("Mxtj"),ot=e("XDa+"),yt=e("5eUS"),Kt=e("Mtna"),Xt=e("Jmua"),cn=e("046c"),gn=e("7ibc"),vn=e("9Gfp"),lt=e("cqkq"),ct=e("UmHn"),Rt=e("ELVW"),zt=e("NX5n"),mn=e("eVCY"),fn=e("7K0/"),ln=e("McKM"),Ln=e("qHL7"),In=e("ErGN"),Dn=e("Iwbv"),_n=e("JN2d");const qe={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0},members:{includeSelf:!1,includeSlackbot:!0,includeBots:!0,includeWorkflows:!1,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[re.l]:!0,[re.m]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:st.a},fuzzyLimit:3,fuzzyJumpLimit:20,fuzzyCJK:!0,returnMetadata:!1};function Et(g){let{query:P,options:F}=g;var K,fe,Me;const Te=(Me=F==null?void 0:F.entities)!==null&&Me!==void 0?Me:{},xe=Te==null?void 0:Te.members;let He=!1;return xe&&xe!==!0&&(He=!!(xe!=null&&xe.matchEmailField)),{source:F==null||(K=F.sort)===null||K===void 0?void 0:K.source,tiered:F==null?void 0:F.tiered,is_searcher_sessions:!1,entities:Object.keys(Te).filter(ze=>!!Te[ze]).sort().toString(),query_length:P.length,is_member_email_search:(F==null||(fe=F.sort)===null||fe===void 0?void 0:fe.source)==="use-team-and-people-search"&&He}}h(Et,"getTraceTags");function Wt(g,P){var F,K;const{excludeElmChannels:fe,includePublic:Me,includePrivate:Te,includeFromAnotherTeam:xe,allowedInternalTeams:He,shouldAllowedInternalTeamsMatchAny:ze,includeRecordChannels:Be}=(K=(F=P.entities)===null||F===void 0?void 0:F.channels)!==null&&K!==void 0?K:{};let Mt=[];return Me&&(Mt=[...Mt,...Object(_.u)(g,{includeFromAnotherTeam:!!xe})]),Te&&(Mt=[...Mt,...Object(_.t)(g,{includeFromAnotherTeam:!!xe})]),Be&&(Mt=[...Mt,...Object(_.v)(g)]),fe&&(Mt=Mt.filter(Pt=>!Object(Yt.a)(g,Pt))),He&&(Mt=Mt.filter(Pt=>{if(Object(Xt.a)(Pt))return!!ze;const Qt=Object($.a)(g,Pt),tn=ze?Qt==null?void 0:Qt.some(pt=>He.includes(pt)):Qt==null?void 0:Qt.every(pt=>He.includes(pt));return(Qt==null?void 0:Qt.length)&&tn})),Mt}h(Wt,"getLocalChannels");function qt(g,P){var F;const K=Object(x.g)(g),fe=P==null||(F=P.entities)===null||F===void 0?void 0:F.teams;var Me;const Te=Object.values((Me=_n.b===null||_n.b===void 0?void 0:Object(_n.b)())!==null&&Me!==void 0?Me:{}).filter(Mt=>Mt.id!==K);if(fe!=null&&fe.onlyNavigable)return Te;var xe;const He=(xe=Object(W.c)(g))!==null&&xe!==void 0?xe:{},ze=Te.map(Mt=>Mt.id),Be=Object.values(He).filter(Mt=>!ze.includes(Mt.id));return[...Te,...Be].filter(es(g,fe))}h(qt,"getLocalTeams");const nn=Object(f.c)("Get channels from flannel by query",(g,P,F)=>{let{query:K,options:fe}=F;var Me,Te,xe,He;const{includeFromAnotherTeam:ze,includeExternallyShared:Be,includeOnlyExternallyShared:Mt,onlyExternallyShared:Pt,onlyFromTeamId:Qt,onlyFromExternalWorkspaceId:tn,allowedInternalTeams:pt,shouldAllowedInternalTeamsMatchAny:At,includeRecordChannels:an}=(He=(Me=fe.entities)===null||Me===void 0?void 0:Me.channels)!==null&&He!==void 0?He:{},$t=((Te=fe.entities)===null||Te===void 0||(xe=Te.channels)===null||xe===void 0?void 0:xe.remoteLimit)||fe.limit,Mn=P(),Cn=[],Rn=" AND ",An={query:K,count:$t||qe.limit||24,fuzz:Object(Ie.d)(Mn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:Object(Ie.d)(Mn,"searcher_flannel_cjk")==="cjk"};return ze&&Cn.push("xws"),!Object(t.a)(Be)&&!Be&&Cn.push("NOT shared"),!Object(t.a)(Mt)&&!Mt&&Cn.push("NOT external"),!Object(t.a)(Pt)&&Pt&&Cn.push("shared"),Cn.length&&(An.filter=Cn.join(Rn)),Qt&&(An.external_team=Qt),tn&&(An.external_team=tn),pt&&(An.allowed_internal_teams=pt),At&&(An.should_allowed_internal_teams_match_any=At),an&&(An.include_record_channels=!0),g(Object(p.i)({query:An})).timeout(2e3).catch(a.a)});nn.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const rn=Object(f.c)("Get emoji from flannel by query",(g,P,F)=>{let{query:K,options:fe}=F;var Me,Te;const xe=((Me=fe.entities)===null||Me===void 0||(Te=Me.emoji)===null||Te===void 0?void 0:Te.remoteLimit)||fe.limit;return g(Object(b.b)({query:{query:K,count:xe}})).timeout(2e3).catch(a.a)});rn.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const hn=Object(f.c)("Get user groups from the search.team endpoint by query",(g,P,F)=>{let{query:K,options:fe}=F;var Me,Te,xe,He,ze,Be;const Mt=((Me=fe.entities)===null||Me===void 0||(Te=Me.userGroups)===null||Te===void 0?void 0:Te.remoteLimit)||fe.limit;return g(Object(A.c)({query:{query:K,count:Mt,org_wide:(xe=fe.entities)===null||xe===void 0||(He=xe.userGroups)===null||He===void 0?void 0:He.includeFromAnotherTeam,channel:(ze=fe.entities)===null||ze===void 0||(Be=ze.userGroups)===null||Be===void 0?void 0:Be.channel}})).timeout(2e3).catch(a.a)});hn.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const en=Object(f.c)("Get remote triggers with query",(g,P,F)=>{let{query:K}=F;return g(Object(at.a)({query:K}))});en.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const Un=Object(f.c)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(g,P,F)=>{let{queries:K,options:fe}=F;var Me,Te,xe,He,ze,Be;const Mt=((Me=fe.entities)===null||Me===void 0||(Te=Me.userGroups)===null||Te===void 0?void 0:Te.remoteLimit)||fe.limit;return g(Object(A.a)({query:{queries:K,count:Mt,org_wide:(xe=fe.entities)===null||xe===void 0||(He=xe.userGroups)===null||He===void 0?void 0:He.includeFromAnotherTeam,channel:(ze=fe.entities)===null||ze===void 0||(Be=ze.userGroups)===null||Be===void 0?void 0:Be.channel}})).timeout(2e3).catch(a.a)});Un.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function Yn(g,P){const{includeArchived:F,includeRequired:K,onlyIfMember:fe,canPost:Me,includeExternallyShared:Te,includeOnlyExternallyShared:xe,onlyExternallyShared:He,onlyFromTeamId:ze,onlyFromExternalWorkspaceId:Be}=P??{};return Mt=>{let Pt=!0;if(F||(Pt=Pt&&!Object(ve.a)(Mt)),!Object(t.a)(K)&&!K&&(Pt=Pt&&!Object(te.o)(Mt)),He&&(Pt=Pt&&Object(J.a)(Mt)),(!Te||!xe)&&(Pt=Pt&&!Object(J.a)(Mt)),fe&&(Pt=Pt&&Object(Z.db)(Mt)),Me&&(Pt=Pt&&Object(De.b)(g,Mt.id)),ze){var Qt;Pt=Pt&&(((Qt=Object(Zt.a)(g,Mt))===null||Qt===void 0?void 0:Qt.includes(ze))||!1)}return Be&&(Pt=Pt&&Object(Z.Eb)(g,Mt)===Be),Pt}}h(Yn,"getChannelFilterFunction");const ns=Object(f.c)("Get members from flannel by query",(g,P,F)=>{let{query:K,options:fe}=F;var Me,Te,xe;const{includeDeleted:He,matchEmailField:ze,onlyExternal:Be,includeExternal:Mt,includeAllExternal:Pt,includeBots:Qt,onlyFromExternalTeamId:tn,onlyFromExternalWorkspaceId:pt}=(xe=fe.entities.members)!==null&&xe!==void 0?xe:{},At=((Me=fe.entities)===null||Me===void 0||(Te=Me.members)===null||Te===void 0?void 0:Te.remoteLimit)||fe.limit,an=P(),$t=[],Mn=Object(Ce.z)(Object(W.g)(an)),Cn=Mn?["NOT org"]:["NOT team"],Rn=Mn?["org"]:["team"],An=!He,On=" AND ",bn={query:K,count:At||qe.limit||24,fuzz:Object(Ie.d)(an,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||fe.fuzzyLimit===0?0:1,uax29_tokenizer:Object(Ie.d)(an,"searcher_flannel_cjk")==="cjk"};return An&&$t.push("NOT deactivated"),(Be||tn)&&$t.push(...Cn),(tn||pt)&&(bn.external_team=tn||pt),Qt||$t.push("NOT bots"),Mt||$t.push(...Rn),Mt&&Pt&&(bn.include_all_external=!0),ze&&(bn.search_email=!0),$t.length&&(bn.filter=$t.join(On)),g(Object(S.e)({query:bn})).timeout(2e3).catch(a.a)});ns.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const cs=Object(f.c)("Get members from flannel by query",(g,P,F)=>{let{queries:K,options:fe}=F;var Me,Te,xe,He;const{includeDeleted:ze,matchEmailField:Be}=(He=(Me=fe.entities)===null||Me===void 0?void 0:Me.members)!==null&&He!==void 0?He:{},Mt=((Te=fe.entities)===null||Te===void 0||(xe=Te.members)===null||xe===void 0?void 0:xe.remoteLimit)||fe.limit||24,Pt=P(),Qt=[],tn=!ze,pt=" AND ",At={queries:K,count:Mt,fuzz:Object(Ie.d)(Pt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:Object(Ie.d)(Pt,"searcher_flannel_cjk")==="cjk"};return tn&&Qt.push("NOT deactivated"),Be&&(At.match_email=!0),Qt.length&&(At.filter=Qt.join(pt)),g(Object(S.b)({query:At})).timeout(2e3).catch(a.a)});cs.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function is(g,P){const{includeSelf:F,includeSlackbot:K,includeBots:fe,includeWorkflows:Me,includeDeleted:Te,includeExternal:xe,includeGuests:He,includeProfileOnlyUsers:ze,onlyLocalTeam:Be,onlyExternal:Mt,onlyExternalFromTeams:Pt,onlyFromExternalTeamId:Qt}=P??{};return tn=>{let pt=!0;if(Mt&&(pt=pt&&Object(Ue.a)(tn)&&!Object(je.a)(tn)),F||(pt=pt&&!Object(ae.jb)(tn)),K||(pt=pt&&!Object(_e.b)(tn)),Pt)return Object(r.a)(Pt,Object(Ke.e)(tn));if(Qt)return F&&Object(ae.jb)(tn)?!0:Object(Ue.a)(tn)&&Object(Ke.e)(tn)===Qt;if(fe||(pt=pt&&!Object(je.a)(tn)&&!Object(_e.b)(tn)),Me||(pt=pt&&!Object(ae.rb)(tn)),Te||(pt=pt&&!Object(ae.V)(tn)),xe||(pt=pt&&!Object(Ue.a)(tn)),He||(pt=pt&&!Object(Ee.a)(tn)),ze||(pt=pt&&!Object(ae.ib)(tn)),ze&&Object(ae.ib)(tn)&&(pt=pt&&!Object(ae.V)(tn)),Be){const At=Object(x.g)(g);Object(ae.ib)(tn)&&ze||(pt=pt&&Object(Ke.h)(tn,At))}return pt}}h(is,"getMemberFilterFunction");function es(g,P){var F;const{includeCurrentTeam:K,includeExternal:fe,onlyExternal:Me,onlyCurrentOrg:Te,onlyAvailableToCurrentOrg:xe,onlyMemberOnCurrentOrg:He}=P??{},ze=Object(x.i)(g),Be=Object(vn.a)(g),Mt=Object(N.g)(g,Be),Pt=(Mt==null||(F=Mt.enterprise_user)===null||F===void 0?void 0:F.teams)||[];return Qt=>!(!K&&Qt.id===Object(x.g)(g)||Me&&!Object(ke.a)(g,Qt)||!fe&&!Me&&!xe&&Object(ke.a)(g,Qt)||Te===!0&&Qt.id!==ze&&Object(Ce.k)(Qt)!==ze||xe===!0&&Qt.id!==ze&&Object(Ce.k)(Qt)!==ze&&!Object(ke.a)(g,Qt)||He===!0&&!Pt.includes(Qt.id))}h(es,"getTeamFilterFunction");function Is(g,P){const{onlyVisibleMpims:F,onlyExternallyShared:K,includeExternallyShared:fe,onlyFromTeamId:Me}=P??{};return Te=>{let xe=!0;if(F&&(xe=xe&&Object(Z.zb)(g,Te)),K&&(xe=xe&&Object(J.a)(Te)),fe===!1&&(xe=xe&&!Object(J.a)(Te)),Me){var He;xe=xe&&(((He=Object(Zt.a)(g,Te))===null||He===void 0?void 0:He.includes(Me))||!1)}return xe}}h(Is,"getMpimFilterFunction");function kn(g,P){const{onlyExternallyShared:F,includeExternallyShared:K,onlyFromTeamId:fe,onlyVisibleIms:Me}=P??{};return Te=>{let xe=!0;if(Me&&(xe=xe&&Object(Z.yb)(g,Te)),F&&(xe=xe&&Object(J.a)(Te)),K||(xe=xe&&!Object(J.a)(Te)),fe){var He;xe=xe&&(((He=Object(Zt.a)(g,Te))===null||He===void 0?void 0:He.includes(fe))||!1)}return xe}}h(kn,"getImFilterFunction");function ts(g,P){const{includeDeleted:F,includeFromAnotherTeam:K,onlyFromExternalWorkspaceId:fe}=P??{};return Me=>{let Te=!0;return K||(Te=Te&&!Object(U.l)(g,Me.id)),F||(Te=Te&&Object(Ze.x)(Me)),fe&&(Te=Te&&Object(Ze.k)(Me)===fe),Te}}h(ts,"getUserGroupFilterFunction");function Ds(g,P){const{onlyCanvases:F=!1,onlyLists:K=!1,onlyChannelCanvases:fe=!1,onlyTemplateCanvases:Me=!1,includeChannelCanvases:Te=!1,excludeTemplateCanvases:xe=!1}=P??{},He=Object(gn.p)(g),ze=Object(x.i)(g),Be=Object(W.s)(g,ze),Mt=Be&&!Object(Ce.K)(Be);return Pt=>{let Qt=!0;return F&&(Qt=Qt&&(Object(it.u)(Pt)&&!Mt||He&&Te&&Object(it.h)(Pt)),Object(it.wb)(Pt,g)&&xe)?!1:(He&&(fe||Mt)&&(Qt=Qt&&!Object(it.u)(Pt)&&Object(it.h)(Pt)),Me&&(Qt=Qt&&Object(it.wb)(Pt,g)),K&&(Qt=Qt&&Object(it.o)(Pt,g)),Qt)}}h(Ds,"getFileFilterFunction");const vs=Object(f.c)("Get teams via API by query",(g,P,F)=>{let{query:K,options:fe}=F;var Me,Te;const{onlyExternal:xe,includeExternal:He,remoteLimit:ze}=(Te=(Me=fe.entities)===null||Me===void 0?void 0:Me.teams)!==null&&Te!==void 0?Te:{},Be=P();if(Object(B.a)(Be))return s.a.resolve();if(xe||He)return g(Object(v.a)(K)).timeout(2e3).catch(a.a);const Mt=ze||fe.limit||24;return g(Object(I.d)({query:K,count:Mt})).timeout(2e3).catch(a.a)});vs.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const ss=Object(f.c)("Get files via API by query",(g,P,F)=>{let{query:K,options:fe}=F;var Me,Te;const{onlyCanvases:xe,onlyChannelCanvases:He,onlyTemplateCanvases:ze,excludeTemplateCanvases:Be,bypassCache:Mt}=(Te=(Me=fe.entities)===null||Me===void 0?void 0:Me.files)!==null&&Te!==void 0?Te:{};let Pt=K;return ze?Pt=`type:canvas_template ${K}`:(xe||He)&&(Pt=`${Be?"type:quip -type:canvas_template":"type:quip"} ${K}`),g(Object(T.f)({query:Pt,includeShares:!0,bypassCache:Mt})).timeout(2e3).catch(a.a)});ss.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function Zn(g){const P=Object(_t.o)(g),F=Object(ee.b)(),K={},fe=[];P&&(Kt.r.forEach(Te=>{const xe=Object(ot.a)({tab:Te,experimentDesktopIa4GroupOn:P});Object(yt.a)(g,Te)&&xe&&!(xe in K)&&(fe.push({id:Te,name:xe,is_view:!0,is_tab_view:!0}),K[xe]=xe)}),Kt.s.forEach(Te=>{const xe=wt(Te);Object(we.a)(g,Te)&&xe&&!(xe in K)&&(fe.push({id:Te,name:xe,is_view:!0,is_mva_view:!0}),K[xe]=xe)})),F.forEach(Te=>{var xe;if(!(!((xe=Te.isExcludedFromSearch)===null||xe===void 0)&&xe.call(Te,g))&&!(Te.id==="Pslack-connect"&&!Object(Q.a)(g))&&!(Te.id==="Pactivity"&&P)&&!(Te.id===ct.a.Apps&&!P&&!Object(Rt.a)(g))&&!(Te.id===ct.a.Shortcuts&&!Object(lt.e)(g))&&!(Te.id===ct.a.BrowseWorkflowTemplates&&!Object(lt.c)(g))&&!(Te.id===ct.a.BrowseWorkflowsManagedByYou&&!Object(lt.b)(g))&&(!Te.isEnabled||Te.isEnabled(g)||Te.id==="Punreads"&&Object(Ut.t)(g,"enable_unread_view"))){const ze=Object(q.b)(Te.id)(g);ze&&!(ze in K)&&(fe.push({...Te,name:ze,is_view:!0,is_page_view:!0}),K[ze]=ze)}});const Me=Object(se.c)("Vall_threads");return Me&&(!P||Object(Ut.t)(g,"enable_threads_view"))&&!Object(Dn.a)(g)&&fe.push(Me),fe}h(Zn,"getLocalViews");function Os(g){return ne(g)}h(Os,"getLocalModals");function Cs(g){return Object(Qe.c)(g)?[{id:g,score:0,item:{id:g,value:g,isEmail:!0}}]:[]}h(Cs,"getLocalEmails");function ys(g,P){const F=!P;let K=O.a;if(P){const fe=Object(_.d)(g,P);K=fe&&Object(Dt.b)(g,fe)||O.a}return Object(M.b)(g).flatMap(fe=>{if(Object(_t.o)(g)&&fe.teams&&(K.length||F)&&!fe.isWorkspaceAgnostic){const Me=F?fe.teams:fe.teams.filter(Te=>K.includes(Te));if(Me.length>1)return Me.map(Te=>{const xe=Object(W.s)(g,Te),He=Object(Ce.h)(xe);return{...fe,name:`${fe.name} ${He}`,applicableTeamId:Te}})}return[fe]})}h(ys,"getAppActionsWithEntriesPerApplicableTeam");function Ls(g,P,F){const K=Object(_.d)(g,P),fe=K?Object(Dt.b)(g,K)||[]:[];return Object(St.j)(g,P,F,!0).flatMap(Me=>{if(Object(_t.o)(g)&&Me.teams&&fe.length&&Me.appName!=="Slack"&&!Me.isWorkspaceAgnostic){const Te=Me.teams.filter(xe=>fe.includes(xe));if(Te.length>1)return Te.map(xe=>({...Me,id:Object(vt.e)(Me),isSlashCommand:!0,applicableTeamId:xe}))}return[{...Me,id:Object(vt.e)(Me),isSlashCommand:!0}]})}h(Ls,"getSlashCommandsListWithEntriesPerApplicableTeam");function Es(g,P){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";sn(P);const K={},{members:fe,channels:Me,teams:Te,userGroups:xe,appActions:He,views:ze,broadcastKeywords:Be,emoji:Mt,files:Pt,links:Qt,lists:tn,channelSections:pt,emails:At,modals:an,shortcuts:$t,workflowTriggers:Mn,helpArticles:Cn,salesListViews:Rn}=P.entities;if(Me&&(Me.includePublic||Me.includePrivate)&&(K.channels=Wt(g,P)),Me&&Me.includeMpims&&(K.mpims=Object(_.r)(g)),Me&&Me.includeIms&&(K.ims=Object(_.o)(g)),fe&&(K.members=fe.onlyFromExternalWorkspaceId?O.a:Object(N.a)(g).filter(Pn=>Object(gt.a)(g,Pn.id))),Te&&(K.teams=qt(g,P)),xe&&(K.userGroups=Object(U.c)(g)),He&&(K.appActions=Object(zt.a)(g)?Object(M.b)(g):ys(g,He.channel)),Pt&&(K.files=Object(j.a)(g)),Qt&&(K.links=Object(C.a)(g)),tn&&(K.lists=Object(D.o)(g)),ze&&(K.views=Zn(g)),an&&(K.modals=Os(g)),Be){var An;if(Be.includeAll)K.broadcastKeywords=Object(R.a)();else if(!(Be==null||(An=Be.currentChannel)===null||An===void 0)&&An.id){var On;K.broadcastKeywords=Object(L.a)(g,Be==null||(On=Be.currentChannel)===null||On===void 0?void 0:On.id)}else K.broadcastKeywords=[]}if(Mt&&(K.emoji=Object(ce.e)(g)),pt&&(K.channelSections=Object(l.a)(Object(be.b)(g))),($t!=null&&$t.slashCommands||$t!=null&&$t.fakeGlobalActions)&&!($t!=null&&$t.isAnnounceOnly)&&(K.slashCommands=Object(St.j)(g,$t.channel,$t.threadTs,!0).map(Pn=>({...Pn,id:Object(vt.e)(Pn),isSlashCommand:!0}))),$t!=null&&$t.slackGlobalActions&&(K.slackGlobalActions=Object(St.h)(g,$t.channel,$t.threadTs)),$t!=null&&$t.quipShortcutCommands&&(K.quipShortcutCommands=Object(In.c)(g)),$t!=null&&$t.channelActions&&(K.channelActions=Object(Lt.b)(g,$t.channel)),$t!=null&&$t.fakeGlobalActions&&(K.fakeGlobalActions=Object(St.g)(g,$t.channel,$t.threadTs,K.slashCommands)),$t!=null&&$t.callActions&&(K.callActions=Object(St.f)(g,$t.channel,$t.threadTs,$t.isAnnounceOnly)),Mn){const Pn=Object(St.e)(g);Mn.includeAutomated?K.workflowTriggers=Pn:K.workflowTriggers=Pn.filter(pn=>pn.type===cn.a.Shortcut)}At&&(K.emails=Cs(F));const bn=Object(z.a)(g);return Cn&&bn&&(K.helpArticles=Object(Y.c)(g,"searcher/fetch_all_articles")),Rn&&(K.salesListViews=Object.values(Object(ln.g)(g))),Pe(),K}h(Es,"fetchLocal");const zn=Object(f.c)("Search for local entities within Slack based on options",(g,P,F)=>{let{query:K,options:fe,autoTraceId:Me,parentSpanId:Te}=F;var xe;const He=P(),ze=(xe=Je.d.get({label:Je.a.Searcher,id:Me}))===null||xe===void 0?void 0:xe.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Te}}),Be=[],Mt=[],{channels:Pt,files:Qt,members:tn,teams:pt,userGroups:At,appActions:an,emoji:$t,helpArticles:Mn,workflowTriggers:Cn,salesListViews:Rn}=fe.entities;if(tn){const On=g(ns({query:K,options:fe}));tn.runaway?Mt.push(On):Be.push(On)}if(Pt){const On=g(nn({query:K,options:fe}));Pt.runaway?Mt.push(On):Be.push(On)}if($t){const On=g(rn({query:K,options:fe}));$t.runaway?Mt.push(On):Be.push(On)}if(Qt&&(Object(It.a)(K)||K.length>3)){const On=Object(Ft.a)(P());if(!On.contains(K)&&!On.isRequestInFlight()){On.add(K),On.setRequestInFlight();const bn=g(ss({query:K,options:fe}));Qt.runaway?Mt.push(bn):Be.push(bn)}}if(At){const On=g(hn({query:K,options:fe}));At.runaway?Mt.push(On):Be.push(On)}if(pt&&(Object(Fe.a)(He)||pt.onlyExternal||pt.includeExternal)&&!pt.onlyLocal){const On=g(vs({query:K,options:fe}));pt.runaway?Mt.push(On):Be.push(On)}if(Cn){const On=Object(dt.a)(He);if(!On.contains(K)&&!On.isRequestInFlight()){On.add(K),On.setRequestInFlight();const bn=g(en({query:K}));bn&&(Cn.runaway?Mt.push(bn):Be.push(bn))}}if(Object(k.a)(He)&&an){const On=g(Object(y.a)()).timeout(2e3).catch(a.a);an.runaway?Mt.push(On):Be.push(On)}const An=Object(z.a)(He);return Mn&&An&&Object(Y.c)(He,"searcher/fetch_all_articles"),Object(fn.a)(K)&&Rn&&Be.push(g(Object(Ln.a)({query:K}))),s.a.all(Be).then(On=>{const bn=P(),Pn=Es(bn,fe,K);if(Pn.remoteIds=_s(On),tn&&tn.onlyFromExternalWorkspaceId){var pn,Wn;Pn.members=(Wn=(pn=On.find(Bn=>!!Bn.members))===null||pn===void 0?void 0:pn.members)!==null&&Wn!==void 0?Wn:O.a}const Fn=Object(o.a)(Object(l.a)(Pn),"length");return Mt.length&&!Fn?s.a.all(Mt).then(()=>Es(P(),fe)):(ze==null||ze.close(),Pn)})});zn.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function _s(g){const P={};return g.forEach(F=>{F&&(F.appActions&&(P.appActions=new Set(F.appActions.map(K=>K.id))),F.channels&&(P.channels=new Set(F.channels.map(K=>K.id))),F.emoji&&(P.emoji=new Set(F.emoji.map(K=>K.name))),F.files&&(P.files=new Set(F.files.map(K=>K.id))),F.members&&(P.members=new Set(F.members.map(K=>K.id))),F.userGroups&&(P.userGroups=new Set(F.userGroups.map(K=>K.id))),F.teams&&(P.teams=new Set(F.teams.map(K=>K.id))))}),P}h(_s,"getRemoteIds");const ls=Object(f.c)("Search for entities within Slack by query",(g,P,F)=>{let{query:K="",options:fe=qe}=F;var Me;if(!K.length&&!fe.allowEmptyQuery)return s.a.resolve([]);const Te=P(),xe=Object(Ve.d)({state:Te}),He=Object(Ot.a)(),ze=Object(Ie.d)(Te,"search_query_format_options")==="treatment";xe.mark(`modern-searcher-search-mark-${He}`);const Be=Object(oe.a)(K,{shouldTrimEmoji:!1},ze);var Mt;Je.d.start({label:Je.a.Searcher,id:He,options:{teamId:(Mt=Object(x.g)(Te))!==null&&Mt!==void 0?Mt:null,tags:Et({query:Be,options:fe})}});const Pt=(Me=Je.d.get({label:Je.a.Searcher,id:He}))===null||Me===void 0?void 0:Me.createChildSpan({name:"searcher:search"}),Qt=Ct(Te,fe,qe,K);if(Object(i.a)(Qt))return s.a.resolve([]);if(Object(w.a)(Te)!==G.a.ONLINE||!(fe!=null&&fe.allowEmptyQueryRemoteSearch)&&!Be.length&&Object(et.a)()&&Object(Ie.d)(Te,"searcher_local_empty_string")==="treatment")return s.a.resolve(Ts(Te,{query:Be,options:Qt,autoTraceId:He,parentSpanId:Pt==null?void 0:Pt.getId()}));const tn=s.a.delay(0).then(()=>g(zn({query:Be,options:Qt,autoTraceId:He,parentSpanId:Pt==null?void 0:Pt.getId()}))).then(pt=>{const At=P();return V(At,{query:Be,data:pt,options:Qt,autoTraceId:He,parentSpanId:Pt==null?void 0:Pt.getId()})});if(Qt.tiered){const pt=Ts(Te,{query:Be,options:Qt,autoTraceId:He,parentSpanId:Pt==null?void 0:Pt.getId()});return pt.promise=tn.finally(()=>{Pt==null||Pt.close(),Je.d.stop({label:Je.a.Searcher,id:He})}),s.a.resolve(pt).finally(()=>{xe.measureAndClear(`modern-searcher-search-mark-${He}`,"modern-searcher-search-tiered")})}return tn.finally(()=>{xe.measureAndClear(`modern-searcher-search-mark-${He}`,"modern-searcher-search"),Pt==null||Pt.close(),Je.d.stop({label:Je.a.Searcher,id:He})})});ls.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function Ts(g,P){let{query:F="",options:K,autoTraceId:fe,parentSpanId:Me}=P;var Te;let xe=fe;if(!xe){xe=Object(Ot.a)();var He;Je.d.start({label:Je.a.Searcher,id:xe,options:{teamId:(He=Object(x.g)(g))!==null&&He!==void 0?He:null,tags:Et({query:F,options:K})}})}const ze=(Te=Je.d.get({label:Je.a.Searcher,id:xe}))===null||Te===void 0?void 0:Te.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Me}});if(!F.length&&!K.allowEmptyQuery)return[];const Be=Ct(g,K,qe,F),Mt=Object(Ie.d)(g,"search_query_format_options")==="treatment";if(Object(i.a)(Be))return[];const Pt=Object(oe.a)(F,{shouldTrimEmoji:!1},Mt),Qt=Es(g,Be),tn=V(g,{query:Pt,data:Qt,options:Be,autoTraceId:xe,parentSpanId:ze==null?void 0:ze.getId()});return ze==null||ze.close(),tn}h(Ts,"searchLocal");const gs=15,As=h(g=>{let{clogger:P,data:F}=g;const{source:K,query:fe,results:Me,selectedItemId:Te,displayedItemIds:xe,openMethod:He}=F,ze=xe?xe.length:Me.length,Be=xe&&Te?xe.indexOf(Te):Me.findIndex(Cn=>Cn.item.id===Te);if(Be<0)return;const Mt=Me.find(Cn=>Cn.item.id===Te);if(!Mt)return;const Pt=Mt.type||"other",Qt=Object(oe.a)(fe),tn=Mt.source||"local";let pt;Mt.type==="mpim"?pt=Mt.scoreDetailsByMember:Mt.type==="member"&&Te?pt={[Te]:{is_exact_match:Mt.isExactMatch,exact_match_details:Mt.exactMatchDetails,score_details:Mt.scoreDetails}}:Mt.type==="emoji"&&Te&&(pt={[Te]:{is_exact_match:Mt.isExactMatch}});let At=[];Me.some(Cn=>Cn.featureVector)&&(xe?At=xe.map(Cn=>{const Rn=Me.find(An=>An.item.id===Cn);return Rn&&Rn.featureVector.serialize()||""}):At=Me.map(Cn=>{var Rn,An;return Cn==null||(Rn=Cn.featureVector)===null||Rn===void 0||(An=Rn.serialize)===null||An===void 0?void 0:An.call(Rn)}));let $t;Object(u.a)(fe)?$t=fe.reduce((Cn,Rn)=>Cn+Ss(Object(oe.a)(Rn)),0):$t=Ss(Qt);const Mn={source:K,query_length:Qt.length?Qt.length:0,query_terms_length:$t,results_length:ze,selected_position:Be,selected_type:Pt,selected_source:tn,selected_match_details:pt,feature_vector_list:At.slice(0,gs),open_method:He};P.track(ht.EventId.SEARCHER_ACCEPT,Mn)},"clogSearcherAccept"),xn=h(g=>{let{clogger:P,data:F}=g;const{source:K,query:fe,results:Me,displayedItemIds:Te}=F,xe=Te!==void 0?Te.length:Me.length,He=Object(oe.a)(fe);let ze;Object(u.a)(fe)?ze=fe.reduce((Mt,Pt)=>Mt+Ss(Object(oe.a)(Pt)),0):ze=Ss(He);const Be={source:K,query_length:He.length?He.length:0,query_terms_length:ze,results_length:xe};P.track(ht.EventId.SEARCHER_REJECT,Be)},"clogSearcherReject");function Ss(g){return g?g.split(Ge.a).filter(P=>P.length).length:0}h(Ss,"getQueryTermsLength");function V(g,P){let{query:F,data:K,options:fe,autoTraceId:Me,parentSpanId:Te}=P;var xe,He,ze,Be,Mt;const Pt=(xe=Je.d.get({label:Je.a.Searcher,id:Me}))===null||xe===void 0?void 0:xe.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:Te}});sn(fe);const Qt=Object(Ie.d)(g,"searcher_avoid_exact_member_match")==="treatment",tn=Object(Ie.d)(g,"nerf_email_fuzzy_match")==="treatment",pt={},At=new ye.a({query:F,options:{...fe,sort:{...fe.sort,avoidExactMatchForMembers:Qt},fuzzyEmailSearchForwardOnly:tn}}),an=Object(Ve.d)({state:g});an.mark("modern-searcher-matching-mark");const $t=(He=Je.d.get({label:Je.a.Searcher,id:Me}))===null||He===void 0?void 0:He.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Pt==null?void 0:Pt.getId()}});K.channels&&(pt.channels=At.filterChannels(g,K.channels,Yn(g,fe.entities.channels))),K.members&&(pt.members=At.filterMembers(g,K.members,is(g,fe.entities.members))),K.emails&&K.members&&!(!(pt==null||(ze=pt.members)===null||ze===void 0)&&ze.length)&&(pt.emails=K.emails),K.mpims&&(pt.mpims=At.filterMpims(g,K.mpims,Is(g,fe.entities.channels))),K.ims&&(pt.ims=At.filterIms(g,K.ims,kn(g,fe.entities.channels))),K.userGroups&&(pt.userGroups=At.filterUserGroups(g,K.userGroups,ts(g,fe.entities.userGroups))),K.teams&&(pt.teams=At.filterTeams(g,K.teams,es(g,fe.entities.teams))),K.views&&(pt.views=At.filterViews(g,K.views)),K.modals&&(pt.modals=At.filterModals(g,K.modals)),K.appActions&&(pt.appActions=At.filterAppActions(g,K.appActions)),K.slashCommands&&(pt.slashCommands=At.filterShortcuts(g,K.slashCommands,!0)),K.slackGlobalActions&&(pt.slackGlobalActions=At.filterShortcuts(g,K.slackGlobalActions)),K.quipShortcutCommands&&(pt.quipShortcutCommands=At.filterShortcuts(g,K.quipShortcutCommands)),K.channelActions&&(pt.channelActions=At.filterShortcuts(g,K.channelActions)),K.fakeGlobalActions&&(pt.fakeGlobalActions=At.filterShortcuts(g,K.fakeGlobalActions)),K.callActions&&(pt.callActions=At.filterShortcuts(g,K.callActions)),K.workflowTriggers&&(pt.workflowTriggers=At.filterWorkflowTriggers(g,K.workflowTriggers)),K.appActions&&(!(fe==null||(Be=fe.entities)===null||Be===void 0||(Mt=Be.shortcuts)===null||Mt===void 0)&&Mt.apps)&&(pt.apps=At.filterApps(g,K.appActions,K.fakeGlobalActions,K.slashCommands)),K.broadcastKeywords&&(pt.broadcastKeywords=At.filterBroadcastKeywords(g,K.broadcastKeywords)),K.emoji&&(pt.emoji=At.filterEmoji(g,K.emoji)),K.channelSections&&(pt.channelSections=At.filterChannelSections(g,K.channelSections,Bn=>{var Nn,Gn;return!!(!((Nn=fe.entities.channelSections)===null||Nn===void 0||(Gn=Nn.includeTypes)===null||Gn===void 0)&&Gn[Bn.type])})),K.files&&(pt.files=At.filterFiles(g,K.files,Ds(g,fe.entities.files))),K.links&&(pt.links=At.filterLinks(g,K.links)),K.lists&&(pt.lists=At.filterLists(g,K.lists));const Mn=Object(z.a)(g);K.helpArticles&&Mn&&(pt.helpArticles=At.filterHelpArticles(g,K.helpArticles));const Cn=Object(mn.z)(g);K.salesListViews&&Cn&&(pt.salesListViews=At.filterSalesListViews(g,K.salesListViews)),an.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),$t==null||$t.close();const Rn=he(pt,K.remoteIds||{}),An=500,On=3;var bn;const Pn=Math.min(((bn=fe==null?void 0:fe.limit)!==null&&bn!==void 0?bn:1)*On,An);let pn=Object(d.a)(Object.values(Rn));if(fe.sort&&!fe.sort.bypassSorting){var Wn;let Bn=!1;pn.length<Pn&&(Bn=!0);const Nn=new Ne.a({query:F,options:{modelOnly:Bn,...fe.sort}}),Gn=(Wn=Je.d.get({label:Je.a.Searcher,id:Me}))===null||Wn===void 0?void 0:Wn.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Pt==null?void 0:Pt.getId()}});pn=Nn.sort(g,Rn),Gn==null||Gn.close()}if(fe.sort&&fe.sort.frecency&&!fe.sort.bypassSorting){var Fn;const Bn=(Fn=Je.d.get({label:Je.a.Searcher,id:Me}))===null||Fn===void 0?void 0:Fn.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Pt==null?void 0:Pt.getId()}});pn=new $e.a({query:F,options:{...fe.sort},teamId:Object(x.g)(g),enterpriseId:Object(Fe.a)(g)&&Object(x.d)(g)?Object(x.d)(g):void 0}).sort(g,pn.slice(0,Pn)),Bn==null||Bn.close()}return fe.limit&&(pn=Object(m.a)(pn,fe.limit)),fe.returnMetadata||(pn=pn.map(Bn=>Bn.item)),Pe(),pn||[]}h(V,"processFetchedEntities");function he(g,P){return Object(c.a)(g,(F,K)=>{const fe=We(K),Me=P[K];return F.map(Te=>{const xe=Me&&Me.has(Te.item.id)?"remote":"local";return{...Te,type:fe,source:xe}})})}h(he,"addResultMetadata");function We(g){switch(g){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"links":return"link";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";default:return"other"}}h(We,"getTypeFromGroup");function Ct(g,P,F,K){const{files:fe,members:Me,channels:Te,userGroups:xe,broadcastKeywords:He,emoji:ze}=P.entities,{members:Be,channels:Mt,userGroups:Pt}=F.entities,Qt=Object(mt.h)(g);let tn={},pt="";K!=null&&K.length&&(pt=Array.isArray(K)?"@":K.charAt(0)),(pt==="@"||pt==="\uFF20")&&(Me||xe||He||fe)?(Me&&(tn.members=Gt(Me,Be)),xe&&(tn.userGroups=Gt(xe,Pt)),He&&(tn.broadcastKeywords=Gt(He,{})),fe&&Qt&&(tn.files=Gt(fe,{}))):(pt==="#"||pt==="\uFF03")&&Te?tn.channels=Gt(Te,Mt):pt===":"&&ze?tn.emoji=Gt(ze,{}):tn=Object.keys(P.entities).reduce((Bn,Nn)=>{const Gn=P.entities[Nn];return Gn&&(Bn[Nn]=Gt(Gn,F.entities[Nn])),Bn},{});var At;const an=Gt((At=P==null?void 0:P.sort)!==null&&At!==void 0?At:{},F.sort);var $t;const Mn=($t=P.limit)!==null&&$t!==void 0?$t:F.limit;var Cn;const Rn=(Cn=P.fuzzyLimit)!==null&&Cn!==void 0?Cn:F.fuzzyLimit;var An;const On=(An=P.fuzzyJumpLimit)!==null&&An!==void 0?An:F.fuzzyJumpLimit,bn=P.fuzzyCJK||F.fuzzyCJK,Pn=P.tiered,pn=P.filter,Wn=P.allowEmptyQuery,Fn=P.returnMetadata||F.returnMetadata;return an&&(an.model=an.model||Object(st.b)()),{entities:tn,sort:an,limit:Mn,tiered:Pn,filter:pn,allowEmptyQuery:Wn,fuzzyLimit:Rn,fuzzyJumpLimit:On,fuzzyCJK:bn,returnMetadata:Fn}}h(Ct,"getAllOptions");function Gt(g,P){if(!P||g===!1)return g;const F=g===!0?{}:g,K=P===!0?{}:P;return Object(E.a)(F,K)}h(Gt,"mergeOptions");function sn(g){const{members:P,channels:F,teams:K,userGroups:fe,appActions:Me,files:Te}=g.entities;(P||F||K||fe||Me||Te)&&ge.b.pauseRefetchIndefinitely()}h(sn,"pauseConditionalFetching");function Pe(){ge.b.unpauseRefetchImmediately()}h(Pe,"unpauseConditionalFetching"),Object(Le.a)("searcher",{search:(g,P)=>Object(jt.dispatchForTeamId)(g,ls({options:P})),searchLocal:(g,P)=>{const F=Object(jt.getStateByTeamId)(g);return Ts(F,{options:P})}})},cqtq:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t,a,r){let l,o;const i=(r??window).cancelAnimationFrame,u=(r??window).requestAnimationFrame;return function(){for(var d=arguments.length,m=new Array(d),c=0;c<d;c++)m[c]=arguments[c];i(o),l=(r??window).performance.now();const E=h(f=>{f>l+a?t(...m):o=u(E)},"callback");return o=u(E),o}}h(s,"debounceRAF")},ctdj:function(H,n,e){H.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},cthg:function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});var s;(function(a){a.Screen="screen",a.Window="window",a.Other="other",a.None="none"})(s||(s={}));var t;(function(a){a.DesktopScreen="desktop:screen",a.DesktopWindow="desktop:window",a.DesktopUnknown="desktop:unknown",a.BrowserContent="browser:content",a.MobileScreen="mobile:screen",a.Unknown="unknown"})(t||(t={}))},"d/FZ":function(H,n,e){"use strict";var s=e("+l5E"),t=e("ssje"),a=e("JQ3U");const r=h(l=>!!(Object(s.fb)(l)||Object(s.bb)(l)||Object(a.a)(l)||Object(t.a)(l)),"isNonHumanMessage");n.a=r},d3B0:function(H,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"c",function(){return o}),e.d(n,"f",function(){return u}),e.d(n,"g",function(){return d}),e.d(n,"d",function(){return m}),e.d(n,"b",function(){return c}),e.d(n,"h",function(){return p}),e.d(n,"i",function(){return A}),e.d(n,"e",function(){return I});var s=e("F294"),t=e("G4qV"),a=e("AFNo");const r=Object(a.c)(_=>_.device.devices);r.meta={name:"createSelector",key:"createSelectorgetDevices",description:_=>_.device.devices};const l=Object(a.c)(_=>_.device.sinkDevice);l.meta={name:"createSelector",key:"createSelectorgetSinkDevice",description:_=>_.device.sinkDevice};const o=Object(a.c)((_,M)=>Object(s.a)(_.device.devices[M]));o.meta={name:"createSelector",key:"createSelectorgetPreferredDevice",description:(_,M)=>Object(s.a)(_.device.devices[M])};const i=Object(a.c)(_=>_.device.isMicrophoneBlockedByBrowser);i.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedByBrowser",description:_=>_.device.isMicrophoneBlockedByBrowser};const u=Object(a.c)(_=>_.device.isCameraBlockedByBrowser);u.meta={name:"createSelector",key:"createSelectorisCameraBlockedByBrowser",description:_=>_.device.isCameraBlockedByBrowser};const d=Object(t.a)(r,i,(_,M)=>f(_)&&!M),m=Object(t.a)(r,u,(_,M)=>O(_)&&!M),c=Object(t.a)(r,u,(_,M)=>{var y,j;if(!(!O(_)||M))return _==null||(y=_.camera)===null||y===void 0||(j=y[0])===null||j===void 0?void 0:j.id}),E=Object(a.c)(_=>_.device.previewStreams);E.meta={name:"createSelector",key:"createSelectorgetPreviewStreams",description:_=>_.device.previewStreams};function f(_){return _.microphone.length>0}h(f,"isMicrophoneAvailableInDevices");function O(_){return _.camera.length>0}h(O,"isCameraAvailableInDevices");function p(_){return _.microphone.some(M=>M.label!==void 0)}h(p,"isMicrophoneAvailableForCapturingInDevices");function b(_){return _.camera.some(M=>M.label!==void 0)}h(b,"isCameraAvailableForCapturingInDevices");function T(_){return _.output.some(M=>M.label!==void 0)}h(T,"isOutputAvailableForDisplay");const v=Object(a.c)(_=>_.device.isMicrophoneBlockedBySystem);v.meta={name:"createSelector",key:"createSelectorisMicrophoneBlockedBySystem",description:_=>_.device.isMicrophoneBlockedBySystem};const S=Object(a.c)(_=>_.device.isCameraBlockedBySystem);S.meta={name:"createSelector",key:"createSelectorisCameraBlockedBySystem",description:_=>_.device.isCameraBlockedBySystem};const A=Object(t.a)(i,v,(_,M)=>_||M),I=Object(t.a)(u,S,(_,M)=>_||M)},dDdQ:function(H,n,e){"use strict";e.d(n,"a",function(){return y}),e.d(n,"b",function(){return j});var s=e("SQ0V"),t=e("TBTs"),a=e("sypA"),r=e("xgMo"),l=e("s4P+"),o=e("ASxg"),i=e("6KE7"),u=e("7LcW"),d=e("Tkkt"),m=e("3fJ/"),c=e("k2tO"),E=e("C3NW"),f=e("pQQO"),O=e("sjOx"),p=e("kZhr"),b=e("vkL2");const T=Object(s.c)("Clear query session data on session expiration",C=>{C(Object(m.J)({querySessionTimeoutId:null})),C(Object(E.a)()),C(Object(d.g)({windowId:p.a})),C(Object(f.c)({query:"",inputId:O.x.OMNISWITCHER})),C(Object(m.m)({windowId:p.a}))});T.meta={name:"createThunk",key:"createThunkclearQuerySessionData",description:"Clear query session data on session expiration"};const v=Object(s.c)("Clear search session data on session expiration",C=>{C(Object(m.N)({sessionTimeoutId:null})),C(Object(c.a)()),C(Object(d.g)({windowId:p.a})),C(Object(f.c)({query:"",inputId:O.x.OMNISWITCHER})),C(Object(m.m)({windowId:p.a})),C(Object(b.a)({windowId:p.a}))});v.meta={name:"createThunk",key:"createThunkclearSearchSessionData",description:"Clear search session data on session expiration"};var S=e("zqr2"),A=e("qQXB"),I=e("HKlo"),_=e("gpLM"),M=e("rZ8V");const y=Object(s.c)("Clear session timeouts on search mount",(C,D)=>{const N=D(),B=Object(M.o)(N);Object(t.E)(N)?(Object(l.a)({getState:D}).info(o.a,"Navigated to search page and session is already active: Clearing timer"),C(Object(a.a)())):Object(r.b)(N)||(Object(l.a)({getState:D}).info(o.a,"Navigated to search page without active session: Starting new session"),C(Object(i.b)())),Object(t.i)(N)||(C(Object(m.r)({lastOpenMethod:"history"})),C(Object(A.n)({method:"history"}))),C(Object(_.c)({focusKey:B?I.c.Search:I.c.PAGE_CONTENT_SEARCH_PAGE,forceFocus:!0}))});y.meta={name:"createThunk",key:"createThunkclearSessionTimeoutsOnSearchMount",description:"Clear session timeouts on search mount"};const j=Object(s.c)("Start session timeouts on search unmount",(C,D)=>{const N=D(),B=O.x.OMNISWITCHER;if(!Object(u.a)(N,B))return;Object(l.a)({getState:D}).info(o.a,"Navigated from search page with active query: Starting timeout to clear session");const L=setTimeout(()=>{const U=D();Object(t.A)(U)===L&&C(T())},S.a);C(Object(m.J)({querySessionTimeoutId:L}));const R=setTimeout(()=>{const U=D();Object(t.E)(U)===R&&C(v())},S.b);C(Object(m.N)({sessionTimeoutId:R})),C(Object(A.h)()),C(Object(m.r)({lastOpenMethod:null}))});j.meta={name:"createThunk",key:"createThunkstartSessionTimeoutsOnSearchUnmount",description:"Start session timeouts on search unmount"}},dHXs:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("ifKl"),l=e("nNoG"),o=e("ktUG"),i=e("d/Q8"),u=e("DhzV"),d=e("Trx9"),m=e("qDEp"),c=e("Tevt"),E=e("rAyg");function f(){return f=Object.assign||function(T){for(var v=1;v<arguments.length;v++){var S=arguments[v];for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(T[A]=S[A])}return T},f.apply(this,arguments)}h(f,"_extends");const O=new l.b("trials"),p=h(T=>{let{children:v,reason:S,context:A,promoType:I,promoSubtype:_,onClick:M,onRequestComplete:y=r.a,useLink:j,refToForward:C,...D}=T;const N=Object(a.useDispatch)(),[B,L]=Object(s.useState)(!1),[R,U]=Object(s.useState)(!1),W=h(()=>{L(!0),U(!1)},"handleError"),x=Object(s.useCallback)(()=>{R||(U(!0),L(!1),N(Object(i.a)({reason:S,campaignType:I,campaignSubType:_,context:A})).then(se=>{let{trial_expiration_date:ee}=se;N(Object(u.e)(!0)),y({trialExpirationDate:ee}),ee||W()}).catch(W))},[N,S,I,_,A,y,R]),G=Object(s.useCallback)(()=>{x(),M==null||M()},[M,x]),w=j?t.a.createElement(c.a,f({ref:C},D,{onClick:G}),v):t.a.createElement(m.c,f({ref:C},D,{onClick:G,loading:R}),v);return t.a.createElement(d.a,{eventId:o.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0},w,B&&t.a.createElement(E.a,{icon:"exclamation-circle",shouldAutoFade:!1,iconClassName:"align_self_start"},O.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");p.displayName="TrialStartCTABase";const b=t.a.forwardRef((T,v)=>t.a.createElement(p,f({},T,{refToForward:v})));n.a=b},dKQz:function(H,n,e){"use strict";e.d(n,"C",function(){return t}),e.d(n,"U",function(){return a}),e.d(n,"P",function(){return r}),e.d(n,"T",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"g",function(){return u}),e.d(n,"r",function(){return d}),e.d(n,"s",function(){return m}),e.d(n,"q",function(){return c}),e.d(n,"a",function(){return E}),e.d(n,"ab",function(){return f}),e.d(n,"Z",function(){return O}),e.d(n,"cb",function(){return p}),e.d(n,"c",function(){return b}),e.d(n,"b",function(){return T}),e.d(n,"N",function(){return v}),e.d(n,"R",function(){return S}),e.d(n,"j",function(){return A}),e.d(n,"k",function(){return I}),e.d(n,"H",function(){return _}),e.d(n,"t",function(){return M}),e.d(n,"I",function(){return y}),e.d(n,"L",function(){return j}),e.d(n,"W",function(){return C}),e.d(n,"i",function(){return D}),e.d(n,"db",function(){return N}),e.d(n,"d",function(){return B}),e.d(n,"Y",function(){return R}),e.d(n,"bb",function(){return U}),e.d(n,"X",function(){return W}),e.d(n,"D",function(){return G}),e.d(n,"w",function(){return w}),e.d(n,"G",function(){return se}),e.d(n,"F",function(){return ee}),e.d(n,"E",function(){return X}),e.d(n,"O",function(){return Oe}),e.d(n,"S",function(){return Ce}),e.d(n,"J",function(){return le}),e.d(n,"o",function(){return de}),e.d(n,"M",function(){return ie}),e.d(n,"Q",function(){return pe}),e.d(n,"K",function(){return ne}),e.d(n,"p",function(){return q}),e.d(n,"m",function(){return ce}),e.d(n,"n",function(){return ge}),e.d(n,"v",function(){return be}),e.d(n,"A",function(){return Q}),e.d(n,"V",function(){return re}),e.d(n,"l",function(){return z}),e.d(n,"y",function(){return Y}),e.d(n,"u",function(){return ve}),e.d(n,"B",function(){return Z}),e.d(n,"z",function(){return $}),e.d(n,"h",function(){return te}),e.d(n,"x",function(){return Qe});var s=e("DwFS");const t=Object(s.a)("Set flag to indicate if Huddles is enabled.");t.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const a=Object(s.a)("Stores audio reference that will be passed to SDK");a.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const r=Object(s.a)("Start video shariing");r.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const l=Object(s.a)("Stop video shariing");l.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const o=Object(s.a)("Connect to Huddle media server");o.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const i=Object(s.a)("Leave the huddle and stop media transmission");i.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const u=Object(s.a)("Enable or disable local microphone");u.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const d=Object(s.a)("Send an emoji reaction");d.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const m=Object(s.a)("Send a sticky emoji reaction");m.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const c=Object(s.a)("Send a mute request");c.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const E=Object(s.a)("Insert new active huddle reference with teamId channelId, etc.");E.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const f=Object(s.a)("Upsert existing active huddle reference");f.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const O=Object(s.a)("Upsert existing active huddle channel");O.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const p=Object(s.a)("Set active huddle invite");p.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const b=Object(s.a)("Clear invite for given channel ID");b.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const T=Object(s.a)("Clear all invites regardless of channel ID");T.meta={name:"createAction",key:"createActionclearAllInvites",description:"Clear all invites regardless of channel ID"};const v=Object(s.a)("Start screen share for current user with given mediaSourceId");v.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const S=Object(s.a)("Stop screen share for current user");S.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const A=Object(s.a)("Notify peers of changes to isDrawEnabled");A.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const I=Object(s.a)("Enabled annotations for screen share host");I.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const _=Object(s.a)("Notify middleware that a new preferred device was selected");_.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const M=Object(s.a)("Notify middleware that automatic gain control setting has changed");M.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const y=Object(s.a)("Notify middleware that noise suppression setting has changed");y.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const j=Object(s.a)("Notify middleware that video background setting has changed");j.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const C=Object(s.a)("Toggle global keyboard shortcut support for muting / unmuting a huddle");C.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const D=Object(s.a)("Internal store update for mini-panel visibility");D.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const N=Object(s.a)("Upsert join credentials for a channel");N.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const B=Object(s.a)("Clear the join credentials for a specific channel");B.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const L=Object(s.a)("Store and/or remote push Chime meeting events");L.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const R=Object(s.a)("Transition from the prejoin state to started");R.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const U=Object(s.a)("Action to update the store to either show or hide discovery banner");U.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const W=Object(s.a)("Toggle Video");W.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const x=Object(s.a)("Reporting CPU and memory usage stats");x.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const G=Object(s.a)("Set true to specify that lounge music is playing, false otherwise.");G.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const w=Object(s.a)("Set current focused view type");w.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const se=Object(s.a)("Set last huddle start time");se.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const ee=Object(s.a)("Set last huddle end time");ee.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const X=Object(s.a)("Set last huddle duration time");X.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const me=Object(s.a)("Toggle video background filter");me.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const Oe=Object(s.a)("Starts the video preview on the video element using the specified device");Oe.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const Ce=Object(s.a)("Stops the video preview on the video element");Ce.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const le=Object(s.a)("Identifies which screenshare is being viewed in the mini-player");le.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const de=Object(s.a)("Resets the store");de.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const ie=Object(s.a)("Start the canvas jukebox using content share");ie.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const pe=Object(s.a)("Stop the canvas jukebox");pe.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const ne=Object(s.a)("Set selected song");ne.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const q=Object(s.a)("Send jukebox active song");q.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const ce=Object(s.a)("Request a jukebox song");ce.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const ge=Object(s.a)("Request the jukebox stops");ge.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const be=Object(s.a)("Sets whether the active invite card in the sidebar can be rendered");be.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const Q=Object(s.a)("Sets whether the huddle window of an active huddle is in focus or not.");Q.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const re=Object(s.a)("Sets whether the huddle window of an active huddle is open or not.");re.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const z=Object(s.a)("Reports to the SDK when the client is offline");z.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const Y=Object(s.a)("Sets whether audio only mode is active or not.");Y.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const ve=Object(s.a)("Sets whether the camera was enabled when audio only mode was activated.");ve.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const Z=Object(s.a)("Sets whether the huddle window of an active huddle is open or not.");Z.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const $=Object(s.a)("True if huddle mini player is hidden, false if shown.");$.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const te=Object(s.a)("Asks for video permission and enumerates devices");te.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const J=Object(s.a)("Execute readiness check for audio input");J.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const k=Object(s.a)("Execute readiness check for audio output");k.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const ae=Object(s.a)("Execute readiness check for video input");ae.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const Ee=Object(s.a)("Execute readiness check for a particular camera resolution");Ee.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const _e=Object(s.a)("Execute readiness check for audio connectivity");_e.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const je=Object(s.a)("Execute readiness check for video connectivity");je.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const Ue=Object(s.a)("Execute readiness check for content share connectivity");Ue.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const Ke=Object(s.a)("Execute readiness check for network UDP connectivity");Ke.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const ke=Object(s.a)("Execute readiness check for network TCP connectivity");ke.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Qe=Object(s.a)("Sets that the Huddle was joined via prejoin");Qe.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"}},dNN9:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("YUBf");const l=h(o=>{let{children:i,className:u}=o;return t.a.createElement(r.e,{className:Object(a.default)("p-upgrades_modal__content_section",u)},i)},"ModalBody");n.a=l},dUj5:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Add a placeholder to the store");t.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const a=Object(s.a)("Remove a placeholder from the store by client_msg_id");a.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},dVMU:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("ktUG"),t;(function(i){i.Start="/",i.Find="/find",i.Create="/create",i.CreateNew="/createnew",i.Confirm="/confirm",i.Check="/check",i.FindAgain="/find_again",i.Email="/email",i.Error="/error",i.ConfirmationCode="/confirmemail",i.DomainClaimed="/domain",i.Landing="/landing",i.ConfirmTrust="/confirmtrust",i.IgnoreInvite="/ignoreinvite",i.SignIn="/signin",i.Workspaces="/workspaces",i.SharedInviteLoggedOut="/sharedinvite",i.SharedInviteLanding="/sharedinvitelanding",i.SelectWorkspaces="/select",i.AppleSignIn="/apple",i.AddName="/addname"})(t||(t={}));var a;(function(i){i.SharedChannelInviteAlreadyAccepted="invite_used",i.SharedChannelInviteInvlidLink="invalid_link",i.DirectMessageInviteInactive="inactive_invite",i.Generic="generic"})(a||(a={}));const r={[t.Start]:s.UiStep.START_WITH_A_WORKSPACE,[t.Create]:s.UiStep.CREATE_NEW_WORKSPACE,[t.CreateNew]:s.UiStep.CREATE_NEW_WORKSPACE,[t.Find]:s.UiStep.FIND_YOUR_WORKSPACE,[t.Check]:s.UiStep.CHECK_YOUR_EMAIL,[t.FindAgain]:s.UiStep.FIND_YOUR_WORKSPACE,[t.Email]:s.UiStep.ENTER_EMAIL,[t.Confirm]:s.UiStep.ENTER_EMAIL,[t.Error]:s.UiStep.GET_STARTED_ERROR,[t.ConfirmationCode]:s.UiStep.GET_STARTED_CONFIRM_CODE,[t.DomainClaimed]:s.UiStep.GET_STARTED_DOMAIN_CLAIMED,[t.Landing]:s.UiStep.GET_STARTED_CREATOR_LANDING,[t.SignIn]:s.UiStep.GET_STARTED_SIGN_IN,[t.Workspaces]:s.UiStep.GET_STARTED_WORKSPACES,[t.SharedInviteLoggedOut]:s.UiStep.SHARED_INVITE_LOGGED_OUT,[t.SharedInviteLanding]:s.UiStep.SHARED_INVITE_LANDING,[t.SelectWorkspaces]:s.UiStep.GET_STARTED_SELECT_WORKSPACES,[t.AppleSignIn]:s.UiStep.GET_STARTED_APPLE_SIGN_IN,[t.ConfirmTrust]:s.UiStep.GET_STARTED_CONFIRM_TRUST,[t.IgnoreInvite]:s.UiStep.GET_STARTED_IGNORE_INVITE,[t.AddName]:s.UiStep.GET_STARTED_ADD_NAME};var l;(function(i){i.Invited="invited",i.Joined="joined",i.Whitelisted="whitelisted"})(l||(l={}));var o;(function(i){i.Email="email",i.GoogleIdToken="google_id_token",i.Apple="apple_id_token"})(o||(o={}))},dbKp:function(H,n,e){H.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},dedX:function(H,n,e){"use strict";var s=e("n3tL"),t=e("Kyco"),a=e("I3Q6");const r={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},l=Object(t.b)({},r,{storeKey:"connectivity",persistenceEnabled:!1}).on(a.b,(o,i)=>({...o,serviceOnline:!!i})).on(a.c,o=>o===r?{...o,lastSocketActivity:Date.now()}:(o.lastSocketActivity=Date.now(),o)).on(a.a,(o,i)=>({...o,clientOnline:!!i,lastClientConnection:Date.now()})).on(a.d,o=>({...o,lastSocketConnection:Date.now()}));l.propTypes={serviceOnline:s.default.bool.isRequired,lastSocketActivity:s.default.number.isRequired,clientOnline:s.default.bool.isRequired,lastClientConnection:s.default.number.isRequired,lastSocketConnection:s.default.number},n.a=l},djjd:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("Yauy"),t=e("E97Y");const a=h((r,l)=>{if(Object(t.h)(l)||!r)return!1;const o=Object(s.K)(l),i=o?r.get(o):null;return i?(i==null?void 0:i.length)>1:!1},"doesChannelHaveNonUniqueName")},dkXW:function(H,n,e){"use strict";e.d(n,"a",function(){return c}),e.d(n,"b",function(){return b}),e.d(n,"d",function(){return S}),e.d(n,"c",function(){return I});var s=e("9oTK"),t=e("TSHB"),a=e("6LPd"),r=e("XhtD"),l=e("1myf"),o=e("3Hq1");function i(){return"0.1"}h(i,"getDevicePrefsVersion");var u=e("WCSk"),d=e("KciV");const m="devicePrefs";function c(_){return Object(t.a)(_,M=>M[0])}h(c,"getPreferredDevices");function E(){return{camera:[],microphone:[u.c,u.b],output:[u.c,u.b]}}h(E,"createDefaultDevicePriority");function f(){return{camera:[],microphone:[],output:[]}}h(f,"createDefaultDeviceExtendedPriority");function O(){return{enableAGC:!0,enableNoiseSuppression:!0}}h(O,"createDefaultAudioPrefs");function p(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}h(p,"createDefaultVideoPrefs");function b(){const _=localStorage.getItem(m),M={version:i(),deviceIdPriorities:E(),deviceIdPrioritiesExtended:f(),video:p(),audio:O()};if(!_)return M;try{const y=JSON.parse(_);return y.version!==i()?M:{...M,...y}}catch(y){return Object(d.c)("DEVICES").error("Could not read device preferences from localStorage: ",y.message),M}}h(b,"readDevicePrefs");function T(_){return v.apply(this,arguments)}h(T,"updateDeviceIdPrioritiesExtended");function v(){return v=Object(s.coroutine)(function*(_){const M={},y=yield navigator.mediaDevices.enumerateDevices();for(const j of Object.keys(_)){const C=[],D=j;for(let N=0;N<_[D].length;N++){const B=_[D][N],L=y.find(R=>R.deviceId===B);L&&C.push({id:L.deviceId,groupId:L.groupId,label:L.label,labelWithoutId:Object(u.g)(L.label)})}M[j]=C}return M}),v.apply(this,arguments)}h(v,"_updateDeviceIdPrioritiesExtended");function S(_){return A.apply(this,arguments)}h(S,"writeDevicePrefs");function A(){return A=Object(s.coroutine)(function*(_){try{const M=yield T(_.deviceIdPriorities),y={..._,deviceIdPrioritiesExtended:M};localStorage.setItem(m,JSON.stringify(y))}catch(M){Object(d.c)("DEVICES").error("Could not write device preferences to localStorage: ",M.message)}}),A.apply(this,arguments)}h(A,"_writeDevicePrefs");function I(_,M){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const j=Object(a.a)(M,Object(r.a)(M.length)),C=Object(a.a)(y.map(D=>D.labelWithoutId),Object(r.a)(y.length));return Object(l.a)(_,D=>{const N=Object(u.g)(D.label);return Object(o.a)(j[D.deviceId])?Object(o.a)(C[N])?1/0:C[N]:j[D.deviceId]})}h(I,"sortDevicesByPriorityWithFallback")},dl0f:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("3bXy"),l=e("CTEJ");const o=new a.b("user_group_token"),{Unknown:i,Nonexistent:u}=r.a,{Small:d,Medium:m}=r.b,c=h(O=>{let{invert:p=!1,size:b=d,type:T=i,subtler:v=!1}=O;const S=T===i?o.t("Loading..."):o.t("Private user group info");if(b===m){const A="\xA0\xA0\xB7\xA0\xA0";return t.a.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.a.createElement("div",null,t.a.createElement(l.a,{tooltip:S,isNonExistent:T===u,size:"small",invert:p})," ",t.a.createElement(l.a,{tooltip:S,isNonExistent:T===u,size:"small",invert:p})),t.a.createElement("div",null,t.a.createElement(l.a,{tooltip:S,isNonExistent:T===u,size:"small",invert:p}),A,t.a.createElement(l.a,{tooltip:S,isNonExistent:T===u,size:"large",invert:p})))}return t.a.createElement(l.a,{tooltip:S,isNonExistent:T===u,size:"random",subtler:v,invert:p})},"MissingUserGroup");c.displayName="MissingUserGroup";var E=c,f=n.a=E},do0Y:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Overwrites our store of the teams in a given externally shared channel");t.meta={name:"createAction",key:"createActionupdateExtSharedChannelTeams",description:"Overwrites our store of the teams in a given externally shared channel"};const a=Object(s.a)("Updates whether or not disconnect is in progress for the given team");a.meta={name:"createAction",key:"createActionupdateIsDisconnectInProgressForTeam",description:"Updates whether or not disconnect is in progress for the given team"}},dqLn:function(H,n,e){"use strict";var s=e("n3tL"),t=e("DwFS");const a=Object(t.a)("(noop) Remove a pinned item via side-effect");a.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},a.propTypes=s.default.shape({item:s.default.object.isRequired,channelId:s.default.string.isRequired}).isRequired,n.a=a},dqxO:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"o",function(){return a}),e.d(n,"l",function(){return i}),e.d(n,"b",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"h",function(){return m}),e.d(n,"j",function(){return c}),e.d(n,"f",function(){return E}),e.d(n,"m",function(){return f}),e.d(n,"i",function(){return O}),e.d(n,"k",function(){return p}),e.d(n,"e",function(){return b}),e.d(n,"g",function(){return T}),e.d(n,"n",function(){return v}),e.d(n,"c",function(){return S});var s=e("DwFS");const t=Object(s.a)("Add an array of devices to the device store");t.meta={name:"createAction",key:"createActionclobberDevices",description:"Add an array of devices to the device store"};const a=Object(s.a)("Set the sink device for media elements");a.meta={name:"createAction",key:"createActionsetSinkDevice",description:"Set the sink device for media elements"};const r=Object(s.a)("Notify middleware of a new preferred device");r.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware of a new preferred device"};const l=Object(s.a)("");l.meta={name:"createAction",key:"createActionrequestPreviewStreamForDeviceId",description:""};const o=Object(s.a)("Stop preview streams");o.meta={name:"createAction",key:"createActionstopPreviewStreams",description:"Stop preview streams"};const i=Object(s.a)("");i.meta={name:"createAction",key:"createActionsetPreviewStreams",description:""};const u=Object(s.a)("Get screen thumbnails");u.meta={name:"createAction",key:"createActiongetScreenThumbnails",description:"Get screen thumbnails"};const d=Object(s.a)("The browser has blocked getUserMedia for cameras");d.meta={name:"createAction",key:"createActionsetCameraIsBlockedByBrowser",description:"The browser has blocked getUserMedia for cameras"};const m=Object(s.a)("The browser has blocked getUserMedia for microphones");m.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedByBrowser",description:"The browser has blocked getUserMedia for microphones"};const c=Object(s.a)("The browser has granted getUserMedia access for microphones");c.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedByBrowser",description:"The browser has granted getUserMedia access for microphones"};const E=Object(s.a)("The browser has granted getUserMedia access for cameras");E.meta={name:"createAction",key:"createActionsetCameraIsGrantedByBrowser",description:"The browser has granted getUserMedia access for cameras"};const f=Object(s.a)("The browser has blocked getUserMedia for screen recording");f.meta={name:"createAction",key:"createActionsetScreenRecordingIsBlockedByBrowser",description:"The browser has blocked getUserMedia for screen recording"};const O=Object(s.a)("The system has blocked getUserMedia access for microphones");O.meta={name:"createAction",key:"createActionsetMicrophoneIsBlockedBySystem",description:"The system has blocked getUserMedia access for microphones"};const p=Object(s.a)("The system has granted getUserMedia access for microphones");p.meta={name:"createAction",key:"createActionsetMicrophoneIsGrantedBySystem",description:"The system has granted getUserMedia access for microphones"};const b=Object(s.a)("The system has blocked getUserMedia access for cameras");b.meta={name:"createAction",key:"createActionsetCameraIsBlockedBySystem",description:"The system has blocked getUserMedia access for cameras"};const T=Object(s.a)("The system has granted getUserMedia access for cameras");T.meta={name:"createAction",key:"createActionsetCameraIsGrantedBySystem",description:"The system has granted getUserMedia access for cameras"};const v=Object(s.a)("The system has blocked screen recording");v.meta={name:"createAction",key:"createActionsetScreenshareRecordingIsBlockedBySystem",description:"The system has blocked screen recording"};const S=Object(s.a)("Check for system media access");S.meta={name:"createAction",key:"createActionmaybeCheckSystemMediaAccess",description:"Check for system media access"};const A=Object(s.a)("Notify middleware that automatic gain control setting has changed");A.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const I=Object(s.a)("Notify middleware that noise suppression setting has changed");I.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"}},e33t:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("SQ0V"),t=e("Q7We"),a=e("8Xig"),r=e("rRi9");const l=Object(s.c)("Remove ephemeral messages by type, channel, and/or thread",(o,i,u)=>{const d=i();Object(a.a)(d,u).forEach(c=>{o(Object(t.a)({channelId:c.channel,ts:c.ts||""})),o(Object(r.b)({ephemeralType:u.ephemeralType,channelId:c.channel,ts:c.ts}))})});l.meta={name:"createThunk",key:"createThunkremoveEphemeralMsgsByType",description:"Remove ephemeral messages by type, channel, and/or thread"}},e4zL:function(H,n,e){"use strict";e.d(n,"g",function(){return t}),e.d(n,"f",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"h",function(){return l}),e.d(n,"a",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"b",function(){return d});var s=e("DwFS");const t=Object(s.a)("Mark emoji collections as fetch (or not fetched");t.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const a=Object(s.a)("Set and replace emoji collections");a.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=Object(s.a)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const l=Object(s.a)("Signals that an emoji collection has been uninstalled");l.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const o=Object(s.a)("Signals that badges should be added post-install");o.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const i=Object(s.a)("Signals that the message input badge should be removed");i.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const u=Object(s.a)("Signals that the message tab badge should be removed from the emoji picker");u.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const d=Object(s.a)("Increments emoji click count");d.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},e7up:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("3bXy");const l=h(i=>{let{className:u,isNonExistent:d=!1,size:m,subtler:c=!1,invert:E=!1,dataQa:f}=i;const{Unknown:O,Nonexistent:p}=r.a,b=d?p:O,T=Object(s.useMemo)(()=>({height:m,width:m}),[m]);return t.a.createElement("span",{className:Object(a.default)(u,"c-missing_icon",`c-missing_icon--${b}`,{"c-missing_icon--unknown_inverted":b===O&&E,"c-missing_icon--non_existent_inverted":b===p&&E,"c-missing_icon--subtler":c}),style:T,"data-qa":f})},"MissingIcon");l.displayName="MissingIcon";var o=n.a=l},eDDn:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return m}),e.d(n,"c",function(){return c});var s=e("nNoG"),t=e("wd/R"),a=e.n(t);const r=new s.b("lists"),l="YYYY-MM-DD";var o;(function(E){E.Today="today",E.Yesterday="yesterday",E.Tomorrow="tomorrow",E.ThisWeek="this_week",E.NextWeek="next_week",E.LastWeek="last_week",E.SinceILastViewed="since_i_last_viewed"})(o||(o={}));const i=h(E=>Object.values(o).includes(E),"isDateFilterOption"),u=h(function(E){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(E){case o.Today:return r.t("Today");case o.Yesterday:return r.t("Yesterday");case o.Tomorrow:return r.t("Tomorrow");case o.ThisWeek:return r.t("This week");case o.NextWeek:return r.t("Next week");case o.LastWeek:return r.t("Last week");case o.SinceILastViewed:return f?r.t("Since last time you viewed"):"Since last time you viewed";default:return E}},"formatDateForMenu"),d=h(E=>{const f=a()(E).startOf("isoWeek"),O=a()(E).endOf("isoWeek"),p=[];let b=f;for(;b<=O;)p.push(b),b=b.clone().add(1,"days");return p},"getWeekdays"),m=h(E=>{let f;switch(E){case o.Today:f=a()().format(l);break;case o.Yesterday:f=a()().subtract(1,"days").format(l);break;case o.Tomorrow:f=a()().add(1,"days").format(l);break;case o.ThisWeek:f=d(a()()).map(O=>O.format(l));break;case o.NextWeek:f=d(a()().add(1,"weeks")).map(O=>O.format(l));break;case o.LastWeek:f=d(a()().subtract(1,"weeks")).map(O=>O.format(l));break;case o.SinceILastViewed:f=a()().format(l);break;default:f=E}return f},"getStaticDateValue"),c=a()().format(l)},eH51:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){var a;return!t||t.metaKey||t.ctrlKey?!1:((a=t.key)===null||a===void 0?void 0:a.length)===1}h(s,"isPrintableKeyEvent")},eWGC:function(H,n,e){"use strict";e.d(n,"b",function(){return m});var s=e("s4P+"),t=e("SQ0V"),a=e("0Wfr"),r=e("VUud"),l=e("Lgge"),o=e("uVZW");const i=Object(t.c)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(c,E,f)=>{const{notificationName:O,...p}=f,b=Object(s.b)();var T;const v=(T=f.reason)!==null&&T!==void 0?T:"record-notification-event";if(!O)return b.error(o.d,"notificationName is required when dispatching recordNotificationEvent."),l.a.resolve();const S={notification:O,...p,reason:v};return c(Object(r.a)(S))});i.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const u=6e4,d=!1,m=Object(a.a)(i,u,d);n.a=i},eb8l:function(H,n,e){H.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},edAB:function(H,n,e){"use strict";e.r(n),e.d(n,"test",function(){return Ia});var s=e("9oTK"),t=e("Omjo"),a=e("4p6e"),r=e("duHP"),l=e("2nP+"),o=e("fkOA"),i=e("25cE"),u=e("Lizi"),d=e("vjDR"),m=e("MXQz"),c=e("lhZz"),E=e("kBpe"),f=e("7xYR"),O=e("Sklr"),p=e("Lgge"),b=e("JJ34"),T=e("mEzS"),v=e("xcHN"),S=e("qMw6"),A=e("bczA"),I=e("2VFn");function _(ft,tt,rt){return!!ft&&(!ft.viewContext||ft.viewContext===S.a.MESSAGE_PANE)&&tt===ft.channelId&&rt!==ft.channelId}h(_,"willEditChannelBecomeInvisible");function M(ft,tt,rt,bt,Nt){return!!ft&&ft.viewContext===S.a.THREAD&&tt===i.w&&rt===Object(v.c)(ft.channelId,ft.threadTs)&&(bt!==i.w||Nt!==Object(v.c)(ft.channelId,ft.threadTs))}h(M,"willEditThreadBecomeInvisible");var y=h(ft=>{let{params:tt={},prevTeamId:rt,nextTeamId:bt,routeName:Nt}=ft;if(rt!==bt)return p.a.resolve();const Jt=Object(c.getStoreInstanceByTeamId)(rt),Ht=Jt.getState(),dn=Object(A.a)(Ht),En=Object(A.b)(Ht),jn=Object(b.b)(Ht,{ignoreViewContext:!0,windowId:String(I.c)});return _(jn,En.entityId,tt.entityId)||M(jn,dn,En.threadId,Nt,tt.threadId)?Jt.dispatch(Object(T.a)({cancelUnsavedEdits:!1,scroll:!0})):p.a.resolve()},"route_listeners_attempt_to_stop_editing_in_channel"),j=e("E3dU"),C=e("Fqb6"),D=e("ohbk"),N=e("q1tI"),B=e.n(N),L=e("n3tL"),R=e("SQ0V"),U=e("oY18"),W=e("beVI"),x=e("G0eX"),G=e("rAyg"),w=e("nNoG");function se(){return se=Object.assign||function(ft){for(var tt=1;tt<arguments.length;tt++){var rt=arguments[tt];for(var bt in rt)Object.prototype.hasOwnProperty.call(rt,bt)&&(ft[bt]=rt[bt])}return ft},se.apply(this,arguments)}h(se,"_extends");const ee=new w.b("unavailable_channel"),X={teamName:L.default.string.isRequired};let me=h(class extends N.PureComponent{render(){const{teamName:tt,...rt}=this.props,bt=ee.t("{teamName} is making some changes to their workspace, so content and conversations shared with them are temporarily unavailable.",{teamName:tt});return B.a.createElement(G.a,se({fadeDelay:1e4,type:"error"},rt),B.a.createElement("span",null,bt))}},"UnavailableMemberToast");me.displayName="UnavailableMemberToast",me.propTypes=X;var Oe=me;const Ce=Object(R.c)("Show unavailable member toast",function(ft,tt){let{teamId:rt}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const bt=tt(),Nt=Object(W.s)(bt,rt),Jt=Object(x.h)(Nt);return ft(Object(U.a)({element:B.a.createElement(Oe,{type:"error",teamName:Jt})}))});Ce.meta={name:"createThunk",key:"createThunkshowUnavailableMemberToast",description:"Show unavailable member toast"},Ce.propTypes={teamId:L.default.string.isRequired};var le=Ce,de=e("xwCZ"),ie=e("C3vN"),pe=e("ehcD"),ne=e("Sl1j"),q=e("Yauy"),ce=e("eUIW"),ge=h(ft=>{let{nextTeamId:tt,params:rt={}}=ft;const bt=Object(c.getStoreInstanceByTeamId)(tt);if(!bt)return p.a.resolve(!0);const Nt=bt.getState();if(!rt.entityId||!Object(ce.a)(rt.entityId))return p.a.resolve();const Jt=rt.entityId,Ht=Object(de.g)(Nt,Jt),dn=Object(ie.ob)(Nt,Ht),En=Object(j.m)(Nt,Jt);return En&&Object(q.jb)(En)?(bt.dispatch(Object(D.a)({id:En.id})),p.a.resolve(!1)):dn?(bt.dispatch(le({teamId:Object(pe.c)(Nt,Ht)})),p.a.resolve(!1)):bt.dispatch(Object(ne.r)({memberIds:[Jt],reason:"sonic/route-listeners/open-conversation-with-member"})).then(function(){let{channel:jn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};return jn&&(bt.dispatch(Object(C.a)({channel:jn})),bt.dispatch(Object(D.a)({id:jn.id}))),p.a.resolve(!1)})},"open_conversation_with_member"),be=e("E97Y"),Q=e("Zbwg"),re=h(ft=>{let{nextTeamId:tt,params:rt={}}=ft;if(!tt)return p.a.resolve();const bt=Object(c.getStoreInstanceByTeamId)(tt),Nt=bt.getState(),Jt=rt.entityId;if(!Jt||!Object(Q.a)(Jt))return p.a.resolve();const Ht=Object(j.d)(Nt,Jt);return!Object(be.i)(Ht)&&!Object(be.g)(Ht)||Object(q.jb)(Ht)?p.a.resolve():bt.dispatch(Object(ne.r)({channel:Jt,reason:"sonic/route-listeners/open-conversation-with-ids",memberIds:[]})).then(function(){let{channel:dn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{channel:void 0};dn&&bt.dispatch(Object(C.a)({channel:dn}))})},"open_conversation_with_ids"),z=e("XZo2"),Y=e("JfJV");function ve(ft,tt){return Z.apply(this,arguments)}h(ve,"ensureChannel");function Z(){return Z=Object(s.coroutine)(function*(ft,tt){const rt=ft.getState(),bt=Object(j.d)(rt,tt,!1);return Object(be.f)(bt)?bt:ft.dispatch(Object(ne.f)({ids:[tt],reason:"sonic/route-listeners/ensure-channel",callSource:ne.a.EnsureChannel})).then(Nt=>{if(!Nt)return;const{channels:Jt,resolved:Ht}=Nt;if(!(!Ht||!Ht.includes(tt)))return Jt[0]})}),Z.apply(this,arguments)}h(Z,"_ensureChannel");var $=function(){var ft=Object(s.coroutine)(function*(tt){let{prevTeamId:rt,nextTeamId:bt,routeName:Nt,params:Jt={}}=tt;const Ht=Object(c.getStoreInstanceByTeamId)(bt);if(!Object(Q.a)(Jt.entityId))return p.a.resolve(void 0);const dn=Jt.entityId;return ve(Ht,dn).then(En=>{if(En&&!Object(q.X)(En))return p.a.resolve(void 0);if(rt!==bt){const jn=Object(z.p)(Ht.getState(),{mainView:!0});return jn===dn?p.a.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):(Object(Y.h)(Nt,{...Jt,entityId:jn},{shouldReplaceState:!0}),p.a.resolve(!1))}return En?p.a.reject(new Error("tried to switch to a channel from another team")):p.a.resolve(!1)})});return function(tt){return ft.apply(this,arguments)}}(),te=e("m8R6"),J=e("GV2D");const k="clear_timestamp";var ae=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,routeName:bt,reason:Nt,params:Jt={}}=ft;const Ht=Object(c.getStoreInstanceByTeamId)(rt),dn=Ht.getState();if(Nt===k||bt===i.e)return;const En=Object(Q.a)(Jt.entityId)&&Jt.entityId,jn=Jt.timestamp,qn=Object(A.b)(dn),ms=Object(Q.a)(qn.entityId)&&qn.entityId;rt===tt&&ms===En&&!jn||En===void 0||(Ht.dispatch(Object(J.a)({channelId:En,startTs:jn,isWorkspaceSwitch:rt!==tt})),jn&&Object(Y.h)(bt,Object(te.a)(Jt,"timestamp"),{reason:k,shouldReplaceState:!0}))},"sync_message_pane"),Ee=e("2XL1"),_e=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,params:bt={}}=ft;const Nt=Object(c.getStoreInstanceByTeamId)(rt),Jt=Nt.getState(),Ht=Object(Q.a)(bt.entityId)&&bt.entityId,dn=Object(A.b)(Jt),En=Object(Q.a)(dn.entityId)&&dn.entityId;!Object(z.t)(Jt)||rt===tt&&En===Ht||Nt.dispatch(Object(Ee.h)(!1))},"close_app_space"),je=e("4hjS"),Ue=e("JoR1"),Ke=e("T1zM"),ke=e("b8K+"),Qe=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,params:bt={}}=ft;if(tt!==rt)return;const Nt=Object(c.getStoreInstanceByTeamId)(rt),Jt=Nt.getState(),Ht=bt.entityId,dn=Object(je.l)(Jt),En=Object(Ue.t)(Jt,ke.a.PREF);En===ke.a.FLEXPANE&&Ht==="activity-page"?Nt.dispatch(Object(Ke.f)({pref:ke.a.PREF,value:ke.a.PAGE})):En===ke.a.PAGE&&dn==="activity"&&Nt.dispatch(Object(Ke.f)({pref:ke.a.PREF,value:ke.a.FLEXPANE}))},"sync_activity_page_view"),Ze=e("arBb"),De=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,params:bt={}}=ft;if(tt!==rt)return;const Nt=Object(c.getStoreInstanceByTeamId)(rt),Jt=Nt.getState(),Ht=bt.entityId,dn=Object(je.l)(Jt),En=Object(Ue.t)(Jt,Ze.b.PREF);En===Ze.b.FLEXPANE&&Ht==="saved-page"?Nt.dispatch(Object(Ke.f)({pref:Ze.b.PREF,value:Ze.b.PAGE})):En===Ze.b.PAGE&&(dn==="starred_items"||dn==="saved")&&Nt.dispatch(Object(Ke.f)({pref:Ze.b.PREF,value:Ze.b.FLEXPANE}))},"sync_saved_page_view"),Fe=e("O2rC"),Ve=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,params:bt}=ft;if(tt!==rt)return;const Nt=Object(c.getStoreInstanceByTeamId)(rt),Jt=Nt.getState(),Ht=bt.entityId,dn=Object(je.l)(Jt),En=Object(Ue.t)(Jt,Fe.a.PREF);En===Fe.a.FLEXPANE&&Ht==="notifications-page"?Nt.dispatch(Object(Ke.f)({pref:Fe.a.PREF,value:Fe.a.PAGE})):En===Fe.a.PAGE&&dn==="notifications"&&Nt.dispatch(Object(Ke.f)({pref:Fe.a.PREF,value:Fe.a.FLEXPANE}))},"sync_notifications_page_view"),Je=e("Q+NC"),Ot=e("PiXb"),ht=e("HPAj");const Le="clear_thread_timestamp";var jt=h(ft=>{let{nextTeamId:tt,routeName:rt,reason:bt,params:Nt={}}=ft;const Jt=Object(c.getStoreInstanceByTeamId)(tt),Ht=Jt.getState(),dn=I.c;if(bt===Le)return;const jn=Object(A.b)(Ht).threadId;Nt.replyTs?Object(ht.a)(Ht)?Jt.dispatch(Object(Ot.g)({windowId:dn,threadKey:Nt.threadId,ts:Nt.replyTs})):Jt.dispatch(Object(Je.d)(Nt.replyTs)):Nt.threadId!==jn&&(Object(ht.a)(Ht)?Jt.dispatch(Object(Ot.d)({windowId:dn,threadKey:Nt.threadId})):Jt.dispatch(Object(Je.c)())),Nt.replyTs&&Object(Y.h)(rt,Object(te.a)(Nt,"replyTs"),{reason:Le,shouldReplaceState:!0})},"sync_thread_flexpane");const Ut={CLEAR_THREAD_TS_REASON:Le};var Ie=e("S36j"),oe=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,params:bt={}}=ft;if(tt!==rt)return;const Nt=Object(c.getStoreInstanceByTeamId)(rt),Jt=Nt.getState(),Ht=Object(A.a)(Jt),En=Object(A.b)(Jt).entityId,jn=bt.entityId;if(En!==jn){const qn=Object(je.b)(Jt);qn&&["channel_page","group_page","im_page"].includes(qn)&&Nt.dispatch(Object(Ie.c)({flexOrigin:void 0}));const ms=Object(je.e)(Jt);if(Object(Q.a)(jn)&&ms&&(Ht===i.b||Ht===i.f)){Nt.dispatch(Object(Ie.d)({flexRestore:void 0}));const xs=ms.routeName,ps={...bt,...ms.params};Object(Y.h)(xs,ps,{reason:"flex-restore",shouldReplaceState:!0});return}jn!=="browse-channels"&&Ht===i.f&&Object(Y.h)(i.b,bt,{reason:"close-inspector",shouldReplaceState:!0})}},"sync_flexpane"),ye=e("t4eE"),Ne=e("Afhv"),Ge=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,routeName:bt,params:Nt}=ft;if(Object(ye.b)()||tt===rt)return!0;const Jt=Object(Y.k)(bt,{...Nt,teamId:rt});if(!rt)return!0;const Ht=Object(c.getStateForClientStore)(),dn=Object(f.getWorkspacesMeta)(Ht),En=dn&&dn[rt]&&dn[rt].subdomain,jn=Object(ye.a)(En)||`_team_${rt}`;return Object(Ne.a)(Jt,jn),!1},"maybe_open_other_team_in_browser"),st=e("H9Gx"),$e=e("gE2U"),It=h(ft=>{let{prevTeamId:tt,nextTeamId:rt}=ft;if(!Object(ye.b)()||tt===rt||!rt)return!0;if(Object($e.a)(rt,tt))return!1;const bt=Object(c.getStateForClientStore)();return Object(f.isWorkspaceExpired)(bt,rt)||Object(f.isWorkspacePendingAuth)(bt,rt)?(Object(st.a)(rt),!1):!0},"maybe_finish_signin"),Lt=h(ft=>{let{routeName:tt,params:rt={}}=ft;const{entityId:bt}=rt;return bt&&Object(i.C)(bt)?(Object(Y.h)(tt,{...rt,entityId:i.a[bt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity"),St=e("0zWI"),vt=e("tstp"),Yt=h(ft=>{let{prevTeamId:tt,nextTeamId:rt}=ft;return tt!==rt?Object(c.dispatchForClientStore)(Object(vt.d)(!0)):Object(c.dispatchForClientStore)(Object(vt.d)(!1))},"set_should_log_team_switch_metrics"),et=e("j77i"),Ft=h(ft=>{let{nextTeamId:tt,routeName:rt,params:bt}=ft;const Nt={routeName:rt,params:bt};return tt&&Object(et.x)(tt,"lastRoute",Nt),!0},"save_route_to_local_config"),mt=e("2Pfg"),Zt=e("qLhO"),gt=e("KiUf");function at(ft){let{prevTeamId:tt}=ft;const rt=Object(c.getStoreInstanceByTeamId)(tt);return Object(Zt.b)(rt.getState())&&(rt.dispatch(Object(gt.a)(!0)),mt.a.delete("setNavigatedDuringWarmBoot")),p.a.resolve()}h(at,"setNavigatedDuringWarmBoot");var it=e("r6fw"),dt=e("Kn+X"),_t=e("EzPs"),Dt=e("gCYc"),Ye=e("fPvm");function Xe(ft){let{params:tt,prevRouteInfo:rt,prevTeamId:bt}=ft;const Nt=rt==null?void 0:rt.params;if(!Nt||Nt.entityId!=="composer"||!Nt.draftId||Nt.draftId===(tt==null?void 0:tt.draftId))return!0;const{dispatch:Jt,getState:Ht}=Object(c.getStoreInstanceByTeamId)(bt),dn=Ht(),En=Object(it.a)(Nt.draftId);if(!En)return!0;const jn=Object(Dt.k)(dn,En);return Object(dt.x)(jn,{trimWhitespace:!0})||Object(_t.a)(dn,jn)||Jt(Object(Ye.a)({ids:[En],reason:"draftsListenerBefore"})),!0}h(Xe,"draftsListenerBefore");var kt=e("lCmp"),Bt=e("fujP"),wt=e("m5fH"),we=e("OZf9"),ot=e("UthN");const yt=Object(R.c)("Delete composer drafts without text, destination, or files",function(ft,tt){let{ignoredDraftIds:rt=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const bt=tt(),Nt=Object(Dt.l)(bt);if(Object(Bt.a)(Nt))return;const Jt=[];Object(we.a)(Nt,(Ht,dn)=>{var En;Object(ot.a)(bt,Ht)&&(!(rt==null||(En=rt.includes)===null||En===void 0)&&En.call(rt,dn)||Jt.push(dn))}),!Object(Bt.a)(Jt)&&ft(Object(Ye.a)({ids:Jt,reason:"deleteEmptyDrafts"}))});yt.meta={name:"createThunk",key:"createThunkdeleteEmptyDrafts",description:"Delete composer drafts without text, destination, or files"};var Kt=yt,Xt=e("Z9Pi");function cn(ft){let{prevTeamId:tt,nextTeamId:rt,params:bt={}}=ft;const{dispatch:Nt,getState:Jt}=Object(c.getStoreInstanceByTeamId)(rt);let Ht=Jt();const dn=Object(je.l)(Ht),En=Object(Dt.n)(Ht),{entityId:jn,threadId:qn}=bt,{threadTs:ms}=Object(Xt.a)(qn);if(rt===tt){const ps=Object(it.a)(bt.draftId);Nt(Kt({ignoredDraftIds:ps?[ps]:[]})),Ht=Jt()}!Object(Ue.t)(Ht,"has_drafted_message")&&(Object(kt.a)(Object(Dt.l)(Ht),ps=>!Object(ot.a)(Ht,ps))||Object(kt.a)(Object(Dt.c)(Ht),ps=>!Object(ot.a)(Ht,ps)))&&Nt(Object(Ke.f)({pref:"has_drafted_message",value:!0}));const xs=En!=null&&En.length?En.filter(ps=>{const{channelId:ia,threadTs:Ms}=Object(Xt.a)(ps);return Ms?dn!=="thread"||!ms||ms!==Ms:jn!==ia}):[];return Object(Bt.a)(xs)||Nt(Object(wt.e)({draftIds:xs})),!0}h(cn,"draftsListenerAfter");var gn=e("l1I1"),vn=e("sjEp"),lt=e("u+Mq"),ct=e("KtMe"),Rt=e("n2bd"),zt=e("qqLp"),mn=e("PJXs"),fn=e("tBN+"),ln=e("pFY2"),Ln=e("hjzp"),In=e("HKYg"),Dn=e("CnKg"),_n=e("WUSA"),qe=e("gPPH"),Et=e("s4P+"),Wt=e("Z6bF");const qt=new w.b("client");function nn(ft){let{entityId:tt,routeName:rt}=ft;return!!(tt==="browse-files"&&rt===i.i||tt==="browse-people"&&rt===i.s||tt==="browse-user-groups"&&rt===i.x||tt==="slack-connect"&&rt===i.s||Object(gn.a)(tt)&&(rt===i.w||rt===i.e||rt===i.o)||Object(Q.a)(tt)&&rt===i.w||Object(Q.a)(tt)&&rt===i.s||Object(Q.a)(tt)&&rt===i.x||Object(Q.a)(tt)&&rt===i.i||Object(Q.a)(tt)&&rt===i.o||[i.k,i.l,i.A,i.u,i.h].includes(rt))}h(nn,"isSupportedRoute");function rn(ft){let{nextEntityId:tt,routeName:rt,threadId:bt,state:Nt}=ft;if(Object(Q.a)(tt)&&rt===i.w&&bt){if(Object(q.Y)(Nt,tt))return!0;const{channelId:Jt}=Object(v.a)(bt);if(Jt===tt)return!0;const Ht=Object(j.d)(Nt,tt),{fileId:dn}=Object(Wt.a)(Ht),En=dn?Object(Ln.a)(dn):null;return En?Jt===En:!1}return!0}h(rn,"isRouteValidDetailViewForEntityId");function hn(ft){return en.apply(this,arguments)}h(hn,"summaryDetailListener");function en(){return en=Object(s.coroutine)(function*(ft){let{params:tt,prevRouteInfo:rt,reason:bt,routeName:Nt,uuid:Jt}=ft;const{entityId:Ht}=tt,dn=tt.teamId||tt.teamOrEnterpriseId,{entityId:En}=(rt==null?void 0:rt.params)||{},{dispatch:jn,getState:qn}=Object(c.getStoreInstanceByTeamId)(dn),ms=qn();if(!Object(vn.a)(ms))return;if(bt===ct.c){Object(Et.a)({getState:qn}).info("SUMMARY_DETAIL",`[${Jt}]`,"Returning early"),Nt===i.b&&jn(Object(_n.a)({message:qt.t("Secondary view has closed"),uuid:Object(qe.a)()}));return}if(bt===ct.a||bt===k||bt===Le||!dn||!Ht)return;if(Object(gn.a)(En)&&Object(gn.a)(Ht)){const os=Object(Dn.i)(En),ua=Object(Dn.i)(Ht),ea=ua.versionId,Wa=os.fileIdOrQuipThreadId===ua.fileIdOrQuipThreadId;if(ea&&Wa)return}const ps=Object(mn.b)(ms,{entityId:Ht}),ia=rn({nextEntityId:Ht,routeName:Nt,threadId:tt.threadId,state:ms});if(En===Ht&&ia){if(nn({entityId:Ht,routeName:Nt})){let os=tt;if(Nt===i.o&&tt.quipDocId&&Object(gn.a)(tt.quipDocId)){const{fileIdOrQuipThreadId:ua}=Object(Dn.i)(tt.quipDocId),ea=Object(Dn.h)({id:ua});os={...tt,quipDocId:ea,channelCanvasId:tt.channelCanvasId?ea:void 0}}jn(Object(zt.a)({entityId:Ht,item:{params:os,routeName:Nt,origin:Object(In.a)()?"channel_canvas":void 0}})),Object(Et.a)({getState:qn}).info("SUMMARY_DETAIL",`[${Jt}]`,"Set detail view for",Ht)}else if(ps&&bt!=="open-primary-with-thread"){jn(Object(Rt.a)({entityId:Ht})),Object(Et.a)({getState:qn}).info("SUMMARY_DETAIL",`[${Jt}]`,"Removing detail view for",Ht);const os=Object(ln.b)(ms,{...tt,entityId:Ht,teamId:dn});if(os&&!Object(ln.a)(rt,os)&&(Object(Y.h)(os.routeName,os.params,{reason:ct.a,shouldReplaceState:!0}),ps.origin==="channel_canvas")){var Ms;jn(Object(lt.b)({params:{entityId:(Ms=os.params)===null||Ms===void 0?void 0:Ms.quipDocId},uiState:{reason:lt.a.ChannelSpaceOriginRoute}}))}}return}const ca={...tt,entityId:Ht,teamId:dn};if(ps&&bt!=="open-primary-with-thread"){Object(Et.a)({getState:qn}).info("SUMMARY_DETAIL",`[${Jt}]`,"Opening detail view for",Ht);const os=yield jn(Object(fn.a)({entityId:Ht,nextRouteParams:tt}));os!=null&&os.expired&&(Object(Et.a)({getState:qn}).info("SUMMARY_DETAIL",`[${Jt}]`,"Detail view expired for",Ht),Object(Y.h)(i.b,ca,{reason:ct.c,shouldReplaceState:!0}));return}if(Nt.includes("FLEX")&&En!==Ht&&bt==="open-primary-with-thread"){var la;if(Ht===(tt==null?void 0:tt.entityId)&&(!(tt==null||(la=tt.threadId)===null||la===void 0)&&la.includes(Ht))){Object(Y.h)(Nt,ca,{shouldReplaceState:!0,reason:"summaryDetailListener:openThread"});return}}const da=Object(ln.b)(ms,ca);if(da&&!Object(ln.a)(rt,da)){Object(Y.h)(da.routeName,da.params,{reason:ct.a,shouldReplaceState:!0});return}Nt!==i.b&&Object(Y.h)(i.b,ca,{reason:ct.c,shouldReplaceState:!0})}),en.apply(this,arguments)}h(en,"_summaryDetailListener");const Un={isRouteValidDetailViewForEntityId:rn};var Yn=e("1BWb");function ns(ft){let{params:tt,routeName:rt,reason:bt}=ft;const Nt=tt.teamId||tt.teamOrEnterpriseId,{dispatch:Jt}=Object(c.getStoreInstanceByTeamId)(Nt);Jt(Object(Yn.a)({routeName:rt,routeParams:tt,autoOpen:bt===ct.c||bt===ct.a}))}h(ns,"channelCanvasListener");var cs=e("4KfL"),is=e("tfcd"),es=e("BcBz"),Is=e("pyq8"),kn=e("oUrV");const ts=["comment_thread","activity_history","files","rimeto_profile","thread",i.p,i.w,i.i,i.s,i.z],Ds=Object(R.c)("Post activity history routing side effects",(ft,tt,rt)=>{let{params:bt,prevRouteInfo:Nt,routeName:Jt}=rt;var Ht;const dn=bt==null?void 0:bt.entityId,En=Nt==null||(Ht=Nt.params)===null||Ht===void 0?void 0:Ht.entityId,jn=I.c;if(Jt===i.b&&dn&&Object(is.a)(dn)){const{fileIdOrQuipThreadId:xs}=Object(Dn.i)(dn);ts.includes(Nt==null?void 0:Nt.routeName)&&ft(Object(Is.a)({fileId:xs,windowId:jn,source:kn.a.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let qn=dn,ms=En;Object(gn.a)(En)&&Object(gn.a)(dn)&&(qn=Object(Dn.i)(En).fileIdOrQuipThreadId,ms=Object(Dn.i)(dn).fileIdOrQuipThreadId),qn!==ms&&ft(Object(es.b)({windowId:jn}))});Ds.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function vs(ft){let{params:tt,prevRouteInfo:rt,routeName:bt,reason:Nt}=ft;const Jt=tt.teamId||tt.teamOrEnterpriseId,{dispatch:Ht,getState:dn}=Object(c.getStoreInstanceByTeamId)(Jt);Object(cs.a)(dn())&&Ht(Ds({routeName:bt,params:tt,prevRouteInfo:rt,reason:Nt}))}h(vs,"quipActivityHistoryListener");var ss=e("+kJ4"),Zn=e("MPhn"),Os=e("stxl"),Cs=e("hwUI"),ys=e("hTnU"),Ls=e("rZ8V"),Es=e("O67Y");function zn(ft){let{nextTeamId:tt,prevTeamId:rt}=ft;const{dispatch:bt,getState:Nt}=Object(c.getStoreInstanceByTeamId)(rt),Jt=Nt();return Object(Os.b)(Jt)?new p.a((dn,En)=>{bt(Object(ys.a)({openModalProps:{isStackable:!0},onConfirmClose:()=>{bt(Object(Cs.b)(!1)),bt(Object(ss.a)({closeAll:!0})),dn()},onCancelClose:()=>{En()}}))}):(rt&&!Object(Zn.b)({teamId:rt})&&(Object(Ls.o)(Jt)&&tt===rt?bt(Object(ss.a)({closeNamed:Es.a})):bt(Object(ss.a)({closeAll:!0}))),!0)}h(zn,"modalListenerBefore");var _s=e("O3Fi");function ls(ft){const tt=Object(_s.a)();return tt!=null&&tt.onClose&&(tt==null||tt.onClose()),!0}h(ls,"pinsPopoverListenerAfter");var Ts=e("spq4"),gs=e("ED1u"),As=e("y8m0"),xn=h(ft=>{let{prevTeamId:tt,nextTeamId:rt}=ft;if(tt!==rt)return;const Nt=Object(c.getStoreInstanceByTeamId)(rt).getState();Object(Ts.a)()&&Object(As.d)(Nt)&&Object(c.dispatchForClientStore)(Object(gs.c)(!1))},"dismiss_floating_sidebar"),Ss=e("BeL+"),V=h(ft=>{let{prevTeamId:tt,nextTeamId:rt}=ft;if(tt===rt||!rt)return;const bt=Object(et.f)("recentlyUsedTeamIds")||tt&&[tt]||[];bt.unshift(rt),Object(et.w)("recentlyUsedTeamIds",Object(Ss.a)(bt)),Object(et.x)(rt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams"),he=e("sjOx"),We=e("3mGd"),Ct=e("Jjuf"),Gt=e("dDdQ"),sn=h(ft=>{let{prevTeamId:tt,nextTeamId:rt,params:bt={}}=ft;const{dispatch:Nt,getState:Jt}=Object(c.getStoreInstanceByTeamId)(rt),Ht=Jt();if(tt!==rt)return;const dn=Object(A.b)(Ht),En=dn.entityId,jn=bt.entityId;En===he.z&&jn===he.z&&bt.searchQuery&&dn.searchQuery!==bt.searchQuery&&Object(We.a)(Ht)!==bt.searchQuery&&Nt(Object(Ct.a)({encodedSearchString:bt.searchQuery})),En!==jn&&jn===he.z&&(bt.searchQuery&&Nt(Object(Ct.a)({encodedSearchString:bt.searchQuery})),Nt(Object(Gt.a)())),En!==jn&&En===he.z&&Nt(Object(Gt.b)())},"search_page_listener"),Pe=e("uPu8");function g(ft){let{nextTeamId:tt,prevTeamId:rt}=ft;const{dispatch:bt}=Object(c.getStoreInstanceByTeamId)(tt);rt!==tt&&bt(Object(Pe.c)({teamId:tt}))}h(g,"permissionsListener");var P=e("53Bt"),F=e("hHne"),K=e("HMe0");function fe(ft){let{nextTeamId:tt,reason:rt}=ft;if(rt===k)return;const bt=Object(c.getStoreInstanceByTeamId)(tt),Nt=bt.getState();if(Object(Ls.o)(Nt))return;if(rt===Y.a){var Jt;if(!((Jt=window.history.state)===null||Jt===void 0)&&Jt.tileState){const jn=window.history.state.tileHistoryState;jn&&bt.dispatch(Object(F.a)({tileHistoryState:jn})),bt.dispatch(Object(P.a)({tilesState:window.history.state.tileState}))}return}const Ht=Nt==null?void 0:Nt.tiles,dn=Object(K.a)(Nt),En={...window.history.state,tileState:Ht,tileHistoryState:dn};window.history.replaceState(En,document.title,location.href)}h(fe,"syncTiles");var Me=e("KAVK"),Te=e("v7mh"),xe=e("yVcz"),He=e("YiLv");function ze(ft){let{nextTeamId:tt,uuid:rt,shouldReplaceState:bt,reason:Nt}=ft;var Jt;if(!tt||!rt)return;if(Nt!==Y.a)if(bt)Object(c.dispatchForClientStore)(Object(xe.e)({windowId:I.c,entry:{id:rt,ts:Date.now(),teamId:tt,isIA4:!1}}));else{const jn=Object(He.b)(Object(c.getStateForClientStore)());jn>0&&Object(c.dispatchForClientStore)(Object(xe.a)({windowId:I.c,index:jn})),Object(c.dispatchForClientStore)(Object(xe.b)({windowId:I.c,entry:{id:rt,ts:Date.now(),teamId:tt,isIA4:!1}}))}const Ht=Object(c.getStoreInstanceByTeamId)(tt),dn=Ht.getState();if(!Object(Ls.o)(dn)||!((Jt=window.history.state)===null||Jt===void 0)&&Jt.isIA4)return;const En=Object(Te.i)(dn);Ht.dispatch(Object(Me.a)({windowId:I.c,entry:En}))}h(ze,"updateIA4History");var Be=e("iMEJ"),Mt=e("LAdm");function Pt(ft){let{prevTeamId:tt,nextTeamId:rt}=ft;if(!rt||tt===rt)return;const bt=Object(c.getStoreInstanceByTeamId)(rt),Nt=bt.getState();if(!Object(Ls.o)(Nt))return;const Jt=Object(Te.a)(Nt),Ht=Object(Te.h)(Nt,{tab:Jt});bt.dispatch(Object(Mt.a)({prevViewSet:void 0,prevTab:void 0,nextViewSet:Ht,nextTab:Jt,navigateParams:{},triggerType:Be.a.TEAM_SWITCH}))}h(Pt,"maybeRunTeamSwitchNavigateListeners");var Qt=e("Pf08"),tn=e("FFIf"),pt=e("v5z3"),At=e("0Xjs");function an(ft){let{nextTeamId:tt,prevRouteInfo:rt,params:bt}=ft;var Nt;const Jt=Object(c.getStoreInstanceByTeamId)(tt),Ht=Jt.getState(),dn=Object(tn.i)(Ht),En=Object(j.d)(Ht,bt.entityId),jn=(rt==null||(Nt=rt.params)===null||Nt===void 0?void 0:Nt.entityId)||"";(jn===At.q.CHANNELS||jn===pt.b)&&(bt!=null&&bt.entityId)&&En&&!Object(q.db)(En)&&Jt.dispatch(Object(Qt.G)({channelId:bt.entityId,prevRoute:jn})),dn&&(rt==null?void 0:rt.routeName)==="ROUTE_ENTITY"&&Object(Q.a)(jn)&&Jt.dispatch(Object(Qt.G)({channelId:null,prevRoute:null}))}h(an,"setPreviewingFromChannelBrowserOrLaunchpad");var $t=e("i6Ao"),Mn=e("toaU"),Cn=e("JvzI"),Rn=e("Z7Ay");function An(ft){let{nextTeamId:tt,routeName:rt,params:bt}=ft;tt&&(Object(c.dispatchForClientStore)(Object(O.a)({teamId:tt,routeName:rt,params:bt,fromNavigation:!0})),Object(c.getStoreInstanceByTeamId)(tt)&&Object(c.dispatchForTeamId)(tt,Object(gt.b)({routeName:rt,params:bt})))}h(An,"syncRouteStoreWithUrl");function On(ft){return bn.apply(this,arguments)}h(On,"navigateToLastSavedRoute");function bn(){return bn=Object(s.coroutine)(function*(ft){let{prevTeamId:tt,nextTeamId:rt,navigationTimestamp:bt}=ft;const Nt=Object(c.getStateForClientStore)();if(!rt||Object(f.hasWorkspaceFailedToBoot)(Nt,rt)||Object(f.doesWorkspaceNeed2FASetup)(Nt,rt)||Object(f.isWorkspaceExpired)(Nt,rt)||Object(f.isWorkspacePendingAuth)(Nt,rt))return!0;const Jt=Object(c.getStoreInstanceByTeamId)(rt),Ht=Jt&&Jt.getState(),dn=Object(A.b)(Ht),En=Object(A.a)(Ht)||i.b;if(Object(E.i)()&&En===Mn.a)return!0;const jn=!tt;return yield Object(Y.h)(En,{...dn,teamId:rt},{reason:"navigateToLastSavedRoute",shouldReplaceState:jn,navigationTimestamp:bt}),!1}),bn.apply(this,arguments)}h(bn,"_navigateToLastSavedRoute");function Pn(ft){let{prevTeamId:tt,nextTeamId:rt}=ft;if(!tt||!rt||tt===rt)return null;const bt=Wn(rt);return Object(Cn.c)(bt,rt)}h(Pn,"ensureCorrectLocaleForTeam");function pn(ft){let{prevTeamId:tt,nextTeamId:rt}=ft;if(!tt||!rt||tt===rt)return null;const bt=Wn(rt);return Object(Cn.d)(bt)}h(pn,"ensureCorrectLocaleForExternalLibs");function Wn(ft){const tt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/);return tt?tt[1]:Object(et.h)(ft,"user_locale")}h(Wn,"getLocaleForTeam");const Fn=Object(m.a)(Bn);function Bn(){mt.a.set("maybeOpenOtherTeamInBrowser",Object(Y.c)(Ge)),mt.a.set("modalListenerBefore",Object(Y.c)(zn)),mt.a.set("maybeFinishSignin",Object(Y.c)(It)),mt.a.set("maybeRedirectEntity",Object(Y.c)(Lt)),mt.a.set("startTeamSwitchTiming",Object(Y.c)(St.a)),mt.a.set("navigateToLastSavedRoute",Object(Y.c)(On,[Mn.a])),mt.a.set("attemptToStopEditingInChannel",Object(Y.c)(y,[])),mt.a.set("openConversationWithMember",Object(Y.c)(ge,[])),mt.a.set("openConversationWithIds",Object(Y.c)(re,[])),mt.a.set("ensureChannel",Object(Y.c)($,[])),mt.a.set("draftsListenerBefore",Object(Y.c)(Xe)),mt.a.set("ensureCorrectLocaleForExternalLibs",Object(Y.b)(pn)),mt.a.set("searchPageListener",Object(Y.b)(sn)),mt.a.set("syncTiles",Object(Y.b)(fe)),mt.a.set("updateIA4History",Object(Y.b)(ze)),mt.a.set("maybeRunTeamSwitchNavigateListeners",Object(Y.b)(Pt)),mt.a.set("syncMessagePane",Object(Y.b)(ae,[])),mt.a.set("closeAppSpace",Object(Y.b)(_e,[])),mt.a.set("syncActivityPageView",Object(Y.b)(Qe,[])),mt.a.set("syncSavedPageView",Object(Y.b)(De,[])),mt.a.set("syncNotificationsPageView",Object(Y.b)(Ve,[])),mt.a.set("syncThreadFlexpane",Object(Y.b)(jt,[i.w])),mt.a.set("syncFlexpane",Object(Y.b)(oe,[])),mt.a.set("setNavigatedDuringWarmBoot",Object(Y.b)(at)),mt.a.set("draftsListenerAfter",Object(Y.b)(cn)),mt.a.set("pinsPopoverListenerAfter",Object(Y.c)(ls)),mt.a.set("syncRouteStoreWithUrl",Object(Y.b)(An)),mt.a.set("ensureCorrectLocaleForTeam",Object(Y.b)(Pn)),mt.a.set("setShouldLogTeamSwitchMetrics",Object(Y.b)(Yt)),mt.a.set("setLocalConfigForTeamWithKey",Object(Y.b)(Ft)),mt.a.set("dismissFloatingSidebar",Object(Y.b)(xn)),mt.a.set("updateRecentlyUsedTeams",Object(Y.b)(V)),mt.a.set("maybeFetchClientPermissions",Object(Y.b)(g)),mt.a.set("maybeIncrementHistoryLength",Object(Y.b)($t.d)),mt.a.set("setPreviewingFromChannelBrowserOrLaunchpad",Object(Y.b)(an)),mt.a.set("summaryDetailListener",Object(Y.b)(hn)),mt.a.set("channelCanvasListener",Object(Y.b)(ns)),mt.a.set("quipActivityHistoryListener",Object(Y.b)(vs))}h(Bn,"registerRouteListenersInner"),Object(Rn.a)("router.listeners",()=>[...mt.a.entries()]);const Nn={syncRouteStoreWithUrl:An,navigateToLastSavedRoute:On,ensureCorrectLocaleForTeam:Pn,ensureCorrectLocaleForExternalLibs:pn,getLocaleForTeam:Wn};Object.defineProperty(Nn,"syncRouteStoreWithUrl",{get:()=>An,set:ft=>{An=ft}}),Object.defineProperty(Nn,"navigateToLastSavedRoute",{get:()=>On,set:ft=>{On=ft}}),Object.defineProperty(Nn,"ensureCorrectLocaleForTeam",{get:()=>Pn,set:ft=>{Pn=ft}}),Object.defineProperty(Nn,"ensureCorrectLocaleForExternalLibs",{get:()=>pn,set:ft=>{pn=ft}}),Object.defineProperty(Nn,"getLocaleForTeam",{get:()=>Wn,set:ft=>{Wn=ft}});var Gn=e("4Lve"),as=e("heB0"),Xn=e("UIWO"),Ns=e("Aqb/"),Ws=e("PLUl"),js=e("hhWw"),zs=e("k+ri");const Hs="cse-api",ks="cse-boot-api";function Bs(ft){return Fs.apply(this,arguments)}h(Bs,"fetchBootData");function Fs(){return Fs=Object(s.coroutine)(function*(ft){const{teamId:tt,userId:rt,isBootingWarm:bt}=ft,Nt=yield bt,Jt=Nt?"deferred-data":"initial-data";let Ht=null;if(Object(js.b)()&&Nt&&(Ht=yield Object(zs.a)({teamId:tt,userId:rt})),tt&&Object(Xn.d)(tt))return Object(as.d)({...ft,reason:Jt,minChannelUpdated:Ht});const dn=as.c.bind(null,{...ft,reason:Jt,minChannelUpdated:Ht});return us(dn,{teamId:tt,userId:rt,reason:Jt})}),Fs.apply(this,arguments)}h(Fs,"_fetchBootData");function us(ft){let tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const rt=Object(Ws.a)(),bt=rt.createTrace({traceName:Hs,tags:tt,samplingOptions:{sampleType:Ns.a.ALWAYS}});if(!(bt!=null&&bt.traceFn))return Object(Et.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),ft();const Nt=h((Ht,dn)=>{if(Object(Bt.a)(dn)){const En={state:Ns.b.SUCCESS,message:"client_boot_empty"};Ht==null||Ht.addTags(En),Ht==null||Ht.close(),rt.reportTrace(bt)}else rt.clearTrace(bt)},"onResolve"),Jt=h((Ht,dn)=>{var En;const jn={state:Ns.b.ERROR};dn!=null&&dn.status&&(jn.status=dn.status),dn!=null&&dn.message&&(jn.message=dn.message),!(dn==null||(En=dn.data)===null||En===void 0)&&En.error&&(jn.reason=dn.data.error),Ht==null||Ht.addTags(jn),Ht==null||Ht.close(),rt.reportTrace(bt)},"onError");return bt.traceFn({name:ks,onError:Jt,onResolve:Nt},ft)}h(us,"maybeTraceClientBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:Hs,CLIENT_BOOT_SPAN_LABEL:ks},"fetchBootData",{get:()=>Bs,set:ft=>{Bs=ft}});var Gs=e("a8yR"),Aa=e("2vQQ"),ma=e("tYiI"),Ga=e("5TXe"),za=e("/q5d");function Ya(ft){return ha.apply(this,arguments)}h(Ya,"maybeFetchMessagesData");function ha(){return ha=Object(s.coroutine)(function*(ft){const{bootQueue:tt,token:rt,teamId:bt}=ft;if(!rt)return Object(Et.a)({teamOrEnterpriseId:bt,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!bt)return Object(Et.a)({teamOrEnterpriseId:bt,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const Nt=yield Object(za.b)({contextualInfo:ft});return fa({bootQueue:tt,token:rt,teamId:bt,routeInfo:Nt})}),ha.apply(this,arguments)}h(ha,"_maybeFetchMessagesData");function fa(ft){return aa.apply(this,arguments)}h(fa,"fetchMessagesDataForRoute");function aa(){return aa=Object(s.coroutine)(function*(ft){let{bootQueue:tt,token:rt,teamId:bt,routeInfo:Nt}=ft;var Jt;const Ht=Nt==null||(Jt=Nt.params)===null||Jt===void 0?void 0:Jt.entityId;return Ht&&!Object(Gs.a)(Ht)&&!Object(Aa.k)(Ht)&&!Object(ma.a)(Ht)&&!Object(gn.a)(Ht)?(Object(t.b)("BOOT",`Booting into channel: ${Ht}`),Js({bootQueue:tt,token:rt,teamId:bt,id:Ht})):!Object(Gs.a)(Ht)&&!Object(Aa.k)(Ht)&&!Object(ma.a)(Ht)&&!Object(gn.a)(Ht)?(Object(t.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),Js({bootQueue:tt,token:rt,teamId:bt})):null}),aa.apply(this,arguments)}h(aa,"_fetchMessagesDataForRoute");function Js(ft){let{bootQueue:tt,token:rt,teamId:bt,id:Nt}=ft;const Jt={token:rt,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28};Nt&&(Jt.channel=Nt),Jt.include_free_team_extra_messages=!0;const Ht=new Ga.a({method:"conversations.view",args:Jt,teamId:bt});return tt.q(Ht).catch(dn=>(Object(Et.a)({teamOrEnterpriseId:bt,label:"BOOT"}).error(new Error(`unable to fetch messages data ${dn}`)),null))}h(Js,"fetchMessagesData"),Object.defineProperty({fetchMessagesData:Js},"fetchMessagesData",{get:()=>Js,set:ft=>{Js=ft}});var Qa=e("oTSI");const va=Object(Qa.a)(wa,ft=>ft.enterpriseId);function $a(ft){return Oa.apply(this,arguments)}h($a,"maybeFetchEnterpriseData");function Oa(){return Oa=Object(s.coroutine)(function*(ft){return ft.enterpriseId?va(ft):{}}),Oa.apply(this,arguments)}h(Oa,"_maybeFetchEnterpriseData");function wa(ft){return oa.apply(this,arguments)}h(wa,"fetchAllEnterpriseData");function oa(){return oa=Object(s.coroutine)(function*(ft){const{teamId:tt,enterpriseId:rt}=ft;var bt;let Nt=(bt=Object(et.h)(tt??"","enterprise_api_token"))!==null&&bt!==void 0?bt:"";if(tt&&Object(Xn.d)(tt)&&!Nt){var Jt;Nt=(Jt=Object(et.h)(tt,"token"))!==null&&Jt!==void 0?Jt:""}const[Ht,dn]=yield p.a.all([Object(as.e)(ft),Object(as.f)({...ft,token:Nt})]),En={enterprise_id:rt,page_needs_enterprise:!0,enterprise_api_token:Nt};return{enterpriseData:Ht==null?void 0:Ht.enterprise,enterprisePrefsData:dn,enterpriseBootData:En}}),oa.apply(this,arguments)}h(oa,"_fetchAllEnterpriseData");const Eo={resetMemoizedFetchEnterpriseDataCache:()=>{va.cache.clear()}};var Za=e("qvC3"),Pa=e("KLFD");function Xa(ft){return Ea.apply(this,arguments)}h(Xa,"setupOtherTeamsToBoot");function Ea(){return Ea=Object(s.coroutine)(function*(ft){let{contextualInfo:tt}=ft;return{contextualInfo:tt,otherTeamsToBoot:Object(Pa.b)()}}),Ea.apply(this,arguments)}h(Ea,"_setupOtherTeamsToBoot");var Rs=e("Xm7Q"),Ra=e("6y7U"),Ys=e("LqbL");function Jn(ft,tt){var rt,bt,Nt,Jt,Ht;const dn=Object(c.getClientStoreInstance)();if(dn.dispatch(Object(Ys.setWorkspaceFailedToBoot)(ft)),!(tt==null||(rt=tt.data)===null||rt===void 0)&&rt.active_migration){var En,jn;dn.dispatch(Object(Ys.setWorkspaceIsMigrating)({teamId:ft,migrationId:tt==null||(En=tt.data)===null||En===void 0?void 0:En.migration_id,canViewMigrationStatus:tt==null||(jn=tt.data)===null||jn===void 0?void 0:jn.can_view_migration_status})),Object(t.c)("BOOT",`(${ft}) Workspace boot failed due to active migration`)}if((tt==null||(bt=tt.data)===null||bt===void 0?void 0:bt.error)==="accesslimited"&&dn.dispatch(Object(Ys.setWorkspaceIsAccessLimited)(ft)),(tt==null||(Nt=tt.data)===null||Nt===void 0?void 0:Nt.error)==="two_factor_setup_required"&&dn.dispatch(Object(Ys.setWorkspaceNeeds2FASetup)(ft)),(tt==null||(Jt=tt.data)===null||Jt===void 0?void 0:Jt.error)==="user_in_no_workspaces"&&dn.dispatch(Object(Ys.setUserNotMemberOfAnyWorkspaceInOrg)(ft)),(tt==null||(Ht=tt.data)===null||Ht===void 0?void 0:Ht.error)==="user_needs_to_accept_custom_tos"){var qn;dn.dispatch(Object(Ys.setWorkspaceNeedsToAcceptCustomTOS)({teamId:ft,url:tt==null||(qn=tt.data)===null||qn===void 0?void 0:qn.url}))}}h(Jn,"markTeamBootFailed");var go=e("9j5s");function La(ft,tt){if(!ft)throw new Error("Missing team id, cannot thin boot team.");Jn(ft,tt),Object(go.a)(ft)}h(La,"thinBootTeam");const Ja={[Rs.a.API]:qs,[Rs.a.BOOT_APP]:Ua,[Rs.a.BOOT_TEAM]:ga,[Rs.a.DEFAULT]:Na};function qs(ft,tt,rt){var bt;const Nt=rt==null?void 0:rt.teamId;if(window.isReloading){Object(t.b)("BOOT",`(${Nt}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}Rs.c[Rs.a.API](ft,tt,{...rt,shouldDisplayErrorView:!1,shouldBeaconError:(ft==null||(bt=ft.data)===null||bt===void 0?void 0:bt.error)!=="user_needs_to_accept_custom_tos"}),La(Nt,ft),tt!=null&&tt.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-client-render-client")]).then(e.bind(null,"sj3v")).then(Jt=>{let{renderClient:Ht}=Jt;Object(u.a)(),Ht()})}h(qs,"handleApiError");function Ua(ft,tt,rt){Object(u.a)(),Rs.c[Rs.a.BOOT_APP](ft,tt,rt)}h(Ua,"handleBootAppError");function ga(ft,tt,rt){if(rt){const{teamId:bt}=rt;Object(Ra.a)(bt)}Object(u.a)(),Rs.c[Rs.a.BOOT_TEAM](ft,tt,rt)}h(ga,"handleBootTeamError");function Na(ft,tt,rt){Object(u.a)(),Rs.c[Rs.a.DEFAULT](ft,tt,rt)}h(Na,"handleDefaultError");const qa={handleApiError:qs,handleBootAppError:Ua,handleBootTeamError:ga,handleDefaultError:Na};var pa=e("Fvov"),ba=e("vfQU");const Ba=function(){var ft=Object(s.coroutine)(function*(){ba.G.isAvailable()&&Object(ba.G)().includes("DisableServiceWorker")&&(yield Object(pa.d)())});return h(function(){return ft.apply(this,arguments)},"disableServiceWorkerForClientConfig")}(),ra=function(){var ft=Object(s.coroutine)(function*(){Object(E.c)()===E.a.SAFARI&&(yield Object(pa.d)())});return h(function(){return ft.apply(this,arguments)},"disableServiceWorkerForSafari")}(),eo=function(){var ft=Object(s.coroutine)(function*(){yield ra(),yield Ba()});return h(function(){return ft.apply(this,arguments)},"maybeDisableServiceWorker")}();var to=e("mard");eo(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();function Qs(ft){return ft.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:Object(ye.b)()}),ft.registerErrorHandlers(Ja),ft.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(null,"cEwB")),apis:()=>e.e("gantry-v2-async-client-boot-apis").then(e.bind(null,"CTVb")),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(null,"AMiY")),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(null,"tnTT"))}),ft.registerInitialApiCalls({experimentData:as.g,featureFlagData:as.h,clientBootData:Bs,viewData:Ya,allEnterpriseData:$a}),Object(Za.b)(ft),ft.hooks.beforeDynamicImportsStart.tap("Render Placeholder",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return Object(u.b)({teamId:bt.teamOrEnterpriseBootId,showTeamSwitcher:Object(Gn.a)().length>1}),{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.afterDynamicImportsStart.tap("Set routes",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return Object(i.D)(),{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.afterDynamicImportsStart.tap("Set up client store",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return Object(d.a)(bt.teamId),{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.afterDynamicImportsStart.tap("Register route listeners",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return Fn(),{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;const{teamId:Nt}=bt;return Nt?(Nt!==Object(et.f)("lastActiveTeamId")&&Object(et.w)("lastActiveTeamId",Nt),{contextualInfo:bt}):{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return window.isReloading?(Object(t.b)("BOOT",`(${bt.teamId}) Ongoing reload detected; Cancelling boot.`),Object(to.a)()):{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.beforeInitializeTeam.tap("Set tokens",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return Object(l.a)({contextualInfo:bt})});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",function(){var tt=Object(s.coroutine)(function*(rt){let{contextualInfo:bt}=rt;return Object(js.b)()&&Object(zs.a)({teamId:bt.teamId,userId:bt.userId}),{contextualInfo:bt}});return function(rt){return tt.apply(this,arguments)}}()),ft.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",Xa),ft.run()}if(h(Qs,"boot"),!Object(a.a)()){const ft=Object(r.a)(o.a.CLIENT_V2);Qs(ft)}const Ia={boot:Qs}},eh0M:function(H,n,e){H.exports=e.p+"slackbot_neutral_512-dcb310c.png"},f9ip:function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"c",function(){return m}),e.d(n,"e",function(){return c}),e.d(n,"d",function(){return E}),e.d(n,"h",function(){return f}),e.d(n,"i",function(){return O}),e.d(n,"b",function(){return p}),e.d(n,"f",function(){return b}),e.d(n,"g",function(){return T});var s=e("G4qV"),t=e("P9LH"),a=e("dmdh"),r=e("QIbu"),l=e("LZPg");const o=h((v,S)=>{var A;return S?(A=Object(a.e)(v,S))===null||A===void 0?void 0:A.localUpdated:null},"getFileLocalUpdated"),i=h(v=>Object(l.o)(v),"getFileId"),u=h(v=>Object(s.a)([S=>Object(l.q)(S),S=>{const A=i(S);return o(S,A)},S=>{const A=i(S);return A?Object(a.e)(S,A):null}],(S,A,I)=>I!=null&&I.id&&(S===r.a.CanvasFile||S===r.a.QuipFile)?v(I):null),"selectFromUpdatedFile"),d=u(v=>v),m=u(v=>v==null?void 0:v.id),c=u(v=>v?Object(t.n)(v):!1),E=u(v=>v?Object(t.xb)(v):!1),f=u(v=>v?Object(t.K)(v):null),O=u(v=>v==null?void 0:v.user),p=u(v=>!!v),b=u(v=>v?Object(t.o)(v):!1),T=u(v=>v?Object(t.u)(v):!1)},fDBt:function(H,n,e){"use strict";e.d(n,"a",function(){return t});let s=h(class{get(r){return r in this.heights?this.heights[r]:this.DEFAULT_HEIGHT}set(r,l){this.heights[r]=l}getValidity(r){return r in this.heights}constructor({DEFAULT_HEIGHT:r=50,heights:l}={}){this.heights=l||{},this.DEFAULT_HEIGHT=r}},"HeightCache"),t=h(class extends s{getValidity(r){return!!this.validity[r]}set(r,l){super.set(r,l),this.validity[r]=!0}invalidate(r){if(!r){this.validity={};return}delete this.validity[r]}constructor(r){super(r),this.validity={}}},"ValidityHeightCache")},fEGR:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("LrWZ"),r=e("yIs4"),l=e("oTSI"),o=e("UXvI"),i=e("ifKl"),u=e("WIr4"),d=e("BHdc"),m=e("kBpe"),c=e("Lgge"),E=e("MYuU"),f=e("i9y5"),O=e("2K8U"),p=e("tZRe"),b=e("oEDn"),T=e("yxNq"),v=e("FRd1"),S=e("ktUG"),A=e("9C2q"),I=e("1ufr");function _(){return _=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var x in W)Object.prototype.hasOwnProperty.call(W,x)&&(R[x]=W[x])}return R},_.apply(this,arguments)}h(_,"_extends");const M={onChange:{action:S.UiAction.ENTER_TEXT}},y={onClick:{action:S.UiAction.CLICK}},j=new Array(95).fill("").map((R,U)=>String.fromCharCode(U+32)),C=h(R=>t.a.createElement("span",_({className:"c-multi_select_input__space"},R),"\xA0"),"makeSpace"),D=1e3,N={leading:!0,trailing:!1};let B=h(class extends s.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(U){var W;const x=U.selectState,{selectState:G,onTokenSelect:w,onSelectedItemsChange:se,setSelectState:ee,hasKeyboardFocus:X,isTokenEditable:me}=this.props,{selectedOptions:Oe,isExpanded:Ce,isDisabled:le}=G,de=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&U.focusOnMount!==this.props.focusOnMount&&this.focus(),((W=G.filterQuery)===null||W===void 0?void 0:W.length)&&G.filterQuery!==x.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(x),this.haveSelectedTokens()&&!Object(T.a)(x.selectedTokenIndexes,de)&&Oe&&(de==null||de.forEach(ce=>{w&&w(Oe[ce])}),Ce&&ee(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),x.isDisabled&&!le&&this.moveCursorAndScrollToFilterQuery(),!Object(T.a)(x.selectedOptions,Oe,3)){if(se&&typeof Oe<"u"){if(me){var ne;const{isCurrentlyEditingToken:ce}=this.state;if((((ne=x.selectedOptions)===null||ne===void 0?void 0:ne.length)||0)<Oe.length){if(ce){const ge=Oe.pop();ge&&Oe.splice(this.state.editTokenIndex,0,ge),this.setTokenState(!1,0)}}else ce&&Oe.length===0&&this.setTokenState(!1,0)}se(Oe)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),X&&!U.hasKeyboardFocus&&Object(a.a)(G.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(U){const{selectState:W,setSelectState:x,hideFilterQueryOnBlur:G,onBlur:w,onOptionsListClosedBlur:se}=this.props,{selectedOptions:ee,filterQuery:X,isExpanded:me}=W,Oe=G&&X&&!me;this.setState(()=>({focused:!1})),this.deselectAllTokens(),Oe&&x(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,w&&w(U,ee),!me&&se&&se()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(U,W){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:U,editTokenIndex:W}))}onFilterQueryChanged(){const{setSelectState:U,selectState:W,onFilterQueryChange:x}=this.props,G=this.filterQueryRef.current,w=G==null?void 0:G.textContent,se=W.filterQuery!==w;if(this.backspaceWasPressed&&!se){this.backspaceWasPressed=!1;return}const ee=w?w.length>0:!1;this.saveCaretPosInFilterQuery(),U(()=>({filterQuery:w,isExpanded:ee})),x&&x(w)}onFocus(U){this.setState(()=>({focused:!0}));const{expandOnFocus:W,onInputFocused:x,setSelectState:G,onFocus:w}=this.props;W&&G(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),x&&x(U),this.mouseDownOnToken=!1,w&&w(U)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){const U=this.props.window.getSelection(),W=U==null?void 0:U.getRangeAt(0),x=this.getTokensAsArray(),{selectState:G}=this.props,{filterQuery:w}=G,se=x.reduce((de,ie,pe)=>U!=null&&U.containsNode(ie)?[...de,pe]:de,[]),ee=se.length>0;if(!w&&!ee&&!(U!=null&&U.isCollapsed)){this.ignoreSelectionChange=!0,U==null||U.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!ee){var X;this.ignoreSelectionChange=!0,W==null||W.setStartBefore((X=this.filterQueryRef.current)===null||X===void 0?void 0:X.firstChild);return}const me=se[0],Oe=se[se.length-1],Ce=x[me],le=x[Oe];if(!w&&ee){this.ignoreSelectionChange=!0,W==null||W.setStartBefore(Ce),this.ignoreSelectionChange=!0,W==null||W.setEndAfter(le),this.setSelectedTokenIndexes(se);return}this.isEntireFilterQuerySelected()&&ee&&(this.ignoreSelectionChange=!0,W==null||W.setStartBefore(Ce),this.setSelectedTokenIndexes(se))}onSelectionChange(){if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const U=this.props.window.getSelection();let W=null;if(U){const{type:x}=U;W=x}W==="Caret"&&this.onCaretSelectionChange(),W==="Range"&&this.onRangeSelectionChange()}onKeyDown(U){if(this.state.composing)return;const{key:W,ctrlKey:x,metaKey:G,altKey:w,shiftKey:se}=U,{selectState:ee,onKeyDown:X}=this.props,me=Object(m.p)()?G:x,Oe=W==="Delete"&&(Object(m.p)()&&w||Object(m.x)()&&me);(W==="Backspace"||Oe)&&this.onBackspace(U),!Oe&&W==="Delete"&&this.onDelete(U),W==="Escape"&&this.onEscape(U),(W==="Home"||G&&!se&&W==="ArrowLeft"||G&&!se&&W==="ArrowUp")&&this.onHome(U),(W==="End"||G&&!se&&W==="ArrowRight"||G&&!se&&W==="ArrowDown")&&this.onEnd(U),!G&&W==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(U)),!G&&W==="ArrowRight"&&this.onRightArrow(U),W==="Tab"&&this.onTab(U),(W==="ArrowUp"||W==="ArrowDown")&&U.preventDefault(),W==="Enter"&&U.preventDefault(),!me&&j.includes(W)&&this.onCharacterKey(),X&&X(U,{hasActiveRowIndex:Object(r.a)(ee.activeRowIndex)})}onHome(U){U.preventDefault();const{selectState:W}=this.props,{selectedOptions:x}=W;x!=null&&x.length?this.setSelectedTokenIndexes([0],{initiator:U.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(U){U.preventDefault();const{selectState:W}=this.props,{selectedTokenIndexes:x}=W;x!=null&&x.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(U){const{selectState:W,onKeyUp:x}=this.props,G=this.getSelectedTokenIndexes(),w=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(G!=null&&G.length)&&(this.selectTextInNode(w[G[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),x&&x(U,{hasActiveRowIndex:Object(r.a)(W.activeRowIndex)})}onInputContainerMouseDown(U){U.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(U){if(!U||!U.clipboardData)return;const{onFilterQueryPaste:W}=this.props;W&&W(U)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:U}=this.props,{selectState:W}=this.props,{filterQuery:x,selectedOptions:G}=W,w=this.getSelectedTokenIndexes(),se=G==null?void 0:G.filter((me,Oe)=>(w==null?void 0:w.indexOf(Oe))===-1),ee=this.getSelectedFilterQueryText(),X=x==null?void 0:x.replace(ee,"");U(()=>({selectedOptions:se,selectedTokenIndexes:[],filterQuery:X})),this.moveCursorToFilterQuery()}onBackspace(U){const{setSelectState:W}=this.props,{selectState:x,isTokenEditable:G}=this.props,{filterQuery:w}=x;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!w)){U.preventDefault(),W(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(G&&(w==null?void 0:w.length)===1){U.preventDefault(),W(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){U.preventDefault(),W(()=>({filterQuery:"",isExpanded:!1}));return}const ee=this.getTokensAsArray().length,X=this.getSelectedTokenIndexes(),me=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,me&&ee===0){U.preventDefault();return}if(!me&&!this.haveSelectedTokens()&&w)return;if(U.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([ee-1],{initiator:U.type});return}X==null||X.forEach(de=>{this.removeToken(de,"backspaceKey")});const Oe=X&&X[0],Ce=Oe===0;let le=null;Oe&&(le=Ce?[0]:[Oe-1]),le!=null&&le.length&&this.setSelectedTokenIndexes(le,{initiator:U.type})}onDelete(U){const{setSelectState:W}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){U.preventDefault(),W(()=>({filterQuery:"",isExpanded:!1}));return}const G=this.getTokensAsArray().length,w=this.getSelectedTokenIndexes();if(G===0||!this.haveSelectedTokens()||(U.preventDefault(),w==null||w.forEach(me=>{this.removeToken(me,"deleteKey")}),!(w!=null&&w.length)))return;const ee=w[w.length-1]===G-1,X=(w==null?void 0:w.length)===G;(ee||X)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(U){const{selectState:W,setSelectState:x,onOptionsListClose:G}=this.props;W.isExpanded&&(U.stopPropagation(),G&&G(),x(()=>({isExpanded:!1})))}onLeftArrow(U){const x=this.getTokensAsArray().length,G=this.getSelectedTokenIndexes(),w=(G==null?void 0:G.length)&&G[0],se=this.props.window.getSelection();let ee=null,X=null;if(se){const{type:ie,anchorOffset:pe}=se;ee=ie,X=pe}const me=ee==="Caret",Oe=ee==="Range";if(U.shiftKey&&Oe&&this.isRangeSelectionOfFilterQueryComplete(X)){U.preventDefault();return}const Ce=me&&this.isCaretAtStartOfFilterQuery();if(x===0&&Ce){U.preventDefault();return}if(x===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&Ce){U.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:U.type});return}if(!this.haveSelectedTokens()&&Ce){this.setSelectedTokenIndexes([x-1],{initiator:U.type});return}if(Oe&&this.haveSelectedTokens()&&w===0){U.preventDefault();return}this.haveSelectedTokens()&&typeof w=="number"&&this.setSelectedTokenIndexes([w-1],{initiator:U.type})}onRightArrow(U){const W=this.props.window.getSelection(),x=(W==null?void 0:W.type)==="Range",w=this.getTokensAsArray().length,se=this.getSelectedTokenIndexes(),ee=(se==null?void 0:se.length)&&se[0];if(typeof ee!="number")return;if(!(x&&this.haveSelectedTokens()&&ee<w-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){U.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof ee=="number"&&this.setSelectedTokenIndexes([ee+1],{initiator:U.type})}onTab(U){const{shiftKey:W}=U,{expandOnFocus:x,selectState:G,onOptionsListClose:w,setSelectState:se,disableCloseOnTab:ee}=this.props;ee||(w&&w(),(W||x&&G.activeRowIndex===null)&&se(()=>({isExpanded:!1})))}onTokenMouseDown(U,W){const{focused:x,isCurrentlyEditingToken:G}=this.state,{selectState:w,isTokenEditable:se}=this.props;if(w.isDisabled)return;if(U.preventDefault(),this.mouseDownOnToken=!0,U.stopPropagation(),se&&!G){this.onTokenEdit(W);return}x||this.focus();const ee=this.getTokensAsArray();this.selectTextInNode(ee[W]);const X=this.getSelectedTokenIndexes();W!==(X==null?void 0:X[0])&&this.setSelectedTokenIndexes([W])}onTokenEdit(U){const{selectState:W,setSelectState:x,processOptions:G}=this.props,{selectedOptions:w}=W;this.setTokenState(!0,U);let se="";w&&w[U]&&(typeof w[U].label=="string"&&w[U].label!==w[U].value?se=w[U].label:se=w[U].value),this.removeToken(U,"editToken"),this.updateFilterQueryValue(se),G&&G([],se).then(ee=>{x(()=>({isExpanded:!0,options:ee,filterQuery:se}))})}onTokenRemoveMouseDown(U,W){const{focused:x,isCurrentlyEditingToken:G,editTokenIndex:w}=this.state;U.preventDefault(),this.mouseDownOnToken=!0,U.stopPropagation(),x||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&G&&W<w&&this.setTokenState(!0,w-1),this.removeToken(W,"iconClick")}onFilterQueryMouseDown(U){var W;this.state.focused&&(!((W=this.filterQueryRef.current)===null||W===void 0)&&W.textContent)&&U.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(U){const{onFilterQueryChange:W}=this.props;this.updateQueryTimer=setTimeout(()=>{W&&W(U),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(U){var W;const{setSelectState:x}=this.props;U.preventDefault(),x(()=>({selectedTokenIndexes:[],isExpanded:!1}));const G=(W=this.filterQueryRef)===null||W===void 0?void 0:W.current;G!=null&&G.textContent&&this.selectTextInNode(G)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:U}=this.props,{filterQuery:W,selectedOptions:x}=U,G=this.getSelectedTokenIndexes(),w=x==null?void 0:x.filter((X,me)=>(G==null?void 0:G.indexOf(me))===-1),se=this.getSelectedFilterQueryText(),ee=W==null?void 0:W.replace(se,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:w,filterQuery:ee,isExpanded:!1}}onNodeAdded(U){const{nodeName:W}=U;(W==="B"||W==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(U){const{setSelectState:W}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),W(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}U===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(U){U.forEach(W=>{W.addedNodes.forEach(this.onNodeAdded),W.removedNodes.forEach(this.onNodeRemoved)})}getAriaPlaceholderText(){const{selectState:U,placeholderText:W}=this.props,{filterQuery:x,selectedOptions:G}=U;if(!x&&!(G&&G.length>0))return W}getAriaActiveDescendant(){const{selectState:U}=this.props,{selectId:W,activeRowIndex:x}=U;return Object(r.a)(x)?Object(E.a)(W,`option_${x}`):void 0}getInputHeight(){const{inputRef:U}=this.props,W=U==null?void 0:U.current;return W?W.offsetHeight:null}getTokensAsArray(){var U,W;const x=(U=this.props.inputRef)===null||U===void 0||(W=U.current)===null||W===void 0?void 0:W.querySelectorAll(".c-token");return Array.prototype.slice.call(x)}getSelectedFilterQueryText(){const{selectState:U}=this.props,{filterQuery:W}=U;if((W==null?void 0:W.length)===0)return"";const x=this.props.window.getSelection(),G=x==null?void 0:x.toString();if(!(x==null?void 0:x.containsNode(this.filterQueryRef.current,!0)))return"";const se=G==null?void 0:G.split(`
`);return se!=null&&se.length?se[se.length-1].trim():""}setSelectedTokenIndexes(U){let{initiator:W}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};W==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:x}=this.props;x(()=>({selectedTokenIndexes:U}))}getSelectedTokenIndexes(){const{selectState:U}=this.props,{selectedTokenIndexes:W}=U;return W||[]}allTokensAreSelected(){const U=this.getSelectedTokenIndexes(),W=this.getTokensAsArray();return U!=null&&U.length?U.length>0&&U.length===W.length:!1}attachMutationObserver(){var U;if(this.mutationObserver=new MutationObserver(this.onMutation),!((U=this.props.inputRef)===null||U===void 0)&&U.current){var W;this.mutationObserver.observe((W=this.props.inputRef)===null||W===void 0?void 0:W.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:U}=this.props,{filterQuery:W}=U;if(this.caretPosInFilterQuery===-1||!W)return 0;const x=W==null?void 0:W.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>x?x:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var U;(U=this.mutationObserver)===null||U===void 0||U.disconnect(),this.mutationObserver=null}focus(){var U;const W=(U=this.props.inputRef)===null||U===void 0?void 0:U.current;W==null||W.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(U){const{isLoading:W,throttleForceRenderSelectContainer:x}=this.props;x?(U&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),W||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var U;return!!(!((U=this.getSelectedTokenIndexes())===null||U===void 0)&&U.length)}isCaretAtStartOfFilterQuery(){if(this.isCaretOutSideFilterQuery())return!1;const{selectState:U}=this.props,{filterQuery:W}=U;if(!W)return!0;const x=this.props.window.getSelection();let G=null;if(x){const{anchorOffset:w}=x;G=w}return G===0}isCaretOutSideFilterQuery(){var U;const W=this.props.window.getSelection();let x=null;if(W){const{anchorNode:G}=W;x=G}return!(!((U=this.filterQueryRef.current)===null||U===void 0)&&U.contains(x))}isRangeSelectionOfFilterQueryComplete(U){const W=this.getSelectedFilterQueryText();if(!W)return!1;const{selectState:x}=this.props,G=x.filterQuery;return!G||!U?!1:W.substr(0,U)===(G==null?void 0:G.substr(0,U))}isEntireFilterQuerySelected(){const{selectState:U}=this.props,W=this.getSelectedFilterQueryText();return!!W&&W===U.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:U}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var W,x,G;const w=document.createRange(),se=this.props.window.getSelection();se==null||se.removeAllRanges();const ee=(W=this.filterQueryRef)===null||W===void 0?void 0:W.current,X=(ee==null?void 0:ee.firstChild)||ee,me=U?0:(G=ee==null||(x=ee.textContent)===null||x===void 0?void 0:x.trim())===null||G===void 0?void 0:G.length;X!==null&&typeof me=="number"&&w.setStart(X,me),w.collapse(!0),se==null||se.addRange(w)}possiblyRepositionOptionsList(U){if(!this.measurePopoverEvent)return;const{selectState:W}=this.props,x=W.isExpanded&&!U.isExpanded,G=this.getInputHeight(),w=this.inputHeight!==G;(x||w)&&this.props.window.dispatchEvent(this.measurePopoverEvent)}removeToken(U,W){const{selectState:x,setSelectState:G,isTokenEditable:w}=this.props,{selectedOptions:se,pendingQueries:ee,filterQuery:X}=x,me=ee?ee.length:0,Oe=se&&se[U]&&se[U].queryId,le=Oe&&me?ee==null?void 0:ee.filter(de=>{let{queryId:ie}=de;return ie!==Oe}):ee;G(()=>({selectedOptions:se==null?void 0:se.filter((de,ie)=>ie!==U),selectedTokenIndexes:[],removalInitiator:W,removedItemIndex:U,pendingQueries:le})),w&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(X)}saveCaretPosInFilterQuery(){const U=this.props.window.getSelection();this.caretPosInFilterQuery=U==null?void 0:U.anchorOffset}scrollFilterQueryIntoView(){const U=this.filterQueryRef.current;U&&U!=null&&U.scrollIntoView&&(U==null||U.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const U=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const W=this.getTokensAsArray();if(!(U!=null&&U.length))return;const x=U[U.length-1],G=W[x];G&&G.scrollIntoView&&G.scrollIntoView({block:"nearest"})}selectAllTokens(){if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const U=this.getTokensAsArray();if(U.length===0)return;const W=U[0],x=U[U.length-1],G=this.props.window.getSelection(),w=document.createRange();G==null||G.removeAllRanges(),w.setStartBefore(W),w.setEndAfter(x),G==null||G.addRange(w)}selectTextInNode(U){if(!U)return;const W=this.props.window.getSelection(),x=document.createRange();this.ignoreSelectionChange=!0,W==null||W.removeAllRanges();const G=Object(m.p)()?U:U.querySelector(".c-token__content");x.selectNode(G),this.ignoreSelectionChange=!0,W==null||W.addRange(x)}updateCaretPosInFilterQuery(){var U;const W=(U=this.filterQueryRef)===null||U===void 0?void 0:U.current;if(!W)return;const x=document.createRange(),G=this.props.window.getSelection();G==null||G.removeAllRanges();const w=this.determineCaretPosInFilterQuery();typeof w=="number"&&x.setStart((W==null?void 0:W.firstChild)||W,w),x.collapse(!0),G==null||G.addRange(x)}renderFilterQuery(){const{selectState:U,isTokenEditable:W,size:x}=this.props,{filterQuery:G,isDisabled:w}=U,{isCurrentlyEditingToken:se,editTokenIndex:ee}=this.state,X=w?void 0:this.onFilterQueryMouseDown,me=Object(d.default)({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${x}_filter_query--edit`]:W&&se});return t.a.createElement("span",{className:me,ref:this.filterQueryRef,onMouseDown:X,key:ee},G)}renderInput(){const{selectState:U,selectDataQa:W,inputRef:x,ariaLabelledBy:G,ariaLabel:w,autoClogProps:se,iconType:ee,isTokenEditable:X}=this.props,{selectId:me,isDisabled:Oe,isExpanded:Ce,isInvalid:le}=U,de=Oe?void 0:0,ie=Oe?void 0:this.getAriaActiveDescendant(),pe=!Oe,ne=pe,q=Oe?void 0:this.onFocus,ce=Oe?void 0:this.onBlur,ge=Oe?void 0:this.onChange,be=Oe?void 0:this.onPaste,Q=Oe?void 0:this.onKeyDown,re=Oe?void 0:this.onKeyUp,z=Oe?void 0:this.onSelectionChange,Y=Oe?void 0:this.onCut,ve=Oe?void 0:this.onCompositionStart,Z=Oe?void 0:this.onCompositionEnd,$=Object(d.default)({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!ee}),te=t.a.createElement("div",{role:"combobox","aria-disabled":Oe,"aria-autocomplete":"list","aria-expanded":Ce,"aria-controls":Object(E.a)(me,"listbox"),"aria-activedescendant":ie,"aria-labelledby":G,"aria-label":w,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":le,id:me,className:$,tabIndex:de,contentEditable:pe,suppressContentEditableWarning:ne,"data-qa":W?`${W}-input`:void 0,ref:x,onFocus:q,onBlur:ce,onInput:ge,onCompositionStart:ve,onCompositionEnd:Z,onPaste:be,onKeyDown:Q,onKeyUp:re,onSelect:z,onCut:Y,"aria-multiline":!1},C(),X&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.a.createElement(t.a.Fragment,null,this.renderTokens(),this.renderFilterQuery()),C({contentEditable:!1}));return se?t.a.createElement(v.a,{autoClogProps:se,actionProps:M,elementType:S.ElementType.INPUT},te):te}renderLoadingIndicator(){const{isLoading:U,size:W}=this.props;return U?t.a.createElement(f.a,{className:"c-multi_select_input__spinner",color:"blue",size:W===O.f.LARGE?O.f.LARGE:O.f.MEDIUM}):null}renderPlaceholder(){const{selectState:U,placeholderText:W,iconType:x}=this.props,{filterQuery:G,selectedOptions:w,isDisabled:se}=U;if(this.state.composing||G||w&&w.length>0)return null;const ee=se?void 0:this.onPlaceholderMouseDown,X=Object(d.default)({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!x});return t.a.createElement("div",{"aria-hidden":"true",className:X,onMouseDown:ee},W)}renderToken(U,W){let{icon:x,value:G,label:w,hoverText:se,isLoading:ee,isError:X,isMemberError:me,isTeamError:Oe,isUnknown:Ce,emailTeam:le}=U;const{forceRealName:de,size:ie,selectState:pe,customizeTokenProps:ne,disableIdParsing:q,shouldDisableDarkMode:ce}=this.props,ge=this.getSelectedTokenIndexes(),be=(ge==null?void 0:ge.indexOf(W))!==-1,{isDisabled:Q,restrictedSelectedTokenIndexes:re}=pe,z=!!re&&(re==null?void 0:re.indexOf(W))!==-1,Y=Q?void 0:$=>this.onTokenMouseDown($,W),ve=Q?void 0:()=>this.renderTokenRemoveIcon(W),Z=ie;return t.a.createElement(t.a.Fragment,null,t.a.createElement(p.b,_({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},Y?{onMouseDown:Y}:{},{isDisabled:Q,entityId:G,label:w,hoverText:se,isLoading:ee,isError:X,isMemberError:me,isTeamError:Oe,isUnknown:Ce},ie?{size:Z}:{},{isSelected:be},ve?{renderIcon:ve}:{},{forceRealName:de,icon:x,tabIndex:-1,contentEditable:!1},ne,{disableIdParsing:q},le?{emailTeam:le}:{},{isRestricted:z,shouldDisableDarkMode:ce})),"\xA0")}renderTokenRemoveIcon(U){return t.a.createElement(v.a,{actionProps:y,elementType:S.ElementType.BUTTON},t.a.createElement(b.a,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:Object(l.a)(W=>{this.onTokenRemoveMouseDown(W,U)})}))}renderTokens(){const{selectedOptions:U}=this.props.selectState;return U==null?void 0:U.map((W,x)=>t.a.createElement(t.a.Fragment,{key:W.key||W.value},this.renderToken(W,x)))}renderEditableTokens(){const{isCurrentlyEditingToken:U,editTokenIndex:W}=this.state,x=this.renderTokens()||[],G=this.renderFilterQuery();return U?x.splice(W,0,G):x==null||x.push(G),x}renderIcon(){const{iconType:U}=this.props;return U?t.a.createElement(b.a,{type:U,inline:!0}):null}render(){const{maxHeight:U,width:W,selectState:x,classPrefix:G,size:w}=this.props,{isDisabled:se,isInvalid:ee,selectedOptions:X}=x,me=X==null?void 0:X.length,Oe=Object(d.default)("c-multi_select_input",{"c-multi_select_input--disabled":se,"c-multi_select_input--focused":this.state.focused&&!se,"c-multi_select_input--large":w===O.f.LARGE,"c-multi_select_input--invalid":ee,"c-multi_select_input--initial":!me,[`${G}__multi_select_input`]:G}),Ce=se?void 0:this.onInputContainerMouseDown;return t.a.createElement("div",{className:Oe,style:{width:W,maxHeight:U},onMouseDown:Ce,key:this.state.selectContainerKey},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(U){super(U),Object(u.a)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var W;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(W=U.ignoreSelectAllTokensAfterMount)!==null&&W!==void 0?W:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,U.measurePopoverEventName&&(this.measurePopoverEvent=new Event(U.measurePopoverEventName));var x;this.forceRenderSelectContainerThrottled=Object(o.a)(this.forceRenderSelectContainer,(x=U.forceRenderSelectContainerThrottleRate)!==null&&x!==void 0?x:D,N),this.filterQueryRef=t.a.createRef()}},"MultiSelectInput");B.displayName="MultiSelectInput",B.defaultProps={inputRef:t.a.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:i.a,onKeyUp:i.a,size:O.f.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:i.a,onFilterQueryChange:i.a,onFilterQueryPaste:i.a,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:i.a,onInputFocused:i.a,forceRealName:void 0,onOptionsListClose:i.a,processOptions:R=>c.a.resolve(R),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:i.a,onBlur:i.a,onOptionsListClosedBlur:i.a,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:D,shouldDisableDarkMode:!1};var L=n.a=Object(I.a)(Object(A.a)(B))},fEaq:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("R4JA"),t=e("xwCZ"),a=e("K7jq"),r=e("C3vN"),l=e("ptQX");const o=h((i,u)=>{const d=Object(t.g)(i,u);return Object(r.qb)(d)?!1:Object(a.a)(d)?!!(Object(l.b)(i,u)&&Object(l.a)(i,u)&&!Object(s.a)(i,u)):!0},"isMemberConnectedById")},fGfo:function(H,n,e){"use strict";e.d(n,"o",function(){return b}),e.d(n,"c",function(){return T}),e.d(n,"d",function(){return v}),e.d(n,"n",function(){return I}),e.d(n,"m",function(){return _}),e.d(n,"p",function(){return M}),e.d(n,"l",function(){return y}),e.d(n,"f",function(){return D}),e.d(n,"k",function(){return N}),e.d(n,"i",function(){return B}),e.d(n,"j",function(){return L}),e.d(n,"g",function(){return R}),e.d(n,"h",function(){return W}),e.d(n,"e",function(){return x}),e.d(n,"a",function(){return w}),e.d(n,"b",function(){return se});var s=e("8/D0"),t=e("Op30"),a=e("sAkM"),r=e("nNoG"),l=e("BHH9"),o=e("uHvJ"),i=e.n(o),u=e("kk2d"),d=e.n(u),m=e("pjW8"),c=e("zCzZ"),E=e("ZOzc"),f=e("rKeN");const O=new r.b("lists"),p=h(ee=>ee.replace(/^F/,"C"),"getChannelIdForListFileId"),b=h(ee=>ee==null||Array.isArray(ee)&&ee.length===0,"isFieldEmpty"),T=h(ee=>{var X;return((X=a.p.get(ee))===null||X===void 0?void 0:X.icon)||"text-snippet"},"getColumnTypeIcon"),v=h(function(ee,X){let me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(X.type===s.a.Select||X.type===s.a.Channel||X.type===s.a.User||X.type===s.a.CreatedBy||X.type===s.a.LastEditedBy){let ie=!1;if(X.type===s.a.Select){var Ce;ie=((Ce=X.options)===null||Ce===void 0?void 0:Ce.format)===a.n.MultiSelect}else if(X.type===s.a.User||X.type===s.a.Channel){var le;ie=((le=X.options)===null||le===void 0?void 0:le.format)===a.e.MultiEntity}if(ee===t.a.Equal){const pe=O.t("has any of");return ie?pe:O.t("is any of")}if(ee===t.a.NotEqual){const pe=O.t("has none of");return ie?pe:O.t("is none of")}}if(me)switch(ee){case t.a.IsEmpty:return X.type===s.a.Checkbox?O.t("is not checked"):X.type===s.a.Completed?O.t("Not completed"):O.t("is empty");case t.a.IsNotEmpty:return X.type===s.a.Checkbox?O.t("is checked"):X.type===s.a.Completed?O.t("Completed"):O.t("is not empty");case t.a.Equal:return O.t("equal to");case t.a.NotEqual:return O.t("not equal to");case t.a.GreaterThan:return O.t("greater than");case t.a.LessThan:return O.t("lesser than");case t.a.GreaterThanOrEqual:return O.t("greater than or equal to");case t.a.LessThanOrEqual:return O.t("less than or equal to");case t.a.Contains:return O.t("is any of");case t.a.DoesNotContain:return O.t("is none of");case t.a.IsMe:return O.t("is me");case t.a.IsNotMe:return O.t("is not me");default:break}let de;switch(ee){case t.a.Equal:de="=";break;case t.a.NotEqual:de="!=";break;case t.a.GreaterThan:de=">";break;case t.a.LessThan:de="<";break;case t.a.GreaterThanOrEqual:de=">=";break;case t.a.LessThanOrEqual:de="<=";break;case t.a.Contains:de=O.t("contains");break;case t.a.DoesNotContain:de=O.t("does not contain");break;case t.a.IsEmpty:de=O.t("is empty");break;case t.a.IsNotEmpty:de=O.t("is not empty");break;case t.a.IsMe:de=O.t("is me");break;case t.a.IsNotMe:de=O.t("is not me");break;default:de=""}return de},"getFilterOperatorLabel"),S=h(ee=>{var X,me,Oe;if(((X=ee.creationSource)===null||X===void 0?void 0:X.type)===a.i.TEMPLATE){var Ce;return((Ce=ee.creationSource)===null||Ce===void 0?void 0:Ce.referenceId)||null}if(((me=ee.list_metadata)===null||me===void 0||(Oe=me.creation_source)===null||Oe===void 0?void 0:Oe.type)===a.i.TEMPLATE){var le,de;return((le=ee.list_metadata)===null||le===void 0||(de=le.creation_source)===null||de===void 0?void 0:de.reference_id)||null}return null},"getTemplateId"),A=h(ee=>{var X,me;if(((X=ee.list_metadata)===null||X===void 0||(me=X.creation_source)===null||me===void 0?void 0:me.type)===a.i.TEMPLATE){var Oe,Ce;return((Oe=ee.list_metadata)===null||Oe===void 0||(Ce=Oe.creation_source)===null||Ce===void 0?void 0:Ce.reference_id)||null}return null},"getBrowserListTemplateId"),I=h(ee=>ee?S(ee)===a.j.CRM_LEADS:!1,"isCrmList"),_=h(ee=>ee?A(ee)===a.j.CRM_LEADS:!1,"isCrmBrowserList"),M=h(ee=>I(ee),"shouldHideRecordThread"),y=h(ee=>{if(!ee)return{whole_list:[],columns:[]};const X=O.t("Share a form"),me=O.t("Anyone can contribute - even without List access"),Oe=S(ee);if(!Oe)return{whole_list:[],columns:[]};switch(Oe){case a.j.FEEDBACK:return{whole_list:[{id:l.a.FEEDBACK_FORM_FOR_LIST,title:X,description:me,icon:i.a}],columns:[]};case a.j.BUGS:return{whole_list:[{id:l.a.BUG_FORM_FOR_LIST,title:X,description:me,icon:i.a}],columns:[]};case a.j.HELP:return{whole_list:[{id:l.a.HELP_FORM_FOR_LIST,title:X,description:me,icon:i.a}],columns:[]};case a.j.PROJECT_TRACKER:return{whole_list:[],columns:[{columnKey:"status",suggestions:[{id:l.a.LISTS_COLUMN_CHANGED,title:O.t("Status Alert"),description:O.t("Message a channel when Status changes to Blocked"),icon:d.a,filter:{key:"status",value:"blocked"}}]}]};default:return{whole_list:[],columns:[]}}},"getSuggestedAutomations"),j=h(ee=>{const X=y(ee);let me=[];return X.columns.forEach(Oe=>{let{suggestions:Ce}=Oe;me=me.concat(Ce)}),X.whole_list.concat(me)},"getAllSuggestedAutomations"),C=h(ee=>{const X=y(ee);return!!X.whole_list.length||!!Object.keys(X.columns).length},"hasSuggestedAutomations"),D=h(ee=>{var X;if(ee)return((X=ee.list_metadata)===null||X===void 0?void 0:X.icon)||ee.icon},"getListIcon"),N=h(ee=>{var X;if(ee){if(!((X=ee.list_metadata)===null||X===void 0)&&X.views){var me;return(me=ee.list_metadata)===null||me===void 0?void 0:me.views.map(Ce=>Object(m.a)(Ce))}if(ee.views)return ee.views}},"getListViews"),B=h(ee=>{var X;if(ee){if(!((X=ee.list_metadata)===null||X===void 0)&&X.schema){var me;return(me=ee.list_metadata)===null||me===void 0?void 0:me.schema.map(Ce=>Object(m.a)(Ce))}if(ee.schema)return ee.schema}},"getListSchema"),L=h((ee,X)=>{if(!ee||!X)return;const me=N(ee);if(me)return me.find(Oe=>Oe.id===X)},"getListViewById"),R=h(ee=>ee?ee.is_public||ee.isPublic:!1,"getListIsPublic"),U=h(ee=>ee?ee.last_editor||ee.lastEditor:!1,"getListLastEditor"),W=h(ee=>ee?ee.last_read||ee.lastReadTs:!1,"getListLastRead"),x=h(ee=>{var X;return((X=ee.list_metadata)===null||X===void 0?void 0:X.description)||ee.description},"getListDescription"),G="allow_lists",w={READ_ONLY:"read_only",FULL:"full"},se=h(ee=>{const me=Object(f.a)(ee)?Object(c.g)(ee,G):Object(E.a)(ee,G);return me||w.FULL},"getAllowListsTeamPref")},fMsH:function(H,n,e){"use strict"},fNsR:function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("fujP"),t=e("NFsq"),a=e("VOl3"),r=e("C3vN"),l=e("ByMX"),o=e("xwCZ"),i=e("q0lC"),u=e("zCzZ");const d=h((m,c)=>{let{prefName:E}=c;if(Object(s.a)(E))return!1;const f=Object(o.c)(m);if(Object(r.fb)(f)||Object(l.b)(m))return!1;const{type:O,user:p}=Object(u.g)(m,E)||{};if(Object(t.a)(p,f.id))return!0;switch(O==null?void 0:O[0]){case"PRIMARY_OWNER":return Object(a.c)(f);case"ORG_OWNERS":return Object(a.b)(f);case"ORG_ADMINS_AND_OWNERS":return Object(a.a)(f);default:return Object(i.h)(m)}},"checkChannelMgmtPrefCascade")},fPvf:function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("nNoG"),l=e("ktUG"),o=e("s9Q6"),i=e("AKIH"),u=e("Trx9"),d=e("zEKE"),m=e("w3c/");const c=new r.b("trials_highlight_paid_features"),E=h(O=>{let{trialEndTs:p}=O;return t.a.createElement(u.a,{eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_invite_modal_banner"},t.a.createElement(d.a,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},c.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:Object(i.a)(p),fallbackHash:"5848c5eb4b061ac0a4abef27be6bc8b2c736d087"}))))},"HuddleInviteModalTrialBanner"),f=h(()=>{const O=Object(a.d)(o.g);return t.a.createElement(E,{trialEndTs:O})},"ConnectedHuddleInviteModalTrialBanner");f.displayName="ConnectedHuddleInviteModalTrialBanner",n.b=f},fZDj:function(H,n,e){"use strict";var s=e("hfkV");n.a=s.a},fenk:function(H,n,e){"use strict";e.d(n,"e",function(){return l}),e.d(n,"g",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"h",function(){return u});var s=e("vvx0");e.d(n,"b",function(){return s.a});var t=e("7Dzo");e.d(n,"d",function(){return t.a});var a=e("PvdL");e.d(n,"c",function(){return a.a});var r=e("ws8j");e.d(n,"a",function(){return r.a});const l={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function o(d){return!!d&&!!d.channel}h(o,"isSharedChannelInvite");function i(d){return!!d&&!o(d)&&!u(d)}h(i,"isDirectMessageInvite");function u(d){return!!d&&!!d.shared_workspace}h(u,"isSharedWorkspaceInvite")},fi3B:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("BJra"),o=e("aBhT"),i=e("sGXp");function u(){return u=Object.assign||function(f){for(var O=1;O<arguments.length;O++){var p=arguments[O];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(f[b]=p[b])}return f},u.apply(this,arguments)}h(u,"_extends");const d=h(f=>{let{children:O,truncate:p=!1,truncateWidth:b,withTruncationTooltip:T=!1}=f;const v=Object(s.useMemo)(()=>({maxWidth:b||void 0}),[b]);if(!p)return t.a.createElement("span",null,O);let S;return b?S=t.a.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:v},O):S=t.a.createElement("span",null,t.a.createElement(o.a,{lines:1,withTooltip:T},O)),S},"MaybeTruncate");d.displayName="MaybeTruncate";const m={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let c=h(class extends s.Component{render(){const{className:O,avatar:p=r.a,primaryContent:b,secondaryContent:T,style:v=i.d.normal,truncate:S=!1,truncateWidth:A,withTruncationTooltip:I=!1}=this.props,_=p(m),M=!!_;return t.a.createElement("span",u({className:Object(a.default)(O,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":M,"c-base_inline_entity--truncate_block":S&&!A,"c-base_inline_entity--truncate_inline":S&&A,"c-base_inline_entity--dim":v===i.d.dim,"c-base_inline_entity--highlight-dark":v===i.d.highlightDark,"c-base_inline_entity--highlight-dim":v===i.d.highlightDim,"c-base_inline_entity--highlight-light":v===i.d.highlightLight})},Object(l.a)(this.props)),t.a.createElement(d,{truncate:S,truncateWidth:A,withTruncationTooltip:I},_,t.a.createElement("span",{className:"c-base_inline_entity__primary_content"},b),T&&t.a.createElement("span",{className:"c-base_inline_entity__secondary_content"},T)))}},"BaseInlineEntity");c.displayName="BaseInlineEntity";var E=n.a=c},fpvb:function(H,n,e){"use strict";var s=e("3Hq1"),t=e("M1Wn"),a=e("Pw5n"),r=e("mXhK"),l=e("h95D");const o=Object(r.b)("Logs helpful messages to the console if you do something incorrect",(i,u,d)=>{if(Object(s.a)(d)||Object(t.a)(d))return l.c&&Object(a.d)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(d.isThunkCreator||d.isActionCreator){if(l.c){const m=d.isThunkCreator?"thunk":"action",c=d.meta?d.meta.name:`${m}Creator`;Object(a.d)(`
	It looks like you dispatched a ${m} creator instead of the ${m} itself!
	This is a common mistake, and the solution is to call dispatch(${c}(payload)) instead of just dispatch(${c}), note the extra parens at the end.
				`)}return null}return Object(l.b)(d),u(d)});o.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"},n.a=o},"g/kD":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("BHdc"),l=e("gWIG"),o=e("Tsh7"),i=e("/qcS"),u=e("wY8X"),d=e("Bz4R"),m=e("xwCZ"),c=e("C3vN"),E=e("i5Ig"),f=e("yz5U"),O=e("Q755");function p(){return p=Object.assign||function(_){for(var M=1;M<arguments.length;M++){var y=arguments[M];for(var j in y)Object.prototype.hasOwnProperty.call(y,j)&&(_[j]=y[j])}return _},p.apply(this,arguments)}h(p,"_extends");const b={noLinking:!1},T=h(_=>{let{stopAnimations:M=!1,noText:y=!1,className:j,memberId:C="",noLinking:D,showEmojiTooltip:N=!1,insertTextSpacing:B=!1,displayInMemberProfile:L=!1,emoji:R}=_;const U=Object(a.d)(G=>Object(d.a)(G,C)),W=Object(a.d)(G=>Object(c.jb)(Object(m.g)(G,C)));let x=E.b;return D===!1&&(x=b),L?t.a.createElement("span",{className:j},t.a.createElement(u.a,{memberId:C,emoji:R,stopAnimations:M,showTooltips:N,emojiSize:i.a.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),U&&t.a.createElement(f.a,p({memberId:C,className:Object(r.default)("margin_left_50","padding_right_50",{margin_right_100:W}),emojiSize:i.a.SMALL,stopAnimations:M,text:y?"":U},x))):t.a.createElement("span",{className:j},t.a.createElement(u.a,{memberId:C,showTooltips:N,emojiSize:i.a.SMALL,emoji:R,stopAnimations:M}),U&&t.a.createElement(f.a,p({memberId:C,className:B?"margin_left_50":"margin_left_25",emojiSize:i.a.SMALL,stopAnimations:M,text:y?"":U},x)))},"CustomStatusTooltipContent");T.displayName="CustomStatusTooltipContent";var v=t.a.memo(T),S=e("ItXa");const A=h(_=>{let{animated:M=!1,tooltip:y=!0,tipPosition:j,noText:C=!1,className:D,memberId:N="",noLinking:B,showEmojiTooltip:L=!1,insertTextSpacing:R=!1,displayInMemberProfile:U=!1}=_;const W=Object(a.d)(G=>Object(l.a)(G,N)),x=Object(s.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(v,{className:"c-custom_status__tooltip",noText:C,memberId:N,noLinking:B,showEmojiTooltip:L,insertTextSpacing:R,displayInMemberProfile:U,emoji:W}),t.a.createElement(S.a,{className:"c-custom_status__expiration",memberId:N})),[N,C,B,L,R,U,W]);return W?y?t.a.createElement(o.d,{tip:x,position:j,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.a.createElement("span",{className:Object(r.default)("c-custom_status",D),"data-qa":"custom_status"},t.a.createElement(u.a,{memberId:N,showTooltips:!1,emojiSize:i.a.SMALL,emoji:W,stopAnimations:!M}))):t.a.createElement(v,{className:Object(r.default)(D,"c-custom_status","c-custom_status--inline",{display_flex:U}),stopAnimations:!M,noText:C,memberId:N,noLinking:B,showEmojiTooltip:L,insertTextSpacing:R,displayInMemberProfile:U,emoji:W}):null},"CustomStatus");A.displayName="CustomStatus";var I=n.a=t.a.memo(A)},g0EK:function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("xwCZ"),t=e("9Gfp"),a=e("VOl3"),r=e("clOX");const l=h((o,i)=>{const u=Object(s.c)(o);return Object(t.m)(o)&&Object(a.a)(u)?!0:Object(r.b)(o,"who_can_at_channel",i)},"canNonAdminsAtChannelOrGroupBySettings")},"g3a/":function(H,n,e){"use strict";e.d(n,"a",function(){return l});var s=e("q1tI"),t=e.n(s),a=e("rAyg"),r=e("G7vT");const l=h(o=>{let{children:i,duration:u,icon:d,svgIconProps:m,toastClasses:c,position:E,offsetX:f,offsetY:O,showCloseButton:p,onCloseComplete:b,shouldSkipToastDismissal:T,closeButtonClasses:v,svgIconClassName:S}=o;return t.a.createElement(a.a,{fadeDelay:u,icon:d,svgIconClassName:S,svgIconProps:m,toastClasses:c,offsetX:f,offsetY:O,position:E,showCloseButton:p,onCloseComplete:b,shouldSkipToastDismissal:T,closeButtonClasses:v},t.a.createElement(r.a,{assertive:!0},i))},"Toast");l.displayName="Toast",l.defaultProps={duration:6e3}},g5Dv:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("jF6j");const l=h(o=>{let{children:i,heading:u,subHeading:d,titleImage:m,headingClassName:c,subHeadingClassName:E,dataQa:f,showFullWidthContent:O,className:p,isSharedWorkspaceInvite:b}=o;return t.a.createElement("div",{className:Object(a.default)("p-refreshed_page",{"p-refreshed_page--workspace":b,full_width:O},p),"data-qa":f},m&&m,u&&t.a.createElement("h1",{className:Object(a.default)("p-refreshed_page__heading",c,{margin_bottom_200:!d,full_width:O,"p-refreshed_page__heading--workspace":b})},u),d&&t.a.createElement("div",{className:Object(a.default)("p-refreshed_page__sub_heading",E,{full_width:O})},d),i)},"RefreshedPageContent");l.displayName="RefreshedPageContent",n.a=l},"g6/Y":function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("SQ0V"),t=e("lhZz"),a=e("dKQz"),r=e("HoeF"),l=e("wVLq"),o=e("jj3I"),i=e("QIbu"),u=e("LZPg"),d=e("ED8d"),m=e("smhd"),c=e("9Gfp");const E=Object(s.c)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(f,O,p)=>{let{emoji:b,reactionType:T=i.d.Standard}=p;if(T===i.d.Sticker)f(Object(r.M)({emoji:b})),Object(t.dispatchForClientStore)(Object(a.s)(b));else{Object(t.dispatchForClientStore)(Object(a.r)({emoji:b,reactionType:T})),f(Object(u.a)({peerId:"self",emoji:b,isEmoji:!0,reactionType:T}));const{huddleEventsTrace:S}=Object(d.a)().getAllTraceHandlers();S==null||S.update({name:m.a.REACTION,type:m.b.ONCE,tags:{reactionType:T}})}const v=Object(c.a)(O());v&&f(Object(o.c)({type:l.a.SEND_REACTION,memberId:v,timestampMs:Date.now(),emoji:b}))});E.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},g9pr:function(H,n,e){H.exports=e.p+"remote_work-f8cd791.jpg"},gE2U:function(H,n,e){"use strict";e.d(n,"a",function(){return Ie});var s=e("lhZz"),t=e("q1tI"),a=e.n(t),r=e("7JUD"),l=e("lvWT"),o=e("tYRW"),i=e("AEEY"),u=e("zKrX"),d=e("YyjR"),m=e("DWmQ"),c=e("9org"),E=e("npde"),f=e("jjSj"),O=e("Lgge"),p=e("jWAO"),b=e("PZLk"),T=e("niVp"),v=e("Sf7p");const S=h(oe=>{let{children:ye,showHorchataBackground:Ne,showSignInLink:Ge,showCreateAccountLink:st,showCreateWorkspaceLink:$e,hideRegionPicker:It,clientTheme:Lt,hideFooter:St=!1,confirmedEmailPill:vt,hideHeader:Yt=!1,isSSBBrowserSignin:et=!1,showSfLogo:Ft=!1,isWarningBannerDisplayed:mt=!1,govSlackTheme:Zt=!1,isLandingPage:gt=!1,joinerRedesignTreatment:at=!1,inviteDetails:it,externalWorkspaceBrandAssets:dt}=oe;return a.a.createElement(v.a,{inviteDetails:it,externalWorkspaceBrandAssets:dt},a.a.createElement(a.a.Fragment,null,!Yt&&a.a.createElement(b.a,{showSignInLink:Ge,showCreateAccountLink:st,showCreateWorkspaceLink:$e,showHorchataBackground:Ne,confirmedEmailPill:vt,isSSBBrowserSignin:et,showSfLogo:Ft,hideLogo:Ft,isWarningBannerDisplayed:mt,govSlackTheme:Zt,isLandingPage:gt,clientTheme:Lt,joinerRedesignTreatment:at}),Zt?a.a.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},ye):ye,!St&&a.a.createElement(T.a,{hideRegionPicker:It,govSlackTheme:Zt,joinerRedesignTreatment:at})))},"RefreshedPageLayout");S.displayName="RefreshedPageLayout";var A=S,I=e("g5Dv"),_=e("qDEp"),M=e("nNoG");const y=new M.b("sign_in");function j(oe){const{isSSB:ye,isSSBSignIn:Ne,hasPromoOffer:Ge,shouldRedirect:st,redirectURL:$e,loggedInTeams:It,entryPoint:Lt=""}=oe;return a.a.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Ge&&!ye&&a.a.createElement("p",{className:"small_bottom_margin"},y.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:It})),a.a.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},It.map((St,vt)=>a.a.createElement(_.b,{key:St.id,"data-qa":`signedin_workspace_link_${vt+1}`,className:"team-signin-link small_margin","data-team-id":St.id,autoClogProps:{elementName:"team_domain",elementValue:St.id.toString(),entryPoint:Lt,onClick:{enableClogAction:!0}},href:Ne?`${St.url}ssb/signin_redirect`:`${St.url}${st?`?redir=${$e}`:""}`,"aria-label":y.t("Go to {teamName} on Slack",{teamName:St.name}),type:"outline"},St.name))))}h(j,"SignedInWorkspaces");var C=e("ktUG"),D=e("Trx9"),N=e("Tevt"),B=e("oEDn"),L=e("d/xU"),R;(function(oe){oe.INVALID_CODE="invalid_pin",oe.RATE_LIMITED="ratelimited",oe.SMS_RATE_LIMITED="two_factor_sms_rate_limited",oe.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",oe.INTERNAL_ERROR="internal_error"})(R||(R={}));var U;(function(oe){oe.SMS="sms",oe.APP="app",oe.EMAIL="email",oe.EMERGENCY="emergency"})(U||(U={}));var W;(function(oe){oe.REQUEST_CODE="request_primary",oe.REQUEST_BACKUP="request_backup",oe.SUBMIT_PRIMARY="submit_primary",oe.SUBMIT_BACKUP="submit_backup",oe.SUBMIT_EMERGENCY="submit_emergency"})(W||(W={}));const x=new M.b("sign_in"),G={elementName:"help_button",onClick:{enableClogAction:!0}},w=h(oe=>{const ye=oe.action===W.REQUEST_BACKUP||oe.action===W.SUBMIT_BACKUP;return ye&&oe.twoFactorBackupType===U.APP||!ye&&oe.twoFactorType===U.APP},"currentMethodIsApp"),se=h(oe=>w(oe)?x.t("Problems with your authentication app?"):x.t("Problems with your code?"),"renderProblemsString"),ee=h(oe=>w(oe)?a.a.createElement("div",{className:"subtle_silver small medium_top_margin"},a.a.createElement("p",{className:"no_bottom_margin"},x.t("Check your authentication app for your code.")),a.a.createElement("p",null,x.rt("<a>Having trouble finding your code?</a>",null,ye=>{let{tag:Ne,text:Ge}=ye;return Ne==="a"?a.a.createElement(N.a,{href:`https://${Object(L.l)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Ge):null})),a.a.createElement("p",null,x.rt("If your app is unavailable, use a <a>backup code</a>.",null,ye=>{let{tag:Ne,text:Ge}=ye;return Ne==="a"?a.a.createElement(N.a,{href:`https://${Object(L.l)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Ge):null}))):a.a.createElement("p",{className:"align_left subtle_silver small"},x.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,ye=>{let{tag:Ne,text:Ge}=ye;return Ne==="a"?a.a.createElement(N.a,{href:`https://${Object(L.l)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Ge):null})),"renderProblems");ee.displayName="renderProblems";const X=h(oe=>{const[ye,Ne]=Object(t.useState)(!1);return a.a.createElement("div",{className:"p-enter-code__help_button"},a.a.createElement(N.a,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>Ne(!ye),autoClogProps:G},a.a.createElement(B.a,{type:"question-circle"})," ",se(oe)),ye&&a.a.createElement("div",{className:"send_code_block"},oe.children,a.a.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},a.a.createElement("hr",{className:"medium_bottom_margin"}),ee(oe))))},"GetHelpButton");X.displayName="GetHelpButton";var me=e("GzZI"),Oe=e("BHdc"),Ce=e("khnw"),le=e("U3SE"),de=e("A6se");function ie(){return ie=Object.assign||function(oe){for(var ye=1;ye<arguments.length;ye++){var Ne=arguments[ye];for(var Ge in Ne)Object.prototype.hasOwnProperty.call(Ne,Ge)&&(oe[Ge]=Ne[Ge])}return oe},ie.apply(this,arguments)}h(ie,"_extends");let pe=h(class extends t.Component{render(){const{ariaDescribedBy:ye}=this.props;return a.a.createElement("div",{className:Object(Oe.default)("two_factor_input_item",{focused:this.props.hasFocus})},a.a.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":ye}))}constructor(...ye){super(...ye),this.onKeyDown=Ne=>{switch(Ne.keyCode){case Ce.a:{Ne.currentTarget.value||this.props.moveLeft();return}case Ce.k:return Ne.preventDefault(),this.props.moveLeft();case Ce.o:return Ne.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=Ne=>{!Object(de.a)(Ne.which)&&Ne.charCode&&!Object(le.a)(Ne)&&Ne.preventDefault()},this.onChange=Ne=>{const Ge=Ne.target.value;(/^[0-9]$/.test(Ge)||Ge==="")&&this.props.onChange(Ge)},this.onPaste=Ne=>{Ne.preventDefault();const Ge=window.clipboardData||Ne.clipboardData,st=Ge.getData("text")||Ge.getData("text/plain"),$e=/\D/g,It=st.replace($e,"");this.props.onPaste(It)}}},"TwoFactorDigitInput");pe.displayName="TwoFactorDigitInput";var ne=a.a.forwardRef((oe,ye)=>a.a.createElement(pe,ie({},oe,{refToForward:ye})));const q=new M.b("team_creation");let ce=h(class extends t.Component{focusInput(ye){const Ne=this.inputRefs[ye];Ne!=null&&Ne.current&&Ne.current.focus()}moveLeft(ye){ye<=0||this.focusInput(ye-1)}moveRight(ye){ye>=this.state.values.length-1||this.focusInput(ye+1)}isComplete(ye){return!ye.some(Ne=>!Ne)}clear(){this.setState(ye=>({values:ye.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(ye,Ne){const Ge=this.state.values.slice();Ge[ye]=Ne,this.setState(()=>({values:Ge}),()=>{Ne&&!this.isComplete(this.state.values)&&this.moveRight(ye)})}componentDidUpdate(ye,Ne){var Ge;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Ge=this.inputRefs[this.state.focusedInputIndex])===null||Ge===void 0?void 0:Ge.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==ye.codeLength&&this.onCodeLengthChange(Ne),!this.isComplete(Ne.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&Ne.values.join("")!==this.state.values.join("")){const st=this.state.values.join("");this.props.onFillCode(st)}else Ne.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(ye,Ne){return this.state.values.slice(ye,Ne).map((Ge,st)=>{const $e=st+ye;return a.a.createElement(ne,{autocomplete:$e===0?"one-time-password":"off",key:$e,ref:this.inputRefs[$e],moveLeft:()=>this.moveLeft($e),moveRight:()=>this.moveRight($e),onChange:It=>this.onChange($e,It),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:$e}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===$e,value:this.state.values[$e],ariaLabel:q.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:$e+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return a.a.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},a.a.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(ye){super(ye),this.onPaste=Ne=>{const Ge=this.state.focusedInputIndex;if(Ge===-1)return;const st=this.state.values.length-Ge,$e=Ne.substring(0,st).split(""),It=this.state.values.slice();$e.forEach((Lt,St)=>{const vt=St+Ge;It[vt]=Lt}),this.setState(()=>({values:It}),()=>{this.focusInput(Math.min(this.state.values.length-1,Ge+$e.length))})},this.onCodeLengthChange=Ne=>{const Ge=Object(me.a)(this.props.codeLength,()=>"");Ne.values.forEach((st,$e)=>{$e<Ge.length&&(Ge[$e]=st)}),this.setState(()=>({values:Ge})),this.inputRefs=Ge.map(()=>a.a.createRef())},this.state={values:Object(me.a)(ye.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>a.a.createRef())}},"TwoFactorCodeInput");ce.displayName="TwoFactorCodeInput",ce.defaultProps={isNumbersOnly:!0};const ge=new M.b("sign_in");function be(oe){let ye=null;return oe.error===R.SMS_RATE_LIMITED?ye=ge.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):oe.error===R.INVALID_CODE?ye=ge.rt("Your two-factor authentication code was incorrect. Please try again."):oe.error===R.RATE_LIMITED?ye=ge.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):oe.error===R.TOO_MANY_ATTEMPTS?ye=ge.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):ye=ge.rt("An unknown error occurred."),a.a.createElement(p.d,{className:"p-enter-code-error__alert",type:p.c.boxed,icon:"lock-o",level:p.b.error,align:p.a.left},a.a.createElement("span",null,ye))}h(be,"EnterCodeError");var Q=e("zxER"),re=e("zm5I"),z=e("geaL");function Y(){return Y=Object.assign||function(oe){for(var ye=1;ye<arguments.length;ye++){var Ne=arguments[ye];for(var Ge in Ne)Object.prototype.hasOwnProperty.call(Ne,Ge)&&(oe[Ge]=Ne[Ge])}return oe},Y.apply(this,arguments)}h(Y,"enter_code_root_extends");const ve=new M.b("sign_in"),Z=5*60*1e3,$={elementName:"resend_button",onClick:{enableClogAction:!0}},te={elementName:"backup_button",onClick:{enableClogAction:!0}},J={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},k="two_factor_form",ae="enter-code",Ee=6;var _e;(function(oe){oe.Request="request_primary",oe.RequestBackup="request_backup",oe.SubmitPrimary="submit_primary",oe.SubmitBackup="submit_backup",oe.SubmitEmergency="submit_emergency",oe.None="none"})(_e||(_e={}));function je(oe){const[ye,Ne]=Object(t.useState)(oe.twoFactorType),[Ge,st]=Object(t.useState)("");var $e;const[It,Lt]=Object(t.useState)(($e=oe.action)!==null&&$e!==void 0?$e:_e.None),[St,vt]=Object(t.useState)(!1),[Yt,et]=Object(t.useState)(Ee),[Ft,mt]=Object(t.useState)(!1),Zt=a.a.useRef(null),gt=a.a.createRef(),at=oe.submitOverride,{trackClogAuthRef:it,clogAuthLoginClick:dt,trackClog:_t}=Object(z.c)(),Dt=it({eventId:C.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:ae});Object(t.useEffect)(()=>{if(St){var lt,ct;if((lt=_t.current)===null||lt===void 0||(ct=lt.track)===null||ct===void 0||ct.call(lt,{elementName:k,elementValue:It}),dt({eventId:C.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:k,uiPage:ae,elementValue:It})(),at&&gt.current)vt(!1),mt(!0),at(Ge,It,oe.magicLogin).then(()=>{var zt;(zt=Zt.current)===null||zt===void 0||zt.clear(),mt(!1)});else{var Rt;(Rt=gt.current)===null||Rt===void 0||Rt.submit()}}},[It,St,gt,_t,Ge,at,oe.magicLogin,dt]),Object(t.useEffect)(()=>{(oe.error===R.RATE_LIMITED||oe.error===R.TOO_MANY_ATTEMPTS)&&mt(!0),oe.error===R.RATE_LIMITED&&setTimeout(()=>{mt(!1)},Z)},[oe.error]);const Ye=ye===U.EMERGENCY,Xe=It===_e.RequestBackup||It===_e.SubmitBackup,kt=!Ye&&(Xe&&oe.twoFactorBackupType===U.SMS||!Xe&&oe.twoFactorType===U.SMS||oe.twoFactorType===U.EMAIL),Bt=oe.twoFactorType===U.EMAIL,wt=oe.twoFactorType===U.SMS?ve.rt("Send Code to Primary Phone"):ve.rt("Use Authentication App"),we=oe.twoFactorBackupType===U.SMS?ve.rt("Send Code to Backup Phone"):ve.rt("Use Backup Authentication App"),ot=h(()=>a.a.createElement(_.a,{type:"outline",onClick:()=>{Lt(Xe?_e.RequestBackup:_e.Request),vt(!0)},autoClogProps:$},Xe?ve.rt("Resend Code to Backup Phone"):ve.rt("Resend Code")),"ResendButton"),yt=h(()=>a.a.createElement(_.a,{type:"outline",onClick:()=>{Lt(Xe?_e.Request:_e.RequestBackup),vt(!0)},autoClogProps:te},Xe?wt:we),"BackupButton");yt.displayName="BackupButton";const Kt=h(()=>{let lt;return Ye?lt=Xe?we:wt:lt=ve.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),a.a.createElement(_.a,{type:"outline",onClick:()=>{Ye?(Ne(oe.twoFactorType),et(Ee)):(Ne(U.EMERGENCY),et(oe.emergencyCodeLength))},autoClogProps:J},lt)},"EmergencyButton");Kt.displayName="EmergencyButton";const Xt=h(()=>oe.twoFactorType===U.EMAIL?oe.isClientApp?ve.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):ve.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):ve.rt("Enter your authentication code"),"GetHeader"),cn=h(()=>{if(Ye)return ve.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(Xe)return oe.twoFactorBackupType===U.APP?ve.rt("Check your authentication app for your code."):ve.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:oe.teamName});switch(oe.twoFactorType){case U.APP:return ve.rt("Check your authentication app for your code.");case U.EMAIL:return ve.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:oe.teamName,emailAddress:oe.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return ve.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:oe.teamName})}},"GetSubheader"),gn=h(lt=>{let ct;Ye?ct=_e.SubmitEmergency:ct=Xe?_e.SubmitBackup:_e.SubmitPrimary,st(lt),Lt(ct),vt(!0)},"onFillCode"),vn=Object(Q.d)(re.a);return a.a.createElement(D.a,{eventId:C.EventId.TWO_FACTOR_AUTH,uiPage:ae,trackClogRef:Dt},a.a.createElement(A,{clientTheme:vn},a.a.createElement(I.a,{heading:Xt(),subHeading:cn(),subHeadingClassName:"p-enter_code_app__view_sub_header"},oe.codeResent&&a.a.createElement(p.d,{className:"p-enter-code-error__alert",type:p.c.boxed,icon:"paper-plane",level:p.b.info,align:p.a.left},Bt?ve.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:oe.teamName,emailAddress:oe.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):ve.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:oe.teamName})),oe.error&&a.a.createElement(be,{error:oe.error}),a.a.createElement("form",{ref:gt,className:"p-enter_code",method:"POST"},a.a.createElement("div",{className:"p-enter_code__input_container"},a.a.createElement("fieldset",{className:"p-enter_code__input_fieldset"},a.a.createElement("legend",{className:"offscreen"},ve.rt("{codeLength}-digit confirmation code",{codeLength:Yt,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),a.a.createElement(ce,{ref:Zt,onFillCode:gn,onChange:()=>{},hideDash:!0,error:oe.error,disabled:Ft,codeLength:Yt}),a.a.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:oe.magicLogin}),oe.redir.length>0&&a.a.createElement("input",{type:"hidden",name:"redir",value:oe.redir}),a.a.createElement("input",{type:"hidden",name:"remember",value:oe.remember?"1":"0"}),a.a.createElement("input",{type:"hidden",name:"has_remember",value:oe.hasRemember}),a.a.createElement("input",{type:"hidden",name:"2fa_code",value:Ge}),a.a.createElement("input",{type:"hidden",name:"2fa_action",value:It})))),a.a.createElement(X,Y({},oe),a.a.createElement("div",{className:"p-enter-code__button"},kt&&a.a.createElement(ot,null),oe.twoFactorBackupType&&!Ye&&a.a.createElement(yt,null),!Bt&&a.a.createElement(Kt,null))),oe.loggedInTeams.length>0&&a.a.createElement("div",{className:"p-enter-code__logged_in_teams"},a.a.createElement(j,Y({},oe))))))}h(je,"EnterCodeRoot");var Ue=e("j77i"),Ke=e("CTtb"),ke=e("toaU"),Qe=e("68qM");function Ze(){return Ze=Object.assign||function(oe){for(var ye=1;ye<arguments.length;ye++){var Ne=arguments[ye];for(var Ge in Ne)Object.prototype.hasOwnProperty.call(Ne,Ge)&&(oe[Ge]=Ne[Ge])}return oe},Ze.apply(this,arguments)}h(Ze,"enter_2fa_code_modal_extends");const De=new M.b("2fa_modal"),Fe={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},Ve={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function Je(oe,ye){const Ne=Object(Ue.i)();if(oe!==void 0){const st=Ne[oe].two_factor_magic_login;st!==void 0&&st.token&&(st.token=ye),Object(Ue.w)("pendingAuthTeams",Ne)}}h(Je,"updateLocalConfig2fa");function Ot(oe){const ye=Object(Ue.i)();if(oe!==void 0){const Ne=ye[oe];Ne.two_factor_magic_login=void 0,Object(Ue.w)("pendingAuthTeams",ye)}}h(Ot,"clearLocalConfig2faMagicLogin");function ht(oe){let{magicLogin:ye,teamId:Ne,type:Ge,backupType:st,emergencyLength:$e,emailAddress:It,teamName:Lt,currentTeamId:St,isOpen:vt,closeModal:Yt}=oe;const[et,Ft]=Object(t.useState)(ye),[mt,Zt]=Object(t.useState)(null),[gt,at]=Object(t.useState)(!1),it=St?Object(s.getStoreInstanceByTeamId)(St):void 0,dt=Object(t.useCallback)((Dt,Ye,Xe)=>{const kt={magic_token:Xe,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:Dt,two_factor_is_backup:Ye===W.REQUEST_BACKUP||Ye===W.SUBMIT_BACKUP};return Ye===W.REQUEST_CODE||Ye===W.REQUEST_BACKUP?(kt.two_factor_pin="",at(!0)):at(!1),new O.a(Bt=>{Object(f.a)("auth.loginMagic",kt,(wt,we)=>{if(wt&&we.refreshed_magic_login){var ot;Ft(we.refreshed_magic_login),Je(Ne,we.refreshed_magic_login),!((ot=we.reason)===null||ot===void 0)&&ot.match(/^missing_/)||Zt(we.reason),Bt(wt)}else wt&&we.team?Object(Ke.a)({currentTeamStore:it,newWorkspaceId:Ne,navigateToRouteProps:{routeName:ke.a},shouldAutoSignIn:!0}).then(()=>{Yt(),Bt(wt)}):(Ot(Ne),Object(Ke.a)({currentTeamStore:it,newWorkspaceId:Ne,navigateToRouteProps:{routeName:ke.a}}).then(()=>{Yt(),Bt(wt)}))})})},[Ne,it,Yt]);Object(Qe.a)(()=>{dt("",W.SUBMIT_PRIMARY,et??"")},[]);const _t=De.t("Finish signing into {teamName}",{teamName:Lt,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return a.a.createElement(r.a,{isOpen:vt,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:Yt,"data-qa":Fe.enter2faCodeModal},a.a.createElement(l.a,null,a.a.createElement(o.a,{title:_t})),a.a.createElement(i.a,null,a.a.createElement(c.a,null,a.a.createElement("div",{id:"enter-code-app-root"},a.a.createElement(je,Ze({},Ve,{teamName:Lt,error:mt,action:null,magicLogin:et||"",twoFactorType:Ge,twoFactorBackupType:st,emailAddress:It,codeResent:gt,redir:"",emergencyCodeLength:$e,isClientApp:!0,submitOverride:dt}))))),a.a.createElement(u.a,null,a.a.createElement(d.a,null,a.a.createElement(m.a,{type:"outline","data-qa":Fe.cancelButton},De.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"admin"})))))}h(ht,"TwoFAModal"),ht.displayName="TwoFAModal";const Le=Object(E.a)(ht);var jt=e("s4P+"),Ut=e("7xYR");function Ie(oe,ye){const Ne=Object(s.getStateForClientStore)();if(!Object(Ut.isWorkspacePendingTwoFactor)(Ne,oe))return!1;const Ge=Object(Ut.getWorkspacesMeta)(Ne),st=Ge==null?void 0:Ge[oe],{two_factor_magic_login:$e,name:It}=st,{token:Lt,user_2fa_type:St,user_2fa_backup_type:vt,user_emergency_code_length:Yt,email:et}=$e;let Ft;return ye?Ft=Object(s.getStoreInstanceByTeamId)(ye):Ft=Object(s.getStoreInstanceByTeamId)(Object(Ut.getFocusedWorkspace)(Ne)),Ft?(Ft.dispatch(Le({magicLogin:Lt,teamId:oe,type:St,backupType:vt,emergencyLength:Yt,teamName:It,currentTeamId:ye,emailAddress:et})),!0):(Object(jt.b)().error("TWO_FACTOR_SSB",`${oe} is pending 2fa, but no store for ${ye}, falling back to openSignIn()`),!1)}h(Ie,"maybeRenderTwoFactorModal")},gENi:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("kBpe");function t(){return!Object(s.o)()&&Object(s.i)()}h(t,"isDrawSupported")},gHj1:function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("9oTK"),t=e("VHGx"),a=e("Xo6s");function r(O){return l.apply(this,arguments)}h(r,"fetchNearestChimeMediaRegion");function l(){return l=Object(s.coroutine)(function*(O){const p=new t.b({url:O?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const b=yield new a.a().q(p);return JSON.parse(b).region}catch{return""}}),l.apply(this,arguments)}h(l,"_fetchNearestChimeMediaRegion");var o=e("Lgge"),i=e("PsQx"),u=e("zIak"),d=e("AdD7"),m=e("mGaQ"),c=e("s4P+");let E=h(class sa{writeRegions(p,b){const T=b?sa.GOV_REGION_STORAGE_KEY:sa.REGION_STORAGE_KEY,v={regions:p,timestamp:Date.now(),version:sa.VERSION};try{localStorage.setItem(T,JSON.stringify(v))}catch(S){Object(c.b)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",S.message)}}readRegions(p){const b=p?sa.GOV_REGION_STORAGE_KEY:sa.REGION_STORAGE_KEY,T=localStorage.getItem(b);if(!T)return null;let v=null;try{v=JSON.parse(T)}catch(S){return Object(c.b)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",S.message),null}return v.version!==sa.VERSION||this.ttl&&Date.now()-v.timestamp>this.ttl?null:v}constructor(p){this.ttl=p}},"ChimeRegionStorage");E.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",E.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",E.VERSION=1;let f=h(class Vs{static getInstance(){return Vs.instance||(Vs.instance=new Vs),Vs.instance}getNearestChimeMediaRegion(p){var b=this;return Object(s.coroutine)(function*(){return(p?Object(m.b)(p):!1)?b.getNearestChimeGovMediaRegion():b.getNearestChimeCommercialMediaRegion()})()}getNearestChimeCommercialMediaRegion(){var p=this;return Object(s.coroutine)(function*(){if(!p.commercialRegions){const b=p.storage.readRegions(!1);b&&(p.commercialRegions=b.regions)}return p.commercialRegions?p.commercialRegions:p.remoteGetNearestChimeMediaRegion(!1)})()}getNearestChimeGovMediaRegion(){var p=this;return Object(s.coroutine)(function*(){if(!p.govRegions){const b=p.storage.readRegions(!0);b&&(p.govRegions=b.regions)}return p.govRegions?p.govRegions:p.remoteGetNearestChimeMediaRegion(!0)})()}remoteGetNearestChimeMediaRegion(p){var b=this;return Object(s.coroutine)(function*(){const T=yield o.a.resolve(r(p));return p?b.govRegions=T:b.commercialRegions=T,b.storage.writeRegions(T,p),T})()}init(){if(this.initialized)return 0;this.initialized=!0;const p=Object(d.b)();let b=Vs.INITIAL_LOAD_DELAY;const T=this.storage.readRegions(p);T&&(p?this.govRegions=T.regions:this.commercialRegions=T.regions,b=Math.max(Vs.INITIAL_LOAD_DELAY,Vs.REFRESH_INTERVAL-(Date.now()-T.timestamp)));var v=this;const S=setTimeout(Object(s.coroutine)(function*(){yield v.remoteGetNearestChimeMediaRegion(p);const A=new i.a(Vs.REFRESH_INTERVAL);A.start(Object(s.coroutine)(function*(){yield v.remoteGetNearestChimeMediaRegion(p)})),Object(u.a)(()=>{A.stop()})}),b);return Object(u.a)(()=>{clearTimeout(S)}),b}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new E(Vs.REFRESH_INTERVAL)}},"ChimeRegionProvider");f.REFRESH_INTERVAL=3*24*60*60*1e3,f.INITIAL_LOAD_DELAY=5*1e3},gKtV:function(H,n,e){"use strict";e.d(n,"a",function(){return b});var s=e("9oTK"),t=e("DN8O"),a=e("Lgge"),r=e("SQ0V"),l=e("xwCZ"),o=e("beVI"),i=e("2XU3"),u=e("KGIc"),d=e("6l10"),m=e("2mvv"),c=e("S4vl");const E="screenhero.rooms.proxyLogs",f=Object(r.c)("Send call logs to the server",(T,v,S)=>{let{logs:A,useSendBeacon:I=!1,callId:_}=S;const M=v();let y;if(_?y=_:M.activeCall&&M.activeCall.id&&(y=M.activeCall.id),!y)return Object(c.b)(!1,"There should be an active call in progress in order to send logs."),a.a.reject(new Error("SendLogs: no call"));const j=Object(l.c)(M),C=Object(o.g)(M);if(!C)return a.a.reject(new Error("SendLogs: no current team"));const D={data:{room_id:y,user_id:j.id,team_id:C.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:A}},N={data:JSON.stringify(D.data)};return I?Object(d.a)({apiUrl:"/api/",method:E,token:Object(m.b)(M),versionTs:Object(u.f)(),versionUid:Object(u.h)(),args:N})?a.a.resolve():a.a.reject(new Error("SendLogs: beacon failed")):T(Object(i.apiCall)({method:E,reason:"calls-logging",args:N}))});f.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var O=e("M3pb");const p=60*1e3;class b{start(v){Object(c.b)(!this.intervalHandle,"Log reporter already started."),this.callId=v,this.intervalHandle=window.setInterval(()=>this.report(!1),p),window.addEventListener("beforeunload",this.unloadHandler)}joinLogs(v){return v.map(S=>S.join(" ")).join(`
`)}constructor(v=t.a){this.buffer=v,this.isPostPending=!1,this.unloadHandler=()=>{window.Cypress||this.report(!0)};var S=this;this.stop=Object(s.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;S.intervalHandle&&window.clearInterval(S.intervalHandle),S.intervalHandle=void 0,window.removeEventListener("beforeunload",S.unloadHandler),I&&(yield S.report(_)),S.buffer.hasItems()&&(yield S.report(_)),S.callId=void 0});var A=this;this.report=Object(s.coroutine)(function*(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(A.isPostPending&&!I)return;const{dispatch:_}=Object(O.a)(),M=A.buffer.flush();if(!M.length)return;A.isPostPending=!0;const y=A.joinLogs(M);yield _(f({logs:y,useSendBeacon:I,callId:A.callId})).catch(()=>{A.buffer.replace(M.concat(A.buffer.flush()))}).finally(()=>{A.isPostPending=!1})})}}h(b,"log_reporter_LogReporter")},"gOA+":function(H,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return b});var s=e("oTSI"),t=e("uAML"),a=e("Lgge"),r=e("lhZz"),l=e("pu3F"),o=e("9mnW"),i=e("O86Y"),u=e("3KdQ"),d=e("SQ0V"),m=e("0Wfr"),c=e("BEaa"),E=e("s4P+");const f=1e4,O=Object(s.a)(()=>new t.b({fetch:(v,S)=>a.a.all(S.map(A=>Object(r.dispatchForTeamId)(v,T({channelId:A,count:l.J})))),isEnabled:()=>!0,metricsName:"member-list"})),p=Object(d.c)("marks objects as stale via CFM for Membership List",function(v,S){let{teamId:A,channelId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};O().markObjectsAsStale(A,[I])});p.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const b=Object(m.a)(p,Object(c.a)(f,0,.5)),T=Object(d.c)("Fetches top members for the channel",function(v,S){let{channelId:A,count:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object(o.b)(v,S,A,I).then(_=>{const M=Object(i.g)(S());if(!M){Object(E.b)().info("MOS","No teamId found");return}return O().markObjectsAsFresh(M,[A]),v(Object(u.a)({channelId:A,memberList:_}))})});T.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},gZuW:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("oEDn");function l(){return l=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var m=arguments[d];for(var c in m)Object.prototype.hasOwnProperty.call(m,c)&&(u[c]=m[c])}return u},l.apply(this,arguments)}h(l,"_extends");let o=h(class extends s.PureComponent{render(){const{children:d,className:m,id:c,...E}=this.props,f=Object(a.default)("c-inline_alert",m);return t.a.createElement("div",l({},E,{className:f,id:c,"data-qa-error":!0}),t.a.createElement(r.a,{type:"info-circle",className:"c-inline_alert__icon",size:"inherit",inline:!0}),t.a.createElement("span",{className:"c-inline_alert__text"},d))}},"InlineAlert");o.displayName="InlineAlert",o.defaultProps={className:"",id:""};var i=n.a=o},gded:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s=h(t=>{let{listId:a,viewId:r}=t;return`${a}-${r}`},"getSortsFiltersGridsId")},geaL:function(H,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("ktUG");const r=h(u=>({action:a.UiAction.IMPRESSION,uiPage:window.location.href,...u}),"getAuthImpressionTrackParams"),l=h(u=>({action:a.UiAction.CLICK,uiPage:window.location.href,...u}),"getAuthClickTrackParams"),o=h(u=>({uiPage:window.location.href,...u}),"getAuthTrackParams");function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const d=Object(s.useRef)(null),m=Object(s.useCallback)(f=>O=>{if(d.current={track:O},u){var p;d==null||(p=d.current)===null||p===void 0||p.track(r(f))}},[d,u]),c=Object(s.useCallback)(f=>()=>{var O;d==null||(O=d.current)===null||O===void 0||O.track(l(f))},[d]),E=Object(s.useCallback)(f=>()=>{var O;d==null||(O=d.current)===null||O===void 0||O.track(o(f))},[d]);return{trackClog:d,trackClogAuthRef:m,clogAuthLoginClick:c,clogAuthLoginAction:E}}h(i,"useAuthClogger")},gogJ:function(H,n,e){"use strict";e.d(n,"b",function(){return T}),e.d(n,"a",function(){return I}),e.d(n,"c",function(){return _});var s=e("1myf"),t=e("S1sa"),a=e("G4qV"),r=e("ZKjC"),l=e("nNoG"),o=e("bJfW"),i=e("G0eX"),u=e("mZIY"),d=e("ehcD"),m=e("xwCZ"),c=e("beVI"),E=e("O86Y"),f=e("rHDT"),O=e("UIp0"),p=e("o2hH");const b=new l.b("create_channel_modal"),T=Object(r.b)(M=>{const y=Object(m.c)(M),j=Object(d.a)(y),C=Object(c.g)(M);if(!C)return[];const D=Object(E.a)(M)||[],N=[C.id,...j,...D],B=[...new Set(N)].filter(L=>!Object(o.b)(L)).map(L=>Object(c.s)(M,L)).filter(L=>!!L&&!Object(i.V)(L));return Object(s.a)(B,L=>Object(i.h)(L))});T.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:M=>{const y=Object(m.c)(M),j=Object(d.a)(y),C=Object(c.g)(M);if(!C)return[];const D=Object(E.a)(M)||[],N=[C.id,...j,...D],B=[...new Set(N)].filter(L=>!Object(o.b)(L)).map(L=>Object(c.s)(M,L)).filter(L=>!!L&&!Object(i.V)(L));return Object(s.a)(B,L=>Object(i.h)(L))}};const v=h((M,y,j)=>y[M]==="admin"||j==="admin"?b.t("Admins only"):y[M]==="owner"||j==="owner"?b.t("Owners only"):"","mapPrefToDisplayReason"),S=h((M,y)=>{const j=y==null?void 0:y.map(C=>C.id);return M.map(C=>{var D,N;return{label:Object(i.h)(C),value:C,optgroup:C.enterprise_name,key:C.id,isDisabled:!!(j!==void 0&&j.includes(C.id)),displayReason:(N=(D=y==null?void 0:y.find(B=>B.id===C.id))===null||D===void 0?void 0:D.displayReason)!==null&&N!==void 0?N:""}})},"mapWorkspacesToSelectOptionItems"),A=h((M,y)=>{let{ineligibleWorkspaces:j,excludeExternalWorkspaces:C}=y;const[D,N]=Object(t.a)(M,L=>Object(u.a)(L)),B={value:void 0,label:"",type:"divider"};return[...S(N,j),...!C&&D.length>0?[B,...S(D,j)]:[]]},"mapInvitableWorkspacesToSelectOptions"),I=Object(r.b)(M=>{const y=Object(O.c)(M),j=Object(p.b)(M),C=T(M),D=Object(E.a)(M),N=Object(f.a)(M,"who_can_create_channels",D),B=Object(f.a)(M,"who_can_create_groups",D),L=C.filter(R=>!y.includes(R.id)&&!j.includes(R.id)).map(R=>({id:R.id,displayReason:v(R.id,N,B)}));return A(C,{ineligibleWorkspaces:L})});I.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:M=>{const y=Object(O.c)(M),j=Object(p.b)(M),C=T(M),D=Object(E.a)(M),N=Object(f.a)(M,"who_can_create_channels",D),B=Object(f.a)(M,"who_can_create_groups",D),L=C.filter(R=>!y.includes(R.id)&&!j.includes(R.id)).map(R=>({id:R.id,displayReason:v(R.id,N,B)}));return A(C,{ineligibleWorkspaces:L})}};const _=Object(a.a)(T,M=>M.length>1)},gsmS:function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("9oTK"),t=e.n(s),a=e("s4P+"),r=e("oTSI"),l=e("Lgge"),o=e("uAML"),i=e("lhZz"),u=e("MvPG"),d=e("8j9e");const m="HERMES_TRIGGERS_CFM";function c(O,p){return E.apply(this,arguments)}h(c,"fetchAndUpsertTriggersById");function E(){return E=Object(s.coroutine)(function*(O,p){return l.a.map(p,function(){var b=Object(s.coroutine)(function*(T){try{const{trigger:v,ok:S}=yield Object(i.dispatchForTeamId)(O,Object(u.b)({triggerId:T,includeWorkflowDetails:!0,reason:"fetch-stale-triggers-with-cfm"}));if(!S){Object(a.a)({teamId:O}).error(m,`unable to fetch ${T}, workflows.triggers.info responded with not ok`);return}Object(i.dispatchForTeamId)(O,Object(d.l)({triggers:[v]}))}catch{}});return function(T){return b.apply(this,arguments)}}())}),E.apply(this,arguments)}h(E,"_fetchAndUpsertTriggersById");const f=Object(r.a)(()=>new o.b({fetch:c,isEnabled:()=>!0}))},gv7z:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ifKl"),l=e("BJra"),o=e("sGXp");function i(){return i=Object.assign||function(E){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var p in O)Object.prototype.hasOwnProperty.call(O,p)&&(E[p]=O[p])}return E},i.apply(this,arguments)}h(i,"_extends");const u=h((E,f,O,p)=>!(E!==o.c.medium||!O||p||f),"shouldVerticallyCenter"),d={className:"c-base_entity__avatar"},m=h(E=>{const{size:f,style:O=o.d.normal,text:p=null,className:b="",subtext:T=null,avatar:v=r.a,metadata:S=null,forwardedRef:A=null}=E,I=v(d),_=!!I;return t.a.createElement("div",i({className:Object(a.default)(b,"c-base_entity",`c-base_entity--${f}`,{"c-base_entity--has-avatar":_,"c-base_entity--dim":O===o.d.dim,"c-base_entity--vertically-center":u(f,T,_,S)})},Object(l.a)(E),{ref:A}),I,t.a.createElement("div",{className:"c-base_entity__text-contents"},p,T,S))},"BaseEntity");m.displayName="BaseEntity";var c=n.a=m},h2ws:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("Yauy"),t=e("C3vN"),a=e("y6S6");function r(l,o,i){if(Object(t.jb)(o))return Object(s.db)(i);const u=Object(a.b)(l,i.id,o.id);return!!(u.isKnown&&u.isMember)}h(r,"isUserKnownToBeMemberOfChannel")},hAJ3:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("Lgge"),t=e("SQ0V"),a=e("FZZA"),r=e("AaY3"),l=e("0dq7"),o=e("CMT/");const i=Object(t.c)("Creates a new huddle in mpim where all huddle participants are channel members",(u,d,m)=>{let{channelId:c,memberIds:E}=m;return u(Object(o.a)({memberIds:E})).then(f=>{u(Object(a.a)(c)),u(Object(r.a)({channelId:f.id,entryPoint:l.e.CREATE_NEW_MPIM}))}).catch(f=>s.a.reject(f))});i.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},hD2y:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("clOX");const t=h((a,r)=>Object(s.b)(a,"who_can_at_everyone",r),"canNonAdminsAtMentionEveryoneBySettings")},hHnA:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"d",function(){return r}),e.d(n,"n",function(){return l}),e.d(n,"p",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"i",function(){return d}),e.d(n,"q",function(){return m}),e.d(n,"h",function(){return c}),e.d(n,"g",function(){return E}),e.d(n,"m",function(){return f}),e.d(n,"f",function(){return O}),e.d(n,"j",function(){return p}),e.d(n,"k",function(){return b}),e.d(n,"l",function(){return T}),e.d(n,"o",function(){return v});var s=e("DwFS");const t=Object(s.a)("Set current list view");t.meta={name:"createAction",key:"createActionsetCurrentListView",description:"Set current list view"};const a=Object(s.a)("Set admin suggested list views");a.meta={name:"createAction",key:"createActionsetAdminSuggestedListViews",description:"Set admin suggested list views"};const r=Object(s.a)("Set favorite list views");r.meta={name:"createAction",key:"createActionsetFavoriteListViews",description:"Set favorite list views"};const l=Object(s.a)("Set recently viewed list views");l.meta={name:"createAction",key:"createActionsetRecentlyViewedListViews",description:"Set recently viewed list views"};const o=Object(s.a)("Set user created list views");o.meta={name:"createAction",key:"createActionsetUserCreatedListViews",description:"Set user created list views"};const i=Object(s.a)("Set list view selection filter");i.meta={name:"createAction",key:"createActionsetCurrentListViewSectionFilter",description:"Set list view selection filter"};const u=Object(s.a)("Set flag to indicate list view sections are being fetched");u.meta={name:"createAction",key:"createActionsetIsFetchingListViewSections",description:"Set flag to indicate list view sections are being fetched"};const d=Object(s.a)("Set list view error on a specific section");d.meta={name:"createAction",key:"createActionsetListViewSectionError",description:"Set list view error on a specific section"};const m=Object(s.a)("Upsert list views based on search results");m.meta={name:"createAction",key:"createActionupsertListViewSearchResults",description:"Upsert list views based on search results"};const c=Object(s.a)("Set currently active full search list view ids for the list selection page");c.meta={name:"createAction",key:"createActionsetListViewActiveSearchResultIds",description:"Set currently active full search list view ids for the list selection page"};const E=Object(s.a)("Set currently active full search query for the list selection page");E.meta={name:"createAction",key:"createActionsetListViewActiveSearchQuery",description:"Set currently active full search query for the list selection page"};const f=Object(s.a)("Set sales leader report drilldown group info");f.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownGroups",description:"Set sales leader report drilldown group info"};const O=Object(s.a)("Set flag to indicate sales leader opportunities drilldown info is being fetched");O.meta={name:"createAction",key:"createActionsetIsFetchingOpportunitiesDrilldown",description:"Set flag to indicate sales leader opportunities drilldown info is being fetched"};const p=Object(s.a)("Set sales leader report drilldown display columns");p.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownDisplayColumns",description:"Set sales leader report drilldown display columns"};const b=Object(s.a)("Set sales leader report drilldown group by column");b.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownGroupByColumn",description:"Set sales leader report drilldown group by column"};const T=Object(s.a)("Set sales leader report drilldown group columns");T.meta={name:"createAction",key:"createActionsetOpportunitiesDrilldownGroupColumns",description:"Set sales leader report drilldown group columns"};const v=Object(s.a)("Set should show opportunities list view refresh banner indicating user went to Salesforce");v.meta={name:"createAction",key:"createActionsetShouldShowOpportunitiesListViewBanner",description:"Set should show opportunities list view refresh banner indicating user went to Salesforce"}},hHne:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("O86Y"),a=e("PWAB"),r=e("AO5M"),l=e("j77i");const o=Object(s.c)("Entirely replaces tile state",(i,u,d)=>{let{tileHistoryState:m}=d;if(!m)return;const c=Object(t.g)(u());Object(l.x)(c,a.a.HISTORY,m),i(Object(r.d)({tileHistoryState:m}))});o.meta={name:"createThunk",key:"createThunkreplaceTileHistoryState",description:"Entirely replaces tile state"},n.a=o},"hT/Z":function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("uoFi"),l=e("cBJ3"),o=e("dmdh"),i=e("OaiI"),u=e("mNat");const d=Object(a.c)("Fetch list",function(){var m=Object(s.coroutine)(function*(c,E,f){let{lists:O}=f;const p=O.map(b=>Object(u.g)(b));Object(i.isListsStoreRefactorEnabled)(E())||c(Object(r.b)({lists:p})),Object(i.isListsStoreRefactorEnabled)(E())&&O.forEach(b=>{const T=Object(o.e)(E(),b.id);c(Object(l.a)({...T,...b}))})});return function(c,E,f){return m.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkupsertLocalListFiles",description:"Fetch list"}},hXnR:function(H,n,e){"use strict";var s=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("/MKj"),l=e("BeL+"),o=e("pFNT"),i=e("qDEp"),u=e("jWAO"),d=e("8aX7"),m=e("nWdO"),c=e("zxER"),E=e("WMzb"),f=e("i5Ig"),O=e("YUBf"),p=e("pu3F"),b=e("9Gfp"),T=e("sgFo"),v=e("3vtZ"),S=e("CMT/"),A=e("nNoG"),I=e("y6S6"),_=e("CDqL"),M=e("E97Y"),y=e("to1N"),j=e("0dq7"),C=e("Trx9"),D=e("ktUG"),N=e("s9Q6"),B=e("beVI"),L=e("G0eX"),R=e("GNR7"),U=e("WAPM"),W=e("fPvf"),x=e("DneB"),G=e("E3dU"),w=e("+CZ0"),se=e("Ccc1"),ee=e("+tZp"),X=e("xwCZ"),me=e("hooW"),Oe=e("9068");function Ce(Ie){let{memberId:oe}=Ie;const ye=Object(c.d)(Ge=>Object(X.g)(Ge,oe)),Ne=Object(c.d)(Ge=>Object(ee.a)(Ge,ye,!1,!1));return Object(Oe.c)(ye)?a.a.createElement(me.a,{type:"unknown"}):Object(Oe.b)(ye)?a.a.createElement(me.a,{type:"non-existent"}):a.a.createElement("span",null,Ne)}h(Ce,"DeprecatedHuddleName"),Ce.displayName="DeprecatedHuddleName";const le=new A.b("huddles");function de(Ie){let{unknownMemberIds:oe}=Ie;const ye=Object(x.b)(w.b),Ne=Object(c.d)($e=>Object(G.d)($e,ye)),Ge=Object(t.useMemo)(()=>ye?oe:[],[ye,oe]);let st;if(Ge.length===1)st=le.rt("{name1} is not a member of {channel}.",{name1:a.a.createElement(Ce,{memberId:Ge[0]}),channel:a.a.createElement(se.a,{channel:Ne})});else if(Ge.length===2)st=le.rt("{name1} and {name2} are not a member of {channel}.",{name1:a.a.createElement(Ce,{memberId:Ge[0]}),name2:a.a.createElement(Ce,{memberId:Ge[1]}),channel:a.a.createElement(se.a,{channel:Ne})});else if(Ge.length===3)st=le.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:a.a.createElement(Ce,{memberId:Ge[0]}),name2:a.a.createElement(Ce,{memberId:Ge[1]}),name3:a.a.createElement(Ce,{memberId:Ge[2]}),channel:a.a.createElement(se.a,{channel:Ne})});else if(Ge.length>3){const[$e,It,Lt,...St]=Ge,vt=St.map(Yt=>a.a.createElement(Ce,{key:Yt,memberId:Yt}));st=le.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:a.a.createElement(Ce,{memberId:$e}),name2:a.a.createElement(Ce,{memberId:It}),name3:a.a.createElement(Ce,{memberId:Lt}),channel:a.a.createElement(se.a,{channel:Ne}),numOthers:Ge.length-3},Yt=>{let{text:et}=Yt;return a.a.createElement(m.c,{tip:Object(A.h)(vt,{noEscape:!0})},a.a.createElement("span",null,et))})}return a.a.createElement("small",null,st)}h(de,"HuddleInviteNotAMember"),de.displayName="HuddleInviteNotAMember";var ie=de,pe=e("+kJ4"),ne=e("TUw0"),q=e("Sl1j"),ce=e("B4ch"),ge=e("FN5i");const be=new A.b("huddles");function Q(Ie){let{members:oe}=Ie;const ye=Object(r.useDispatch)(),[Ne,Ge]=Object(t.useState)(null),[st,$e]=Object(t.useState)([]),It=Object(x.b)(w.b)||"",Lt=Object(c.d)(Ft=>Object(G.d)(Ft,It)),St=Object(t.useCallback)(()=>ye(Object(pe.a)()),[ye]),vt=Object(t.useCallback)(()=>ye(Object(pe.a)({closeAll:!0})),[ye]),Yt=Object(t.useCallback)(Ft=>{Ge(Ft),ye(Object(q.B)({channelId:It,users:Ft})).then(()=>{st.push(Ft),$e(st),Ge(null)}).catch(()=>{Ge(null)})},[It,ye,st]),et=Object(t.useMemo)(()=>({addedToChannel:be.t("Added to channel"),notInChannel:be.t("Not in channel"),added:be.t("Added"),inviteToChannel:be.t("Invite to channel")}),[]);return a.a.createElement(O.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:St,contentLabel:be.rt("These people are not a member of {channelName}",{channelName:a.a.createElement(se.a,{className:"bold",channel:Lt})}),shouldReturnFocusAfterClose:!0},a.a.createElement(O.i,null,a.a.createElement(O.l,{title:be.rt("These people are not a member of {channelName}",{channelName:a.a.createElement(se.a,{channel:Lt})}),subtitle:be.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:a.a.createElement(se.a,{className:"bold",channel:Lt})})})),a.a.createElement(O.d,null,a.a.createElement(O.e,null,oe.map(Ft=>{const mt=st.includes(Ft);return a.a.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:Ft},a.a.createElement(ne.b,{id:Ft,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:a.a.createElement("small",{className:"sk_dark_gray"},mt?et.addedToChannel:et.notInChannel)}),a.a.createElement(i.c,{type:"outline",size:"small",disabled:mt,loading:Ne===Ft,onClick:()=>Yt(Ft)},mt?et.added:et.inviteToChannel))}),a.a.createElement(u.d,{className:"margin_top_50",level:u.b.info,type:u.c.custom},be.t("If you don\u2019t add them, they won\u2019t be able to see messages in the huddle.")))),a.a.createElement(O.g,null,a.a.createElement(O.h,null,a.a.createElement(O.c,{onClick:St,type:"outline"},be.t("Cancel")),a.a.createElement(i.f,{onClick:vt,type:"primary"},be.t("Done")))))}h(Q,"HuddleInviteAddToChannel"),Q.displayName="HuddleInviteAddToChannel";var re=Object(ce.a)(Q,{isStackable:!0}),z=e("U1tW"),Y=e("trVL"),ve=e("Z3RE"),Z=e("p6pj"),$=e("6SBE"),te=e("oSkh"),J=e("rIOq"),k=e("G4FP"),ae=e("VkPA"),Ee=e("ZMRP"),_e=e("ISSR"),je=e("Fn/R"),Ue=e("Zbwg"),Ke=e("azkI");const ke=new A.b("huddles");var Qe;(function(Ie){Ie.CHANNEL="channel",Ie.PEOPLE="people"})(Qe||(Qe={}));const Ze=h(Ie=>{let{isFreeTeam:oe,onSuggestedChannelSelected:ye,onSuggestedUserSelected:Ne,selectedChannelId:Ge,selectedMemberIds:st}=Ie;const $e=Object(c.d)(b.a),It=Object(c.e)(Ke.f),Lt=Object(c.e)(Ke.g),St=Object(c.e)(Xe=>{if(!It)return[];if(st.length)return[];const kt=[];return It.forEach(Bt=>{if(Bt.id===Ge)return;const wt=Object(G.d)(Xe,Bt.id);Object(_e.a)(wt)||kt.push(Bt)}),kt}),vt=Object(t.useMemo)(()=>St.map(Xe=>Xe.id),[St]),Yt=Object(c.e)(Xe=>{if(!Lt)return[];if(Ge)return[];const kt=[];return Lt.forEach(Bt=>{if(Bt.id===$e||st.includes(Bt.id))return;const wt=Object(X.g)(Xe,Bt.id);Object(je.a)(wt)||kt.push(Bt)}),kt}),et=Object(t.useMemo)(()=>Yt.map(Xe=>Xe.id),[Yt]),Ft=Object(t.useMemo)(()=>{const Bt=et.length*60,wt=32,we=vt.length*wt;return Math.min(Math.max(Bt,we),240)},[vt,et]),mt=Object(t.useCallback)(Xe=>{if(!Xe.id)return;Object(Ue.a)(Xe.id)?ye(Xe.id):Ne(Xe.id)},[ye,Ne]),Zt=Object(t.useCallback)(Xe=>{const kt=St[Xe];if(kt)return a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},a.a.createElement(k.a,{channelId:kt.id}))},[St]),gt=Object(t.useCallback)(()=>a.a.createElement(te.a,{disableHeight:!0},Xe=>{let{width:kt}=Xe;return a.a.createElement(Ee.b,{"aria-label":ke.t("Channel"),keys:vt,rowRenderer:Zt,onItemClick:mt,width:kt,height:Ft})}),[mt,Zt,vt,Ft]),at=Object(t.useCallback)(Xe=>{const kt=Yt[Xe];if(kt)return a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},a.a.createElement(J.a,{id:kt.id}))},[Yt]),it=Object(t.useCallback)(()=>a.a.createElement(te.a,{disableHeight:!0},Xe=>{let{width:kt}=Xe;return a.a.createElement(Ee.b,{"aria-label":ke.t("People"),keys:et,rowRenderer:at,onItemClick:mt,width:kt,height:Ft})}),[mt,at,et,Ft]),[dt,_t]=Object(t.useState)(Qe.PEOPLE),Dt=Object(t.useCallback)(Xe=>{_t(Xe)},[]);Object(t.useEffect)(()=>{dt===Qe.PEOPLE&&Ge?_t(Qe.CHANNEL):dt===Qe.CHANNEL&&st.length&&_t(Qe.PEOPLE)},[dt,Ge,st]);const Ye=Object(t.useMemo)(()=>{const Xe=[];return et.length&&Xe.push({title:ke.t("People"),id:Qe.PEOPLE,content:it()}),vt.length&&Xe.push({title:ke.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:Qe.CHANNEL,content:gt()}),Xe},[vt,et,gt,it]);return oe?null:a.a.createElement("div",{className:"p-huddle_start_suggestion_tabs"},a.a.createElement(ae.a,{fullHeight:!0,tabs:Ye,currentTabId:dt,onTabChange:Dt,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");Ze.displayName="HuddleStartSuggestionTabs";var De=a.a.memo(Ze),Fe=e("jNCy"),Ve=e("mVl8");function Je(){return Je=Object.assign||function(Ie){for(var oe=1;oe<arguments.length;oe++){var ye=arguments[oe];for(var Ne in ye)Object.prototype.hasOwnProperty.call(ye,Ne)&&(Ie[Ne]=ye[Ne])}return Ie},Je.apply(this,arguments)}h(Je,"_extends");var Ot;(function(Ie){Ie.COMPOSER="composer",Ie.PUBLIC_CHANNEL="public_channel",Ie.PRIVATE_CHANNEL="private_channel"})(Ot||(Ot={}));function ht(Ie){let{channel:oe}=Ie;return oe?oe&&Object(M.k)(oe)?Ot.PRIVATE_CHANNEL:Ot.PUBLIC_CHANNEL:Ot.COMPOSER}h(ht,"getModalContext");const Le=new A.b("huddles");function jt(Ie){let{closeModal:oe,callId:ye,channel:Ne,channelSuggestion:Ge,memberSuggestionId:st,selectedMemberIds:$e=f.a}=Ie;const It=Object(r.useDispatch)(),Lt=Object(E.a)(),St=ht({channel:Ne}),vt=St===Ot.PRIVATE_CHANNEL,Yt=St===Ot.COMPOSER,[et,Ft]=Object(t.useState)($e),[mt,Zt]=Object(t.useState)(),[gt,at]=Object(t.useState)(!1),[it,dt]=Object(t.useState)(!1),_t=Object(c.d)(b.a),Dt=Object(c.d)(B.g),Ye=Object(L.G)(Dt),Xe=Object(c.d)(N.i),kt=Object(c.d)(nn=>Object(Ve.a)(nn,(Ne==null?void 0:Ne.id)||"")),Bt=Object(c.d)(T.A),wt=Object(c.d)(T.z),we=Object(c.g)(nn=>Object(R.g)(nn,Ne==null?void 0:Ne.id).filter(rn=>rn.id!==_t).map(rn=>rn.id)),ot=Object(c.d)(v.H),yt=Object(c.g)(nn=>vt?et.filter(rn=>{const hn=Ne&&Object(I.c)(nn,Ne.id,rn);return hn&&hn.isKnown&&!(hn!=null&&hn.isMember)}):[]);Object(t.useEffect)(()=>{Ge&&Zt({id:Ge.id,isCurrentSuggestedChannel:!0})},[Ge]),Object(t.useEffect)(()=>{st&&Ft([st])},[st]);const Kt=Object(t.useCallback)(nn=>Ft(nn),[]),Xt=Object(t.useCallback)(nn=>{if(nn===(mt==null?void 0:mt.id)&&(mt!=null&&mt.isCurrentSuggestedChannel)){Zt({id:nn,isCurrentSuggestedChannel:!0});return}Zt({id:nn,isCurrentSuggestedChannel:!1})},[mt==null?void 0:mt.id,mt==null?void 0:mt.isCurrentSuggestedChannel]),cn=Object(t.useCallback)(nn=>{Ft(et.concat(nn))},[et]),gn=Object(t.useCallback)(()=>{Zt({id:Ne==null?void 0:Ne.id,isCurrentSuggestedChannel:!0})},[Ne==null?void 0:Ne.id]),vn=Object(t.useCallback)(()=>{mt!=null&&mt.id&&(It(Object(y.a)({channelId:mt.id,entryPoint:j.e.COMPOSER_HUDDLE_START})),oe())},[mt,It,oe]),lt=Object(t.useCallback)(Object(s.coroutine)(function*(){at(!0),yield It(Object(S.a)({memberIds:et})).then(nn=>{It(Object(y.a)({channelId:nn.id,entryPoint:j.e.COMPOSER_HUDDLE_START})),oe(),at(!1),dt(!1)}).catch(nn=>{Lt.error(nn),at(!1);const{message:rn}=nn;(rn==null?void 0:rn.indexOf(p.S.INVALID_USER_COMBINATION))!==-1&&dt(!0)})}),[et,It,Lt,oe]),ct=Object(t.useCallback)(Object(s.coroutine)(function*(){if(!Ne)return;at(!0);let nn=et;(mt==null?void 0:mt.id)===Ne.id&&(mt!=null&&mt.isCurrentSuggestedChannel)&&(nn=Object(l.a)([...et,...kt])),yield It(Object(_.a)({channelId:Ne.id,userIds:nn})).then(()=>{at(!1),yt&&yt.length>0&&vt?It(re({members:yt})):oe()}).catch(rn=>{Lt.error(rn),at(!1)})}),[Ne,kt,oe,It,vt,Lt,mt==null?void 0:mt.id,mt==null?void 0:mt.isCurrentSuggestedChannel,et,yt]),Rt=Object(t.useMemo)(()=>St===Ot.COMPOSER?mt!=null&&mt.id?vn:lt:ct,[ct,lt,St,mt,vn]),zt={[Ot.COMPOSER]:{eventId:D.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:D.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[Ot.PUBLIC_CHANNEL]:{eventId:D.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[Ot.PRIVATE_CHANNEL]:{eventId:D.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},mn=h(()=>Ye&&!Bt?a.a.createElement(z.a,null):Xe?a.a.createElement(W.b,null):null,"maybeRenderBanner");mn.displayName="maybeRenderBanner";const fn=zt[St],ln=Object(t.useMemo)(()=>Yt?Le.t("Start a Huddle"):et.length>1?Le.t("Send Invites"):Le.t("Send Invite"),[Yt,et]);if(!ot)return null;const Ln=Le.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),In=h(nn=>a.a.createElement(U.a,{articleId:4402059015315,ariaLabel:Le.t("Learn more about Huddles"),forceOpenInBrowser:!0},nn),"renderLearnMoreLink");let Dn,_n,qe,Et;const Wt=h(nn=>{const rn=nn.map(hn=>a.a.createElement(d.a,{key:hn,isBold:!1,id:hn}));return rn&&Object(A.h)(rn)},"listifiedOverflowMembers");if(Wt.displayName="listifiedOverflowMembers",Ye&&Bt)_n=Le.t("Invite someone to your huddle"),Dn=vt?Le.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:a.a.createElement(se.a,{channel:Ne}),"<a>":nn=>{let{text:rn}=nn;return In(rn)},fallbackHash:"5f76fe5a7665b492c0690fcc19a8a5aaf6574868"}):Le.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":nn=>{let{text:rn}=nn;return In(rn)},fallbackHash:"9bc849cac2c555397077a41bb3a7e60b48f17618"});else if(Yt?(_n=Le.t("Start a Huddle"),qe=Le.t("Find a person or channel to huddle with")):(_n=Le.t("Invite people to your huddle"),qe=vt?Ln:Le.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),Ne!=null&&Ne.id&&we.length){const nn=Le.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:we.length-1,firstParticipant:a.a.createElement(d.a,{isBold:!0,id:we[0]}),secondParticipant:a.a.createElement(d.a,{isBold:!0,id:we[1]}),"<a>":rn=>{let{text:hn}=rn;return a.a.createElement(m.c,{zIndex:"above_fs",tip:Wt(we.slice(2))},a.a.createElement("span",null,hn))}});Et=a.a.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},a.a.createElement(Fe.a,{channelId:Ne.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:o.a.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),a.a.createElement("div",null,nn))}const qt="huddle-invite-description";return a.a.createElement(O.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:oe,contentLabel:_n,describedby:qt,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},a.a.createElement(O.i,null,a.a.createElement(O.l,{title:_n,subtitle:qe})),a.a.createElement(O.d,null,a.a.createElement(O.e,null,Et,Dn&&a.a.createElement("p",{id:qt},Dn),a.a.createElement(ve.a,{isFreeTeam:Ye,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Bt,channel:Ne,otherMembersInHuddle:we,onSelectedMembersChange:Kt,onSelectedChannelChange:Xt,selectedMemberIds:et,selectedChannel:mt}),vt&&yt&&yt.length>0&&a.a.createElement(ie,{unknownMemberIds:yt}),it&&a.a.createElement(u.d,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},Le.t("All external people must already be in at least one channel together to send this invitation.",{fallbackHash:"9557ff89ebba020fc327f9ef7901a6504e6174dd"}))),ye&&a.a.createElement($.a,{activeHuddleCallId:ye,channel:Ne,isFreeTeam:Ye,onSuggestedUserSelected:cn,otherMembersInHuddle:we,selectedMemberIds:et,onChannelSelected:wt?gn:void 0,channelSuggestionOptionSelected:wt&&(mt==null?void 0:mt.isCurrentSuggestedChannel)}),!ye&&a.a.createElement(De,{isFreeTeam:Ye,onSuggestedChannelSelected:Xt,onSuggestedUserSelected:cn,selectedChannelId:mt==null?void 0:mt.id,selectedMemberIds:et}),mn()),a.a.createElement(O.g,null,a.a.createElement(O.h,{className:"p-huddle_invite_channel_or_start_footer_actions"},a.a.createElement(Z.a,{channelId:Ne==null?void 0:Ne.id}),a.a.createElement(O.c,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close"},Le.t("Cancel")),a.a.createElement(C.a,Je({},fn,{clogImpression:!0}),a.a.createElement(i.c,{"data-qa":"send_invite_button",loading:gt,onClick:Rt,type:"primary",disabled:!et.length&&!(mt!=null&&mt.id)},ln)))),Bt&&Ye&&a.a.createElement(Y.a,{selectedMemberIds:et}))}h(jt,"HuddleInviteChannelOrStart"),jt.displayName="HuddleInviteChannelOrStart";var Ut=n.a=jt},hcyO:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Record that a message was deleted");t.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},hfkV:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("nNoG"),l=e("Tsh7"),o=e("CTEJ"),i=e("oEDn"),u=e("3bXy");const d=new r.b("channel_token"),m=h(E=>{let{type:f=u.a.Unknown,subtler:O=!1,size:p=u.b.Small,width:b="random",invert:T=!1,showHash:v=!0,omitNonExistentTooltip:S=!1}=E;const A=Object(a.default)("c-missing_channel",{"c-missing_channel--unknown":f===u.a.Unknown,"c-missing_channel--nonexistent":f===u.a.Nonexistent,"c-missing_channel--subtler":O,"c-missing_channel--medium":p===u.b.Medium,"c-missing_channel--unknown_inverted":f===u.a.Unknown&&T,"c-missing_channel--non_existent_inverted":f===u.a.Nonexistent&&T}),I=Object(a.default)("c-missing_channel--medium_hash",{"c-missing_channel--subtler":O});let _;if(f===u.a.Unknown)_=d.t("Loading...");else if(f===u.a.Nonexistent)_=d.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(f===u.a.Nonexistent){const M=t.a.createElement("span",{className:"c-missing_channel--private"},t.a.createElement(i.a,{type:"lock-small"}),t.a.createElement("span",null,d.t("private channel")));return S?M:t.a.createElement(l.d,{tip:_},M)}return p===u.b.Medium?t.a.createElement("div",null,t.a.createElement("div",{className:"c-missing_channel--medium-top"},v&&t.a.createElement(i.a,{type:"hash-medium",className:I,size:"inherit"}),t.a.createElement(o.a,{tooltip:_,isNonExistent:!1,size:b,className:A})),t.a.createElement(o.a,{tooltip:_,isNonExistent:!1,size:b,className:A})):t.a.createElement(o.a,{tooltip:_,isNonExistent:!1,size:b,className:A})},"MissingChannel");m.displayName="MissingChannel";var c=n.a=t.a.memo(m)},hiGJ:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("DwFS");const t=Object(s.a)("Updates latest message activity for a specified type");t.meta={name:"createAction",key:"createActionupdateMessageActivity",description:"Updates latest message activity for a specified type"}},hooW:function(H,n,e){"use strict";var s=e("i2F6");n.a=s.a},"i/F/":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("Yauy"),t=e("miM7"),a=e("gVOt");function r(l){let{channels:o,selfId:i}=l;const u={};return o.some((d,m)=>{const c=d==null?void 0:d.id;return Object(t.a)(d)?(u.general=c,!0):(Object(s.pb)(d)&&(u.slackbot=c),i&&Object(a.a)(d)===i&&(u.self=c),m||(u.first=c),!1)}),u.general||u.slackbot||u.self||u.first}h(r,"getAnyChannelForRouting")},i2F6:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("nNoG"),r=e("CTEJ"),l=e("3bXy");const o=new a.b("member_token"),{Unknown:i,Nonexistent:u}=l.a,d=h(m=>{let{type:c=i,subtler:E=!1,className:f,"data-qa":O}=m;const p=c===i?o.t("Loading\u2026"):o.t("Private user info");return t.a.createElement(r.a,{className:f??"",isNonExistent:c===u,subtler:E,tooltip:p,"data-qa":O})},"MissingMember");d.displayName="MissingMember",n.a=t.a.memo(d)},"i3z+":function(H,n,e){"use strict";e.d(n,"b",function(){return ee}),e.d(n,"a",function(){return Ce}),e.d(n,"f",function(){return le}),e.d(n,"g",function(){return de}),e.d(n,"d",function(){return ie}),e.d(n,"e",function(){return pe}),e.d(n,"c",function(){return ne});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("Fsnq"),l=e("fujP"),o=e("vFlG"),i=e("HI9p"),u=e("m8R6"),d=e("ktUG"),m=e("9Gfp"),c=e("YANR"),E=e("3V+Q"),f=e("eBYm"),O=e("jWAO"),p=e("oEDn"),b=e("Ws5+"),T=e("WAPM"),v=e("ZOzc"),S=e("Ufq/");const A=h(z=>!Object(S.e)(z),"is_org_calls_apps_settings_enabled_isOrgCallsAppsSettingsEnabled");var I=e("zCzZ"),_=e("5IZy");const M=h(z=>{let{callsApps:Y,allowCalls:ve,clogger:Z,action:$,stepVariant:te}=z;const J={allow_calls:ve};Y&&Y.video&&Y.video.length>0&&(J.video_call_app_ids=Y.video.map(k=>k.id)),Y&&Y.audio&&Y.audio.length>0&&(J.audio_call_app_ids=Y.audio.map(k=>k.id)),Y&&Y.profile_field_options&&Y.profile_field_options.length>0&&(J.profile_field_option_ids=Y.profile_field_options.map(k=>k.id)),Z.track(d.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...J,contexts:{ui_context:{step:d.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:$,entry_point:"calls-workspace-admin",step_variant:te}}})},"clogCallsApps"),y=h(z=>{let{clogger:Y}=z;Y.track(d.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:d.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:d.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:d.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var j=e("SQ0V");const C=Object(j.c)("Clog a standardized click event when a workspace setting is saved",(z,Y,ve)=>{let{eventId:Z,uiStep:$,stepVariant:te}=ve;Object(_.a)({getState:Y}).track(Z,{contexts:{ui_context:{ui_step:$,step_variant:te,ui_properties:{element_type:d.ElementType.BUTTON,element_name:"submit_button"},action:d.UiAction.CLICK,is_primary_cta:!0}}})});C.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};var D=C,N=e("beVI"),B=e("G0eX"),L=e("/0Xg"),R=e("YUBf"),U=e("nNoG"),W=e("4w5y"),x=e("sgFo"),G=e("3REw");const w=new U.b("calls_admin"),se="only_available_for_paid_teams";var ee;(function(z){z.Video="video",z.Audio="audio",z.ProfileFieldOptions="profile_field_options"})(ee||(ee={}));const X=h(z=>{let{type:Y,app:ve,isChecked:Z,onChangeCallApp:$,isLocked:te}=z;const J=Object(s.useCallback)(()=>$(Y,ve.id),[$,Y,ve]),k=`${Y}_${ve.id}`;return t.a.createElement(E.b,{text:ve.name,type:"inline",cursor:"pointer"},t.a.createElement(b.a,{id:k,name:ve.name,checked:Z,onChange:J,disabled:te,"data-qa":k}))},"AppCheckbox");X.displayName="AppCheckbox";const me=h(z=>{let{appsState:Y,isLocked:ve,type:Z}=z;return!ve||!Y?!1:Z===ee.Video&&Object(r.a)(Y.video)>0&&Object(r.a)(Y.audio)===0||(Z===ee.Audio&&Object(r.a)(Y.audio)>0&&Object(r.a)(Y.video))===0},"disableTypeCheckbox"),Oe=h(z=>{let{appsState:Y,isLocked:ve,appId:Z,type:$}=z;if(!ve||!Y)return!1;const te=Y.video?Object.keys(Y.video):[],J=Y.audio?Object.keys(Y.audio):[],k=te.length+J.length;if(Z&&k===1){let ae,Ee;return te.length===1?(ae=te[0],Ee=ee.Video):J.length===1&&(ae=J[0],Ee=ee.Audio),Z===ae&&$===Ee}return!1},"disableAppCheckbox"),Ce=h(z=>{let{type:Y,sectionTitle:ve,appsState:Z,installedCallApps:$,onChangeCallType:te,onChangeCallApp:J,isLocked:k,dataQa:ae}=z;if(!$||!Z||!$[Y])return null;const Ee=`enable_${Y}_calls`;return t.a.createElement("div",{className:`p-calls_workspace_settings__${Y}_container`,"data-qa":ae},t.a.createElement(E.b,{text:ve,type:"inline",cursor:"pointer"},t.a.createElement(b.a,{checked:!Object(l.a)(Z[Y]),id:Ee,name:Ee,onChange:te,disabled:me({appsState:Z,isLocked:k,type:Y})})),t.a.createElement("p",{className:"p-calls_workspace_settings__options_title"},w.t("Calling options:")),t.a.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...$[Y]].map(_e=>t.a.createElement(X,{app:_e,isChecked:Object(o.a)(Z[Y],_e.id),key:`${Y}_${_e.id}`,onChangeCallApp:J,type:Y,isLocked:Oe({appsState:Z,isLocked:k,appId:_e.id,type:Y})}))))},"CallSection");Ce.displayName="CallSection";const le=h(z=>{let{installedCallApps:Y,appsState:ve,appId:Z,type:$,setAppsState:te}=z;if(!Y||!ve)return;const J={...ve[$]};if(Object(o.a)(J,Z))delete J[Z],te({...ve,[$]:J});else{const k=Object(i.a)(Y[$],ae=>ae.id===Z);k>-1&&(J[Z]=k,te({...ve,[$]:J}))}},"toggleCallApp"),de=h(z=>{let{installedCallApps:Y,appsState:ve,type:Z,setAppsState:$}=z;if(!(!ve||!Y))if(!Object(l.a)(ve[Z]))$({...ve,[Z]:{}});else{var te;const J={};(te=Y[Z])===null||te===void 0||te.forEach((k,ae)=>{J[k.id]=ae}),$({...ve,[Z]:J})}},"toggleCallType"),ie=h((z,Y)=>{const ve={video:{},audio:{},profile_field_options:{}};return!Y||!z||[ee.Video,ee.Audio,ee.ProfileFieldOptions].forEach(Z=>{Y[Z]&&[...Y[Z]].forEach(te=>{const J=Object(i.a)(z[Z],k=>k.id===te.id);J>-1&&(ve[Z][te.id]=J)})}),ve},"reduceTeamPrefApps"),pe=h(function(){let{installedCallApps:z,appsState:Y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ve={video:[],audio:[]};return!z||!Y||[ee.Video,ee.Audio].forEach(Z=>{if(z[Z]){const $=[...z[Z]],te=Y[Z];$.forEach(J=>{if(Object(o.a)(te,J.id)){var k;(k=ve[Z])===null||k===void 0||k.push(Object(u.a)(J,"preselected"))}})}}),ve},"setCallsAppsPayloadToSave"),ne=h((z,Y)=>{if(!Y||!z||!z.video)return;const ve=z.video.findIndex(Z=>Z.id===G.j);ve>=0&&z.video.splice(ve,1)},"maybeFilterNativeCallsApp"),q=h(z=>{let{isOpen:Y,closeModal:ve,errorMessage:Z,buttonLabel:$}=z;return t.a.createElement(R.a,{centered:!0,isOpen:Y,closeModal:ve},t.a.createElement(R.d,{className:"p-calls_workspace_settings__error_modal"},t.a.createElement(R.e,null,t.a.createElement("p",null,Z))),t.a.createElement(R.g,null,t.a.createElement(R.h,null,t.a.createElement(R.c,{type:"outline",onClick:ve},$))))},"ErrorModal");q.displayName="ErrorModal";const ce=h(z=>{let{installedCallApps:Y,teamPrefCallsApps:ve,setMultipleTeamPrefsByApi:Z,clogWorkspaceSettingSubmit:$,isLocked:te,isCallsSelectorDisabled:J,clogger:k,isOrgCallsAppsSettingsEnabled:ae,team:Ee,isCallsLocationLockedByOrgAdmin:_e,callsLocationLocked:je,experimentCallsAdminDeprecationGroupOn:Ue}=z;const[Ke,ke]=Object(s.useState)(!1),[Qe,Ze]=Object(s.useState)(""),De=w.t("Save"),Fe=w.t("Saved"),Ve=w.t("Sorry! Something went wrong. Please try again."),Je=Ue?w.t("Allow third-party calls in Slack"):w.t("Allow video calls in Slack"),Ot=w.t("Allow phone number calls in Slack (only in direct messages)"),ht=w.t("Ok",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"app_view"}),Le=w.t("Sorry, call selection is currently managed by your organization admin."),jt=Ue?w.rt("First install a <a>calling app from our app directory</a> then come back here to enable it as a default calling app.",{},dt=>{let{text:_t}=dt;return t.a.createElement(T.a,{articleId:208492868},_t)}):"",Ut=Object(s.useCallback)(()=>{y({clogger:k}),Object(B.X)(Ee,Object(L.u)({entryPoint:"calls-admin-workspace-settings"}))},[k,Ee]),Ie=w.rt("Sorry, this feature is only available to <a>paid teams</a>.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087"},dt=>{let{text:_t}=dt;return t.a.createElement("a",{href:"#",onClick:Ut,"data-qa":"paid_plan_page_link"},_t)}),oe=ve?ie(Y,ve):{video:{},audio:{},profile_field_options:{}},[ye,Ne]=Object(s.useState)(oe),[Ge,st]=Object(s.useState)(!1),[$e,It]=Object(s.useState)(!1),Lt=je&&je.length>0?W.a.US:W.a.GLOBAL,[St,vt]=Object(s.useState)(Lt);Object(s.useEffect)(()=>{const dt=ie(Y,ve);Ne(dt)},[Ne,Y,ve]);const Yt=Object(s.useCallback)(dt=>{It(!1),de({installedCallApps:Y,appsState:ye,type:dt,setAppsState:Ne})},[Y,ye,Ne]),et=Object(s.useCallback)(()=>Yt(ee.Video),[Yt]),Ft=Object(s.useCallback)(()=>Yt(ee.Audio),[Yt]),mt=Object(s.useCallback)(()=>ke(!1),[ke]),Zt=Object(s.useCallback)((dt,_t)=>{It(!1),le({installedCallApps:Y,appsState:ye,appId:_t,type:dt,setAppsState:Ne})},[Y,ye,Ne]),gt=Object(s.useCallback)(dt=>{vt(dt),It(!1)},[vt]),at=h(()=>{st(!0),$({eventId:d.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const dt=!Object(l.a)(ye.video)||!Object(l.a)(ye.audio),_t=pe({installedCallApps:Y,appsState:ye}),Dt={calls_apps:_t};Object(B.z)(Ee)||(Dt.allow_calls=dt),_e||(Dt.calls_locations=St===W.a.US?[St]:[]),Z({prefs:Dt}).then(()=>{It(!0),M({callsApps:_t,allowCalls:dt,clogger:k,action:d.UiAction.SAVE})}).catch(Ye=>{var Xe;ke(!0),(Ye==null||(Xe=Ye.data)===null||Xe===void 0?void 0:Xe.error)===se?(Ze(Ie),M({callsApps:_t,allowCalls:dt,clogger:k,action:d.UiAction.ERROR,stepVariant:se})):(Ze(Ve),M({callsApps:_t,allowCalls:dt,clogger:k,action:d.UiAction.ERROR}))}).finally(()=>st(!1))},"onSubmit"),it=Y&&(Y.video&&Y.video.length>0||Y.audio&&Y.audio.length>0);return t.a.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},J&&ae?t.a.createElement(O.d,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.a.createElement("span",null,Le)):t.a.createElement(t.a.Fragment,null,Ue&&!it&&t.a.createElement(O.d,{type:"boxed",level:"info",icon:"info",align:"left"},t.a.createElement("span",null,jt)),t.a.createElement("div",{className:"p-calls_workspace_settings__call_options"},Y&&Y.video&&Y.video.length>0&&t.a.createElement(Ce,{type:ee.Video,sectionTitle:Je,appsState:ye,installedCallApps:Y,onChangeCallType:et,onChangeCallApp:Zt,isLocked:te}),Y&&Y.audio&&Y.audio.length>0&&t.a.createElement(Ce,{type:ee.Audio,sectionTitle:Ot,appsState:ye,installedCallApps:Y,onChangeCallType:Ft,onChangeCallApp:Zt,isLocked:te})),t.a.createElement(W.b,{appsState:ye,isLockedByOrgAdmin:_e,selectedCallLocation:St,setSelectedCallLocation:gt}),t.a.createElement(q,{closeModal:mt,isOpen:Ke,errorMessage:Qe,buttonLabel:ht}),(!Ue||it)&&t.a.createElement(f.a,{onClick:at,loading:Ge,"data-qa":"call_save_button"},$e&&t.a.createElement(p.a,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),$e?Fe:De)))},"CallsWorkspaceSettings");ce.displayName="CallsWorkspaceSettings";const ge=h(z=>{const Y=Object(x.f)(z),ve=Object(m.e)(z,"calls_apps");ne(ve,Y);const Z=Object(v.a)(z,"calls_apps"),$=Object(I.g)(z,"calls_locations");return{installedCallApps:ve,teamPrefCallsApps:Z,clogger:Object(_.a)({state:z}),isOrgCallsAppsSettingsEnabled:A(z),team:Object(N.g)(z),isCallsLocationLockedByOrgAdmin:!!$&&$.length>0,callsLocationLocked:Object(v.a)(z,"calls_locations"),experimentCallsAdminDeprecationGroupOn:Y}},"mapStateToProps"),be={setMultipleTeamPrefsByApi:c.b,clogWorkspaceSettingSubmit:D},Q={toggleCallApp:le,toggleCallType:de,AppCheckbox:X,reduceTeamPrefApps:ie,setCallsAppsPayloadToSave:pe,disableTypeCheckbox:me,disableAppCheckbox:Oe};var re=Object(a.a)(ge,be)(ce)},i6Ao:function(H,n,e){"use strict";e.d(n,"f",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"c",function(){return m}),e.d(n,"a",function(){return c}),e.d(n,"d",function(){return E});var s=e("Z7Ay"),t=e("s4P+"),a=e("JfJV");let r=1,l=1;const o=Object(t.b)({label:"HISTORY-NAVIGATION"}),i=h(()=>{l!==r&&(o.info("Incrementing the users current position in the history stack"),l+=1)},"onNavigateForward"),u=h(()=>{l!==1&&(o.info("Decrementing the users current position in the history stack"),l-=1)},"onNavigateBack"),d=h(()=>l===1,"isBackDisabled"),m=h(()=>l===r,"isForwardDisabled");function c(){o.info("Adding route to the history stack"),l+=1,r=l}h(c,"incrementHistoryLength");function E(O){let{shouldReplaceState:p,reason:b}=O;p||b!==a.a&&c()}h(E,"maybeIncrementHistoryLength"),Object(s.a)("history",{getHistoryLength:()=>r,getHistoryIndex:()=>l});const f={maybeIncrementHistoryLength:E}},i6es:function(H,n,e){H.exports=e.p+"slackbot_frowny_20-96acbec.png"},iBeP:function(H,n,e){"use strict";var s=e("Cfcg"),t=e("kBpe"),a=e("4tnk"),r=e("UQYs");let l=h(u=>{var d;if(!Object(t.i)()||!Object(t.p)())return{};const m=Object(a.e)(u);return(m==null||(d=m.darwin)===null||d===void 0?void 0:d.showScrollBars)!=="Always"?{}:{alwaysVisible:!0}},"mapStateToProps");Object.defineProperty({mapStateToProps:l},"mapStateToProps",{get:()=>l,set:u=>{l=u}});const i=Object(s.a)(l,null,null,{forwardRef:!0})(r.b);n.a=i},iLLt:function(H,n,e){H.exports=e.p+"slackbot_fancy_48-8220eaf.png"},iXLD:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("BJra");function l(){return l=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(i[m]=d[m])}return i},l.apply(this,arguments)}h(l,"_extends");function o(i){const{children:u,className:d}=i;return u?t.a.createElement("span",l({className:Object(a.default)(d,"c-base_entity__metadata")},Object(r.a)(i)),u):null}h(o,"BaseEntityMetadata"),o.displayName="BaseEntityMetadata",n.a=o},"iaW+":function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("q1tI"),r=e.n(a),l=e("SQ0V"),o=e("stkM"),i=e("3l96"),u=e("5Yu9");const d=Object(l.c)("Display loading modal and fetch data for trial entry point modal",function(){var m=Object(s.coroutine)(function*(c,E,f){return c(Object(i.a)({element:r.a.createElement(u.a,{className:"p-trial_entry_point_modal__loading_modal"})})),c(Object(o.a)(f))});return function(c,E,f){return m.apply(this,arguments)}}());d.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"},n.a=d},ie1g:function(H,n,e){"use strict";e.d(n,"c",function(){return w}),e.d(n,"l",function(){return se}),e.d(n,"n",function(){return ee}),e.d(n,"m",function(){return X}),e.d(n,"e",function(){return me}),e.d(n,"f",function(){return Oe}),e.d(n,"d",function(){return Ce}),e.d(n,"g",function(){return le}),e.d(n,"a",function(){return de}),e.d(n,"h",function(){return ie}),e.d(n,"k",function(){return pe}),e.d(n,"b",function(){return ne}),e.d(n,"j",function(){return q}),e.d(n,"o",function(){return ce}),e.d(n,"p",function(){return ge}),e.d(n,"i",function(){return be});var s=e("ZKjC"),t=e("O86Y"),a=e("oTSI"),r=e("TGBA"),l=e("uAML"),o=e("lhZz"),i=e("1zvf"),u=e("SQ0V"),d=e("qhdC"),m=e("bHpg"),c=e("417x");const E=Object(u.c)("Fetch product release cards into the store",(Q,re,z)=>{let{locale:Y}=z;return Q(Object(d.a)({count:3,type:"product_release_card",locale:Y,reason:"client/fetch_published_product_release_cards"})).then(ve=>{let{cards:Z}=ve;Q(Object(m.l)(Object(c.a)(Z)))})});E.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var f=e("Z9q/");const O=Object(u.c)("Fetch helpdesk articles into the store",(Q,re,z)=>{let{locale:Y,reason:ve}=z;return Q(Object(f.a)({locale:Y,reason:ve})).then(Z=>{let{articles:$}=Z;Q(Object(m.f)(Object(c.a)($))),Q(Object(m.i)(Y))})});O.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var p=e("9oTK"),b=e("lmsn"),T=e("+W1r"),v=e("Lgge");const S=Object(u.c)("Fetch recommended articles into the store",(Q,re,z)=>{let{locale:Y,reason:ve}=z;return Q(Object(T.a)({reason:ve})).then(function(){var Z=Object(p.coroutine)(function*($){let{articles:te,request_id:J}=$;const k=yield v.a.all(te.map(function(){var ae=Object(p.coroutine)(function*(Ee){return Q(Object(b.a)({articleId:Ee.id,locale:Y,reason:ve})).then(_e=>{let{article:je}=_e;return{id:je.article_id,title:je.title}})});return function(Ee){return ae.apply(this,arguments)}}()));Q(Object(m.m)({articles:k,requestId:J??""}))});return function($){return Z.apply(this,arguments)}}())});S.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var A=e("j9sV");const I=Object(u.c)("Fetch help sections into the store",(Q,re,z)=>{let{categoryId:Y,locale:ve,reason:Z}=z;return Q(Object(A.a)({categoryId:Y,locale:ve,reason:Z})).then($=>{let{sections:te}=$;return Q(Object(m.g)(Object(c.a)(te)))})});I.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var _=e("Q1Gq");const M=Object(u.c)("Fetch help categories into the store",(Q,re,z)=>{let{locale:Y,reason:ve}=z;return Q(Object(_.a)({locale:Y,reason:ve})).then(Z=>{let{categories:$}=Z;Q(Object(m.b)(Object(c.a)($))),Q(Object(m.d)(Y))})});M.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const y=Object(a.a)(()=>new l.b({fetch:Q=>Object(o.dispatchForTeamId)(Q,Object(i.a)()),isEnabled:()=>!0})),j=Object(a.a)(Q=>new l.b({fetch:re=>Object(o.dispatchForTeamId)(re,E({locale:Q})),isEnabled:()=>!0})),C=Object(a.a)((Q,re)=>new l.b({fetch:z=>Object(o.dispatchForTeamId)(z,O({locale:Q,reason:re})),isEnabled:()=>!0})),D=Object(a.a)((Q,re)=>new l.b({fetch:z=>Object(o.dispatchForTeamId)(z,S({locale:Q,reason:re})),isEnabled:()=>!0,maxAge:()=>86400})),N=Object(a.a)((Q,re,z)=>new l.b({fetch:Y=>Object(o.dispatchForTeamId)(Y,I({categoryId:Q,locale:re,reason:z})),isEnabled:()=>!0}),(Q,re)=>Object(r.a)([Q,re]).join("_")),B=Object(a.a)((Q,re)=>new l.b({fetch:z=>Object(o.dispatchForTeamId)(z,M({locale:Q,reason:re})),isEnabled:()=>!0}));var L=e("ybyy"),R=e("nNoG"),U=e("7nxQ");const W=new R.b("help"),x="",G=Object(s.b)(Q=>Q&&Q.help||L.a);G.meta={name:"createSelector",key:"createSelectorgetHelpState",description:Q=>Q&&Q.help||L.a};const w=Object(s.b)((Q,re)=>{const z=Object(t.g)(Q),Y=Object(U.c)();return G(Q).zdLocale!==Y&&C(Y,re).markObjectsAsStale(z,[Y]),C(Y,re).maybeRefetch(z,Y),G(Q).helpSearchArticles||[]});w.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(Q,re)=>{const z=Object(t.g)(Q),Y=Object(U.c)();return G(Q).zdLocale!==Y&&C(Y,re).markObjectsAsStale(z,[Y]),C(Y,re).maybeRefetch(z,Y),G(Q).helpSearchArticles||[]}};const se=Object(s.b)(Q=>{const re=Object(t.g)(Q),z=Object(R.m)();return G(Q).locale!==z&&j(z).markObjectsAsStale(re,[z]),j(z).maybeRefetch(re,z),G(Q).productReleaseCards||[]});se.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:Q=>{const re=Object(t.g)(Q),z=Object(R.m)();return G(Q).locale!==z&&j(z).markObjectsAsStale(re,[z]),j(z).maybeRefetch(re,z),G(Q).productReleaseCards||[]}};const ee=Object(s.b)((Q,re)=>{var z;const Y=Object(t.g)(Q),ve=Object(R.m)();return G(Q).locale!==ve&&D(ve,re).markObjectsAsStale(Y,[ve]),D(ve,re).maybeRefetch(Y,ve),((z=G(Q).recommendedArticles)===null||z===void 0?void 0:z.articles)||[]});ee.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(Q,re)=>{var z;const Y=Object(t.g)(Q),ve=Object(R.m)();return G(Q).locale!==ve&&D(ve,re).markObjectsAsStale(Y,[ve]),D(ve,re).maybeRefetch(Y,ve),((z=G(Q).recommendedArticles)===null||z===void 0?void 0:z.articles)||[]}};const X=Object(s.b)(Q=>{var re;return((re=G(Q).recommendedArticles)===null||re===void 0?void 0:re.requestId)||""});X.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:Q=>{var re;return((re=G(Q).recommendedArticles)===null||re===void 0?void 0:re.requestId)||""}};const me=Object(s.b)(Q=>G(Q).helpNavigation||L.a.helpNavigation);me.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:Q=>G(Q).helpNavigation||L.a.helpNavigation};const Oe=Object(s.b)((Q,re,z)=>{var Y,ve;const Z=Object(t.g)(Q),$=Object(R.m)(),te=G(Q).locale,J=z??((Y=G(Q).helpNavigation)===null||Y===void 0?void 0:Y.categoryId),k=(ve=G(Q).helpSections[0])===null||ve===void 0?void 0:ve.categoryId;return J?(k&&J!==k?(N(J,$,re).markObjectsAsStale(Z,[J.toString()]),N(J,$,re).maybeRefetch(Z,J.toString())):te!==$&&N(J,$,re).markObjectsAsStale(Z,[$]),N(J,$,re).maybeRefetch(Z,$),G(Q).helpSections||[]):G(Q).helpSections||[]});Oe.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(Q,re,z)=>{var Y,ve;const Z=Object(t.g)(Q),$=Object(R.m)(),te=G(Q).locale,J=z??((Y=G(Q).helpNavigation)===null||Y===void 0?void 0:Y.categoryId),k=(ve=G(Q).helpSections[0])===null||ve===void 0?void 0:ve.categoryId;return J?(k&&J!==k?(N(J,$,re).markObjectsAsStale(Z,[J.toString()]),N(J,$,re).maybeRefetch(Z,J.toString())):te!==$&&N(J,$,re).markObjectsAsStale(Z,[$]),N(J,$,re).maybeRefetch(Z,$),G(Q).helpSections||[]):G(Q).helpSections||[]}};const Ce=Object(s.b)((Q,re)=>{const z=Object(t.g)(Q),Y=Object(R.m)();return G(Q).locale!==Y&&B(Y,re).markObjectsAsStale(z,[Y]),B(Y,re).maybeRefetch(z,Y),G(Q).helpCategories||[]});Ce.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(Q,re)=>{const z=Object(t.g)(Q),Y=Object(R.m)();return G(Q).locale!==Y&&B(Y,re).markObjectsAsStale(z,[Y]),B(Y,re).maybeRefetch(z,Y),G(Q).helpCategories||[]}};const le=Object(s.b)(Q=>G(Q).helpTour||L.a.helpTour);le.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:Q=>G(Q).helpTour||L.a.helpTour};const de=Object(s.b)(Q=>G(Q).anchorId||L.a.anchorId);de.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:Q=>G(Q).anchorId||L.a.anchorId};const ie=Object(s.b)(Q=>G(Q).isArticleLoaded||L.a.isArticleLoaded);ie.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:Q=>G(Q).isArticleLoaded||L.a.isArticleLoaded};const pe=Object(s.b)(Q=>{var re,z;if(!((re=Q.desktop)===null||re===void 0||(z=re.app)===null||z===void 0)&&z.updateInfo){var Y;const{releaseName:ve}=Q.desktop.app.updateInfo;if(!((Y=Q.desktop)===null||Y===void 0)&&Y.environment){const{appVersion:Z}=Q.desktop.environment;if(ve.endsWith(Z))return null}return ve}return null});pe.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:Q=>{var re,z;if(!((re=Q.desktop)===null||re===void 0||(z=re.app)===null||z===void 0)&&z.updateInfo){var Y;const{releaseName:ve}=Q.desktop.app.updateInfo;if(!((Y=Q.desktop)===null||Y===void 0)&&Y.environment){const{appVersion:Z}=Q.desktop.environment;if(ve.endsWith(Z))return null}return ve}return null}};const ne=Object(s.b)(Q=>{if(Q.desktop&&Q.desktop.app&&Q.desktop.app.updateInfo){const{releaseName:re,releaseNotes:z,releaseDate:Y}=Q.desktop.app.updateInfo;return{timestamp:Y?Y.getTime():Date.now(),title:re,description:W.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:z,url_title:W.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});ne.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:Q=>{if(Q.desktop&&Q.desktop.app&&Q.desktop.app.updateInfo){const{releaseName:re,releaseNotes:z,releaseDate:Y}=Q.desktop.app.updateInfo;return{timestamp:Y?Y.getTime():Date.now(),title:re,description:W.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:z,url_title:W.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const q=Object(s.b)(Q=>{const re=ne(Q)||null;return re?re.timestamp:-1});q.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:Q=>{const re=ne(Q)||null;return re?re.timestamp:-1}};const ce=Object(s.b)(Q=>{const re=Object(t.g)(Q);return y().maybeRefetch(re,x),G(Q).stats||L.b});ce.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:Q=>{const re=Object(t.g)(Q);return y().maybeRefetch(re,x),G(Q).stats||L.b}};const ge=Object(s.b)(Q=>ce(Q).unreadCount);ge.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:Q=>ce(Q).unreadCount};const be=Object(s.b)(Q=>G(Q).isHelpTipHistoryTourActive||L.a.isHelpTipHistoryTourActive);be.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:Q=>G(Q).isHelpTipHistoryTourActive||L.a.isHelpTipHistoryTourActive}},iomZ:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("HJKc");const t=h(a=>{let{codePointLikeString:r}=a;if(!Object(s.a)(r))return;const l=16;return r.split("-").map(o=>String.fromCodePoint(parseInt(o,l))).join("")},"getUnicodeFromCodePointLikeString")},itAW:function(H,n,e){"use strict";e.d(n,"g",function(){return B}),e.d(n,"i",function(){return L}),e.d(n,"e",function(){return R}),e.d(n,"o",function(){return U}),e.d(n,"r",function(){return W}),e.d(n,"f",function(){return w}),e.d(n,"j",function(){return se}),e.d(n,"k",function(){return ee}),e.d(n,"l",function(){return X}),e.d(n,"q",function(){return Oe}),e.d(n,"m",function(){return Ce}),e.d(n,"p",function(){return le}),e.d(n,"d",function(){return de}),e.d(n,"c",function(){return ie}),e.d(n,"a",function(){return pe}),e.d(n,"h",function(){return ne}),e.d(n,"n",function(){return q}),e.d(n,"b",function(){return be});var s=e("Z0Cl"),t=e("TGBA"),a=e("Z7Ay"),r=e("ZKjC"),l=e("rdha"),o=e("G4qV"),i=e("O86Y"),u=e("srzd"),d=e("WBOM"),m=e("9068"),c=e("9oTK"),E=e("Lgge"),f=e("oTSI"),O=e("Kmpi"),p=e("lhZz"),b=e("MvPG"),T=e("8j9e"),v=e("gsmS");const S=Object(f.a)(()=>new O.a({fetch:A,metricsName:"hermesTriggers",upsertKnown:I,upsertNonExistent:I}));function A(Q){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return E.a.map(re,function(){var z=Object(c.coroutine)(function*(Y){try{return(yield Object(p.dispatchForTeamId)(Q,Object(b.b)({triggerId:Y,includeWorkflowDetails:!0,reason:"hermes_triggers_ufm"}))).trigger}catch(ve){return{id:Y,error:ve.name}}});return function(Y){return z.apply(this,arguments)}}())}h(A,"fetchTriggersForTeamId");function I(Q,re){const z=re.map(Y=>Y.id);Object(v.a)().markObjectsAsFresh(Q,z),Object(p.dispatchForTeamId)(Q,Object(T.l)({triggers:re}))}h(I,"upsertTriggersForTeamId");var _=e("i5Ig"),M=e("JoR1"),y=e("1Odg"),j=e("/Hvu"),C=e("CWPp");const D=Object(r.b)(Q=>{var re;return Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.triggersById});D.meta={name:"createSelector",key:"createSelectorgetTriggersById",description:Q=>{var re;return Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.triggersById}};const N=Object(r.b)(Q=>{var re;return Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.recentlyRunTriggerIds});N.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerIds",description:Q=>{var re;return Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.recentlyRunTriggerIds}};const B=Object(r.b)((Q,re,z)=>{let{triggerId:Y}=re;var ve,Z;const $=Q==null||(ve=Q.hermesTriggers)===null||ve===void 0||(Z=ve.triggersById)===null||Z===void 0?void 0:Z[Y],te=Object(i.g)(Q);return te?$?(Object(v.a)().maybeRefetch(te,Y),$):z?S().fetchObjectWithId(te,Y):Object(m.e)(Y):Object(m.e)(Y)});B.meta={name:"createSelector",key:"createSelectorgetTriggerById",description:(Q,re,z)=>{let{triggerId:Y}=re;var ve,Z;const $=Q==null||(ve=Q.hermesTriggers)===null||ve===void 0||(Z=ve.triggersById)===null||Z===void 0?void 0:Z[Y],te=Object(i.g)(Q);return te?$?(Object(v.a)().maybeRefetch(te,Y),$):z?S().fetchObjectWithId(te,Y):Object(m.e)(Y):Object(m.e)(Y)}};const L=Object(l.f)((Q,re)=>{let{triggerIds:z}=re;const Y=Object(i.g)(Q);return Y?z.length?z.map(ve=>{var Z,$;const te=Q==null||(Z=Q.hermesTriggers)===null||Z===void 0||($=Z.triggersById)===null||$===void 0?void 0:$[ve];return te?(Object(v.a)().maybeRefetch(Y,ve),te):S().fetchObjectWithId(Y,ve)}):_.a:z.map(ve=>Object(m.e)(ve))}),R=Object(r.b)(Q=>Object(M.t)(Q,"seen_workflows_gallery_onboarding_banner_view_count")||0);R.meta={name:"createSelector",key:"createSelectorgetShortcutsGalleryEducationalBannerViewCount",description:Q=>Object(M.t)(Q,"seen_workflows_gallery_onboarding_banner_view_count")||0};const U=Object(r.b)(Q=>Object(M.t)(Q,"seen_workflows_gallery_onboarding_banner_dismissed")||!1);U.meta={name:"createSelector",key:"createSelectorisShortcutsGalleryEducationalBannerDismissed",description:Q=>Object(M.t)(Q,"seen_workflows_gallery_onboarding_banner_dismissed")||!1};const W=Object(r.b)(Q=>Object(M.t)(Q,"seen_workflows_templates_gallery_onboarding_banner_dismissed")||!1);W.meta={name:"createSelector",key:"createSelectorisWorkflowTemplatesGalleryEducationalBannerDismissed",description:Q=>Object(M.t)(Q,"seen_workflows_templates_gallery_onboarding_banner_dismissed")||!1};const x=Object(r.b)(Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.gallerySearchInput)||""});x.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchInput",description:Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.gallerySearchInput)||""}};const G=Object(r.b)(Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.gallerySearchResults)||[]});G.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchResults",description:Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.gallerySearchResults)||[]}};const w=Object(r.b)((Q,re)=>{const z=D(Q)||{},Y=new RegExp(re,"i"),ve=Object.keys(z).map($=>z[$]||{});return Object(s.a)(ve,$=>$&&(($==null?void 0:$.name)||"").match(Y))||[]});w.meta={name:"createSelector",key:"createSelectorgetShortcutsGallerySearchResultsCached",description:(Q,re)=>{const z=D(Q)||{},Y=new RegExp(re,"i"),ve=Object.keys(z).map($=>z[$]||{});return Object(s.a)(ve,$=>$&&(($==null?void 0:$.name)||"").match(Y))||[]}};const se=Object(r.b)(Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.workflowPickerSearchInput)||""});se.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchInput",description:Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.workflowPickerSearchInput)||""}};const ee=Object(r.b)(Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.workflowPickerSearchResults)||[]});ee.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResults",description:Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.workflowPickerSearchResults)||[]}};const X=Object(r.b)((Q,re)=>{const z=D(Q)||{},Y=new RegExp(re,"i"),ve=Object.keys(z).map($=>z[$]||{});return Object(s.a)(ve,$=>$&&(($==null?void 0:$.name)||"").match(Y))||[]});X.meta={name:"createSelector",key:"createSelectorgetWorkflowPickerSearchResultsCached",description:(Q,re)=>{const z=D(Q)||{},Y=new RegExp(re,"i"),ve=Object.keys(z).map($=>z[$]||{});return Object(s.a)(ve,$=>$&&(($==null?void 0:$.name)||"").match(Y))||[]}};const me=Object(r.b)(Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||null});me.meta={name:"createSelector",key:"createSelectorgetGuidedTourCoachmark",description:Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||null}};const Oe=Object(r.b)(Q=>{var re;const z=(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||"";return z==="platform-coachmark-tour"||z==="announce-only-platform-coachmark-tour"});Oe.meta={name:"createSelector",key:"createSelectorisWorkflowCoachmarkOpen",description:Q=>{var re;const z=(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||"";return z==="platform-coachmark-tour"||z==="announce-only-platform-coachmark-tour"}};const Ce=Object(r.b)(Q=>{var re;return((Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||"")==="announce-only-platform-coachmark-tour"});Ce.meta={name:"createSelector",key:"createSelectorisAnnounceOnlyWorkflowCoachmarkOpen",description:Q=>{var re;return((Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||"")==="announce-only-platform-coachmark-tour"}};const le=Object(r.b)(Q=>{var re;return((Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||"")==="slash-commands-coachmark-tour"});le.meta={name:"createSelector",key:"createSelectorisSlashCommandsCoachmarkOpen",description:Q=>{var re;return((Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.openTourId)||"")==="slash-commands-coachmark-tour"}};const de=Object(r.b)(Q=>{var re;return(re=N(Q))===null||re===void 0?void 0:re.map(z=>B(Q,{triggerId:z}))});de.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggers",description:Q=>{var re;return(re=N(Q))===null||re===void 0?void 0:re.map(z=>B(Q,{triggerId:z}))}};const ie=Object(r.b)(Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.recentlyRunTriggerTimestamps)||{}});ie.meta={name:"createSelector",key:"createSelectorgetRecentlyRunTriggerTimestamps",description:Q=>{var re;return(Q==null||(re=Q.hermesTriggers)===null||re===void 0?void 0:re.recentlyRunTriggerTimestamps)||{}}};const pe=Object(o.a)(Q=>D(Q),Q=>{if(!Q)return _.a;const re=Object(t.a)(Q);return Object(s.a)(re,Y=>!(!Object(C.a)(Y)||Y.workflow_details&&!Y.workflow_details.is_published))}),ne=Object(r.b)((Q,re)=>{let{appId:z}=re;const Y=D(Q)||{};return Object.values(Y).find(Z=>{var $;return(Z==null||($=Z.workflow)===null||$===void 0?void 0:$.app_id)===z})});ne.meta={name:"createSelector",key:"createSelectorgetTriggerFromSlackAppId",description:(Q,re)=>{let{appId:z}=re;const Y=D(Q)||{};return Object.values(Y).find(Z=>{var $;return(Z==null||($=Z.workflow)===null||$===void 0?void 0:$.app_id)===z})}};const q=Object(r.b)((Q,re)=>{const z=Object(d.e)(Q,re);return z?(z==null?void 0:z.type)===d.a.SHORTCUT_LINK_TRIGGER:!1});q.meta={name:"createSelector",key:"createSelectorisHermesLinkTriggerFormat",description:(Q,re)=>{const z=Object(d.e)(Q,re);return z?(z==null?void 0:z.type)===d.a.SHORTCUT_LINK_TRIGGER:!1}};const ce=Object(r.b)((Q,re)=>{let{triggerId:z}=re;const Y=B(Q,{triggerId:z},!1);return Y==null?void 0:Y.shortcut_url});ce.meta={name:"createSelector",key:"createSelectorgetShortcutUrl",description:(Q,re)=>{let{triggerId:z}=re;const Y=B(Q,{triggerId:z},!1);return Y==null?void 0:Y.shortcut_url}};const ge=Object(r.b)((Q,re)=>{let{triggerId:z}=re;var Y;return!!(!(Q==null||(Y=Q.hermesTriggers)===null||Y===void 0)&&Y.triggersMarkedStaleInSession[z])});ge.meta={name:"createSelector",key:"createSelectorhasTriggerBeenMarkedStaleInSession",description:(Q,re)=>{let{triggerId:z}=re;var Y;return!!(!(Q==null||(Y=Q.hermesTriggers)===null||Y===void 0)&&Y.triggersMarkedStaleInSession[z])}};const be=Object(r.b)((Q,re)=>{let{block:z}=re;var Y;const ve=z.functionTriggerId,Z=Object(y.b)(z);if(!ge(Q,{triggerId:ve}))return Z;const te=B(Q,{triggerId:ve},!0),J=te==null||(Y=te.workflow)===null||Y===void 0?void 0:Y.workflow_id,k=J?Object(u.a)(Q,J):void 0;return Object(m.c)(te)||!k||Object(m.c)(k)?Z:Object(j.b)({passedShortcutInfo:Z,trigger:te,workflow:k})});be.meta={name:"createSelector",key:"createSelectorgetFreshShortcutInfoForShareShortcutBlock",description:(Q,re)=>{let{block:z}=re;var Y;const ve=z.functionTriggerId,Z=Object(y.b)(z);if(!ge(Q,{triggerId:ve}))return Z;const te=B(Q,{triggerId:ve},!0),J=te==null||(Y=te.workflow)===null||Y===void 0?void 0:Y.workflow_id,k=J?Object(u.a)(Q,J):void 0;return Object(m.c)(te)||!k||Object(m.c)(k)?Z:Object(j.b)({passedShortcutInfo:Z,trigger:te,workflow:k})}},Object(a.a)("hermesTriggers",function(Q,re){let{triggerId:z}=re,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return B(Q,{triggerId:z},Y)})},ivl2:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("xwCZ"),t=e("C3vN"),a=e("IYwZ");function r(l,o){if(!o)return!1;const i=Object(s.g)(l,o);return!Object(t.bb)(i)&&!!o&&!!Object(a.b)(l,o)}h(r,"isDnd")},"j/0O":function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("oEDn"),o=t.a.memo(c=>{let{animationDelay:E,size:f="large"}=c;const O=48,p=O-(f==="large"?48:36),b=O*2,T="#1D9BD1",v="#F2C744",S="#007A5A",A="#E01E5A",I={animationDelay:`${E||0}s`},_=h((C,D)=>t.a.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:D,className:C,style:I}),"renderDrop"),M=h((C,D)=>t.a.createElement("circle",{r:"4",fill:D,className:C,style:I}),"renderCircle"),y=h((C,D)=>t.a.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:D,className:C,style:I}),"renderStar"),j=h((C,D)=>t.a.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:D,className:C,style:I}),"renderSprinkle");return t.a.createElement("svg",{className:Object(a.default)("position_absolute",`p-upgrades_icon_celebration_animation--${f}`),style:{top:`-${O/2+p/2}px`,left:`-${O/2+p/2}px`},width:b,height:b,viewBox:`0 0 ${b} ${b}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},_("p-upgrades_icon_celebration_animation__drop_top_right",T),M("p-upgrades_icon_celebration_animation__circle_top_right",v),M("p-upgrades_icon_celebration_animation__circle_right",S),y("p-upgrades_icon_celebration_animation__star_bottom_right",v),M("p-upgrades_icon_celebration_animation__circle_bottom_right",v),j("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",A),_("p-upgrades_icon_celebration_animation__drop_left",v),M("p-upgrades_icon_celebration_animation__circle_top_left",T),y("p-upgrades_icon_celebration_animation__star_top_left",S),j("p-upgrades_icon_celebration_animation__sprinkle_top_left",A))}),i=e("vDCl");function u(){return u=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var f=arguments[E];for(var O in f)Object.prototype.hasOwnProperty.call(f,O)&&(c[O]=f[O])}return c},u.apply(this,arguments)}h(u,"_extends");const d=h(c=>{let{className:E,animationProps:f,hasBorder:O,type:p,size:b=i.a.MEDIUM,theme:T=i.b.PURPLE,showAnimation:v}=c;const S=Object(a.default)(`p-upgrades_icon--${b}`,`p-upgrades_icon--${T}`,E),A=t.a.createElement(r.a,{className:S,size:"inherit",type:p});if(!O)return A;const I=Object(a.default)("p-upgrades_icon_container",`p-upgrades_icon_container--${b}`,`p-upgrades_icon_container--${T}`,{"p-upgrades_icon_container--with_animation":v});return t.a.createElement("div",{className:I},A,v&&t.a.createElement(o,u({size:b},f)))},"UpgradesIcon");d.displayName="UpgradesIcon";var m=n.a=d},jF6j:function(H,n,e){"use strict"},jMXC:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("vFlG");const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function a(r){return!!Object(s.a)(r,"activeCall")}h(a,"isCallWindowContextState")},jNCy:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("BHdc"),l=e("ifKl"),o=e("MYuU"),i=e("zxER"),u=e("O86Y"),d=e("DneB"),m=e("lhZz"),c=e("3vtZ"),E=e("pFNT"),f=e("nWdO"),O=e("+CZ0"),p=e("r6c4"),b=e("GNR7"),T=e("ZobM"),v=e("W7ht");function S(){return S=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(C[B]=N[B])}return C},S.apply(this,arguments)}h(S,"_extends");function A(C){let{id:D}=C;return t.a.createElement("svg",{className:"sr-only"},t.a.createElement("clipPath",{id:D,clipPathUnits:"objectBoundingBox"},t.a.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))}h(A,"HuddlesMask"),A.displayName="HuddlesMask";const I=2;function _(C){let{channelId:D,withTooltip:N,className:B,excludeIcon:L,excludeMemberOverflowCount:R,maxMembers:U=I,avatarSize:W=E.a.verySmall}=C;const x=Object(s.useMemo)(()=>`huddles-mask-${Object(o.d)()}`,[]),G=Object(s.useMemo)(()=>({"--huddles-mask":`url(#${x})`,"--huddles-avatar-size":`${W}px`}),[x,W]),w=Object(i.d)(q=>Object(c.N)(q)||Object(p.b)(q)),se=Object(d.b)(O.b),ee=Object(d.b)(O.s),me=se===D&&Object(c.L)(ee),Oe=Object(i.g)(q=>Object(b.f)(q,D)),Ce=Oe.length,le=Ce>U,de=le?Ce-2:0,ie=le?Oe.slice(0,U):Oe;if(!w||!Ce)return null;const pe=t.a.createElement("div",{className:Object(r.default)("p-huddle_avatar_stack",B),"data-qa":"huddle_avatar_stack__avatars_container",style:G},t.a.createElement(A,{id:x}),!L&&t.a.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.a.createElement(T.a,{name:"headphones",size:"18"})),ie.map((q,ce)=>t.a.createElement(E.c,{key:q,"data-qa":"huddle_avatar_stack__member",className:Object(r.default)("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":ce===0}),userId:q,size:W,renderCustomBadge:l.a,isInteractive:!1})),!R&&le&&t.a.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${de}`)),ne=N?t.a.createElement(f.c,{tip:t.a.createElement(v.b,{channelId:D})},pe):pe;return me?null:ne}h(_,"HuddleAvatarStack"),_.displayName="HuddleAvatarStack";const M=t.a.memo(_);function y(C){const{channelId:D}=C,N=Object(i.d)(U=>Object(b.e)(U,D)),B=Object(d.b)(O.e),L=Object(d.b)(O.b),R=Object(i.d)(u.g);if(!N)return null;if(L===D){const U=Object(m.getStoreInstanceByTeamId)(B||R);return t.a.createElement(a.Provider,{store:U},t.a.createElement(M,S({},C)))}return t.a.createElement(M,S({},C))}h(y,"XWSHuddleAvatarStack"),y.displayName="XWSHuddleAvatarStack";var j=n.a=t.a.memo(y)},jSYs:function(H,n,e){"use strict";e.d(n,"a",function(){return t});const s=["ZoomAudioDevice (Virtual)"];function t(a){return a.filter(r=>s.indexOf(r.label)===-1)}h(t,"filterVirtualAudioDevices")},jUSB:function(H,n,e){"use strict";e.d(n,"c",function(){return i}),e.d(n,"e",function(){return d}),e.d(n,"b",function(){return m}),e.d(n,"a",function(){return c}),e.d(n,"d",function(){return E});var s=e("Lgge"),t=e("s4P+");const a={},r={},l={};function o(f){return`${f}-repeat`}h(o,"createRepeatKey");function i(f){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!f)return null;const p=m(f)||c(f);p.loop=!!O.loop,p.currentTime=0;var b;return p.volume=(b=O.volume)!==null&&b!==void 0?b:1,(p.play()||s.a.resolve()).catch(v=>{Object(t.b)().warn(`Failed to play sound: ${f} with reason: ${v}`)})}h(i,"play");function u(f){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!f)return null;const p=o(f),b=h(()=>{r[p]-=1,r[p]>0&&(O.pause?l[p]=setTimeout(()=>{i(p)},O.pause):i(p))},"ended");r[p]=O.repeat;const T=m(p)||c(f,{ended:b,customCacheKey:p});return T.currentTime=0,(T.play()||s.a.resolve()).catch(S=>{Object(t.b)().warn(`Failed to play repeated sound: ${f} with reason: ${S}`)})}h(u,"playRepeat");function d(f){let{logFailure:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const p=m(f),b=o(f),T=m(b);if(!p&&!T){O&&Object(t.b)().warn(`Tried to stop sound, but no sound was playing matching url: ${f}. Available cached element urls are ${Object.keys(a).join(", ")}`);return}T&&(T.pause(),clearTimeout(l[b]),r[b]=0),p&&p.pause()}h(d,"stop");function m(f){return a[f]}h(m,"getAudioElement");function c(f){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const p=new Audio(f);O.ended&&p.addEventListener("ended",O.ended);const b=O.customCacheKey||f;return a[b]=p,p}h(c,"createAudioElement");function E(f,O,p){if(!f||!O||!p)return;const b=m(f);b&&b.removeEventListener(O,p)}h(E,"removeAudioElementListener")},jWAO:function(H,n,e){"use strict";e.d(n,"c",function(){return l}),e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("oEDn"),l;(function(c){c.default="default",c.boxed="boxed",c.inlineBoxed="inline_boxed",c.nestedBox="nested_box",c.inline="inline",c.custom="custom"})(l||(l={}));var o;(function(c){c.default="default",c.info="info",c.success="success",c.warning="warning",c.error="error"})(o||(o={}));var i;(function(c){c.left="left",c.center="center",c.right="right"})(i||(i={}));const u=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),d=h(c=>{let{align:E=i.left,className:f,heading:O,icon:p,customIcon:b,id:T,level:v=o.default,type:S=l.boxed,children:A,"data-qa":I}=c;const _=Object(a.default)("c-alert",`c-alert--${S}`,`c-alert--level_${v}`,`c-alert--align_${E}`,{"c-alert--multiline":!!O},f),M=u.get(v)||"slack-pillow",y=(b||M)&&S!==l.inline&&S!==l.custom,j=S===l.nestedBox?"inherit":void 0,C=S!==l.custom&&O;return t.a.createElement("div",{className:_,id:T,"data-qa":I,"data-qa-alert":!0,"data-qa-alert-level":v,"data-qa-alert-type":S,"data-qa-alert-align":E},y&&(b||t.a.createElement(r.a,{type:p||M,className:"c-alert__icon",size:j,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":p||M})),t.a.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},C&&t.a.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},O),A))},"Alert");d.displayName="Alert",d.displayName="Alert";var m=n.d=d},jgRE:function(H,n,e){H.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},jj3I:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"e",function(){return r}),e.d(n,"c",function(){return l}),e.d(n,"g",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return u});var s=e("DwFS");const t=Object(s.a)("Enable huddle event log");t.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const a=Object(s.a)("Disable huddle event log");a.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=Object(s.a)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const l=Object(s.a)("Add non-transcription event");l.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const o=Object(s.a)("Update with latest transcription events");o.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const i=Object(s.a)("Set enabled state for huddle captions side-by-side view");i.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const u=Object(s.a)("Set enabled state for huddle closed captions view");u.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},jjSj:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o});var s=e("Lgge"),t=e("ykb+"),a=e("s4P+"),r=e("G5NC");function l(i,u,d){const m="noversion",c=Date.now()/1e3,E=`/api/${i}?_x_id=${m}-${c}`,f=new XMLHttpRequest;f.onreadystatechange=()=>{if(f.readyState===4){f.onreadystatechange=null;let T;if(f.status===200||f.status===429)try{T=JSON.parse(f.responseText)}catch{Object(a.b)().warn("API","Unable to do anything with api response")}T=T||{ok:!1},d?d(T.ok,T,u):Object(t.b)()&&(Object(a.b)().warn("API","No callback provided. Printing response"),Object(a.b)().warn("API",T.ok,T,u))}};const O=!0;f.open("POST",E,O);const p=new FormData;let b=!1;u?Object.keys(u).forEach(T=>{T[0]!=="_"&&(p.append(T,u[T]),b=!0)}):Object(t.b)()&&Object(a.b)().warn("API","No args provided. Bold, very bold."),b?f.send(p):f.send()}h(l,"callSlackApiUnauthed");const o=h((i,u)=>new s.a(d=>{l(i,u,(m,c)=>{d(c)})}),"callSlackApiUnauthedAsync");Object(r.a)()||(window.callSlackAPIUnauthed=(i,u,d)=>{Object(a.b)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),l(i,u,d)})},jlKB:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("JoR1");function t(a){return Object(s.t)(a,"emoji_mode")==="as_text"}h(t,"shouldRenderEmojiAsText")},k2tO:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("3fJ/"),a=e("C3NW"),r=e("eBdR"),l=e("kZhr"),o=e("s4P+"),i=e("ASxg");const u=Object(s.c)("Sets a new ID for the search and query sessions",(d,m)=>{const c=Object(o.a)({getState:m});d(Object(a.a)()),d(Object(r.b)({windowId:l.a})),d(Object(r.c)({windowId:l.a})),d(Object(t.c)({windowId:l.a})),d(Object(t.e)({windowId:l.a})),c.info(i.a,"Ending search session")});u.meta={name:"createThunk",key:"createThunkendSearchSession",description:"Sets a new ID for the search and query sessions"}},k400:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t&&t.name}h(s,"getEmojiCollectionName")},kS3P:function(H,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.Blur="blur",t.Background="bg"})(s||(s={}))},kk2d:function(H,n,e){H.exports=e.p+"daily_checkin_sq-f4c7ef4.png"},"kov+":function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"q",function(){return a}),e.d(n,"o",function(){return r}),e.d(n,"i",function(){return l}),e.d(n,"g",function(){return o}),e.d(n,"m",function(){return i}),e.d(n,"l",function(){return u}),e.d(n,"c",function(){return d}),e.d(n,"n",function(){return m}),e.d(n,"j",function(){return c}),e.d(n,"h",function(){return E}),e.d(n,"f",function(){return f}),e.d(n,"k",function(){return O}),e.d(n,"p",function(){return p}),e.d(n,"d",function(){return b}),e.d(n,"e",function(){return T}),e.d(n,"a",function(){return v});const s={adminAmountChanged:"adminAmountChanged",adminCloseDateChanged:"adminCloseDateChanged",adminDealWon:"adminDealWon",adminForecastReminder:"adminForecastReminder",adminNewOpportunityAlert:"adminNewOpportunityAlert",adminStageChanged:"adminStageChanged",adminSelectNotificationType:"adminSelectNotificationType"},a={...s,...{userAmountChanged:"userAmountChanged",userCloseDateChanged:"userCloseDateChanged",userDealWon:"userDealWon",userForecastReminder:"userForecastReminder",userNewOpportunityAlert:"userNewOpportunityAlert",userStageChanged:"userStageChanged",userSelectNotificationType:"userSelectNotificationType"}},r={daily:"daily",weekdays:"weekdays",weekly:"weekly",monthly:"monthly",once:"once",hourly:"hourly",yearly:"yearly"},l={Opportunity:"opportunity",Account:"account"},o={AccountId:"account_id",Amount:"amount",CloseDate:"close_date",Name:"name",NextSteps:"next_steps",OwnerId:"owner_id",Stage:"stage"},i={Production:"salesforce",Sandbox:"salesforce_sandbox"},u={BooleanSchemaField:"BooleanSchemaField",CurrencySchemaField:"CurrencySchemaField",DateSchemaField:"DateSchemaField",DateTimeSchemaField:"DateTimeSchemaField",DoubleSchemaField:"DoubleSchemaField",EmailSchemaField:"EmailSchemaField",LongSchemaField:"LongSchemaField",ReferenceSchemaField:"ReferenceSchemaField",SelectSchemaField:"SelectSchemaField",StringSchemaField:"StringSchemaField",URLSchemaField:"URLSchemaField"},d={Any:"any",Increase:"increase",Decrease:"decrease"},m={Channel:"channel",SalesHome:"sales_home"};var c;(function(A){A.AccountsOwnedByMe="account_owner",A.AccountOwnedByReportChain="account_report_chain",A.All="all",A.MatchCriteria="criteria",A.OwnedByDirectReports="direct_reports",A.OwnedByMe="owner",A.OwnedByReportChain="report_chain",A.SpecificAccount="account",A.SpecificOpportunity="opportunity"})(c||(c={}));var E;(function(A){A.Any="any",A.AccountOwnedByMe="account_owner",A.AccountOwnedByReportChain="account_report_chain",A.OpportunityOwnedByAnyoneInReportChain="report_chain",A.OpportunityOwnedByDirectReports="direct_reports",A.OpportunityOwnedByMe="owner"})(E||(E={}));var f;(function(A){A.Any="any",A.General="general",A.DirectOwner="direct_owner",A.ManagerOrLeader="manager_or_leader"})(f||(f={}));var O;(function(A){A.Owner="owner",A.AccountOwner="account_owner",A.ManagerChain="manager_chain",A.AccountManagerChain="account_manager_chain",A.User="user"})(O||(O={}));var p;(function(A){A.AdminReminder="admin-reminder",A.AdminOpportunityChanged="admin-opportunity-changed",A.UserReminder="user-reminder",A.UserOpportunityChanged="user-opportunity-changed"})(p||(p={}));var b;(function(A){A.TO_ANOTHER="to_another",A.TO_FUTURE="to_future",A.TO_EARLIER="to_earlier"})(b||(b={}));var T;(function(A){A.DAYS="DaysTimePeriod",A.MONTHS="MonthsTimePeriod",A.FISCAL_QUARTER="FiscalQuarterTimePeriod",A.FISCAL_YEAR="FiscalYearTimePeriod"})(T||(T={}));const v={[a.adminAmountChanged]:a.adminAmountChanged,[a.adminCloseDateChanged]:a.adminCloseDateChanged,[a.adminDealWon]:a.adminDealWon,[a.adminNewOpportunityAlert]:a.adminNewOpportunityAlert,[a.adminStageChanged]:a.adminStageChanged},S={[a.userAmountChanged]:a.userAmountChanged,[a.userCloseDateChanged]:a.userCloseDateChanged,[a.userDealWon]:a.userDealWon,[a.userNewOpportunityAlert]:a.userNewOpportunityAlert,[a.userStageChanged]:a.userStageChanged}},kp40:function(H,n,e){H.exports=e.p+"template_card_triage_slack-a181d8f.png"},ksuf:function(H,n,e){H.exports=e.p+"tokyo_sight-285d851.jpg"},kzMN:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("KENN");function t(a){return Object(s.a)().indexOf(a)!==-1}h(t,"mentionIdIsKeyword")},kzto:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("RVJP"),t=e("rZ8V");const a="files_explorer_prototype";function r(l){return Object(t.o)(l)&&Object(s.d)(l,a)==="on"}h(r,"isFilesExplorerPrototypeEnabled")},"l/Qw":function(H,n,e){"use strict";e.d(n,"a",function(){return ve}),e.d(n,"c",function(){return ae});var s=e("7EGn"),t=e("NFsq"),a=e("Bw5p"),r=e("m8R6"),l=e("n3tL"),o=e("xcHN"),i=e("9Gfp"),u=e("O86Y"),d=e("cBLH"),m=e("E3dU"),c=e("Jhy3"),E=e("3mmX"),f=e("zADO"),O=e("SQ0V"),p=e("s4P+"),b=e("Pw4T"),T=e("1Np4"),v=e("rIJ2"),S=e("ifKl"),A=e("ROZo");const I=Object(A.a)("TS.channels.read_only.stashAndFetchChannelPostingUpdates",S.a);var _=e("gPPH"),M=e("UnJt"),y=e("Q7We"),j=e("Cbpi"),C=e("Lgge"),D=e("TwEf"),N=e("lhZz"),B=e("Aqb/");const L={},R="cse-message-send",U="cse-message-send";let W=h(class{_send(){const{message:Ke,trace:ke,parentSpanId:Qe}=this._activeRequest||{};Object(p.a)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${Ke.client_msg_id}`);const Ze=h(()=>{var De;return(De=this._store)===null||De===void 0?void 0:De.dispatch(Object(D.a)({message:Ke,traceId:ke==null?void 0:ke.getTraceId(),parentSpanId:Qe}))},"postMessageP");return this._maybeTraceMessageSend(Ze).then(this._activeRequest?this._activeRequest.resolve:S.a).catch(this._activeRequest?this._activeRequest.reject:S.a).finally(()=>this.resolve(Ke))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:Ke}=this._activeRequest||{};return Ke==null||Ke.addTags({count:this._queue.length}),Ke==null||Ke.close(),this._send(),Object(p.a)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(Ke){var ke;if(!this.shouldTraceMessageSend())return Ke();const Qe=(ke=this._tracer)===null||ke===void 0?void 0:ke.createTrace({traceName:R,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:B.a.ALWAYS}}),Ze=h(()=>{var Fe;Qe&&((Fe=this._tracer)===null||Fe===void 0||Fe.clearTrace(Qe))},"onResolve"),De=h((Fe,Ve)=>{var Je;const Ot={state:B.b.ERROR};Ve.status&&(Ot.status=Ve.status),Ve.message&&(Ot.message=Ve.message),Ve.data&&Ve.data.error&&(Ot.reason=Ve.data.error),Fe==null||Fe.addTags(Ot),Fe==null||Fe.close(),Qe&&((Je=this._tracer)===null||Je===void 0||Je.reportTrace(Qe))},"onError");return Qe==null?void 0:Qe.traceFn({name:U,onError:De,onResolve:Ze},Ke)}enqueue(Ke){let{trace:ke,parentSpanId:Qe}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new C.a((Ze,De)=>{const Fe=ke==null?void 0:ke.startSpan("message_send_attempt:enqueue",{parentSpanId:Qe});this._queue.push({message:Ke,messageEnqueueSpan:Fe,trace:ke,parentSpanId:Qe,resolve:Ze,reject:De}),Object(p.a)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${Ke.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(Ke){return!Ke||!this._activeRequest||!this._activeRequest.message||Ke.client_msg_id!==this._activeRequest.message.client_msg_id?!1:(Object(p.a)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${Ke.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){var Ke;const ke=(Ke=this._store)===null||Ke===void 0?void 0:Ke.getState();return Object(i.i)(ke,"feature_desktop_symptom_events")&&this._tracer}constructor(Ke){if(!Ke)throw new Error("MessageQueue requires a teamId.");if(this._teamId=Ke,this._activeRequest=null,this._queue=[],this._store=Object(N.getStoreInstanceByTeamId)(Ke),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${Ke} found.`);const ke=this._store.getState();this._tracer=Object(i.i)(ke,"feature_desktop_symptom_events")?Object(T.a)({state:ke}):void 0}},"MessageQueue");function x(Ue){return L[Ue]||(L[Ue]=new W(Ue)),L[Ue]}h(x,"getInstance");const G={MESSAGE_SEND_TRACE_LABEL:R,MESSAGE_SEND_SPAN_LABEL:U};var w=e("sxEY"),se=e("n0Pp"),ee=e("dUj5"),X=e("7UGH"),me=e("yzO5"),Oe=e("0IxZ"),Ce=e("RVJP"),le=e("rZ8V");const de=6,ie=7,pe=8,ne="restricted_action_read_only_channel",q="restricted_action_thread_only_channel",ce="restricted_action_non_threadable_channel",ge="ekm_access_denied",be="slack_connect_file_link_sharing_blocked",Q="content_rule_violation",re="dlp_user_warning",z="message_limit_exceeded",Y="slack_connect_canvas_contain_file_sharing_blocked";var ve;(function(Ue){Ue.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",Ue.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",Ue.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(ve||(ve={}));const Z={[ne]:de,[q]:ie,[ce]:pe};function $(Ue,Ke){Ue(Object(c.a)([Ke]));const ke={channelId:Ke.channel,timestamps:[Ke.ts],oldest:Ke.ts,hasMore:!1,append:!0};if(Ue(Object(d.a)(ke)),Ke.thread_ts){const Qe=Object(o.c)(Ke.channel,Ke.thread_ts);Ue(Object(d.a)({...ke,channelId:Qe}))}}h($,"addMsgToEnd");const te={};function J(Ue,Ke,ke){te[Ue]||(te[Ue]={}),te[Ue][Ke]=ke}h(J,"addResolutionTimer");function k(Ue,Ke){!te[Ue]||!te[Ue][Ke]||(clearTimeout(te[Ue][Ke]),delete te[Ue][Ke])}h(k,"cancelResolutionTimer");function ae(Ue,Ke,ke,Qe){const Ze=Object(u.g)(Ue())||"",De=Object(X.a)(Ue(),Qe.client_msg_id);if(De){Object(p.a)({getState:Ue}).action("MESSAGE",`Resolved a message with clientMsgId ${Qe.client_msg_id} in ${ke.channel} with ts ${Qe.ts}`),Ke(Object(ee.b)(De.clientMsgId)),k(Ze,De.clientMsgId),Ke(Object(y.a)({channelId:De.channelId,ts:De.ts}));const Fe=!1;Object(m.d)(Ue(),ke.channel,Fe)&&Ke(Object(w.a)({channelId:ke.channel,msgTs:ke.ts,resent:!1}))}x(Ze).resolve(Qe)}h(ae,"resolveMessage");const Ee="cse-message-send:send",_e=Object(O.c)("Send a message",(Ue,Ke,ke)=>{let{messageSendTrace:Qe,notificationTracePassthroughData:Ze,skipDLPUserWarning:De,...Fe}=ke;const Ve=Object(T.a)({getState:Ke});let Je,Ot;Qe&&(Je=Qe.startSpan("message_send_attempt:send"),Ot=Qe.startSpan("message_send_attempt:placeholder",{parentSpanId:Je==null?void 0:Je.getId()}));const ht=Ve.createMetricsTrace({label:"cse-message-send"});ht.count({name:Ee,label:"pending"}),Ve.reportTrace(ht);const Le=Object(v.a)(1),{channel:jt,reply_broadcast:Ut,thread_ts:Ie,client_msg_id:oe,xArgs:ye}=Fe,Ne=Object(p.a)({getState:Ke}),Ge=Object(u.g)(Ke())||"",st=Ie?{_hidden_reply:!0,_was_reply_broadcast:Ut}:null,$e=oe||Object(_.a)();Ze&&Object(M.g)(Ke(),{notificationTracePassthroughData:Ze,clientMsgId:$e});const It=Object(Ce.d)(Ke(),"fe_message_rendering_perf_m1")==="on",Lt=Object(le.H)(Ke()),St=Fe.blocks,vt={...Fe,...st,user:Object(i.a)(Ke()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:$e,blocksProcessed:Object(Oe.a)({blocks:St,experimentFeMessageRenderingPerfM1GroupOn:It,experimentIa4ThemingGroupOn:Lt})};Ne.action("MESSAGE",`Sent a message to ${jt} via HTTP, clientMsgId: ${$e}`);const Yt={...Fe,...ye,include_channel_perm_error:!0,client_msg_id:$e,skip_dlp_user_warning:De};Le&&J(Ge,$e,window.setTimeout(()=>{if(Object(X.a)(Ke(),vt.client_msg_id)){const Ft=Ke();Object(se.h)(Ft)&&Object(b.d)({state:Ft}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const et=x(Object(u.g)(Ke())||"").enqueue(Yt,{trace:Qe,parentSpanId:Je==null?void 0:Je.getId()});return $(Ue,vt),Ue(Object(ee.a)({clientMsgId:vt.client_msg_id,channelId:vt.channel,ts:vt.ts})),Ie||Ue(Object(E.a)({ts:null})),Ot==null||Ot.close(),et.tap(()=>{const Ft=Ke();(!Object(se.h)(Ft)||Object(f.b)(Ft,jt)||Object(f.b)(Ft,Object(i.a)(Ft)))&&(Ue(Object(j.a)({channelId:jt,threadTs:Ie})),Ut&&Ue(Object(j.a)({channelId:jt}))),ht.count({name:Ee,label:"success"}),Ve.reportTrace(ht),Qe&&(Qe.addTags({success:!0}),Je==null||Je.close(),Ve.reportTrace(Qe))}).catch(Ft=>{const mt=Object(s.a)(Ft,"data.error");ht.count({name:Ee,label:"failure"}).setTag("error",mt||(Ft==null?void 0:Ft.message)),Ve.reportTrace(ht);const Zt=mt===ge,gt=mt===be,at=mt===Q,it=mt===re,dt=mt===z,_t=Object.values(ve).includes(mt)?mt:void 0,Dt=mt===Y;if(!mt&&!Object(X.a)(Ke(),vt.client_msg_id)){Ne.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}const Ye=Z[mt];let Xe=!0;const kt=!0,Bt=[de,ie,pe,ne,q,ce];Object(t.a)(Bt,mt)&&(I(jt,Ye,"send-message/sendMessage.catch"),Xe=!1),Zt&&(Xe=!1),(gt||Dt)&&(Xe=!1),at&&(Xe=!1),dt&&(Xe=!1,Ue(Object(me.a)())),_t&&(Xe=!1);const wt="Message failed to send",we=Object(a.a)(Ft,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);we.client_msg_id=$e,we.channel=jt,we.thread_ts=Ie;const ot=Ft&&Ft.status===429?"message_send_ratelimit":"message_send_fail";Ne.error(we instanceof Error?we:new Error(wt),`${wt}: ${mt} | ${JSON.stringify(we)}`,{subtype:ot});const yt=mt?Object(r.a)(we,["response"]):Ft;Ne.error("MESSAGE",wt,mt,yt);const Kt={...vt,showResend:Xe,showCancel:kt,isEKMError:Zt,isBlockFilesError:gt,isNativeDLPError:at,isDLPUserWarningError:it,canvasSharingError:_t,isBlockCanvasWithFilesShareError:Dt};Object(X.a)(Ke(),vt.client_msg_id)?Ue(Object(c.a)([Kt])):$(Ue,Kt),!Xe&&Le&&k(Ge,vt.client_msg_id),Qe&&(Xe?(Qe.addTags({success:!1}),Je==null||Je.close(),Ve.reportTrace(Qe)):Ve.clearTrace(Qe))})});_e.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"},_e.propTypes={params:l.default.shape({channel:l.default.string.isRequired,reply_broadcast:l.default.bool,blocks:l.default.object.isRequired,thread_ts:l.default.string,ts:l.default.string.isRequired,type:l.default.string.isRequired})};var je=n.b=_e},"l/cy":function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"c",function(){return u}),e.d(n,"b",function(){return d});var s=e("Kdix"),t=e("KciV"),a=e("QjW8"),r=e("+N8b"),l;(function(m){m.HuddlesSdk="huddles-sdk",m.ChimeChannelListener="chime-channel-listener",m.ChimeChannelBroadcaster="chime-channel-broadcaster",m.VoiceFocusDevice="voice-focus-device",m.VideoTransformDevice="video-transform-device",m.VideoFrameProcessor="video-frame-processor"})(l||(l={}));const o=new Map([[l.HuddlesSdk,s.a.create({name:l.HuddlesSdk})],[l.ChimeChannelListener,s.a.create({name:l.ChimeChannelListener})],[l.ChimeChannelBroadcaster,s.a.create({name:l.ChimeChannelBroadcaster})],[l.VoiceFocusDevice,s.a.create({name:l.VoiceFocusDevice})],[l.VideoTransformDevice,s.a.create({name:l.VideoTransformDevice})],[l.VideoFrameProcessor,s.a.create({name:l.VideoFrameProcessor})]]),i=Object(t.a)("HUDDLE-LEAK-MONITOR"),u=h(m=>{let{name:c,ref:E}=m;const f=o.get(c);if(!f)return;const O=f.getMetrics();if(O){const{numberOfObjects:p,numberOfExpiredObjects:b}=O,T=p-b;b>3&&(i.warn(`Detected ${b} memory leak(s) for ${c}${T?` (with another ${T} instances in memory)`:""}`),r.a.publish({type:a.a.MemoryLeaks,update:{name:c,leakCount:b}}))}f.watch(E)},"monitorObjectForMemoryLeaks"),d=h(()=>{for(const[,m]of o)m.expectGCAll()},"detectMemoryLeaks")},l0nk:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("6rGi");const a=Object(s.c)("Handle huddle error",(r,l,o)=>Object(t.a)().enterTerminalState(new Error(o.terminalState)));a.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"},n.a=a},lA92:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("SQ0V"),t=e("ctiz"),a=e("jUSB");const r=Object(s.c)("Stop the huddle invite sound",(l,o)=>{Object(a.e)(Object(t.l)(o()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},"lBK/":function(H,n,e){"use strict";var s=e("BHdc"),t=e("q1tI"),a=e.n(t),r=e("UXvI"),l=e("ifKl"),o=e("x5cI"),i=e("nBRq"),u=e("WSQ4"),d=e("J47P");function m(){return m=Object.assign||function(A){for(var I=1;I<arguments.length;I++){var _=arguments[I];for(var M in _)Object.prototype.hasOwnProperty.call(_,M)&&(A[M]=_[M])}return A},m.apply(this,arguments)}h(m,"_extends");const c=1,E=10,f=10,O=2,p=12,b=50;let T=h(class extends t.PureComponent{componentDidMount(){this.state.isOpen&&this.context.window.document.addEventListener("mousemove",this.onMouseMove)}static getDerivedStateFromProps(I,_){return I.isOpen!==_.passedIsOpen?{isOpen:I.isOpen,passedIsOpen:I.isOpen}:null}componentDidUpdate(I){I.isOpen!==this.props.isOpen&&(this.state.isOpen?(this.forceUpdate(),this.context.window.document.addEventListener("mousemove",this.onMouseMove)):this.context.window.document.removeEventListener("mousemove",this.onMouseMove)),this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){this.context.window.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(I){const _={x:I.clientX,y:I.clientY},M=this.mouseProgressingTowardsSubmenu(_);M!==this.state.mouseProgressingTowardsSubmenu&&(M?this.props.preventHighlightChange():this.state.highlightChangePrevented||this.props.allowHighlightChange()),this.setState(()=>({mouseCoordinates:_,mouseProgressingTowardsSubmenu:M}))}onSubmenuItemSelected(I,_){this.props.menuCallback(this.props.menuCallbackId,_)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const I=this.getContentBounds(),_=this.getTriggerBounds(),M={...this.props.submenuStyle};if((I==null?void 0:I.width)===void 0||(_==null?void 0:_.left)===void 0)return M;const y=_.right+I.width>this.context.window.innerWidth,j=_.left>I.width,C=this.props.forceLeft||y&&j;y&&!j?M.left=this.context.window.innerWidth-I.width-E:C?M.left=_.left-I.width+O:M.left=_.right-O;const N=_.top-p,B=N+I.height>this.context.window.innerHeight-f;return M.top=B?this.context.window.innerHeight-f-I.height:N,M}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(I){this.submenuContainer=I}setTriggerRef(I){this.trigger=I}allowHighlightChange(){this.setState(I=>({...I,highlightChangePrevented:!1}))}closeSubmenu(){this.props.returnKBNav(),this.setState(()=>({isOpen:!1}),()=>{this.context.window.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(I){const{mouseCoordinates:_}=this.state,M=this.getContentBounds();if(M){const{left:y,right:j,top:C,bottom:D}=M;if(I.x>=y&&I.x<=j&&I.y>=C&&I.y<=D)return!0;if(_){const B=Math.abs(j-_.x)>Math.abs(y-_.x),L={x:B?y:j,y:C-c},R={x:B?y:j,y:D+c},U={x:B?_.x-c:_.x+c,y:_.y};return Object(i.a)(I,U,L,R)}}return!1}preventHighlightChange(){this.setState(I=>({...I,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const I=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),_=this.getSubmenuContainerStyle(),M=Object(s.default)("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return a.a.createElement("div",{role:"presentation",className:M,ref:this.setSubmenuRef,style:_,"data-qa":"submenu_container"},I)}render(){const{menuCallback:I,menuCallbackId:_,...M}=this.props;return a.a.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},a.a.createElement(o.a,m({},M,{withSubmenu:!0})),this.renderSubmenu())}constructor(I){super(I),this.state={isOpen:!1,passedIsOpen:!1,mouseCoordinates:void 0,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},this.closeSubmenu=this.closeSubmenu.bind(this),this.setSubmenuRef=this.setSubmenuRef.bind(this),this.setTriggerRef=this.setTriggerRef.bind(this),this.onMouseMove=Object(r.a)(this.onMouseMove.bind(this),b),this.onSubmenuItemSelected=this.onSubmenuItemSelected.bind(this),this.preventHighlightChange=this.preventHighlightChange.bind(this),this.allowHighlightChange=this.allowHighlightChange.bind(this)}},"Submenu");T.displayName="Submenu",T.defaultProps={isOpen:!1,menuCallback:l.a,menuCallbackId:null,kbNavActive:!1,returnKBNav:l.a,preventHighlightChange:l.a,allowHighlightChange:l.a,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},T.contextType=u.a;const v={Submenu:T,SUBMENU_OVERLAP:O,MENU_VERTICAL_MARGIN:p,ALLOWANCE_X:E,ALLOWANCE_Y:f};var S=n.a=Object(d.a)(T)},lRFD:function(H,n,e){H.exports=e.p+"slack-salesforce-211570d.png"},lUvW:function(H,n,e){"use strict";e.d(n,"k",function(){return v}),e.d(n,"f",function(){return S}),e.d(n,"n",function(){return A}),e.d(n,"c",function(){return I}),e.d(n,"g",function(){return _}),e.d(n,"e",function(){return M}),e.d(n,"a",function(){return y}),e.d(n,"d",function(){return j}),e.d(n,"j",function(){return C}),e.d(n,"l",function(){return D}),e.d(n,"b",function(){return N}),e.d(n,"m",function(){return B}),e.d(n,"o",function(){return L}),e.d(n,"v",function(){return R}),e.d(n,"t",function(){return U}),e.d(n,"A",function(){return W}),e.d(n,"s",function(){return x}),e.d(n,"z",function(){return G}),e.d(n,"u",function(){return w}),e.d(n,"B",function(){return se}),e.d(n,"r",function(){return ee}),e.d(n,"y",function(){return X}),e.d(n,"q",function(){return me}),e.d(n,"x",function(){return Oe}),e.d(n,"p",function(){return Ce}),e.d(n,"w",function(){return le}),e.d(n,"h",function(){return de}),e.d(n,"i",function(){return pe});var s=e("SQ0V"),t=e("blur"),a=e("Tkkt"),r=e("05YS"),l=e("6KE7"),o=e("sjOx"),i=e("/S0L"),u=e("/5cg"),d=e("qQXB"),m=e("TBTs"),c=e("3fJ/"),E=e("/aHE"),f=e("nOXG"),O=e("O86Y"),p=e("vws0"),b=e("kZhr"),T=e("0Xjs");function v(q,ce,ge){let be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const Q=Object(r.y)(ce()),re=Q?Q.query:"";return q(Object(a.c)({windowId:b.a})),be&&q(Object(l.a)()),q(Object(t.b)({query:re,reason:ge,fetchSuggestions:Object(f.a)()}))}h(v,"refetchAllSearchResults");const S=Object(s.c)("Message/file search: exclude bots checkbox changed",(q,ce,ge)=>{let{value:be}=ge;q(Object(E.c)({value:be})),v(q,ce,"search-exclude-bots-changed"),q(Object(p.a)())});S.meta={name:"createThunk",key:"createThunkmessageAndFileSearchExcludeBotsChanged",description:"Message/file search: exclude bots checkbox changed"};const A=Object(s.c)("Message/file search: only my channels checkbox changed",(q,ce,ge)=>{let{value:be}=ge;q(Object(E.g)({value:be})),be&&q(Object(E.a)({value:!1})),v(q,ce,"search-only-my-channels-changed"),q(Object(p.a)())});A.meta={name:"createThunk",key:"createThunksearchOnlyMyChannelsChanged",description:"Message/file search: only my channels checkbox changed"};const I=Object(s.c)("Channel search: hide member channels flag changed",(q,ce,ge)=>{let{value:be,refetch:Q=!0}=ge;q(Object(E.a)({value:be})),be&&q(Object(E.g)({value:!1})),Q&&v(q,ce,"search-hide-member-channels-changed"),q(Object(p.a)())});I.meta={name:"createThunk",key:"createThunkchannelSearchHideMemberChannelsChanged",description:"Channel search: hide member channels flag changed"};const _=Object(s.c)("Message search: sort changed",(q,ce,ge)=>{let{sort:be,shouldUpdateUrl:Q=!0,shouldClogSearchSort:re=!0}=ge;re&&q(Object(d.s)({sortValue:be,entity:"messages"})),q(Object(i.a)({sort:be})),q(Object(t.d)({module:"messages",reason:"search-messages-sort-changed"})),Q&&q(Object(p.a)())});_.meta={name:"createThunk",key:"createThunkmessageSearchSortChanged",description:"Message search: sort changed"};const M=Object(s.c)("File search: sort changed",(q,ce,ge)=>{let{sort:be,shouldUpdateUrl:Q=!0,shouldClogSearchSort:re=!0}=ge;re&&q(Object(d.s)({sortValue:be,entity:"files"})),q(Object(u.b)({sort:be})),q(Object(t.d)({module:"files",reason:"search-files-sort-changed"})),Q&&q(Object(p.a)())});M.meta={name:"createThunk",key:"createThunkfileSearchSortChanged",description:"File search: sort changed"};const y=Object(s.c)("Canvas search: sort changed",(q,ce,ge)=>{let{sort:be,shouldUpdateUrl:Q=!0,shouldClogSearchSort:re=!0}=ge;re&&q(Object(d.s)({sortValue:be,entity:"files"})),q(Object(u.b)({sort:be})),q(Object(t.d)({module:"canvases",reason:"search-canvases-sort-changed"})),Q&&q(Object(p.a)())});y.meta={name:"createThunk",key:"createThunkcanvasSearchSortChanged",description:"Canvas search: sort changed"};const j=Object(s.c)("Channel search: sort changed",(q,ce,ge)=>{let{sort:be,shouldUpdateUrl:Q=!0,shouldClogSearchSort:re=!0}=ge;re&&q(Object(d.s)({sortValue:be,entity:"channels"})),q(Object(E.b)({sort:be})),q(Object(t.d)({module:"channels",reason:"search-channels-sort-changed"})),Q&&q(Object(p.a)())});j.meta={name:"createThunk",key:"createThunkchannelSearchSortChanged",description:"Channel search: sort changed"};const C=Object(s.c)("People search: sort changed",(q,ce,ge)=>{let{sort:be,shouldUpdateUrl:Q=!0,shouldClogSearchSort:re=!0}=ge;re&&q(Object(d.s)({sortValue:be,entity:"people"})),q(Object(E.e)({sort:be})),q(Object(t.d)({module:"people",reason:"search-people-sort-changed"})),Q&&q(Object(p.a)())});C.meta={name:"createThunk",key:"createThunkpeopleSearchSortChanged",description:"People search: sort changed"};const D=Object(s.c)("result count toggle changed",(q,ce,ge)=>{let{count:be}=ge;q(Object(E.f)({count:be})),v(q,ce,"result-count-toggle-changed",!1),q(Object(c.f)({windowId:b.a})),q(Object(c.d)({windowId:b.a})),q(Object(p.a)())});D.meta={name:"createThunk",key:"createThunkresultCountToggleChanged",description:"result count toggle changed"};const N=Object(s.c)("Channel search: filter type changed",(q,ce,ge)=>{let{type:be}=ge;q(Object(c.j)({type:be})),v(q,ce,"search-channels-filter-type-changed"),q(Object(p.a)())});N.meta={name:"createThunk",key:"createThunkchannelSearchFilterTypeChanged",description:"Channel search: filter type changed"};const B=Object(s.c)("All of search: search by selected enterprise team id",(q,ce,ge)=>{let{value:be,refetch:Q=!0}=ge;q(Object(c.g)({selectedEnterpriseTeamId:be})),Q&&v(q,ce,"search-only-by-enterprise-team-id"),q(Object(p.a)())});B.meta={name:"createThunk",key:"createThunksearchOnlyByEnterpriseTeamId",description:"All of search: search by selected enterprise team id"};const L=Object(s.c)("Channel search: bulk update an external org filter",(q,ce,ge)=>{let{teamIds:be}=ge;const Q=ce(),re=Object(m.d)(Q);q(Object(c.k)({teamIds:Array.from(new Set([...re,...be]))})),q(Object(c.l)({orgFilters:be})),v(q,ce,"search-channels-org-filter-bulk-changed"),q(Object(p.a)())});L.meta={name:"createThunk",key:"createThunksetChannelSearchOrgFilter",description:"Channel search: bulk update an external org filter"};const R=Object(s.c)("Channel search: update an external org filter",(q,ce,ge)=>{let{teamId:be,value:Q}=ge;const re=ce();let z=[...Object(m.e)(re)];const Y=Object(m.d)(re);Q?z.push(be):z=z.filter(ve=>ve!==be),q(Object(c.k)({teamIds:Array.from(new Set([...Y,be]))})),q(Object(c.l)({orgFilters:z})),v(q,ce,"search-channels-org-filter-changed"),q(Object(p.a)())});R.meta={name:"createThunk",key:"createThunktoggleChannelSearchOrgFilter",description:"Channel search: update an external org filter"};const U=Object(s.c)("People search: bulk update an external org filter",(q,ce,ge)=>{let{teamIds:be}=ge;const Q=ce(),re=Object(m.v)(Q);q(Object(c.B)({teamIds:Array.from(new Set([...re,...be]))})),q(Object(c.C)({orgFilters:be})),v(q,ce,"search-people-org-filter-changed"),q(Object(p.a)())});U.meta={name:"createThunk",key:"createThunksetPeopleSearchOrgFilter",description:"People search: bulk update an external org filter"};const W=Object(s.c)("People search: update an external org filter",(q,ce,ge)=>{let{teamId:be,value:Q}=ge;const re=ce();let z=[...Object(m.w)(re)];const Y=Object(m.v)(re);Q?z.push(be):z=z.filter(ve=>ve!==be),q(Object(c.B)({teamIds:Array.from(new Set([...Y,be]))})),q(Object(c.C)({orgFilters:z})),v(q,ce,"search-people-org-filter-changed"),q(Object(p.a)())});W.meta={name:"createThunk",key:"createThunktogglePeopleSearchOrgFilter",description:"People search: update an external org filter"};const x=Object(s.c)("People search: bulk update location filter",(q,ce,ge)=>{let{values:be}=ge;q(Object(c.A)({locations:be})),v(q,ce,"search-people-location-filter-changed"),q(Object(p.a)())});x.meta={name:"createThunk",key:"createThunksetPeopleSearchLocationFilter",description:"People search: bulk update location filter"};const G=Object(s.c)("People search: update location filter",(q,ce,ge)=>{let{location:be,value:Q}=ge;const re=ce();let z=[...Object(m.u)(re)];Q?z.push(be):z=z.filter(Y=>Y!==be),q(Object(c.A)({locations:z})),v(q,ce,"search-people-location-filter-changed"),q(Object(p.a)())});G.meta={name:"createThunk",key:"createThunktogglePeopleSearchLocationFilter",description:"People search: update location filter"};const w=Object(s.c)("People search: bulk update title filter",(q,ce,ge)=>{let{values:be}=ge;q(Object(c.H)({titles:be})),v(q,ce,"search-people-title-filter-changed"),q(Object(p.a)())});w.meta={name:"createThunk",key:"createThunksetPeopleSearchTitleFilter",description:"People search: bulk update title filter"};const se=Object(s.c)("People search: update title filter",(q,ce,ge)=>{let{title:be,value:Q}=ge;const re=ce();let z=[...Object(m.z)(re)];Q?z.push(be):z=z.filter(Y=>Y!==be),q(Object(c.H)({titles:z})),v(q,ce,"search-people-title-filter-changed"),q(Object(p.a)())});se.meta={name:"createThunk",key:"createThunktogglePeopleSearchTitleFilter",description:"People search: update title filter"};const ee=Object(s.c)("People search: bulk update division filter",(q,ce,ge)=>{let{values:be}=ge;q(Object(c.y)({divisions:be})),v(q,ce,"search-people-division-filter-changed"),q(Object(p.a)())});ee.meta={name:"createThunk",key:"createThunksetPeopleSearchDivisionFilter",description:"People search: bulk update division filter"};const X=Object(s.c)("People search: update division filter",(q,ce,ge)=>{let{division:be,value:Q}=ge;const re=ce();let z=[...Object(m.r)(re)];Q?z.push(be):z=z.filter(Y=>Y!==be),q(Object(c.y)({divisions:z})),v(q,ce,"search-people-division-filter-changed"),q(Object(p.a)())});X.meta={name:"createThunk",key:"createThunktogglePeopleSearchDivisionFilter",description:"People search: update division filter"};const me=Object(s.c)("People search: bulk update department filter",(q,ce,ge)=>{let{values:be}=ge;q(Object(c.x)({departments:be})),v(q,ce,"search-people-department-filter-changed"),q(Object(p.a)())});me.meta={name:"createThunk",key:"createThunksetPeopleSearchDepartmentFilter",description:"People search: bulk update department filter"};const Oe=Object(s.c)("People search: update department filter",(q,ce,ge)=>{let{department:be,value:Q}=ge;const re=ce();let z=[...Object(m.q)(re)];Q?z.push(be):z=z.filter(Y=>Y!==be),q(Object(c.x)({departments:z})),v(q,ce,"search-people-department-filter-changed"),q(Object(p.a)())});Oe.meta={name:"createThunk",key:"createThunktogglePeopleSearchDepartmentFilter",description:"People search: update department filter"};const Ce=Object(s.c)("People search: bulk update celebration filter",(q,ce,ge)=>{let{values:be}=ge;q(Object(c.v)({celebrations:be})),v(q,ce,"search-people-celebration-filter-changed"),q(Object(p.a)())});Ce.meta={name:"createThunk",key:"createThunksetPeopleSearchCelebrationFilter",description:"People search: bulk update celebration filter"};const le=Object(s.c)("People search: update celebration filter",(q,ce,ge)=>{let{celebration:be,value:Q}=ge;const re=ce();let z=[...Object(m.o)(re)];Q?z.push(be):z=z.filter(Y=>Y!==be),q(Object(c.v)({celebrations:z})),v(q,ce,"search-people-celebration-filter-changed"),q(Object(p.a)())});le.meta={name:"createThunk",key:"createThunktogglePeopleSearchCelebrationFilter",description:"People search: update celebration filter"};const de=Object(s.c)("People search: filter type changed",(q,ce,ge)=>{let{type:be,refetch:Q=!0}=ge;const re=ce(),z=Object(O.b)(re),Y=Object(m.C)(re);q(Object(c.z)({type:be})),be===o.l.guests&&z?q(Object(c.g)({selectedEnterpriseTeamId:z})):be===T.z.ORG_OWNERS||be===T.z.ORG_ADMINS?q(Object(c.g)({selectedEnterpriseTeamId:""})):(be===T.z.WORKSPACE_OWNERS||be===T.z.WORKSPACE_ADMINS)&&!Y&&z&&q(Object(c.g)({selectedEnterpriseTeamId:z})),Q&&v(q,ce,"search-people-filter-type-changed"),q(Object(p.a)())});de.meta={name:"createThunk",key:"createThunkpeopleSearchFilterTypeChanged",description:"People search: filter type changed"};const ie=Object(s.c)("People search: custom filter changed",(q,ce,ge)=>{let{id:be,value:Q,checked:re}=ge;q(Object(c.w)({id:be,value:Q,checked:re})),v(q,ce,"search-people-custom-filter-changed")});ie.meta={name:"createThunk",key:"createThunkpeopleSearchCustomFilterChanged",description:"People search: custom filter changed"};const pe=Object(s.c)("People search: hide deactivated users pref changed",(q,ce,ge)=>{let{value:be,refetch:Q=!0}=ge;q(Object(E.d)({value:be})),Q&&v(q,ce,"search-people-hide-deactivated-users-changed"),q(Object(p.a)())});pe.meta={name:"createThunk",key:"createThunkpeopleSearchHideDeactivatedUsersChanged",description:"People search: hide deactivated users pref changed"};const ne=Object(s.c)("People search: timezone filter changed",(q,ce,ge)=>{let{label:be,value:Q,checked:re}=ge;q(Object(c.G)({label:be,value:Q,checked:re})),v(q,ce,"search-people-timezone-filter-changed")});ne.meta={name:"createThunk",key:"createThunkpeopleSearchTimezoneFilterChanged",description:"People search: timezone filter changed"}},lfKG:function(H,n,e){"use strict";e.d(n,"a",function(){return sn});var s=e("9oTK"),t=e("NZ+B"),a=e("8TXW"),r=e("Lgge"),l=e("AWyR"),o=e("KGIc"),i=e("KciV"),u=e("1WOA"),d=e("Pv5J"),m=e("A+lB"),c=e("3REw"),E=e("BeL+"),f=e("CpTu"),O=e("GxtX"),p=e("owWc"),b=e("OZf9"),T=e("fujP"),v=e("8pZh"),S=e("Olm7"),A=e("lCmp"),I=e("OCqp"),_=e("kBpe"),M=e("ED8d"),y=e("smhd"),j=e("jSYs"),C=e("l/cy"),D=e("vfQU"),N=e("74PA"),B=e("ktUG"),L=e("EQgQ");let R=h(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),Object(L.b)(this.data)/L.a}constructor(g){this.analyserNode=g,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var U=e("rf28");const W=100;class x{stop(){this.intervalHandle&&(clearInterval(this.intervalHandle),delete this.intervalHandle),this.previewAudioAnalyser=void 0}setPreviewAudioAnalyser(g){this.previewAudioAnalyser=g}setIsMuted(g){}constructor(){this.intervalHandle=window.setInterval(()=>{this.previewAudioAnalyser&&U.a.publish(this.previewAudioAnalyser.getLevel())},W)}}h(x,"free_willy_audio_level_monitor_FreeWillyAudioLevelMonitor");const G=300,w=100;class se{monitorAudioLevel(){if(!this.isRunning)return;let g=!0;this.runOnlyDuringMute&&(g=this.isMuted),U.a.subscriberCount===0&&(g=!1),this.previewAudioAnalyser&&g&&U.a.publish(this.previewAudioAnalyser.getLevel()),setTimeout(this.monitorAudioLevel,this.audioLevelIntervalDelay)}stop(){this.previewAudioAnalyser=void 0,this.isRunning=!1}setPreviewAudioAnalyser(g){this.previewAudioAnalyser=g}setIsMuted(g){this.isMuted=g}constructor(g){this.isRunning=!0,this.isMuted=!1,this.runOnlyDuringMute=g.runOnlyDuringMute,this.monitorAudioLevel=this.monitorAudioLevel.bind(this),this.audioLevelIntervalDelay=this.runOnlyDuringMute?G:w,this.monitorAudioLevel()}}h(se,"audio_level_monitor_AudioLevelMonitor");function ee(Pe,g){let{skipIntermediatePendingRuns:P=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=!1,K=[];const fe=function(){var Me=Object(s.coroutine)(function*(){for(var Te=arguments.length,xe=new Array(Te),He=0;He<Te;He++)xe[He]=arguments[He];if(F){P&&(K=[]);const Mt=Object(l.a)();return K.push({args:xe,deferred:Mt}),Mt}F=!0;const ze=yield g.call(Pe,...xe);F=!1;const Be=K.shift();return Be&&fe(...Be.args).then(Be.deferred.resolve).catch(Be.deferred.reject),ze});return h(function(){return Me.apply(this,arguments)},"run")}();return fe}h(ee,"serialGuard");var X=e("B1Qj"),me=e("s4P+");let Oe=h(class{voiceFocusInsufficientResources(){var g=this;return Object(s.coroutine)(function*(){g.logger.warn("Voice Focus insufficient resources"),g.InsufficientResourcesHandler()})()}constructor(g){this.logger=Object(me.b)({label:"VOICE FOCUS OBSERVER"}),this.InsufficientResourcesHandler=g}},"VoiceFocusObserver");var Ce=e("q5W5"),le=e("LxFC");let de=h(class{getAccessStatusForDeviceType(g){var P=this;return Object(s.coroutine)(function*(){let F=[];switch(g){case c.i.MICROPHONE:F=yield P.audioVideoFacade.listAudioInputDevices();break;case c.i.CAMERA:F=yield P.audioVideoFacade.listVideoInputDevices();break;case c.i.SCREEN:return{isAvailable:!0,status:le.d.Granted};default:return P.logger.warn(`BrowserMediaAccessChecker: Unhandled MediaResourceTypeEnum provided: ${g}`),{isAvailable:!1,status:le.d.NotDetermined}}const K=F.map(Me=>({id:Me.deviceId,groupId:Me.groupId,label:Me.label})),fe=Object(Ce.b)(K);switch(fe){case Ce.a.Available:return P.logger.info(`BrowserMediaAccessChecker: Device media type: ${g} is available`),P.observer.onDeviceAccessApproved(g),{isAvailable:!0,status:le.d.Granted};case Ce.a.HiddenByBrowser:return P.logger.info(`BrowserMediaAccessChecker: Device media type: ${g} not available, permission not granted`),P.observer.onBrowserMediaDeviceAccessDenied(g),{isAvailable:!0,status:le.d.Denied};case Ce.a.NoDevices:return P.logger.warn(`BrowserMediaAccessChecker: Device media type: ${g} not available, detected no devices`),P.observer.onSetNoMediaInput(g),{isAvailable:!0,status:le.d.NotDetermined};default:return P.logger.warn(`BrowserMediaAccessChecker: Unhandled DeviceAvailability provided: ${fe}`),{isAvailable:!1,status:le.d.NotDetermined}}})()}constructor(g,P,F){this.logger=g,this.audioVideoFacade=P,this.observer=F}},"BrowserMediaAccessChecker");class ie{initialize(){var g,P,F,K,fe,Me,Te,xe,He,ze,Be,Mt;if(!(!((g=this.defaultDeviceController)===null||g===void 0||(P=g.activeDevices)===null||P===void 0||(F=P.audio)===null||F===void 0||(K=F.stream)===null||K===void 0)&&K.getAudioTracks))return;const Pt=this.defaultDeviceController;if(!(!((fe=this.defaultDeviceController)===null||fe===void 0||(Me=fe.activeDevices)===null||Me===void 0||(Te=Me.audio)===null||Te===void 0||(xe=Te.stream)===null||xe===void 0)&&xe.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const Qt=Pt.activeDevices.audio.stream.getAudioTracks();if(Qt.length===1)this.audioInputTrack=Qt[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(He=this.audioInputTrack)===null||He===void 0||He.addEventListener("mute",this.onMute),(ze=this.audioInputTrack)===null||ze===void 0||ze.addEventListener("unmute",this.onUnmute),(Be=this.audioInputTrack)===null||Be===void 0||Be.addEventListener("ended",this.onEnded),!((Mt=this.audioInputTrack)===null||Mt===void 0)&&Mt.muted?this.onMute():this.onUnmute()}tearDown(){var g,P,F;(g=this.audioInputTrack)===null||g===void 0||g.removeEventListener("mute",this.onMute),(P=this.audioInputTrack)===null||P===void 0||P.removeEventListener("unmute",this.onUnmute),(F=this.audioInputTrack)===null||F===void 0||F.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(g,P,F){this.defaultDeviceController=g,this.observer=P,this.logger=F,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}h(ie,"AudioInputTrackHandler");var pe;(function(Pe){Pe.Blur="BLUR",Pe.Image="IMAGE",Pe.None="NONE"})(pe||(pe={}));class ne{constructor({backgroundEffect:g}){this.filterCPUUtilizationHigh=P=>{const{cpuUtilization:F,filterMillis:K,periodMillis:fe}=P;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${F} - spent ${K}ms of last ${fe}ms processing video background`)},this.filterFrameDurationHigh=P=>{const{framesDropped:F,avgFilterDurationMillis:K,framerate:fe,periodMillis:Me}=P;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${fe}, frames dropped: ${F}, spent ${K}ms of last ${Me}ms processing video background`)},this.callLogger=Object(i.a)(`VIDEO-BACKGROUND-${g}`)}}h(ne,"video_background_observer_VideoBackgroundObserver");var q=ne,ce=e("+N8b"),ge=e("QjW8"),be=e("dkXW"),Q=e("kS3P"),re=e("WCSk"),z;(function(Pe){Pe.START_PREVIEW="start-preview",Pe.STOP_PREVIEW="stop-preview",Pe.ENABLE="enable",Pe.DISABLE="disable"})(z||(z={}));const Y=1e4,ve=30,Z=5e3,$=5e3,te="medium",J=!0,k=50;let ae=h(class{shutdown(){var g=this;return Object(s.coroutine)(function*(){var P;if(g.isShuttingDown=!0,g.voiceFocusDevice){var F;g.voiceFocusObserver&&g.voiceFocusDevice.removeObserver(g.voiceFocusObserver),yield g.voiceFocusDevice.stop(),yield(F=g.voiceFocusManager)===null||F===void 0?void 0:F.tearDown(),g.voiceFocusDevice=void 0}g.audioVideoFacade.removeDeviceChangeObserver(g),g.audioVideoFacade.stopLocalVideoTile(),g.callLogger.info("calling stopVideoInput for the Chime SDK"),yield g.audioVideoFacade.stopVideoInput(),g.callLogger.info("calling stopAudioInput for the Chime SDK"),yield g.audioVideoFacade.stopAudioInput(),g.audioVideoFacade.unbindAudioElement(),g.removeAudioElementErrorHandler(),yield g.clearVideoTransformDeviceRefs(),g.audioInputDeviceRefreshTimer&&(clearTimeout(g.audioInputDeviceRefreshTimer),g.audioInputDeviceRefreshTimer=null),g.videoInputDeviceRefreshTimer&&(clearTimeout(g.videoInputDeviceRefreshTimer),g.videoInputDeviceRefreshTimer=null),g.cameraMetricsTimeout&&(clearTimeout(g.cameraMetricsTimeout),g.cameraMetricsTimeout=null),Object(a.z)().closeAudioContext(),(P=g.audioLevelMonitor)===null||P===void 0||P.stop(),delete g.audioLevelMonitor})()}init(){var g=this;return Object(s.coroutine)(function*(){const[P,F,K]=yield r.a.all([g.audioVideoFacade.listAudioInputDevices(),g.audioVideoFacade.listAudioOutputDevices(),g.audioVideoFacade.listVideoInputDevices()]);g.audioInputDevices=P,g.audioOutputDevices=F,g.videoInputDevices=K,yield g.determineInitialMicrophonePermissionState(),g.enumerateDevices(),g.logDevices(),g.waitForInit.resolve()})()}determineInitialMicrophonePermissionState(){var g=this;return Object(s.coroutine)(function*(){if(Object(_.i)()){yield g.determineInitialMicrophonePermissionStateForDesktop();return}yield g.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var g=this;return Object(s.coroutine)(function*(){var P;const F=yield(P=g.browserMediaAccessChecker)===null||P===void 0?void 0:P.getAccessStatusForDeviceType(c.i.MICROPHONE);(F==null?void 0:F.status)===le.d.Denied&&(g.observer.onBrowserMediaDeviceAccessDenied(c.i.MICROPHONE),g.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),g.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var g=this;return Object(s.coroutine)(function*(){const P=yield g.maybeCheckSystemMediaAccess(c.i.MICROPHONE);Object(_.o)()||Object(_.x)()&&!g.options.useGetMediaAccessCheckForWindows||P&&(P==null?void 0:P.status)!==le.d.Granted&&Object(_.i)()&&(g.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),g.isStartMutedBarrierActive=!0)})()}initNullMicrophone(){var g=this;return Object(s.coroutine)(function*(){try{yield g.audioVideoFacade.stopAudioInput()}catch(P){g.callLogger.info(`chooseAudioInputDevice failed: error: ${P.name}, message: ${P.message}`)}})()}setAGC(g){var P=this;return Object(s.coroutine)(function*(){P.prefs.audio&&P.prefs.audio.enableAGC!==g&&(P.callLogger.info(`AGC setting changed: ${g}`),P.prefs.audio.enableAGC=g,Object(be.d)(P.prefs),yield P.updateMicrophone())})()}setPreferredDevice(g,P){var F=this;return Object(s.coroutine)(function*(){const K=F.prefs.deviceIdPriorities[P],fe=Object(E.a)([g,...K]);switch(P!==le.c&&F.maybeRemoveIphoneFromPriorities({selectedDeviceId:g,selectedDeviceType:P,newPrioritiesForSelectedType:fe}),F.prefs.deviceIdPriorities={...F.prefs.deviceIdPriorities,[P]:fe},Object(be.d)(F.prefs),F.enumerateDevices({id:g,type:P}),P){case le.b.Microphone:yield F.updateMicrophone();break;case le.c:yield F.updateSpeaker();break;case le.b.Camera:F.isCameraEnabled&&(yield F.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(g){var P=this;return Object(s.coroutine)(function*(){const F=le.b.Camera,K=P.prefs.deviceIdPriorities[F];P.prefs.deviceIdPriorities={...P.prefs.deviceIdPriorities,[F]:Object(E.a)([g,...K])},Object(be.d)(P.prefs),P.enumerateDevices({id:g,type:F}),yield P.updateCamera()})()}setVideoBackgroundEffect(g){let{effect:P,effectBgKey:F}=g;var K=this;return Object(s.coroutine)(function*(){K.prefs.video&&(K.callLogger.info(`Video background effect changed: ${P}`),K.prefs.video.effect=P,K.prefs.video.effectBgKey=F,Object(be.d)(K.prefs),K.isCameraEnabled&&(yield K.updateCamera()))})()}setNoiseSuppression(g){var P=this;return Object(s.coroutine)(function*(){P.prefs.audio&&P.prefs.audio.enableNoiseSuppression!==g&&(P.callLogger.info(`Noise suppression setting changed: ${g}`),P.prefs.audio.enableNoiseSuppression=g,Object(be.d)(P.prefs),yield P.updateMicrophone())})()}setStartMutedBarrier(g){var P=this;return Object(s.coroutine)(function*(){P.isStartMutedBarrierActive=g})()}setMicrophone(g){var P=this;return Object(s.coroutine)(function*(){var F,K;if(d.a.setMicMute(!g),(F=P.audioLevelMonitor)===null||F===void 0||F.setIsMuted(!g),P.voiceFocusManager&&(yield P.voiceFocusManager.setMute(g)),!g){var fe;P.audioVideoFacade.realtimeMuteLocalAudio(),(fe=P.huddleEventsTrace)===null||fe===void 0||fe.update({name:y.a.MICROPHONE,type:y.b.STOP});return}P.isStartMutedBarrierActive&&(P.callLogger.info("Releasing start muted barrier"),P.isStartMutedBarrierActive=!1),P.audioVideoFacade.realtimeUnmuteLocalAudio(),(K=P.huddleEventsTrace)===null||K===void 0||K.update({name:y.a.MICROPHONE,type:y.b.START})})()}requestPreviewStreamForDeviceId(g,P,F){P===le.b.Camera&&this.handleCameraChanges({type:z.START_PREVIEW,deviceId:g,videoElement:F})}stopVideoPreviewForVideoInput(g){this.handleCameraChanges({type:z.STOP_PREVIEW,videoElement:g||this.cameraPreviewVideoElement})}setCamera(g){g!==this.isCameraEnabled&&(this.isCameraEnabled=g,this.isCameraEnabled?(this.handleCameraChanges({type:z.ENABLE}),this.maybeCheckSystemMediaAccess(c.i.CAMERA),this.maybeAutoSetPreferredDevice()):this.handleCameraChanges({type:z.DISABLE}))}setCameraQuality(g,P,F,K){this.audioVideoFacade.chooseVideoInputQuality(g,P,F),this.audioVideoFacade.setVideoMaxBandwidthKbps(K)}audioVideoDidStart(){var g=this;return Object(s.coroutine)(function*(){g.updateAudioVideo()})()}updateAudioVideo(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForInit,g.waitForAudioVideoSessionStarted.resolve(),g.applyAudioInitFix?yield g.initMediaWithAuthority():(g.updateMicrophone(),g.updateSpeaker(),g.isCameraEnabled&&g.updateCamera()),setTimeout(()=>{g.checkForEmptyAudioDevice()},5e3)})()}initDeviceTwice(g,P){var F=this;return Object(s.coroutine)(function*(){const K=P==="microphone",fe=h(()=>{K&&F.checkForEmptyAudioDevice()},"checkForNoAudio"),Me=Date.now();yield g(),F.callLogger.info(`initialized ${P} for the first time in ${Date.now()-Me} ms`),fe();const Te=Date.now();yield Object(I.a)(`huddle-${P}-init`,g),fe(),F.callLogger.info(`initialized ${P} for the  second time in ${Date.now()-Te} ms`)})()}localVideoTileDidUpdate(g){(!g.boundVideoStream||!g.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${g.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!g.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var g=this;return Object(s.coroutine)(function*(){if(!g.isAudioOutputElementBound&&g.audioOutputElement){try{yield g.audioVideoFacade.bindAudioElement(g.audioOutputElement)}catch(P){g.callLogger.info(`bindAudioElement failed: error: ${P.name}, message: ${P.message}`);return}g.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(g){var P=this;return Object(s.coroutine)(function*(){if(!Object(_.i)())return P.browserMediaAccessChecker?P.browserMediaAccessChecker.getAccessStatusForDeviceType(g):(P.callLogger.warn("DeviceManager::getMediaAccessStatus browserMediaAccessChecker was not available"),{isAvailable:!1,status:le.d.NotDetermined});if(P.hasCheckedSystemPermissions[g])return P.hasCheckedSystemPermissions[g];if(Object(_.p)()&&Object(_.j)("4.8.0"))try{const F=yield Object(D.S)(g);if(P.hasCheckedSystemPermissions[g]=F,P.callLogger.info(`DeviceManager::getMediaAccessStatus ${g} electron API available: ${F.isAvailable} and status: ${F.status}`),!F.isAvailable)return{isAvailable:!1,status:le.d.NotDetermined};if(F.status===le.d.Granted)return P.observer.onDeviceAccessApproved(g),F;let K;return F.status===le.d.NotDetermined&&(K=g==="screen"?null:yield Object(D.b)(g),P.callLogger.info(`DeviceManager::askForMediaAccess ${g} electron API available: ${!!(K!=null&&K.isAvailable)} and isConsentGranted: ${K==null?void 0:K.isGranted}`),g!=="screen"&&(K!=null&&K.isGranted))?(P.observer.onDeviceAccessApproved(g),{status:le.d.Granted,isAvailable:!0}):((F.status===le.d.Denied||K&&!K.isGranted)&&P.observer.onCheckSystemMediaAccess(g),F)}catch(F){P.callLogger.info(`DeviceManager::Error retrieving system access for ${g}: ${F}`)}else if(P.options.useGetMediaAccessCheckForWindows&&Object(_.x)()&&Object(_.j)("4.9.0"))try{const F=yield Object(D.S)(g);return P.hasCheckedSystemPermissions[g]=F,P.callLogger.info(`DeviceManager::getMediaAccessStatus::Windows ${g} electron API available: ${F.isAvailable} and status: ${F.status}`),F.isAvailable?F.status===le.d.Granted?(P.observer.onDeviceAccessApproved(g),F):(F.status===le.d.Denied&&P.observer.onCheckSystemMediaAccess(g),F):{isAvailable:!1,status:le.d.NotDetermined}}catch(F){P.callLogger.info(`Windows::DeviceManager::Error::Windows retrieving system access for ${g}: ${F}`)}return{isAvailable:!1,status:le.d.NotDetermined}})()}audioInputsChanged(g){this.callLogger.info("DeviceManager::audioInputsChanged"),this.audioInputDevices=g,this.enumerateDevices(),this.updateMicrophone(),this.logDevices([le.b.Microphone]),this.lastAudioInputDevicesUpdateTime=Date.now(),this.observer.onClearNoMediaInput(c.i.MICROPHONE)}audioInputMuteStateChanged(g,P){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${g}, ${P?"muted":"unmuted"}`)}audioInputStreamEnded(g){if(!g)return;this.callLogger.info("DeviceManager::audioInputStreamEnded");const P=this.audioInputDevices;this.audioInputDeviceRefreshTimer&&clearTimeout(this.audioInputDeviceRefreshTimer),this.lastAudioInputStreamEndTime=Date.now();var F=this;this.audioInputDeviceRefreshTimer=setTimeout(Object(s.coroutine)(function*(){const K=yield F.audioVideoFacade.listAudioInputDevices();F.deviceInfoArrayComparator(K,P)&&(F.callLogger.warn("Call audio stream ended unexpectedly"),F.observer.onSetNoMediaInput(c.i.MICROPHONE),Object(N.a)(B.EventId.CALLS_AUDIO_STREAM_ENDED_UNEXPECTEDLY,{audioInputDevicesUpdated:F.lastAudioInputDevicesUpdateTime&&F.lastAudioInputDevicesUpdateTime>F.lastAudioInputStreamEndTime})),F.audioInputDeviceRefreshTimer=null}),Z)}audioOutputsChanged(g){this.callLogger.info("DeviceManager::audioOutputsChanged"),this.audioOutputDevices=g,this.enumerateDevices(),this.updateSpeaker(),this.logDevices([le.c]),this.observer.onClearNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}videoInputsChanged(g){const P=this.getPreferredDevice(le.b.Camera),F=Object(f.a)(g,K=>K.deviceId===(P==null?void 0:P.id));this.callLogger.info("DeviceManager::videoInputsChanged"),this.videoInputDevices=g,this.enumerateDevices(),this.logDevices([le.b.Camera]),this.lastVideoInputDevicesUpdateTime=Date.now(),!F&&this.isCameraEnabled?(this.callLogger.info("DeviceManager::triggering camera stop due to active camera no longer being available"),this.observer.onSetNoMediaInput(c.i.CAMERA)):this.observer.onClearNoMediaInput(c.i.CAMERA)}videoInputStreamEnded(g){var P=this;return Object(s.coroutine)(function*(){if(!g)return;P.callLogger.info("DeviceManager::videoInputStreamEnded"),P.observer.onSetNoMediaInput(c.i.CAMERA);const F=P.videoInputDevices;P.videoInputDeviceRefreshTimer&&clearTimeout(P.videoInputDeviceRefreshTimer),P.lastVideoInputStreamEndTime=Date.now(),P.videoInputDeviceRefreshTimer=setTimeout(Object(s.coroutine)(function*(){const K=yield P.audioVideoFacade.listVideoInputDevices();P.deviceInfoArrayComparator(K,F)&&(P.callLogger.warn("Call video stream ended unexpectedly"),Object(N.a)(B.EventId.CALLS_VIDEO_STREAM_ENDED_UNEXPECTEDLY,{videoInputDevicesUpdated:P.lastVideoInputDevicesUpdateTime&&P.lastVideoInputDevicesUpdateTime>P.lastVideoInputStreamEndTime})),P.videoInputDeviceRefreshTimer=null}),$)})()}logDevices(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:re.a;Object(re.e)(this.callLogger,this.devices,g)}getPreferredDevice(g){return Object(be.a)(this.devices)[g]}enumerateDevices(g){const P=Object(O.a)(Object(be.c)(this.audioInputDevices?Object(j.a)(this.audioInputDevices):[],this.prefs.deviceIdPriorities[le.b.Microphone],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[le.b.Microphone]||[]),Object(be.c)(this.audioOutputDevices?Object(j.a)(this.audioOutputDevices):[],this.prefs.deviceIdPriorities[le.c],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[le.c]||[]),Object(be.c)(this.videoInputDevices?this.videoInputDevices:[],this.prefs.deviceIdPriorities[le.b.Camera],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[le.b.Camera]||[])),F=Object(p.a)(P,(K,fe)=>{const Me=Object(re.f)(fe),Te=g&&g.id===Me.id&&g.type===Me.type,xe=this.shouldDeprioritizeDevice({device:Me,isPreferredDevice:Te||this.getPreferredCameraId()===Me.id});return{...K,[Me.type]:Te&&!xe?[Me,...K[Me.type]]:[...K[Me.type],Me]}},Object(re.d)());this.devices=F,this.observer.onDevicesUpdated(F)}handleCameraChanges(g){var P=this;return Object(s.coroutine)(function*(){switch(g.type){case z.START_PREVIEW:yield P.runCameraActivityStartPreview(g);break;case z.STOP_PREVIEW:yield P.runCameraActivityStopPreview(g);break;case z.ENABLE:yield P.runCameraActivityEnable();break;case z.DISABLE:yield P.runCameraActivityDisable();break;default:break}})()}getDeviceIdAndLabelForDefaultDevice(g,P,F){if(g!==re.c&&g!==re.b||F===le.b.Camera)return{deviceId:g,deviceLabel:P};const K=F===le.c?this.audioOutputDevices:this.audioInputDevices;let fe=null;if(Object(b.a)(K,xe=>{if(!(!xe||xe.deviceId!==g))return fe=xe.groupId,!1}),!fe)return{deviceId:g,deviceLabel:P};let Me=g,Te=P;return Object(b.a)(K,xe=>{if(!(!xe||xe.groupId!==fe||xe.deviceId===re.c||xe.deviceId===re.b))return Me=xe.deviceId,Te=xe.label,!1}),{deviceId:Me,deviceLabel:Te}}updateMicrophone(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForAudioVideoSessionStarted;const P=g.getPreferredDevice(le.b.Microphone);if(!P){g.callLogger.info("No audio input device found");return}const{deviceId:F,deviceLabel:K}=g.getDeviceIdAndLabelForDefaultDevice(P.id,P.label,le.b.Microphone);g.callLogger.info(`Selected audio input device: ${P.label||P.id}, deviceId: ${F}, deviceLabel: ${K}`),g.detectBluetoothDevices();const Me={autoGainControl:g.prefs.audio?g.prefs.audio.enableAGC:!0,deviceId:F},Te=g.shouldNoiseSuppressionBeDisabled(K);let xe=!0;if(g.voiceFocusManager&&g.voiceFocusManager.isAvailable()&&(g.prefs.audio&&g.prefs.audio.enableNoiseSuppression)&&!Te&&!g.voiceFocusCPUThrottled){if(g.voiceFocusDevice||(g.voiceFocusDevice=yield g.voiceFocusManager.getTransformDevice()),g.voiceFocusDevice){const ze=yield g.voiceFocusDevice.chooseNewInnerDevice(Me);ze!==g.voiceFocusDevice&&(g.voiceFocusObserver=new Oe(g.handleVoiceFocusInsufficientResourcesEvent),g.voiceFocusDevice.addObserver(g.voiceFocusObserver)),g.voiceFocusDevice=ze}g.voiceFocusDevice||(xe=!1)}else xe=!1;g.voiceFocusDevice&&Object(C.c)({name:C.a.VoiceFocusDevice,ref:g.voiceFocusDevice}),g.callLogger.info("Noise suppression:",xe?"enabled":"disabled");try{if(g.isStartMutedBarrierActive){var He;g.callLogger.info("Start muted barrier active"),g.audioVideoFacade.realtimeMuteLocalAudio(),d.a.setMicMute(!0),(He=g.audioLevelMonitor)===null||He===void 0||He.setIsMuted(!0)}if(xe)if(g.voiceFocusDevice)yield g.initAudioInput(g.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Me.noiseSuppression=!0),yield g.initAudioInput(Me)}catch(ze){g.callLogger.error(`chooseAudioInputDevice failed: error: ${ze.name}, message: ${ze.message}`),ze instanceof a.q?g.observer.onSelfPermissionUpdated(!0,le.b.Microphone):g.observer.onSelfPermissionUpdated(!1,le.b.Microphone);return}g.initAudioAnalyserForPreview(),g.setupAudioInputTrackHandler(),d.a.setMicDevice(F,xe,K),!(yield g.isMediaPermissionDeniedOnWindows(c.i.MICROPHONE))&&g.observer.onSelfPermissionUpdated(!1,le.b.Microphone)})()}updateSpeaker(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForAudioVideoSessionStarted;const P=g.getPreferredDevice(le.c);if(!P){g.callLogger.info("No audio output device found");return}const{deviceId:F,deviceLabel:K}=g.getDeviceIdAndLabelForDefaultDevice(P.id,P.label,le.c);g.detectBluetoothDevices(),g.callLogger.info(`Selected audio output device id: ${P.label||P.id}, deviceId: ${F}, deviceLabel: ${K}`),yield g.audioVideoFacade.chooseAudioOutput(F),g.observer.onOutputDeviceChanged({id:P.id,type:le.c})})()}updateCamera(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForAudioVideoSessionStarted;const P=g.getPreferredDevice(le.b.Camera);if(!P){g.callLogger.info("No video input device found");return}g.callLogger.info(`Selected video input device id: ${P.label||P.id}`);try{yield g.setCameraVideoInputDevice(P)}catch(F){g.callLogger.info(`chooseVideoInputDevice failed: error: ${F.name}, message: ${F.message}`),F instanceof a.q?g.observer.onSelfPermissionUpdated(!0,le.b.Camera):g.observer.onSelfPermissionUpdated(!1,le.b.Camera);return}(yield g.isMediaPermissionDeniedOnWindows(c.i.CAMERA))||g.observer.onSelfPermissionUpdated(!1,le.b.Camera)})()}setCameraVideoInputDevice(g){var P=this;return Object(s.coroutine)(function*(){if(yield P.clearVideoTransformDeviceRefs(),P.options.backgroundVideoFilteringSetting===le.a.NONE){yield P.initVideoInput(g.id);return}switch(P.prefs.video.effect){case Q.a.Blur:{yield P.setCameraVideoInputDeviceWithBackgroundBlurFilter(g);break}case Q.a.Background:{P.options.backgroundVideoFilteringSetting!==le.a.Both?yield P.initVideoInput(g.id):yield P.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:g,selectedBackgroundImageKey:P.prefs.video.effectBgKey});break}default:{yield P.initVideoInput(g.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(g){let{videoDevice:P,selectedBackgroundImageKey:F}=g;var K=this;return Object(s.coroutine)(function*(){const fe=P.label||P.id;if(F===void 0){K.callLogger.info(`No background image key provided id: ${fe}`),yield K.initVideoInput(P.id);return}const Me=Object(a.G)(),Te=Object(a.y)(),xe=[];if(!(yield a.t.isSupported(K.chimeLogger))&&J)return K.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",P);if(!(yield Te.isSupported())&&!J)return K.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",P);const ze=X.b.find(tn=>tn.key===F);if(ze===void 0)return K.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",P);K.callLogger.info(`Enabling video input device with background image filter id: ${fe}`);const Mt=yield(yield fetch(ze.url)).blob();if(K.isShuttingDown)return;const Pt={...K.defaultVideoProcessorOptions,imageBlob:Mt};if(J){if(K.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:te},backgroundReplacement:{isEnabled:!0,backgroundImageURL:ze.url,defaultColor:void 0}},K.videoFxProcessor=yield a.t.create(K.chimeLogger,K.videoFxConfig,k),!K.videoFxProcessor)return K.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",P);K.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${fe}`),xe.push(K.videoFxProcessor)}else{const tn=yield Te.create(void 0,Pt);if(tn)K.setupVideoBackgroundFrameProcessor({processor:tn,backgroundEffect:pe.Image}),xe.push(tn);else return K.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",P)}K.callLogger.info(`Enabling video input device with background image replacement id: ${fe}`);const Qt=new Me(K.chimeLogger,P.id,xe);K.setVideoTransformDeviceRefs({transformDevice:Qt,processors:xe}),yield K.initVideoInput(Qt),yield K.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(g,P){var F=this;return Object(s.coroutine)(function*(){const K=P.label||P.id;F.callLogger.info(`${g}: ${K}`),yield F.initVideoInput(P.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(g){var P=this;return Object(s.coroutine)(function*(){const F=Object(a.G)(),K=Object(a.x)(),fe=g.label||g.id;P.callLogger.info(`Enabling video input device with background blur filter id: ${fe}`);const Me=[];if(J){if(!(yield a.t.isSupported(P.chimeLogger)))return P.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",g);if(P.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:te},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},P.videoFxProcessor=yield a.t.create(P.chimeLogger,P.videoFxConfig,k),!P.videoFxProcessor)return P.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",g);P.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${fe}`),Me.push(P.videoFxProcessor)}else{if(!(yield K.isSupported()))return P.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",g);const xe={...P.defaultVideoProcessorOptions,blurStrength:15},He=yield K.create(void 0,xe);if(!He)return P.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",g);P.setupVideoBackgroundFrameProcessor({processor:He,backgroundEffect:pe.Blur}),Me.push(He)}P.callLogger.info(`Enabling video input device with background blur filter id: ${fe}`);const Te=new F(P.chimeLogger,g.id,Me);P.setVideoTransformDeviceRefs({transformDevice:Te,processors:Me}),yield P.initVideoInput(Te),yield P.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var g=this;return Object(s.coroutine)(function*(){g.isShuttingDown&&(g.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield g.audioVideoFacade.stopVideoInput(),yield g.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var g=this;return Object(s.coroutine)(function*(){const P=yield g.audioVideoFacade.listVideoInputDevices(),F=P.length>0;return F||g.observer.onSelfPermissionUpdated(!0,le.b.Camera),g.videoInputDevices=P,g.prefs=Object(be.b)(),g.enumerateDevices(),F})()}shouldNoiseSuppressionBeDisabled(g){const P=Object(_.o)();return P&&this.callLogger.info("Noise suppression disabled on Linux: ",g||"no device label"),P}runCameraActivityStartPreview(g){var P=this;return Object(s.coroutine)(function*(){const F=g.deviceId,K=g.videoElement;!F||!K||(P.cameraPreviewVideoElement=K,yield P.setPreferredCameraDeviceForPreview(F),yield P.startCameraPreview())})()}runCameraActivityStopPreview(g){var P=this;return Object(s.coroutine)(function*(){const F=g.videoElement;F&&(F!==P.cameraPreviewVideoElement&&P.callLogger.warn("Mismatch in preview video element"),P.audioVideoFacade.hasStartedLocalVideoTile()?P.detachStreamFromCameraPreview():P.stopCameraPreview(),delete P.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var g=this;return Object(s.coroutine)(function*(){var P;!g.audioVideoFacade.hasStartedLocalVideoTile()&&g.cameraPreviewVideoElement&&g.stopCameraPreview(),yield g.updateCamera(),g.audioVideoFacade.hasStartedLocalVideoTile()||(g.waitForCameraReady=Object(l.a)(),g.audioVideoFacade.startLocalVideoTile(),yield g.waitForCameraReady.catch(()=>{g.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),g.runCameraActivityDisable()})),g.attachStreamToCameraPreview(),(P=g.huddleEventsTrace)===null||P===void 0||P.update({name:y.a.VIDEO,type:y.b.START})})()}runCameraActivityDisable(){var g=this;return Object(s.coroutine)(function*(){var P;g.detachStreamFromCameraPreview(),yield g.audioVideoFacade.stopVideoInput(),g.audioVideoFacade.stopLocalVideoTile(),(P=g.huddleEventsTrace)===null||P===void 0||P.update({name:y.a.VIDEO,type:y.b.STOP}),g.cameraPreviewVideoElement&&(yield g.updateCamera(),yield g.startCameraPreview())})()}startCameraPreview(){var g=this;return Object(s.coroutine)(function*(){g.cameraPreviewVideoElement&&(g.waitForCameraReady=Object(l.a)(),g.audioVideoFacade.startVideoPreviewForVideoInput(g.cameraPreviewVideoElement),g.cameraPreviewVideoElement.addEventListener("canplay",P=>{g.waitForCameraReady.resolve()}),yield g.waitForCameraReady)})()}stopCameraPreview(){var g=this;return Object(s.coroutine)(function*(){g.cameraPreviewVideoElement&&(g.audioVideoFacade.stopVideoPreviewForVideoInput(g.cameraPreviewVideoElement),yield g.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var g;if(!this.cameraPreviewVideoElement)return;const P=(g=this.audioVideoFacade.getLocalVideoTile())===null||g===void 0?void 0:g.state();P&&P.boundVideoStream&&a.m.connectVideoStreamToVideoElement(P.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&a.m.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(g){var P,F,K,fe;const Me=((P=g.target)===null||P===void 0||(F=P.error)===null||F===void 0?void 0:F.code)||"unavailable",Te=((K=g.target)===null||K===void 0||(fe=K.error)===null||fe===void 0?void 0:fe.message)||g.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${Me}, message: ${Te}`),this.observer.onSetNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}deviceInfoArrayComparator(g,P){return Object(T.a)(Object(v.a)(g,P,(F,K)=>F.deviceId===K.deviceId&&F.groupId===K.groupId&&F.kind===K.kind))}isMediaPermissionDeniedOnWindows(g){var P=this;return Object(s.coroutine)(function*(){if(P.options.useGetMediaAccessCheckForWindows&&Object(_.x)()&&Object(_.j)("4.9.0")){const F=yield P.maybeCheckSystemMediaAccess(g);if(F&&F.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const g=Object(a.z)().getAudioContext();if(!g){this.callLogger.warn("Unable to get AudioContext");return}g.resume();const P=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(P){var F;const K=new R(P);(F=this.audioLevelMonitor)===null||F===void 0||F.setPreviewAudioAnalyser(K)}}setupAudioInputTrackHandler(){this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new ie(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize()}constructor(g,P,F,K,fe=!1,Me,Te,xe,He){this.audioVideoFacade=g,this.audioOutputElement=P,this.observer=F,this.options=K,this.isStartMutedBarrierActive=fe,this.chimeLogger=Me,this.defaultDeviceController=Te,this.voiceFocusManager=xe,this.applyAudioInitFix=He,this.callLogger=Object(i.a)("DEVICES"),this.devices=Object(re.d)(),this.waitForCameraReady=Object(l.a)(),this.waitForInit=Object(l.a)(),this.waitForAudioVideoSessionStarted=Object(l.a)(),this.lastAudioInputDevicesUpdateTime=0,this.lastVideoInputDevicesUpdateTime=0,this.lastAudioInputStreamEndTime=0,this.lastVideoInputStreamEndTime=0,this.isAudioOutputElementBound=!1,this.voiceFocusCPUThrottled=!1,this.hasCheckedSystemPermissions={[c.i.MICROPHONE]:!1,[c.i.CAMERA]:!1,[c.i.SCREEN]:!1},this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:te},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.continuityCameraDeviceIds={[le.b.Camera]:null,[le.b.Microphone]:null},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.maybeRemoveIphoneFromPriorities=pt=>{let{selectedDeviceId:At,selectedDeviceType:an,newPrioritiesForSelectedType:$t}=pt;const Mn=this.continuityCameraDeviceIds[an];Mn&&(At!==Mn?(Object(S.a)($t,Cn=>Cn===Mn),this.callLogger.warn(`Iphone ${an} no longer selected. Removing from priority device list.`)):this.callLogger.warn(`Iphone ${an} manually selected by user.`))},this.checkForEmptyAudioDevice=()=>{var pt,At,an;((pt=this.defaultDeviceController)===null||pt===void 0||(At=pt.activeDevices)===null||At===void 0||(an=At.audio)===null||an===void 0?void 0:an.constraints)===null&&this.callLogger.warn("active microphone appears to be null/empty. no-audio bug may be occuring")};var ze=this;this.initMediaWithAuthority=Object(s.coroutine)(function*(){const pt=Date.now();yield ze.initDeviceTwice(ze.updateMicrophone,"microphone"),yield ze.initDeviceTwice(ze.updateSpeaker,"speaker"),ze.isCameraEnabled&&(yield ze.initDeviceTwice(ze.updateCamera,"camera")),ze.callLogger.info("All devices initialized in",Date.now()-pt,"ms")}),this.maybeAutoSetPreferredDevice=()=>{this.getPreferredCameraId()?this.callLogger.info("Preferred camera is already set. No need to auto-set one."):(this.callLogger.warn("No preferred camera currently set. If current camera still in use in 10s, we will automatically set it as the preferred camera"),setTimeout(()=>{var At;const an=(At=this.getPreferredDevice(le.b.Camera))===null||At===void 0?void 0:At.id,$t=this.getPreferredCameraId();!this.isCameraEnabled||!an||$t||(this.callLogger.info(`Setting preferred camera to ${an}`),this.setPreferredDevice(an,le.b.Camera))},1e4))},this.getPreferredCameraId=()=>this.prefs.deviceIdPriorities.camera[0],this.detectBluetoothDevices=()=>{var pt,At;const an=(pt=this.devices[le.b.Microphone])===null||pt===void 0?void 0:pt[0],$t=(At=this.devices[le.c])===null||At===void 0?void 0:At[0];if(!an||!$t)return;const Mn=["bluetooth","hands-free","airpods","wireless"],Cn=h(bn=>Object(A.a)(Mn,Pn=>bn==null?void 0:bn.toLowerCase().includes(Pn)),"checkDeviceLabel"),Rn=Cn(an.label),An=Cn($t.label),On=an.groupId===$t.groupId;ce.a.publish({type:ge.a.BluetoothDevices,update:{isMicrophoneBluetooth:Rn,isSpeakerBluetooth:An,isMicrophoneAndSpeakerOnSameDevice:On}})},this.shouldDeprioritizeDevice=pt=>{let{device:At,isPreferredDevice:an}=pt;if(an)return!1;let $t=!1;if(At.type!==le.c){const Mn=At.label;Object(_.p)()&&Mn&&($t=!!/iphone/.test(Mn.toLowerCase()))}return $t&&(this.continuityCameraDeviceIds[At.type]=At.id),$t};var Be=this;this.handleVoiceFocusInsufficientResourcesEvent=Object(s.coroutine)(function*(){Be.voiceFocusManager&&(ce.a.publish({type:ge.a.VoiceFocusWarning}),Be.voiceFocusManager.shouldDisable()&&(Be.callLogger.warn("Voice Focus - disabling due to CPU throttle"),Be.voiceFocusCPUThrottled=!0,Be.voiceFocusDevice&&(yield Be.voiceFocusDevice.stop()),yield Be.voiceFocusManager.tearDown(),Be.voiceFocusDevice=void 0,yield Be.updateMicrophone()))}),this.setVideoTransformDeviceRefs=pt=>{let{transformDevice:At,processors:an}=pt;this.currentVideoTransformDevice=At,this.currentVideoFrameProcessors=an,Object(C.c)({name:C.a.VideoTransformDevice,ref:At})},this.setupVideoBackgroundFrameProcessor=pt=>{let{processor:At,backgroundEffect:an}=pt;var $t;this.clearVideoBackgroundFrameProcessor(),!J&&(this.currentVideoFrameProcessor=At,this.currentVideoFrameProcessorObserver=new q({backgroundEffect:an}),($t=this.currentVideoFrameProcessor)===null||$t===void 0||$t.addObserver(this.currentVideoFrameProcessorObserver),Object(C.c)({name:C.a.VideoFrameProcessor,ref:At}))},this.clearVideoBackgroundFrameProcessor=()=>{J||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var Mt=this;this.clearVideoTransformDeviceRefs=Object(s.coroutine)(function*(){Mt.clearVideoBackgroundFrameProcessor(),Mt.currentVideoFrameProcessors&&(Mt.currentVideoFrameProcessors.forEach(pt=>{pt.destroy()}),Mt.currentVideoFrameProcessors.length=0,Mt.currentVideoFrameProcessors=void 0),Mt.currentVideoTransformDevice&&(yield Mt.currentVideoTransformDevice.stop(),Mt.currentVideoTransformDevice=void 0)});var Pt=this;this.initAudioInput=function(){var pt=Object(s.coroutine)(function*(At){var an;if(!At)return;Pt.callLogger.info("[NO-AUDIO-DEBUG] Starting audio input"),yield Pt.audioVideoFacade.startAudioInput(At);let $t="";if(!((an=At)===null||an===void 0)&&an.device){var Mn,Cn,Rn,An,On;$t+=`${!((Mn=At)===null||Mn===void 0)&&Mn.failed?"failed":"succeeded"}`,$t+=` - audio context state: ${(Cn=At.node)===null||Cn===void 0||(Rn=Cn.context)===null||Rn===void 0?void 0:Rn.state}`,$t+=` - deviceId: ${(An=At)===null||An===void 0||(On=An.device)===null||On===void 0?void 0:On.deviceId}`}else{var bn;$t+=` ${(bn=At)===null||bn===void 0?void 0:bn.deviceId}`}Pt.callLogger.info(`[NO-AUDIO-DEBUG] Started audio input for device: ${$t}`)});return function(At){return pt.apply(this,arguments)}}();var Qt=this;this.initVideoInput=function(){var pt=Object(s.coroutine)(function*(At){At&&(yield Qt.audioVideoFacade.startVideoInput(At),Qt.recordCameraResolution())});return function(At){return pt.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var pt,At,an,$t,Mn;if(this.isShuttingDown||!((pt=this.audioVideoFacade)===null||pt===void 0?void 0:pt.hasStartedLocalVideoTile()))return;const Rn=this.audioVideoFacade.getLocalVideoTile(),An=(At=Rn==null?void 0:Rn.state())===null||At===void 0?void 0:At.boundVideoStream,On=An==null?void 0:An.getVideoTracks()[0];if(On instanceof CanvasCaptureMediaStreamTrack){ce.a.publish({type:ge.a.CameraResolution,update:{isCanvasStream:!0}});return}const bn=On==null?void 0:On.getSettings(),Pn=On==null?void 0:On.getCapabilities(),pn=bn==null?void 0:bn.width,Wn=bn==null?void 0:bn.height,Fn=bn==null?void 0:bn.frameRate,Bn=Pn==null||(an=Pn.width)===null||an===void 0?void 0:an.max,Nn=Pn==null||($t=Pn.height)===null||$t===void 0?void 0:$t.max,Gn=Pn==null||(Mn=Pn.frameRate)===null||Mn===void 0?void 0:Mn.max;Bn&&Nn&&ce.a.publish({type:ge.a.CameraResolution,update:{cameraWidth:pn,cameraHeight:Wn,cameraFrameRate:Fn,cameraMaxWidth:Bn,cameraMaxHeight:Nn,cameraMaxFrameRate:Gn,isCanvasStream:!1}})}catch{}},5e3)},this.updateMicrophone=ee(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=ee(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=ee(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=ee(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=Object(be.b)(),this.addAudioElementErrorHandler(),this.options.useUpdatedAudioLevelMonitor&&this.callLogger.info("New updated audio level monitor being used"),this.audioLevelMonitor=this.options.useUpdatedAudioLevelMonitor?new se({runOnlyDuringMute:!0}):new x,Object(_.i)()||(this.browserMediaAccessChecker=new de(this.callLogger,this.audioVideoFacade,this.observer)),this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:ve,reportingPeriodMillis:Y,logger:this.chimeLogger};const{huddleEventsTrace:tn}=Object(M.a)().getAllTraceHandlers();this.huddleEventsTrace=tn}},"DeviceManager");var Ee;(function(Pe){Pe.START_PREVIEW="start-preview",Pe.STOP_PREVIEW="stop-preview",Pe.ENABLE="enable",Pe.DISABLE="disable"})(Ee||(Ee={}));const _e=1e4,je=30,Ue=5e3,Ke=5e3,ke="medium",Qe=!0,Ze=50;let De=h(class{shutdown(){var g=this;return Object(s.coroutine)(function*(){var P;if(g.isShuttingDown=!0,g.voiceFocusDevice){var F;g.voiceFocusObserver&&g.voiceFocusDevice.removeObserver(g.voiceFocusObserver),yield g.voiceFocusDevice.stop(),yield(F=g.voiceFocusManager)===null||F===void 0?void 0:F.tearDown(),g.voiceFocusDevice=void 0}g.audioVideoFacade.removeDeviceChangeObserver(g),g.audioVideoFacade.stopLocalVideoTile(),yield g.audioVideoFacade.stopVideoInput(),yield g.audioVideoFacade.stopAudioInput(),g.audioVideoFacade.unbindAudioElement(),g.removeAudioElementErrorHandler(),yield g.clearVideoTransformDeviceRefs(),g.audioInputDeviceRefreshTimer&&(clearTimeout(g.audioInputDeviceRefreshTimer),g.audioInputDeviceRefreshTimer=null),g.videoInputDeviceRefreshTimer&&(clearTimeout(g.videoInputDeviceRefreshTimer),g.videoInputDeviceRefreshTimer=null),g.cameraMetricsTimeout&&(clearTimeout(g.cameraMetricsTimeout),g.cameraMetricsTimeout=null),Object(a.z)().closeAudioContext(),(P=g.audioLevelMonitor)===null||P===void 0||P.stop(),delete g.audioLevelMonitor})()}init(){var g=this;return Object(s.coroutine)(function*(){const[P,F,K]=yield r.a.all([g.audioVideoFacade.listAudioInputDevices(),g.audioVideoFacade.listAudioOutputDevices(),g.audioVideoFacade.listVideoInputDevices()]);g.audioInputDevices=P,g.audioOutputDevices=F,g.videoInputDevices=K,yield g.determineInitialMicrophonePermissionState(),g.enumerateDevices(),g.logDevices(),g.waitForInit.resolve()})()}determineInitialMicrophonePermissionState(){var g=this;return Object(s.coroutine)(function*(){if(Object(_.i)()){yield g.determineInitialMicrophonePermissionStateForDesktop();return}yield g.determineInitialMicrophonePermissionStateForBrowser()})()}determineInitialMicrophonePermissionStateForBrowser(){var g=this;return Object(s.coroutine)(function*(){var P;const F=yield(P=g.browserMediaAccessChecker)===null||P===void 0?void 0:P.getAccessStatusForDeviceType(c.i.MICROPHONE);(F==null?void 0:F.status)===le.d.Denied&&(g.observer.onBrowserMediaDeviceAccessDenied(c.i.MICROPHONE),g.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),g.isStartMutedBarrierActive=!0)})()}determineInitialMicrophonePermissionStateForDesktop(){var g=this;return Object(s.coroutine)(function*(){const P=yield g.maybeCheckSystemMediaAccess(c.i.MICROPHONE);Object(_.o)()||Object(_.x)()&&!g.options.useGetMediaAccessCheckForWindows||P&&(P==null?void 0:P.status)!==le.d.Granted&&Object(_.i)()&&(g.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),g.isStartMutedBarrierActive=!0)})()}initNullMicrophone(){var g=this;return Object(s.coroutine)(function*(){try{yield g.audioVideoFacade.stopAudioInput()}catch(P){g.callLogger.info(`chooseAudioInputDevice failed: error: ${P.name}, message: ${P.message}`)}})()}setAGC(g){var P=this;return Object(s.coroutine)(function*(){P.prefs.audio&&P.prefs.audio.enableAGC!==g&&(P.callLogger.info(`AGC setting changed: ${g}`),P.prefs.audio.enableAGC=g,Object(be.d)(P.prefs),yield P.updateMicrophone())})()}setPreferredDevice(g,P){var F=this;return Object(s.coroutine)(function*(){const K=F.prefs.deviceIdPriorities[P],fe=Object(E.a)([g,...K]);switch(P!==le.c&&F.maybeRemoveIphoneFromPriorities({selectedDeviceId:g,selectedDeviceType:P,newPrioritiesForSelectedType:fe}),F.prefs.deviceIdPriorities={...F.prefs.deviceIdPriorities,[P]:fe},Object(be.d)(F.prefs),F.enumerateDevices({id:g,type:P}),P){case le.b.Microphone:yield F.updateMicrophone();break;case le.c:yield F.updateSpeaker();break;case le.b.Camera:F.isCameraEnabled&&(yield F.updateCamera());break;default:break}})()}setPreferredCameraDeviceForPreview(g){var P=this;return Object(s.coroutine)(function*(){const F=le.b.Camera,K=P.prefs.deviceIdPriorities[F];P.prefs.deviceIdPriorities={...P.prefs.deviceIdPriorities,[F]:Object(E.a)([g,...K])},Object(be.d)(P.prefs),P.enumerateDevices({id:g,type:F}),yield P.updateCamera()})()}setVideoBackgroundEffect(g){let{effect:P,effectBgKey:F}=g;var K=this;return Object(s.coroutine)(function*(){K.prefs.video&&(K.callLogger.info(`Video background effect changed: ${P}`),K.prefs.video.effect=P,K.prefs.video.effectBgKey=F,Object(be.d)(K.prefs),K.isCameraEnabled&&(yield K.updateCamera()))})()}setNoiseSuppression(g){var P=this;return Object(s.coroutine)(function*(){P.prefs.audio&&P.prefs.audio.enableNoiseSuppression!==g&&(P.callLogger.info(`Noise suppression setting changed: ${g}`),P.prefs.audio.enableNoiseSuppression=g,Object(be.d)(P.prefs),yield P.updateMicrophone())})()}setStartMutedBarrier(g){var P=this;return Object(s.coroutine)(function*(){P.isStartMutedBarrierActive=g})()}setMicrophone(g){var P=this;return Object(s.coroutine)(function*(){var F,K;if(d.a.setMicMute(!g),(F=P.audioLevelMonitor)===null||F===void 0||F.setIsMuted(!g),P.voiceFocusManager&&(yield P.voiceFocusManager.setMute(g)),!g){var fe;P.audioVideoFacade.realtimeMuteLocalAudio(),(fe=P.huddleEventsTrace)===null||fe===void 0||fe.update({name:y.a.MICROPHONE,type:y.b.STOP});return}P.isStartMutedBarrierActive&&(P.callLogger.info("Releasing start muted barrier"),P.isStartMutedBarrierActive=!1),P.audioVideoFacade.realtimeUnmuteLocalAudio(),(K=P.huddleEventsTrace)===null||K===void 0||K.update({name:y.a.MICROPHONE,type:y.b.START})})()}requestPreviewStreamForDeviceId(g,P,F){P===le.b.Camera&&this.handleCameraChanges({type:Ee.START_PREVIEW,deviceId:g,videoElement:F})}stopVideoPreviewForVideoInput(g){this.handleCameraChanges({type:Ee.STOP_PREVIEW,videoElement:g||this.cameraPreviewVideoElement})}setCamera(g){g!==this.isCameraEnabled&&(this.isCameraEnabled=g,this.isCameraEnabled?(this.handleCameraChanges({type:Ee.ENABLE}),this.maybeCheckSystemMediaAccess(c.i.CAMERA),this.maybeAutoSetPreferredDevice()):this.handleCameraChanges({type:Ee.DISABLE}))}setCameraQuality(g,P,F,K){this.audioVideoFacade.chooseVideoInputQuality(g,P,F),this.audioVideoFacade.setVideoMaxBandwidthKbps(K)}audioVideoDidStart(){var g=this;return Object(s.coroutine)(function*(){g.updateAudioVideo()})()}updateAudioVideo(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForInit,g.waitForAudioVideoSessionStarted.resolve(),g.applyAudioInitFix?yield g.initMediaWithAuthority():(g.updateMicrophone(),g.updateSpeaker(),g.isCameraEnabled&&g.updateCamera()),setTimeout(()=>{g.checkForEmptyAudioDevice()},5e3)})()}initDeviceTwice(g,P){var F=this;return Object(s.coroutine)(function*(){const K=P==="microphone",fe=h(()=>{K&&F.checkForEmptyAudioDevice()},"checkForNoAudio"),Me=Date.now();yield g(),F.callLogger.info(`initialized ${P} for the first time in ${Date.now()-Me} ms`),fe();const Te=Date.now();yield Object(I.a)(`huddle-${P}-init`,g),fe(),F.callLogger.info(`initialized ${P} for the  second time in ${Date.now()-Te} ms`)})()}localVideoTileDidUpdate(g){(!g.boundVideoStream||!g.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${g.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!g.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}maybeBindAudioOutputElement(){var g=this;return Object(s.coroutine)(function*(){if(!g.isAudioOutputElementBound&&g.audioOutputElement){try{yield g.audioVideoFacade.bindAudioElement(g.audioOutputElement)}catch(P){g.callLogger.info(`bindAudioElement failed: error: ${P.name}, message: ${P.message}`);return}g.isAudioOutputElementBound=!0}})()}maybeCheckSystemMediaAccess(g){var P=this;return Object(s.coroutine)(function*(){if(!Object(_.i)())return P.browserMediaAccessChecker?P.browserMediaAccessChecker.getAccessStatusForDeviceType(g):(P.callLogger.warn("DeviceManager::getMediaAccessStatus browserMediaAccessChecker was not available"),{isAvailable:!1,status:le.d.NotDetermined});if(P.hasCheckedSystemPermissions[g])return P.hasCheckedSystemPermissions[g];if(Object(_.p)()&&Object(_.j)("4.8.0"))try{const F=yield Object(D.S)(g);if(P.hasCheckedSystemPermissions[g]=F,P.callLogger.info(`DeviceManager::getMediaAccessStatus ${g} electron API available: ${F.isAvailable} and status: ${F.status}`),!F.isAvailable)return{isAvailable:!1,status:le.d.NotDetermined};if(F.status===le.d.Granted)return P.observer.onDeviceAccessApproved(g),F;let K;return F.status===le.d.NotDetermined&&(K=g==="screen"?null:yield Object(D.b)(g),P.callLogger.info(`DeviceManager::askForMediaAccess ${g} electron API available: ${!!(K!=null&&K.isAvailable)} and isConsentGranted: ${K==null?void 0:K.isGranted}`),g!=="screen"&&(K!=null&&K.isGranted))?(P.observer.onDeviceAccessApproved(g),{status:le.d.Granted,isAvailable:!0}):((F.status===le.d.Denied||K&&!K.isGranted)&&P.observer.onCheckSystemMediaAccess(g),F)}catch(F){P.callLogger.info(`DeviceManager::Error retrieving system access for ${g}: ${F}`)}else if(P.options.useGetMediaAccessCheckForWindows&&Object(_.x)()&&Object(_.j)("4.9.0"))try{const F=yield Object(D.S)(g);return P.hasCheckedSystemPermissions[g]=F,P.callLogger.info(`DeviceManager::getMediaAccessStatus::Windows ${g} electron API available: ${F.isAvailable} and status: ${F.status}`),F.isAvailable?F.status===le.d.Granted?(P.observer.onDeviceAccessApproved(g),F):(F.status===le.d.Denied&&P.observer.onCheckSystemMediaAccess(g),F):{isAvailable:!1,status:le.d.NotDetermined}}catch(F){P.callLogger.info(`Windows::DeviceManager::Error::Windows retrieving system access for ${g}: ${F}`)}return{isAvailable:!1,status:le.d.NotDetermined}})()}audioInputsChanged(g){this.callLogger.info("DeviceManager::audioInputsChanged"),this.audioInputDevices=g,this.enumerateDevices(),this.updateMicrophone(),this.logDevices([le.b.Microphone]),this.lastAudioInputDevicesUpdateTime=Date.now(),this.observer.onClearNoMediaInput(c.i.MICROPHONE)}audioInputMuteStateChanged(g,P){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${g}, ${P?"muted":"unmuted"}`)}audioInputStreamEnded(g){if(!g)return;this.callLogger.info("DeviceManager::audioInputStreamEnded");const P=this.audioInputDevices;this.audioInputDeviceRefreshTimer&&clearTimeout(this.audioInputDeviceRefreshTimer),this.lastAudioInputStreamEndTime=Date.now();var F=this;this.audioInputDeviceRefreshTimer=setTimeout(Object(s.coroutine)(function*(){const K=yield F.audioVideoFacade.listAudioInputDevices();F.deviceInfoArrayComparator(K,P)&&(F.callLogger.warn("Call audio stream ended unexpectedly"),F.observer.onSetNoMediaInput(c.i.MICROPHONE),Object(N.a)(B.EventId.CALLS_AUDIO_STREAM_ENDED_UNEXPECTEDLY,{audioInputDevicesUpdated:F.lastAudioInputDevicesUpdateTime&&F.lastAudioInputDevicesUpdateTime>F.lastAudioInputStreamEndTime})),F.audioInputDeviceRefreshTimer=null}),Ue)}audioOutputsChanged(g){this.callLogger.info("DeviceManager::audioOutputsChanged"),this.audioOutputDevices=g,this.enumerateDevices(),this.updateSpeaker(),this.logDevices([le.c]),this.observer.onClearNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}videoInputsChanged(g){const P=this.getPreferredDevice(le.b.Camera),F=Object(f.a)(g,K=>K.deviceId===(P==null?void 0:P.id));this.callLogger.info("DeviceManager::videoInputsChanged"),this.videoInputDevices=g,this.enumerateDevices(),this.logDevices([le.b.Camera]),this.lastVideoInputDevicesUpdateTime=Date.now(),!F&&this.isCameraEnabled?(this.callLogger.info("DeviceManager::triggering camera stop due to active camera no longer being available"),this.observer.onSetNoMediaInput(c.i.CAMERA)):this.observer.onClearNoMediaInput(c.i.CAMERA)}videoInputStreamEnded(g){var P=this;return Object(s.coroutine)(function*(){if(!g)return;P.callLogger.info("DeviceManager::videoInputStreamEnded"),P.observer.onSetNoMediaInput(c.i.CAMERA);const F=P.videoInputDevices;P.videoInputDeviceRefreshTimer&&clearTimeout(P.videoInputDeviceRefreshTimer),P.lastVideoInputStreamEndTime=Date.now(),P.videoInputDeviceRefreshTimer=setTimeout(Object(s.coroutine)(function*(){const K=yield P.audioVideoFacade.listVideoInputDevices();P.deviceInfoArrayComparator(K,F)&&(P.callLogger.warn("Call video stream ended unexpectedly"),Object(N.a)(B.EventId.CALLS_VIDEO_STREAM_ENDED_UNEXPECTEDLY,{videoInputDevicesUpdated:P.lastVideoInputDevicesUpdateTime&&P.lastVideoInputDevicesUpdateTime>P.lastVideoInputStreamEndTime})),P.videoInputDeviceRefreshTimer=null}),Ke)})()}logDevices(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:re.a;Object(re.e)(this.callLogger,this.devices,g)}getPreferredDevice(g){return Object(be.a)(this.devices)[g]}enumerateDevices(g){const P=Object(O.a)(Object(be.c)(this.audioInputDevices?Object(j.a)(this.audioInputDevices):[],this.prefs.deviceIdPriorities[le.b.Microphone],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[le.b.Microphone]||[]),Object(be.c)(this.audioOutputDevices?Object(j.a)(this.audioOutputDevices):[],this.prefs.deviceIdPriorities[le.c],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[le.c]||[]),Object(be.c)(this.videoInputDevices?this.videoInputDevices:[],this.prefs.deviceIdPriorities[le.b.Camera],this.prefs.deviceIdPrioritiesExtended&&this.prefs.deviceIdPrioritiesExtended[le.b.Camera]||[])),F=Object(p.a)(P,(K,fe)=>{const Me=Object(re.f)(fe),Te=g&&g.id===Me.id&&g.type===Me.type,xe=this.shouldDeprioritizeDevice({device:Me,isPreferredDevice:Te||this.getPreferredCameraId()===Me.id});return{...K,[Me.type]:Te&&!xe?[Me,...K[Me.type]]:[...K[Me.type],Me]}},Object(re.d)());this.devices=F,this.observer.onDevicesUpdated(F)}handleCameraChanges(g){var P=this;return Object(s.coroutine)(function*(){switch(g.type){case Ee.START_PREVIEW:yield P.runCameraActivityStartPreview(g);break;case Ee.STOP_PREVIEW:yield P.runCameraActivityStopPreview(g);break;case Ee.ENABLE:yield P.runCameraActivityEnable();break;case Ee.DISABLE:yield P.runCameraActivityDisable();break;default:break}})()}getDeviceIdAndLabelForDefaultDevice(g,P,F){if(g!==re.c&&g!==re.b||F===le.b.Camera)return{deviceId:g,deviceLabel:P};const K=F===le.c?this.audioOutputDevices:this.audioInputDevices;let fe=null;if(Object(b.a)(K,xe=>{if(!(!xe||xe.deviceId!==g))return fe=xe.groupId,!1}),!fe)return{deviceId:g,deviceLabel:P};let Me=g,Te=P;return Object(b.a)(K,xe=>{if(!(!xe||xe.groupId!==fe||xe.deviceId===re.c||xe.deviceId===re.b))return Me=xe.deviceId,Te=xe.label,!1}),{deviceId:Me,deviceLabel:Te}}updateMicrophone(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForAudioVideoSessionStarted;const P=g.getPreferredDevice(le.b.Microphone);if(!P){g.callLogger.info("No audio input device found");return}const{deviceId:F,deviceLabel:K}=g.getDeviceIdAndLabelForDefaultDevice(P.id,P.label,le.b.Microphone);g.callLogger.info(`Selected audio input device: ${P.label||P.id}, deviceId: ${F}, deviceLabel: ${K}`),g.detectBluetoothDevices();const Me={autoGainControl:g.prefs.audio?g.prefs.audio.enableAGC:!0,deviceId:F},Te=g.shouldNoiseSuppressionBeDisabled(K);let xe=!0;if(g.voiceFocusManager&&g.voiceFocusManager.isAvailable()&&(g.prefs.audio&&g.prefs.audio.enableNoiseSuppression)&&!Te&&!g.voiceFocusCPUThrottled){if(g.voiceFocusDevice||(g.voiceFocusDevice=yield g.voiceFocusManager.getTransformDevice()),g.voiceFocusDevice){const ze=yield g.voiceFocusDevice.chooseNewInnerDevice(Me);ze!==g.voiceFocusDevice&&(g.voiceFocusObserver=new Oe(g.handleVoiceFocusInsufficientResourcesEvent),g.voiceFocusDevice.addObserver(g.voiceFocusObserver)),g.voiceFocusDevice=ze}g.voiceFocusDevice||(xe=!1)}else xe=!1;g.voiceFocusDevice&&Object(C.c)({name:C.a.VoiceFocusDevice,ref:g.voiceFocusDevice}),g.callLogger.info("Noise suppression:",xe?"enabled":"disabled");try{if(g.isStartMutedBarrierActive){var He;g.callLogger.info("Start muted barrier active"),g.audioVideoFacade.realtimeMuteLocalAudio(),d.a.setMicMute(!0),(He=g.audioLevelMonitor)===null||He===void 0||He.setIsMuted(!0)}if(xe)if(g.voiceFocusDevice)yield g.initAudioInput(g.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Me.noiseSuppression=!0),yield g.initAudioInput(Me)}catch(ze){g.callLogger.error(`chooseAudioInputDevice failed: error: ${ze.name}, message: ${ze.message}`),ze instanceof a.q?g.observer.onSelfPermissionUpdated(!0,le.b.Microphone):g.observer.onSelfPermissionUpdated(!1,le.b.Microphone);return}g.initAudioAnalyserForPreview(),g.setupAudioInputTrackHandler(),d.a.setMicDevice(F,xe,K),!(yield g.isMediaPermissionDeniedOnWindows(c.i.MICROPHONE))&&g.observer.onSelfPermissionUpdated(!1,le.b.Microphone)})()}updateSpeaker(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForAudioVideoSessionStarted;const P=g.getPreferredDevice(le.c);if(!P){g.callLogger.info("No audio output device found");return}const{deviceId:F,deviceLabel:K}=g.getDeviceIdAndLabelForDefaultDevice(P.id,P.label,le.c);g.detectBluetoothDevices(),g.callLogger.info(`Selected audio output device id: ${P.label||P.id}, deviceId: ${F}, deviceLabel: ${K}`),yield g.audioVideoFacade.chooseAudioOutput(F),g.observer.onOutputDeviceChanged({id:P.id,type:le.c})})()}updateCamera(){var g=this;return Object(s.coroutine)(function*(){yield g.waitForAudioVideoSessionStarted;const P=g.getPreferredDevice(le.b.Camera);if(!P){g.callLogger.info("No video input device found");return}g.callLogger.info(`Selected video input device id: ${P.label||P.id}`);try{yield g.setCameraVideoInputDevice(P)}catch(F){g.callLogger.info(`chooseVideoInputDevice failed: error: ${F.name}, message: ${F.message}`),F instanceof a.q?g.observer.onSelfPermissionUpdated(!0,le.b.Camera):g.observer.onSelfPermissionUpdated(!1,le.b.Camera);return}(yield g.isMediaPermissionDeniedOnWindows(c.i.CAMERA))||g.observer.onSelfPermissionUpdated(!1,le.b.Camera)})()}setCameraVideoInputDevice(g){var P=this;return Object(s.coroutine)(function*(){if(yield P.clearVideoTransformDeviceRefs(),P.options.backgroundVideoFilteringSetting===le.a.NONE){yield P.initVideoInput(g.id);return}switch(P.prefs.video.effect){case Q.a.Blur:{yield P.setCameraVideoInputDeviceWithBackgroundBlurFilter(g);break}case Q.a.Background:{P.options.backgroundVideoFilteringSetting!==le.a.Both?yield P.initVideoInput(g.id):yield P.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:g,selectedBackgroundImageKey:P.prefs.video.effectBgKey});break}default:{yield P.initVideoInput(g.id);break}}})()}setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(g){let{videoDevice:P,selectedBackgroundImageKey:F}=g;var K=this;return Object(s.coroutine)(function*(){const fe=P.label||P.id;if(F===void 0){K.callLogger.info(`No background image key provided id: ${fe}`),yield K.initVideoInput(P.id);return}const Me=Object(a.G)(),Te=Object(a.y)(),xe=[];if(!(yield a.t.isSupported(K.chimeLogger))&&Qe)return K.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",P);if(!(yield Te.isSupported())&&!Qe)return K.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",P);const ze=X.b.find(tn=>tn.key===F);if(ze===void 0)return K.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",P);K.callLogger.info(`Enabling video input device with background image filter id: ${fe}`);const Mt=yield(yield fetch(ze.url)).blob();if(K.isShuttingDown)return;const Pt={...K.defaultVideoProcessorOptions,imageBlob:Mt};if(Qe){if(K.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ke},backgroundReplacement:{isEnabled:!0,backgroundImageURL:ze.url,defaultColor:void 0}},K.videoFxProcessor=yield a.t.create(K.chimeLogger,K.videoFxConfig,Ze),!K.videoFxProcessor)return K.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",P);K.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${fe}`),xe.push(K.videoFxProcessor)}else{const tn=yield Te.create(void 0,Pt);if(tn)K.setupVideoBackgroundFrameProcessor({processor:tn,backgroundEffect:pe.Image}),xe.push(tn);else return K.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",P)}K.callLogger.info(`Enabling video input device with background image replacement id: ${fe}`);const Qt=new Me(K.chimeLogger,P.id,xe);K.setVideoTransformDeviceRefs({transformDevice:Qt,processors:xe}),yield K.initVideoInput(Qt),yield K.cleanupTransformDevicesAndCameraIfShuttingdown()})()}handleErrorApplyVideoEffects(g,P){var F=this;return Object(s.coroutine)(function*(){const K=P.label||P.id;F.callLogger.info(`${g}: ${K}`),yield F.initVideoInput(P.id)})()}setCameraVideoInputDeviceWithBackgroundBlurFilter(g){var P=this;return Object(s.coroutine)(function*(){const F=Object(a.G)(),K=Object(a.x)(),fe=g.label||g.id;P.callLogger.info(`Enabling video input device with background blur filter id: ${fe}`);const Me=[];if(Qe){if(!(yield a.t.isSupported(P.chimeLogger)))return P.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",g);if(P.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:ke},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},P.videoFxProcessor=yield a.t.create(P.chimeLogger,P.videoFxConfig,Ze),!P.videoFxProcessor)return P.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",g);P.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${fe}`),Me.push(P.videoFxProcessor)}else{if(!(yield K.isSupported()))return P.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",g);const xe={...P.defaultVideoProcessorOptions,blurStrength:15},He=yield K.create(void 0,xe);if(!He)return P.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",g);P.setupVideoBackgroundFrameProcessor({processor:He,backgroundEffect:pe.Blur}),Me.push(He)}P.callLogger.info(`Enabling video input device with background blur filter id: ${fe}`);const Te=new F(P.chimeLogger,g.id,Me);P.setVideoTransformDeviceRefs({transformDevice:Te,processors:Me}),yield P.initVideoInput(Te),yield P.cleanupTransformDevicesAndCameraIfShuttingdown()})()}cleanupTransformDevicesAndCameraIfShuttingdown(){var g=this;return Object(s.coroutine)(function*(){g.isShuttingDown&&(g.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),yield g.audioVideoFacade.stopVideoInput(),yield g.clearVideoTransformDeviceRefs())})()}initVideoInputDevices(){var g=this;return Object(s.coroutine)(function*(){const P=yield g.audioVideoFacade.listVideoInputDevices(),F=P.length>0;return F||g.observer.onSelfPermissionUpdated(!0,le.b.Camera),g.videoInputDevices=P,g.prefs=Object(be.b)(),g.enumerateDevices(),F})()}shouldNoiseSuppressionBeDisabled(g){const P=Object(_.o)();return P&&this.callLogger.info("Noise suppression disabled on Linux: ",g||"no device label"),P}runCameraActivityStartPreview(g){var P=this;return Object(s.coroutine)(function*(){const F=g.deviceId,K=g.videoElement;!F||!K||(P.cameraPreviewVideoElement=K,yield P.setPreferredCameraDeviceForPreview(F),yield P.startCameraPreview())})()}runCameraActivityStopPreview(g){var P=this;return Object(s.coroutine)(function*(){const F=g.videoElement;F&&(F!==P.cameraPreviewVideoElement&&P.callLogger.warn("Mismatch in preview video element"),P.audioVideoFacade.hasStartedLocalVideoTile()?P.detachStreamFromCameraPreview():P.stopCameraPreview(),delete P.cameraPreviewVideoElement)})()}runCameraActivityEnable(){var g=this;return Object(s.coroutine)(function*(){var P;!g.audioVideoFacade.hasStartedLocalVideoTile()&&g.cameraPreviewVideoElement&&g.stopCameraPreview(),yield g.updateCamera(),g.audioVideoFacade.hasStartedLocalVideoTile()||(g.waitForCameraReady=Object(l.a)(),g.audioVideoFacade.startLocalVideoTile(),yield g.waitForCameraReady.catch(()=>{g.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),g.runCameraActivityDisable()})),g.attachStreamToCameraPreview(),(P=g.huddleEventsTrace)===null||P===void 0||P.update({name:y.a.VIDEO,type:y.b.START})})()}runCameraActivityDisable(){var g=this;return Object(s.coroutine)(function*(){var P;g.detachStreamFromCameraPreview(),yield g.audioVideoFacade.stopVideoInput(),g.audioVideoFacade.stopLocalVideoTile(),(P=g.huddleEventsTrace)===null||P===void 0||P.update({name:y.a.VIDEO,type:y.b.STOP}),g.cameraPreviewVideoElement&&(yield g.updateCamera(),yield g.startCameraPreview())})()}startCameraPreview(){var g=this;return Object(s.coroutine)(function*(){g.cameraPreviewVideoElement&&(g.waitForCameraReady=Object(l.a)(),g.audioVideoFacade.startVideoPreviewForVideoInput(g.cameraPreviewVideoElement),g.cameraPreviewVideoElement.addEventListener("canplay",P=>{g.waitForCameraReady.resolve()}),yield g.waitForCameraReady)})()}stopCameraPreview(){var g=this;return Object(s.coroutine)(function*(){g.cameraPreviewVideoElement&&(g.audioVideoFacade.stopVideoPreviewForVideoInput(g.cameraPreviewVideoElement),yield g.audioVideoFacade.stopVideoInput())})()}attachStreamToCameraPreview(){var g;if(!this.cameraPreviewVideoElement)return;const P=(g=this.audioVideoFacade.getLocalVideoTile())===null||g===void 0?void 0:g.state();P&&P.boundVideoStream&&a.m.connectVideoStreamToVideoElement(P.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&a.m.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(g){var P,F,K,fe;const Me=((P=g.target)===null||P===void 0||(F=P.error)===null||F===void 0?void 0:F.code)||"unavailable",Te=((K=g.target)===null||K===void 0||(fe=K.error)===null||fe===void 0?void 0:fe.message)||g.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${Me}, message: ${Te}`),this.observer.onSetNoAudioOutput(c.k.AUDIO_ELEMENT_ERROR)}deviceInfoArrayComparator(g,P){return Object(T.a)(Object(v.a)(g,P,(F,K)=>F.deviceId===K.deviceId&&F.groupId===K.groupId&&F.kind===K.kind))}isMediaPermissionDeniedOnWindows(g){var P=this;return Object(s.coroutine)(function*(){if(P.options.useGetMediaAccessCheckForWindows&&Object(_.x)()&&Object(_.j)("4.9.0")){const F=yield P.maybeCheckSystemMediaAccess(g);if(F&&F.status==="denied")return!0}return!1})()}initAudioAnalyserForPreview(){const g=Object(a.z)().getAudioContext();if(!g){this.callLogger.warn("Unable to get AudioContext");return}g.resume();const P=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(P){var F;const K=new R(P);(F=this.audioLevelMonitor)===null||F===void 0||F.setPreviewAudioAnalyser(K)}}setupAudioInputTrackHandler(){this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new ie(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize()}constructor(g,P,F,K,fe=!1,Me,Te,xe,He){this.audioVideoFacade=g,this.audioOutputElement=P,this.observer=F,this.options=K,this.isStartMutedBarrierActive=fe,this.chimeLogger=Me,this.defaultDeviceController=Te,this.voiceFocusManager=xe,this.applyAudioInitFix=He,this.callLogger=Object(i.a)("DEVICES"),this.devices=Object(re.d)(),this.waitForCameraReady=Object(l.a)(),this.waitForInit=Object(l.a)(),this.waitForAudioVideoSessionStarted=Object(l.a)(),this.lastAudioInputDevicesUpdateTime=0,this.lastVideoInputDevicesUpdateTime=0,this.lastAudioInputStreamEndTime=0,this.lastVideoInputStreamEndTime=0,this.isAudioOutputElementBound=!1,this.voiceFocusCPUThrottled=!1,this.hasCheckedSystemPermissions={[c.i.MICROPHONE]:!1,[c.i.CAMERA]:!1,[c.i.SCREEN]:!1},this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:ke},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.continuityCameraDeviceIds={[le.b.Camera]:null,[le.b.Microphone]:null},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.maybeRemoveIphoneFromPriorities=pt=>{let{selectedDeviceId:At,selectedDeviceType:an,newPrioritiesForSelectedType:$t}=pt;const Mn=this.continuityCameraDeviceIds[an];Mn&&(At!==Mn?(Object(S.a)($t,Cn=>Cn===Mn),this.callLogger.warn(`Iphone ${an} no longer selected. Removing from priority device list.`)):this.callLogger.warn(`Iphone ${an} manually selected by user.`))},this.checkForEmptyAudioDevice=()=>{var pt,At,an;((pt=this.defaultDeviceController)===null||pt===void 0||(At=pt.activeDevices)===null||At===void 0||(an=At.audio)===null||an===void 0?void 0:an.constraints)===null&&this.callLogger.warn("active microphone appears to be null/empty. no-audio bug may be occuring")};var ze=this;this.initMediaWithAuthority=Object(s.coroutine)(function*(){const pt=Date.now();yield ze.initDeviceTwice(ze.updateMicrophone,"microphone"),yield ze.initDeviceTwice(ze.updateSpeaker,"speaker"),ze.isCameraEnabled&&(yield ze.initDeviceTwice(ze.updateCamera,"camera")),ze.callLogger.info("All devices initialized in",Date.now()-pt,"ms")}),this.maybeAutoSetPreferredDevice=()=>{this.getPreferredCameraId()?this.callLogger.info("Preferred camera is already set. No need to auto-set one."):(this.callLogger.warn("No preferred camera currently set. If current camera still in use in 10s, we will automatically set it as the preferred camera"),setTimeout(()=>{var At;const an=(At=this.getPreferredDevice(le.b.Camera))===null||At===void 0?void 0:At.id,$t=this.getPreferredCameraId();!this.isCameraEnabled||!an||$t||(this.callLogger.info(`Setting preferred camera to ${an}`),this.setPreferredDevice(an,le.b.Camera))},1e4))},this.getPreferredCameraId=()=>this.prefs.deviceIdPriorities.camera[0],this.detectBluetoothDevices=()=>{var pt,At;const an=(pt=this.devices[le.b.Microphone])===null||pt===void 0?void 0:pt[0],$t=(At=this.devices[le.c])===null||At===void 0?void 0:At[0];if(!an||!$t)return;const Mn=["bluetooth","hands-free","airpods","wireless"],Cn=h(bn=>Object(A.a)(Mn,Pn=>bn==null?void 0:bn.toLowerCase().includes(Pn)),"checkDeviceLabel"),Rn=Cn(an.label),An=Cn($t.label),On=an.groupId===$t.groupId;ce.a.publish({type:ge.a.BluetoothDevices,update:{isMicrophoneBluetooth:Rn,isSpeakerBluetooth:An,isMicrophoneAndSpeakerOnSameDevice:On}})},this.shouldDeprioritizeDevice=pt=>{let{device:At,isPreferredDevice:an}=pt;if(an)return!1;let $t=!1;if(At.type!==le.c){const Mn=At.label;Object(_.p)()&&Mn&&($t=!!/iphone/.test(Mn.toLowerCase()))}return $t&&(this.continuityCameraDeviceIds[At.type]=At.id),$t};var Be=this;this.handleVoiceFocusInsufficientResourcesEvent=Object(s.coroutine)(function*(){Be.voiceFocusManager&&(ce.a.publish({type:ge.a.VoiceFocusWarning}),Be.voiceFocusManager.shouldDisable()&&(Be.callLogger.warn("Voice Focus - disabling due to CPU throttle"),Be.voiceFocusCPUThrottled=!0,Be.voiceFocusDevice&&(yield Be.voiceFocusDevice.stop()),yield Be.voiceFocusManager.tearDown(),Be.voiceFocusDevice=void 0,yield Be.updateMicrophone()))}),this.setVideoTransformDeviceRefs=pt=>{let{transformDevice:At,processors:an}=pt;this.currentVideoTransformDevice=At,this.currentVideoFrameProcessors=an,Object(C.c)({name:C.a.VideoTransformDevice,ref:At})},this.setupVideoBackgroundFrameProcessor=pt=>{let{processor:At,backgroundEffect:an}=pt;var $t;this.clearVideoBackgroundFrameProcessor(),!Qe&&(this.currentVideoFrameProcessor=At,this.currentVideoFrameProcessorObserver=new q({backgroundEffect:an}),($t=this.currentVideoFrameProcessor)===null||$t===void 0||$t.addObserver(this.currentVideoFrameProcessorObserver),Object(C.c)({name:C.a.VideoFrameProcessor,ref:At}))},this.clearVideoBackgroundFrameProcessor=()=>{Qe||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)};var Mt=this;this.clearVideoTransformDeviceRefs=Object(s.coroutine)(function*(){Mt.clearVideoBackgroundFrameProcessor(),Mt.currentVideoFrameProcessors&&(Mt.currentVideoFrameProcessors.forEach(pt=>{pt.destroy()}),Mt.currentVideoFrameProcessors.length=0,Mt.currentVideoFrameProcessors=void 0),Mt.currentVideoTransformDevice&&(yield Mt.currentVideoTransformDevice.stop(),Mt.currentVideoTransformDevice=void 0)});var Pt=this;this.initAudioInput=function(){var pt=Object(s.coroutine)(function*(At){var an;if(!At)return;Pt.callLogger.info("[NO-AUDIO-DEBUG] Starting audio input"),yield Pt.audioVideoFacade.startAudioInput(At);let $t="";if(!((an=At)===null||an===void 0)&&an.device){var Mn,Cn,Rn,An,On;$t+=`${!((Mn=At)===null||Mn===void 0)&&Mn.failed?"failed":"succeeded"}`,$t+=` - audio context state: ${(Cn=At.node)===null||Cn===void 0||(Rn=Cn.context)===null||Rn===void 0?void 0:Rn.state}`,$t+=` - deviceId: ${(An=At)===null||An===void 0||(On=An.device)===null||On===void 0?void 0:On.deviceId}`}else{var bn;$t+=` ${(bn=At)===null||bn===void 0?void 0:bn.deviceId}`}Pt.callLogger.info(`[NO-AUDIO-DEBUG] Started audio input for device: ${$t}`)});return function(At){return pt.apply(this,arguments)}}();var Qt=this;this.initVideoInput=function(){var pt=Object(s.coroutine)(function*(At){At&&(yield Qt.audioVideoFacade.startVideoInput(At),Qt.recordCameraResolution())});return function(At){return pt.apply(this,arguments)}}(),this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var pt,At,an,$t,Mn;if(this.isShuttingDown||!((pt=this.audioVideoFacade)===null||pt===void 0?void 0:pt.hasStartedLocalVideoTile()))return;const Rn=this.audioVideoFacade.getLocalVideoTile(),An=(At=Rn==null?void 0:Rn.state())===null||At===void 0?void 0:At.boundVideoStream,On=An==null?void 0:An.getVideoTracks()[0];if(On instanceof CanvasCaptureMediaStreamTrack){ce.a.publish({type:ge.a.CameraResolution,update:{isCanvasStream:!0}});return}const bn=On==null?void 0:On.getSettings(),Pn=On==null?void 0:On.getCapabilities(),pn=bn==null?void 0:bn.width,Wn=bn==null?void 0:bn.height,Fn=bn==null?void 0:bn.frameRate,Bn=Pn==null||(an=Pn.width)===null||an===void 0?void 0:an.max,Nn=Pn==null||($t=Pn.height)===null||$t===void 0?void 0:$t.max,Gn=Pn==null||(Mn=Pn.frameRate)===null||Mn===void 0?void 0:Mn.max;Bn&&Nn&&ce.a.publish({type:ge.a.CameraResolution,update:{cameraWidth:pn,cameraHeight:Wn,cameraFrameRate:Fn,cameraMaxWidth:Bn,cameraMaxHeight:Nn,cameraMaxFrameRate:Gn,isCanvasStream:!1}})}catch{}},5e3)},this.callLogger.info("Using device manager v2"),this.updateMicrophone=ee(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=ee(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=ee(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=ee(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=Object(be.b)(),this.addAudioElementErrorHandler(),this.options.useUpdatedAudioLevelMonitor&&this.callLogger.info("New updated audio level monitor being used"),this.audioLevelMonitor=this.options.useUpdatedAudioLevelMonitor?new se({runOnlyDuringMute:!0}):new x,Object(_.i)()||(this.browserMediaAccessChecker=new de(this.callLogger,this.audioVideoFacade,this.observer)),this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:je,reportingPeriodMillis:_e,logger:this.chimeLogger};const{huddleEventsTrace:tn}=Object(M.a)().getAllTraceHandlers();this.huddleEventsTrace=tn}},"DeviceManager");var Fe=e("DNzI"),Ve=e("PsQx"),Je=e("zIak");let Ot=h(class{constructor(g,P,F){this.sequenceNumber=g,this.message=P,this.timestampMs=F}},"MeetingEvent"),ht=h(class vo{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(g){var P=this;this.intervalScheduler.start(Object(s.coroutine)(function*(){if(P.getEventCaptureSize()===0)return;const F=P.eventCapture.slice(0,g);try{P.postEvents(F),P.eventCapture=P.eventCapture.slice(F.length)}catch(K){P.log.error(K.message)}}))}stop(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,g,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(g,P){const{meetingHistory:F,...K}=P;try{const fe=JSON.stringify({name:g,attributes:K});this.eventCapture.push(new Ot(this.sequenceNumber,fe,Date.now())),this.sequenceNumber+=1}catch(fe){this.log.error(fe.message)}}postEvents(g){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var K;g.length===0&&!P&&!F||(K=this.observer)===null||K===void 0||K.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,g,P,F)}constructor(g,P,F,K,fe,Me=vo.DEFAULT_BATCH_SIZE,Te=vo.DEFAULT_INTERVAL_MS){this.observer=g,this.meetingId=P,this.mediaRegion=F,this.attendeeId=K,this.callId=fe,this.batchSize=Me,this.intervalMs=Te,this.eventCapture=[],this.sequenceNumber=0,this.log=Object(i.c)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new Ve.a(this.intervalMs),this.startEventPublishScheduler(this.batchSize);var xe=this;Object(Je.a)(Object(s.coroutine)(function*(){xe.stop(!0)}))}},"MeetingEventLogger");ht.DEFAULT_BATCH_SIZE=100,ht.DEFAULT_INTERVAL_MS=65*60*1e3;var Le=e("m8R6"),jt=e("xt0X"),Ut=e("oJqn"),Ie=e("S4vl"),oe=e("Z0Cl"),ye=e("jF/p"),Ne=e("7EGn");const Ge=1e4,st=3e4;class $e{observe(g){this.connections.push(g),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(g){Object(S.a)(this.connections,g),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){var g=this;this.connections.forEach(function(){var P=Object(s.coroutine)(function*(F){const K=F.getPeerConnection();if(!K)return;const fe=It(yield K.getStats());St(F,fe);const Me={...Ft(fe),send:fe.sendTracks.map(Te=>mt(Te,fe)),recv:fe.recvTracks.map(Te=>({...Zt(Te,fe),peerId:F.getPeerIdFromRemoteStreamId(fe.trackIdToStreamId[Te.id])}))};g.observer.onStats(Me)});return function(F){return P.apply(this,arguments)}}())}constructor(g,P=Ge){this.observer=g,this.collectionIntervalMs=P,this.connections=[]}}h($e,"stats_manager_StatsManager");function It(Pe){const g=Array.from(Pe.entries()),P=Object(p.a)(g,(F,K)=>{let[fe,Me]=K;return _t(Me)?Me.remoteSource===!0?F.recvTracks.push(Me):F.sendTracks.push(Me):dt(Me)||it(Me)?Me.trackId&&(F.rtpStats[Me.trackId]=Me):Dt(Me)?F.transports[Me.id]=Me:Ye(Me)?F.candidates[Me.id]=Me:Xe(Me)?F.candidatePairs[Me.id]=Me:kt(Me)?F.codecs[Me.id]=Me:Bt(Me)?Me.trackIds&&Me.trackIds.forEach(Te=>{F.trackIdToStreamId[Te]=Me.streamIdentifier}):wt(Me)&&Me.trackIdentifier&&(F.mediaSources[Me.trackIdentifier]=Me),F},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return P.recvTracks=P.recvTracks.filter(F=>P.trackIdToStreamId[F.id]!==void 0),P}h(It,"groupStatsByType");function Lt(Pe){const g=Object(oe.a)(Pe.candidatePairs,Te=>!!Te.nominated),P=Object(ye.a)(g,Te=>Te.priority);if(!P)return;const F=Object(f.a)(Pe.candidates,(Te,xe)=>xe===P.localCandidateId);if(!F)return;let K=F.candidateType==="relay"?F.relayProtocol:F.protocol;F.candidateType==="prflx"&&(K+=" (unreliable)");const fe="unknown";return{candidateType:F.candidateType||fe,networkType:F.networkType||fe,transportType:K||fe}}h(Lt,"getConnectionNetworkInfo");function St(Pe,g){const P=Lt(g);P&&Pe.maybeLogNetworkInfo(P)}h(St,"reportConnectionNetworkInfo");const vt={nominal:1,fair:2,serious:3,critical:4};function Yt(){return et.apply(this,arguments)}h(Yt,"makeAppMetricsStats");function et(){return et=Object(s.coroutine)(function*(){var Pe;if(!Object(_.i)())return;let g,P,F;if(D.C.isAvailable()){var K;const He=yield Object(D.C)();if(!He)return;g=He.processMetrics,P=vt[He.thermalState],F=(K=He.speedLimit)===null||K===void 0?void 0:K.limit}else g=yield Object(D.B)();if(!g)return;let fe=null;const Me=g.reduce((He,ze)=>{var Be,Mt,Pt;return ze.type==="GPU"&&(fe=ze),{cpu:He.cpu+((ze==null||(Be=ze.cpu)===null||Be===void 0?void 0:Be.percentCPUUsage)||0),memory:{workingSetSize:He.memory.workingSetSize+Object(jt.b)((ze==null||(Mt=ze.memory)===null||Mt===void 0?void 0:Mt.workingSetSize)||0),peakWorkingSetSize:He.memory.peakWorkingSetSize+Object(jt.b)((ze==null||(Pt=ze.memory)===null||Pt===void 0?void 0:Pt.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),Te=fe==null||(Pe=fe.cpu)===null||Pe===void 0?void 0:Pe.percentCPUUsage,xe=Te?Me.cpu-fe.cpu.percentCPUUsage:Me.cpu;return{...Me,cpuWithoutGpu:xe,gpu:Te,thermalState:P,speedLimit:F}}),et.apply(this,arguments)}h(et,"_makeAppMetricsStats");function Ft(Pe){const[g,...P]=Object.values(Pe.transports);Object(Ie.b)(!P.length,"Can there be more than one transport stat in a report?");const F=g&&g.selectedCandidatePairId,K=Pe.candidatePairs[F];if(!F||!K)return;const fe=Pe.candidates[K.remoteCandidateId]||{};return{availableOutgoingBitrate:K.availableOutgoingBitrate||0,availableIncomingBitrate:K.availableIncomingBitrate||0,totalBytesSent:K.bytesSent,totalBytesReceived:K.bytesReceived,currentRoundTripTime:K.currentRoundTripTime,totalRoundTripTime:K.totalRoundTripTime,protocol:fe.protocol==="udp"?Ut.a.calls.analytics.Protocol.UDP:Ut.a.calls.analytics.Protocol.TCP,pathType:fe.candidateType==="host"?Ut.a.calls.analytics.PathType.DIRECT:Ut.a.calls.analytics.PathType.RELAY,clientTime:Date.now()}}h(Ft,"makeConnectionStats");function mt(Pe,g){const P=g.rtpStats[Pe.id]||{},F={codec:gt(P,g),bytesSent:P.bytesSent,packetsSent:P.packetsSent};if(Pe.kind==="audio"){const K=Pe.trackIdentifier?g.mediaSources[Pe.trackIdentifier]:null;return K?{...F,audioStats:{audioLevel:K.audioLevel,totalAudioEnergy:K.totalAudioEnergy,totalSamplesDuration:K.totalSamplesDuration,echoReturnLoss:K.echoReturnLoss,echoReturnLossEnhancement:K.echoReturnLossEnhancement}}:{...F,audioStats:{audioLevel:Pe.audioLevel,echoReturnLoss:Pe.echoReturnLoss,echoReturnLossEnhancement:Pe.echoReturnLossEnhancement}}}return{...F,videoStats:{frameHeight:Pe.frameHeight,frameWidth:Pe.frameWidth,framesSent:Pe.framesSent,hugeFramesSent:Pe.hugeFramesSent,framesPerSecond:P.framesPerSecond,framesEncoded:P.framesEncoded}}}h(mt,"makeOutboundMediaStats");function Zt(Pe,g){const P=g.rtpStats[Pe.id]||{},F={codec:gt(P,g),bytesReceived:P.bytesReceived,packetsReceived:P.packetsReceived,packetsLost:P.packetsLost,fractionLost:P.fractionLost,jitter:P.jitter};return Pe.kind==="audio"?{...F,audioStats:{audioLevel:Pe.audioLevel,jitterBufferDelay:Pe.jitterBufferDelay,concealedSamples:Pe.concealedSamples,concealmentEvents:Pe.concealmentEvents}}:{...F,videoStats:{firCount:P.firCount,nackCount:P.nackCount,pliCount:P.pliCount,sliCount:P.sliCount,frameHeight:Pe.frameHeight,frameWidth:Pe.frameWidth,framesPerSecond:Pe.framesPerSecond,framesCorrupted:Pe.framesCorrupted,framesDecoded:Pe.framesDecoded,framesDropped:Pe.framesDropped,framesReceived:Pe.framesReceived}}}h(Zt,"makeInboundMediaStats");function gt(Pe,g){const P=Pe.codecId,F=Object(Ne.a)(g.codecs,P),K=Object(Ne.a)(F,"mimeType");return at(K)}h(gt,"getCodecForRtpStat");function at(Pe){switch(Pe){case"video/VP8":return Ut.a.calls.analytics.Codec.VP8;case"video/VP9":return Ut.a.calls.analytics.Codec.VP9;case"video/H264":return Ut.a.calls.analytics.Codec.H264;case"audio/opus":return Ut.a.calls.analytics.Codec.OPUS;default:return Ut.a.calls.analytics.Codec.UNKNOWN}}h(at,"parseCodec");function it(Pe){return Pe.type==="inbound-rtp"}h(it,"isRecvRtpStat");function dt(Pe){return Pe.type==="outbound-rtp"}h(dt,"isSendRtpStat");function _t(Pe){return Pe.type==="track"}h(_t,"isTrackStat");function Dt(Pe){return Pe.type==="transport"}h(Dt,"isTransportStat");function Ye(Pe){return Pe.type==="local-candidate"||Pe.type==="remote-candidate"}h(Ye,"isIceCandidateStat");function Xe(Pe){return Pe.type==="candidate-pair"}h(Xe,"isIceCandidatePairStat");function kt(Pe){return Pe.type==="codec"}h(kt,"isCodecStat");function Bt(Pe){return Pe.type==="stream"}h(Bt,"isStreamStat");function wt(Pe){return Pe.type==="media-source"}h(wt,"isMediaSourceStat");const we="connectionstatechange",ot="icecandidate",yt="icecandidateerror",Kt="iceconnectionstatechange",Xt="negotiationneeded";let cn=h(class{get isActive(){return!Object(T.a)(this.listeners)}constructor(g){this.listeners={},this.clearScreenshareListeners=()=>{this.pc&&(Object.entries(this.listeners).forEach(P=>{let[F,K]=P;this.pc.removeEventListener(F,K)}),this.pc=void 0,this.listeners={},this.callLogger.info("Content share peer connection references cleaned up"))},this.registerScreensharePeerConnectionEventListeners=P=>{if(this.pc)return;const F=Date.now();this.pc=P;const K={[we]:fe=>{this.callLogger.info(`Screenshare connection state is now ${P.connectionState}`),P.connectionState==="failed"&&this.callLogger.error("Screenshare connection failed"),P.connectionState==="connected"&&this.callLogger.info(`Screenshare connection established in no less than ${Date.now()-F}ms`)},[ot]:fe=>{if(fe.candidate){const{sdpMLineIndex:Me,sdpMid:Te}=fe.candidate;this.callLogger.info(`Received screenshare ICE candidate with m-line index: ${Me}, MID: ${Te}`)}else this.callLogger.info("All screenshare ICE candidates have been gathered")},[yt]:fe=>{this.callLogger.error(`Screenshare ICE Candidate Error occurred. Error Code: ${fe.errorCode}, Error Text: ${fe.errorText}, URL: ${fe.url}`)},[Kt]:()=>{this.callLogger.info(`Screenshare ICE Connection state is: ${P.iceConnectionState}`),(P.iceConnectionState==="failed"||P.iceConnectionState==="disconnected")&&this.callLogger.error("Screenshare ICE Connection failed or disconnected")},[Xt]:()=>{const{connectionState:fe,signalingState:Me,iceGatheringState:Te,iceConnectionState:xe}=P;this.callLogger.info(`Screenshare connection negotiation needed. Current connection details: ConnectionState: ${fe}, SignalingState: ${Me}, IceGatheringState: ${Te}, IceConnectionState: ${xe}`)}};Object.entries(K).forEach(fe=>{let[Me,Te]=fe;this.pc.addEventListener(Me,Te)}),this.listeners=K},this.callLogger=g}},"ScreensharePeerConnectionManager");const gn=cn;var vn=cn;const lt=5e3;let ct=h(class{constructor(g,P){this.audioVideoFacade=g,this.observer=P,this.callLogger=Object(i.a)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1;var F=this;this.onMetricsDidReceive=function(){var Me=Object(s.coroutine)(function*(Te){if(!Te)return;const xe=yield F.collectScreenshareStats();F.reportAppMetrics({clientMetricReport:Te,screenshareRtcStats:xe})});return function(Te){return Me.apply(this,arguments)}}(),this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const Me=setInterval(()=>{if(!this.isDisconnected){clearInterval(Me);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},lt)},this.cleanup=()=>{var Me;!((Me=this.screensharePeerConnectionManager)===null||Me===void 0)&&Me.isActive&&this.screensharePeerConnectionManager.clearScreenshareListeners(),this.screensharePeerConnectionManager=void 0};var K=this;this.collectScreenshareStats=Object(s.coroutine)(function*(){let Me;try{var Te,xe;const Be=(Te=K.audioVideoFacade.contentShareController.contentAudioVideo)===null||Te===void 0?void 0:Te.rtcPeerConnection;if(!Be){var He;!((He=K.screensharePeerConnectionManager)===null||He===void 0)&&He.isActive&&K.screensharePeerConnectionManager.clearScreenshareListeners();return}if(!(!((xe=K.screensharePeerConnectionManager)===null||xe===void 0)&&xe.isActive)){var ze;(ze=K.screensharePeerConnectionManager)===null||ze===void 0||ze.registerScreensharePeerConnectionEventListeners(Be)}Me=yield Be.getStats()}catch{K.callLogger.error("An error occurred attempting to read content share stats.")}return Me});var fe=this;this.reportAppMetrics=Object(s.coroutine)(function*(){let{clientMetricReport:Me,screenshareRtcStats:Te}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Me&&!fe.isDisconnected)return;fe.isDisconnected&&Me&&(fe.isDisconnected=!1);const xe=yield fe.collectAppMetrics();fe.observer.onAppMetrics({appMetrics:xe,clientMetricReport:Me,screenshareRtcStats:Te})}),this.collectAppMetrics=Object(s.coroutine)(function*(){const Me=yield Yt();if(!Me)return;let Te=Me;return Me&&(Te=Object(Le.a)({...Me,cpu:Me.cpuWithoutGpu},"cpuWithoutGpu")),Te}),d.a.setObserver(this.observer),this.screensharePeerConnectionManager=new vn(this.callLogger)}},"HuddlesStatsManager"),Rt=h(class{start(){var g;this.isSignallingOnly=!1,(g=this.videoStreamsManager)===null||g===void 0||g.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}stop(){var g=this;return Object(s.coroutine)(function*(){g.isSignallingOnly?(g.waitForStart.resolve(),g.waitForStop.resolve(!0)):yield g.waitForStart,g.isStopRequested=!0,g.audioVideoFacade.stop()})()}audioVideoDidStartConnecting(g){if(!g)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var P,F,K;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(P=this.statsManager)===null||P===void 0||(F=P.reportDisconnect)===null||F===void 0||F.call(P),(K=this.huddleReconnectTracer)===null||K===void 0||K.traceReconnectAttempt(),this.isReconnecting=!0}}audioVideoDidStart(){if(this.callLogger.info("Chime audio video session started"),this.isReconnecting){var g;this.callLogger.info("Successfully re-connected to Huddle"),(g=this.huddleReconnectTracer)===null||g===void 0||g.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(P=>P.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(g){var P,F,K,fe;const Me=a.p[g.statusCode()],Te=`Chime session stopped. StatusCode: ${Me}`;if(this.callLogger.info(Te),this.isReconnecting&&g.isFailure()){var xe;this.callLogger.info("Failed to re-connect to Huddle"),(xe=this.huddleReconnectTracer)===null||xe===void 0||xe.traceReconnectAttemptOutcome({isSuccess:!1})}this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(P=this.videoStreamsManager)===null||P===void 0||P.removeObserver(this),(F=this.meetingEventLogger)===null||F===void 0||F.stop(),delete this.meetingEventLogger,(fe=(K=this.statsManager).cleanup)===null||fe===void 0||fe.call(K),delete this.statsManager,this.dataChannelSubscribers.forEach(He=>He.onDisconnectDataChannel()),!this.isStopRequested&&g.isTerminal()&&(this.observer.onClogError(Te),this.observer.onError(c.n.CallEnded,Me)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(g){if(!g.boundVideoStream||!g.boundAttendeeId){g.tileId&&this.observer.onVideoTileRemoved(g.tileId);return}const P=new a.l(g.boundAttendeeId).base();this.selfAttendeeId===P?(this.deviceManager.localVideoTileDidUpdate(g),this.observer.onSelfVideoTileUpdate(g)):this.observer.onPeerVideoTileUpdate(P,g)}videoTileWasRemoved(g){this.consoleLog.info(`Video tile removed: tileId=${g}`),this.observer.onVideoTileRemoved(g)}videoAvailabilityDidChange(g){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${g.remoteVideoAvailable}, CanStartLocalVideo=${g.canStartLocalVideo}`)}metricsDidReceive(g){var P=this;return Object(s.coroutine)(function*(){var F;(F=P.statsManager)===null||F===void 0||F.onMetricsDidReceive(g)})()}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){this.callLogger.warn("SDK suggested stop video, maybe poor connection")}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(g){var P;(P=this.videoStreamsManager)===null||P===void 0||P.remoteVideoSourcesDidChange(g)}tileWillBePausedByDownlinkPolicy(g){this.observer.onVideoTileWillPause(g)}tileWillBeUnpausedByDownlinkPolicy(g){this.observer.onVideoTileWillUnpause(g)}constructor(g,P,F,K,fe,Me,Te,xe,He,ze,Be=[]){this.selfAttendeeId=g,this.meetingId=P,this.mediaRegion=F,this.callId=K,this.audioVideoFacade=fe,this.observer=Me,this.deviceManager=Te,this.videoStreamsManager=xe,this.dataChannelSubscribers=Be,this.callLogger=Object(i.c)("FREE-WILLY-AV"),this.consoleLog=Object(i.b)("FREE-WILLY-AV"),this.waitForStart=Object(l.a)(),this.waitForStop=Object(l.a)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,He&&(this.waitForStart=He),ze&&(this.waitForStop=ze),this.statsManager=new ct(fe,Me),this.meetingEventLogger=new ht(Me,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=Object(M.a)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var zt=e("3Hq1"),mn=e("WcgR"),fn=e("sgFo"),ln=e("+lUI"),Ln=e("c7sk"),In=e("HlBM"),Dn=e("Atq3"),_n=e("QIbu");function qe(){switch(Object(D.Z)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}h(qe,"getScaleFactorForCurrentZoomLevel");function Et(Pe,g){const[P,F]=Pe;return[P*g,F*g]}h(Et,"getScaledCoordinates");function Wt(Pe,g){var P;const K=Object(_.i)()&&!Object(_.j)("4.18.0")?1/qe():1,fe=((P=Pe.itemId)===null||P===void 0?void 0:P.toString())||null,Me=Pe.itemId==="self"?g:fe;switch(Pe.type){case c.c.New:case c.c.Edit:{const[Te,xe]=Et(Pe.segment.a,K),[He,ze]=Et(Pe.segment.b,K),[Be,Mt]=Et(Pe.segment.c,K),[Pt,Qt]=Et(Pe.segment.d,K);return{itemId:Me,type:Pe.type===c.c.New?In.a.Draw.Type.NEW:In.a.Draw.Type.EDIT,segment:{a:{x:Te,y:xe},b:{x:He,y:ze},c:{x:Be,y:Mt},d:{x:Pt,y:Qt}}}}case c.c.End:return{itemId:Me,type:In.a.Draw.Type.END};case c.c.ChangeHue:return{itemId:Me,type:In.a.Draw.Type.CHANGE_HUE,hue:Pe.hue};case c.c.Position:return{itemId:Me,type:In.a.Draw.Type.POSITION,x:Pe.x,y:Pe.y};default:return Object(Dn.a)(Pe)}}h(Wt,"convertDrawMessageToPeerMessage");function qt(Pe,g){const P=Pe.itemId===g?"self":Pe.itemId;switch(Pe.type){case In.a.Draw.Type.NEW:case In.a.Draw.Type.EDIT:{const K=Object(_.i)()&&!Object(_.j)("4.18.0")?qe():1;return{itemId:P,type:Pe.type===In.a.Draw.Type.NEW?c.c.New:c.c.Edit,segment:{a:[(Pe.segment.a.x||0)*K,(Pe.segment.a.y||0)*K],b:[(Pe.segment.b.x||0)*K,(Pe.segment.b.y||0)*K],c:[(Pe.segment.c.x||0)*K,(Pe.segment.c.y||0)*K],d:[(Pe.segment.d.x||0)*K,(Pe.segment.d.y||0)*K]}}}case In.a.Draw.Type.END:return{itemId:P,type:c.c.End};case In.a.Draw.Type.CHANGE_HUE:return{itemId:P,type:c.c.ChangeHue,hue:Pe.hue};case In.a.Draw.Type.POSITION:return{itemId:P,type:c.c.Position,x:Pe.x,y:Pe.y};default:Object(Ie.b)("Unhandled draw message case");return}}h(qt,"convertPeerMessageToDrawMessage");function nn(Pe){let g=_n.d.Standard;return Pe.type&&Pe.type===In.a.Reacji.Type.Effect&&(g=_n.d.Effect),g}h(nn,"convertFromPeerReactionType");function rn(Pe){let g=In.a.Reacji.Type.Standard;return Pe===_n.d.Effect&&(g=In.a.Reacji.Type.Effect),g}h(rn,"convertToPeerReactionType");var hn=e("wMt+");let en=h(class Oo{updatePresence(g,P){P?this.attendeesStates.set(g,this.initializeState()):this.attendeesStates.delete(g)}calculateScore(g,P,F){const K=this.attendeesStates.get(g);if(!K||(F!==null&&(K.muted=F),K.muted))return 0;const fe=Date.now();if(P){K.noiseFloor=this.updateNoiseFloor(K,P);const Me={timestamp:fe,volume:P};K.volumeSamples.push(Me)}return this.pruneVolumeSamples(K),this.getScore(K,fe)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(g,P){let F=g.noiseFloor;return P>F?F=(1-this.params.slowAttackFactor)*F+this.params.slowAttackFactor*P:F=(1-this.params.fastDecayFactor)*F+this.params.fastDecayFactor*P,Math.min(F,this.params.noiseFloorMax)}pruneVolumeSamples(g){const P=Date.now()-this.params.analysisWindowMs,F=g.volumeSamples;for(;F.length&&F[0].timestamp<P;)F.shift()}getScore(g,P){return g.volumeSamples.reduce((F,K)=>{const fe=Math.max(1,Math.ceil((P-K.timestamp)/1e3));return F+Math.max(0,K.volume-g.noiseFloor)/fe},0)}constructor(g=c.o.DampedSwitching){this.windowedActiveSpeakerPolicyMode=g,this.attendeesStates=new Map,this.windowedActiveSpeakerPolicyMode===c.o.FastSwitching?this.params=Oo.FAST_SWITCHING_PARAMS:this.params=Oo.DAMPED_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");en.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},en.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let Un=h(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(g){new a.l(g).hasModality(a.l.MODALITY_CONTENT)||this.disconnectedAttendees.has(g)||(this.disconnectedAttendees.set(g,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(g){this.disconnectedAttendees.delete(g),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(g){return this.disconnectedAttendees.has(g)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const g=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);g&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(g-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const g=[],P=Date.now();this.disconnectedAttendees.forEach((F,K)=>{P>F&&(this.observer.onStalePeer(K),g.push(K))}),g.forEach(F=>{this.disconnectedAttendees.delete(F)}),this.maybeStartTimer()}constructor(g,P){this.timeoutMs=g,this.observer=P,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var Yn=e("cZF4"),ns=e("4TP3"),cs=e("mkut"),is=e("qMRW");let es=h(class{addSelf(g){this.selfId=g,this.addPeer(g)}removeSelf(g){Object(Ie.b)(g===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(g)}addPeer(g){this.ids=Object(Yn.a)(this.ids,[g]),Object(b.a)(this.cachedPeerStates[g],(F,K)=>{this.peerStateForwarder[K]&&!Object(zt.a)(F)&&this.peerStateForwarder[K](g,F)}),delete this.cachedPeerStates[g];const P=[];Object(b.a)(this.cachedCallState,(F,K)=>{this.callStateForwarder[K]&&!Object(zt.a)(F)&&this.callStateForwarder[K].getPeerIdFn(F)===g&&(this.callStateForwarder[K].forwardFn(F),this.callStateForwarder[K].isCached||P.push(K))}),this.cachedCallState=Object(Le.a)(this.cachedCallState,P)}removePeer(g){Object(ns.a)(this.ids,g),Object(b.a)(Object(cs.a)(this.cachedCallState),P=>{if(this.callStateForwarder[P]){const F=this.callStateForwarder[P].removeFn(this.cachedCallState[P],g);if(!F){delete this.cachedCallState[P];return}this.cachedCallState[P]=F}})}getPeers(){return this.ids}hasPeer(g){return this.ids.includes(g)}hasAttendee(g){return this.hasPeer(g)||g===this.selfId}updateCallState(g){const P=g;Object(b.a)(g,(F,K)=>{this.callStateForwarder[K]&&(P[K]=this.callStateForwarder[K].updateFn(this.cachedCallState[K],F))}),Object(b.a)(this.callStateForwarder,(F,K)=>{this.forwardOrCacheCallState([P],K,F)})}updatePeerStates(g){Object(b.a)(this.peerStateForwarder,(P,F)=>{this.forwardOrCachePeerState(g,F,P)})}setIncludeSelfAndNoneActiveSpeaker(g,P){g===this.includeSelf&&P===this.includeNone||(this.includeSelf=g,this.includeNone=P,Object(b.a)(this.cachedCallState,(F,K)=>{this.callStateForwarder[K]&&!Object(zt.a)(F)&&this.callStateForwarder[K].forwardFn(F)}))}forwardOrCachePeerState(g,P,F){g.filter(fe=>!Object(zt.a)(fe.state[P])).map(fe=>({id:fe.peerId,value:fe.state[P]})).forEach(fe=>{let{id:Me,value:Te}=fe;this.ids.includes(Me)?F(Me,Te):this.cachedPeerStates[Me]={...this.cachedPeerStates[Me],[P]:Te}})}forwardOrCacheCallState(g,P,F){g.filter(fe=>!Object(zt.a)(fe[P])).map(fe=>({value:fe[P]})).forEach(fe=>{let{value:Me}=fe;const Te=F.getPeerIdFn(Me);let xe=!1;Te&&(this.ids.includes(Te)||Te===this.NO_ACTIVE_SPEAKER)?F.forwardFn(Me):xe=!0,(xe||F.isCached)&&(this.cachedCallState={...this.cachedCallState,[P]:Me})})}getAttendeeId(g){return new a.l(g).base()}constructor(g){this.observer=g,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(P,F)=>{const K=P||[],fe=F&&F.length?F[0]:this.NO_ACTIVE_SPEAKER;return Object(is.a)(K,[fe,this.NO_ACTIVE_SPEAKER]),K.unshift(fe),K},removeFn:(P,F)=>{if(P)return Object(ns.a)(P,F),P},getPeerIdFn:P=>{const F=P.filter(K=>K===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(K));if(F.length)return F[0]},forwardFn:P=>{const F=P.filter(K=>K===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(K));!F.length||F[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===F[0]?"self":F[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(P,F)=>{this.observer.onPeerDrawEnabled(P,F)}}}},"PeerCache");var Is=e("uslK");let kn=h(class{destroy(){var g,P,F;(g=this.peerCache)===null||g===void 0||g.getPeers().forEach(K=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(K)),delete this.peerCache,(P=this.staleAttendeeChecker)===null||P===void 0||P.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(F=this.audioVideoFacade.transcriptionController)===null||F===void 0||F.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(g){this.sendPeerMessageOverDataChannel(new In.a({capabilities:{isDrawEnabled:g},fromPeerIdString:this.selfAttendeeId}))}sendReacji(g,P){let F;P?F={emoji:g,type:rn(P)}:F={emoji:g},this.sendPeerMessageOverDataChannel(new In.a({reacji:F,fromPeerIdString:this.selfAttendeeId}))}sendBackground(g){this.sendPeerMessageOverDataChannel(new In.a({background:{url:g},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(g){this.sendPeerMessageOverDataChannel(new In.a({muteRequest:{peerId:g},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(g){this.sendPeerMessageOverDataChannel(new In.a({jukeboxRequest:{songKey:g},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new In.a({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(g){this.sendPeerMessageOverDataChannel(new In.a({draw:Wt(g,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(g){this.sendPeerMessageOverDataChannel(new In.a({contentShareDetails:{sourceType:g,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(g){this.callLogger.info(`Removing stale peer: ${g}`),this.attendeeLeft(g),this.observer.onPeerDisconnected(g),this.observer.onPeerLeft(g)}setIncludeSelfAndNoneActiveSpeaker(g,P){var F;(F=this.peerCache)===null||F===void 0||F.setIncludeSelfAndNoneActiveSpeaker(g,P)}attendeeJoined(g){if(g===this.selfAttendeeId){var P;(P=this.peerCache)===null||P===void 0||P.addSelf(g)}else{var F;(F=this.peerCache)===null||F===void 0||F.addPeer(g)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(g,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${g} volume indicator`)}attendeeLeft(g){if(g===this.selfAttendeeId){var P;(P=this.peerCache)===null||P===void 0||P.removeSelf(g)}else{var F;(F=this.peerCache)===null||F===void 0||F.removePeer(g)}this.audioVideoFacade.removeVideoTilesByAttendeeId(g),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(g),this.consoleLog.info(`Unsubscribed from attendee=${g} volume indicator`)}sendPeerMessageOverDataChannel(g){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,In.a.encode(g).finish()):this.logFailureToSendPeerMessage(g)}isAttendeeOfTypeContent(g){return new a.l(g).hasModality(a.l.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(g,P,F,K){var fe;if(this.consoleLog.info(`Attendee presence: attendeeId=${g}, isSelf=${this.selfAttendeeId===new a.l(g).base()}, present=${P}, externalUserId=${F}, dropped=${K}`),(fe=this.windowedActiveSpeakerPolicy)===null||fe===void 0||fe.updatePresence(g,P),this.isAttendeeOfTypeContent(g)){P||this.audioVideoFacade.removeVideoTilesByAttendeeId(g);return}if(!F){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${g}`),this.observer.onClogError("MissingExternalUserId");return}let Me=null;if(P){var Te;K===!1&&!(!((Te=this.peerCache)===null||Te===void 0)&&Te.hasAttendee(g))?Me="joined":Me="reconnected"}else K===!0?Me="disconnected":Me="left";if(Me===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===g)switch(Me){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${Me}`);return}else{const Be=Object(Ln.a)(F);if(!Be){this.callLogger.error(`No externalUserId for ${g}`);return}switch(Me){case"joined":{var xe;(xe=this.staleAttendeeChecker)===null||xe===void 0||xe.deleteDisconnectedAttendee(g),this.observer.onPeerJoined(g,Be),this.observer.onPeerConnected(g),this.updatePeerVideoTile(g);break}case"left":this.observer.onPeerDisconnected(g),this.observer.onPeerLeft(g);break;case"disconnected":var He;(He=this.staleAttendeeChecker)===null||He===void 0||He.addDisconnectedAttendee(g),this.observer.onPeerDisconnected(g);break;case"reconnected":{var ze;(ze=this.staleAttendeeChecker)===null||ze===void 0||ze.deleteDisconnectedAttendee(g),this.observer.onPeerConnected(g),this.updatePeerVideoTile(g);break}default:this.callLogger.error(`unknown peer event ${Me}`);return}}Me==="joined"&&this.attendeeJoined(g),Me==="left"&&this.attendeeLeft(g)}realtimeFatalErrorCallback(g){this.callLogger.error(`Chime session fatal error: name=${g.name}, message=${g.message}`),this.observer.onClogError(`FatalError: ${g.name} - ${g.message}`)}realtimeLocalSignalStrengthChangeCallback(g){this.consoleLog.debug(`Local attendee signalStrength=${g}`)}realtimeMuteAndUnmuteLocalAudioCallback(g){this.callLogger.debug(`Local attendee mute=${g}`),this.observer.onPeerMuted("self",g)}realtimeSetCanUnmuteLocalAudioCallback(g){this.consoleLog.debug(`Local attendee can unmute = ${g}`)}realtimeVolumeIndicatorCallback(g,P,F,K,fe){if(this.consoleLog.debug(`Attendee volume indicator: attendeeId=${g}, volume=${P}, muted=${F}, signalStrength=${K}, externalUserId=${fe}`),this.selfAttendeeId!==g){F?this.observer.onPeerMuted(g,!0):F!==null&&F===!1&&this.observer.onPeerMuted(g,!1);const Me={[g]:F?0:P||0};this.shouldUpdatePeerVolume?this.observer.onUpdatedPeerAudioLevels(Me):this.shouldUpdateVolumeAsBackgroundTask&&Object(I.a)("update-peer-mic-level",()=>{this.observer.onUpdatedPeerAudioLevels(Me)})}else this.shouldUpdateSelfVolume?this.observer.onUpdatedSelfAudioLevel(P||0):this.shouldUpdateVolumeAsBackgroundTask&&Object(I.a)("update-self-mic-level",()=>{this.observer.onUpdatedSelfAudioLevel(P||0)});K!==null&&(this.selfAttendeeId===g?this.observer.onSelfConnectionQualityChanged("uplink",Object(c.q)(K)):this.observer.onPeerConnectionQualityChanged(g,"uplink",Object(c.q)(K)))}activeSpeakerDetectorCallback(g){var P;(P=this.peerCache)===null||P===void 0||P.updateCallState({activeSpeakerList:g})}realtimeReceiveDataMessageCallback(g){if(this.selfAttendeeId===g.senderAttendeeId){if(!g.throttled)return;this.callLogger.info(`Data message throttled: size=${g.data.length} bytes`);return}let P;try{P=In.a.decode(g.data)}catch(F){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${F}
				| Data Sender Attendee ID: ${g.senderAttendeeId}
				| Data Sender External Attendee ID: ${g.senderExternalUserId}
				| Topic: ${g.topic}`);return}this.handlePeerMessageFromDataMessage(P,g.senderAttendeeId)}handlePeerMessageFromDataMessage(g,P){const F=typeof g.fromPeerIdString=="string"?g.fromPeerIdString:void 0;if(g.jukeboxRequest){var K;if(!Object(hn.a)(F,"fromPeerIdString is required in the jukebox request message")||!Object(hn.a)(g.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((K=this.peerCache)===null||K===void 0)&&K.hasPeer(F))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${F}`);return}g.jukeboxRequest.songKey&&!g.jukeboxRequest.stop&&this.observer.onJukeboxRequest(g.jukeboxRequest.songKey),g.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(g.reacji){var fe;if(!Object(hn.a)(F,"fromPeerIdString is required in the reacji message")||!Object(hn.a)(g.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((fe=this.peerCache)===null||fe===void 0)&&fe.hasPeer(F)){const ze=nn(g.reacji);this.observer.onPeerReacji(F,g.reacji.emoji,!0,ze)}else this.callLogger.info(`Dropping reacji from unknown peer: ${F}`)}else if(g.draw){var Me;const ze=qt(g.draw,this.selfAttendeeId);if(!Object(hn.a)(F,"fromPeerIdString is required in the draw message")||!Object(hn.a)(ze,"Draw message must be correctly formed"))return;!((Me=this.peerCache)===null||Me===void 0)&&Me.hasPeer(F)?this.observer.onPeerDrawMessage(F,ze):this.callLogger.info(`Dropping draw message from unknown peer: ${F}`)}else if(g.capabilities){if(!Object(hn.a)(F,"fromPeerIdString is required in the capabilities message"))return;if(!Object(zt.a)(g.capabilities.isDrawEnabled)){var Te;(Te=this.peerCache)===null||Te===void 0||Te.updatePeerStates([{peerId:F,state:{isDrawEnabled:g.capabilities.isDrawEnabled}}])}}else if(g.muteRequest){var xe;if(!Object(hn.a)(F,"fromPeerIdString is required in the muteRequest message")||!Object(hn.a)(g.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((xe=this.peerCache)===null||xe===void 0)&&xe.hasPeer(F)){if(g.muteRequest.peerId===this.selfAttendeeId){var He;const ze=this.attendeeMuteRequests[P],Be=ze==null?void 0:ze.lastRequestTime,Mt=Date.now();if(ze?(ze.lastRequestTime=Mt,ze.count+=1):this.attendeeMuteRequests[P]={lastRequestTime:Mt,count:1},Be&&Mt-Be<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${P} peer: ${F}`);return}if(((He=this.attendeeMuteRequests[P])===null||He===void 0?void 0:He.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${P} peer: ${F}`);return}}this.observer.onPeerMuteRequest(F,g.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${F}`)}else if(g.contentShareDetails){if(!Object(hn.a)(F,"fromPeerIdString is required in the contentShareDetails message")||!Object(hn.a)(g.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!Object(hn.a)(g.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${g.contentShareDetails.itemId}, type: ${g.contentShareDetails.sourceType}`);const ze=Object(Is.c)(g.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(F,ze,g.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(g){this.observer.onTranscriptionEvent(g)}updatePeerVideoTile(g){this.audioVideoFacade.getAllVideoTiles().filter(K=>{const fe=K.state();return!fe||!fe.boundAttendeeId?!1:new a.l(fe.boundAttendeeId).base()===new a.l(g).base()}).forEach(K=>{const fe=(K==null?void 0:K.state())||null;fe&&this.observer.onPeerVideoTileUpdate(g,fe)})}constructor(g,P,F,K=c.o.DampedSwitching,fe){var Me;this.selfAttendeeId=g,this.audioVideoFacade=P,this.observer=F,this.windowedActiveSpeakerPolicyMode=K,this.micMeterPolicy=fe,this.callLogger=Object(i.a)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=Object(i.b)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var Te,xe,He;return(Te=this.audioVideoFacade.audioVideoController)===null||Te===void 0||(xe=Te.meetingSessionContext)===null||xe===void 0||(He=xe.signalingClient)===null||He===void 0?void 0:He.ready()},this.logFailureToSendPeerMessage=Te=>{const xe=Te.draw?"draw":"reacji",He=h(()=>this.callLogger.error(`Failed to send ${xe} peer message. Data channel is not ready to use.`),"logError");return Object(ln.a)(xe,He)},this.shouldUpdatePeerVolume=!this.micMeterPolicy||this.micMeterPolicy===fn.a.PeersOnly||this.micMeterPolicy===fn.a.AllOn,this.shouldUpdateSelfVolume=!this.micMeterPolicy||this.micMeterPolicy===fn.a.SelfOnly||this.micMeterPolicy===fn.a.AllOn,this.shouldUpdateVolumeAsBackgroundTask=this.micMeterPolicy===fn.a.Background,Object(mn.a)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new en(this.windowedActiveSpeakerPolicyMode),this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Me=this.audioVideoFacade.transcriptionController)===null||Me===void 0||Me.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new es(this.observer),this.staleAttendeeChecker=new Un(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var ts=e("vFlG"),Ds=e("yIs4");const vs=15,ss=2560,Zn=1e3,Os="text";let Cs=h(class{stopMusic(g){let{cleanObserver:P}=g;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),P&&this.audioVideoFacade.removeContentShareObserver(this))}stop(){var g=this;return Object(s.coroutine)(function*(){g.isScreenshareEnabled&&(g.isStopRequested=yield g.stopContentShare()),g.huddlesJukeboxEnabled&&g.stopMusic({cleanObserver:!0}),g.isStopRequested||(g.observer.onScreenShareStopped(),g.audioVideoFacade.removeContentShareObserver(g))})()}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}setSongStream(g){var P=this;return Object(s.coroutine)(function*(){P.huddlesJukeboxEnabled&&(P.waitForStart=Object(l.a)(),yield P.audioVideoFacade.startContentShare(g),P.isMusicEnabled=!0)})()}setScreenshare(g,P,F){var K=this;return Object(s.coroutine)(function*(){if(g===K.isScreenshareEnabled)return;const{huddleEventsTrace:fe}=Object(M.a)().getAllTraceHandlers();if(g){let Me=P;if(P){const xe=P.split(":");xe.length===3&&xe[2]!=="0"&&(xe[2]="0",Me=xe.join(":"),K.log.warn(`Munging screen share media source id, before: ${P}, after: ${Me}`))}let Te;try{K.waitForStart=Object(l.a)();const xe=h(He=>{throw K.log.error(`getUserMedia error during huddle screenshare attempt: ${He.name} ${He.message}`),He},"logGetUserMediaError");if(Object(D.fb)()&&K.log.info(`Starting screen share with zoomLevel = ${Object(D.Z)()}`),Object(D.fb)()&&F){const{screenHeight:He,screenWidth:ze,selectedDisplayId:Be}=F;if(Te={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:Me,maxFrameRate:vs}}},ze&&He){const Qt=Te.video.mandatory,tn=ze/He,pt=ss;Qt.maxWidth=ze<pt?ze:pt,Qt.maxHeight=He<pt?He:pt;const At=navigator.mediaDevices.getSupportedConstraints();Object(ts.a)(At,"aspectRatio")&&!!At.aspectRatio&&Object(Ds.a)(tn)&&(Qt.minAspectRatio=tn,Qt.maxAspectRatio=tn),K.log.info(`Starting screen share with resolution constraints: ${Qt.maxWidth} x ${Qt.maxHeight} | resolution provided: ${ze} x ${He}`)}else K.log.info("Starting application window share without proposed resolution");const Pt=yield navigator.mediaDevices.getUserMedia(Te).catch(xe);(Pt==null?void 0:Pt.getVideoTracks().length)>0?(K.log.debug(`Applying content hint to content share stream. Content Hint ${Os}`),Pt.getVideoTracks()[0].contentHint=Os):K.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const Qt=Pt.getVideoTracks()[0].getSettings(),tn=Object(Is.a)(Qt==null?void 0:Qt.deviceId);ce.a.publish({type:ge.a.ScreenshareContentType,update:{screenshareContentType:tn}}),K.log.info(`Created video track with resolution: ${Qt.width} x ${Qt.height} framerate: ${Qt.frameRate} aspect ratio: ${Qt.aspectRatio}`),Be&&K.log.info(`Sharing from selected display: ${Be}`)},500),yield K.audioVideoFacade.startContentShare(Pt),setTimeout(()=>K.applyContentShareConstraints(Pt),Zn),fe==null||fe.update({name:y.a.SCREENSHARE,type:y.b.START})}else{K.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const He=yield K.audioVideoFacade.startContentShareFromScreenCapture(Me).catch(xe);if(fe==null||fe.update({name:y.a.SCREENSHARE,type:y.b.START}),setTimeout(()=>K.applyContentShareConstraints(He),Zn),(He==null?void 0:He.getVideoTracks().length)>0){K.log.debug(`Applying content hint to content share stream. Content Hint ${Os}`),He.getVideoTracks()[0].contentHint=Os;const ze=He.getVideoTracks()[0].getSettings(),Be=Object(Is.a)(ze==null?void 0:ze.deviceId);ce.a.publish({type:ge.a.ScreenshareContentType,update:{screenshareContentType:Be}})}else K.log.warn("No video tracks where available when starting unconstrained content share")}}catch(xe){const He=h(()=>{delete K.waitForStart,K.isScreenshareEnabled=!1,K.observer.onScreenShareStopped()},"exitScreenshare");if(xe.name==="NotAllowedError"){He(),xe.message==="Permission denied by system"&&K.observer.onCheckSystemMediaAccess(c.i.SCREEN);return}if(xe.name==="OverconstrainedError"){He(),Te&&K.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(Te)}`);return}if(["TypeError","AbortError","Error"].includes(xe.name)){He(),K.observer.onScreenShareError(c.m.ERROR);return}if(xe.name==="NotReadableError"){He(),K.observer.onScreenShareError(c.m.NOT_READABLE_ERROR);return}throw xe.name==="NotFoundError"&&(He(),K.observer.onScreenShareError(c.m.NOT_FOUND_ERROR)),K.log.error(`Encountered an uncaught error attempting to start screen share: ${xe.name} ${xe.message}`),K.waitForStart.resolve(!1),He(),xe}K.lastEnableTimeMs=Date.now(),K.isScreenshareEnabled=g}else K.isScreenshareEnabled&&(yield K.stopContentShare())})()}applyContentShareConstraints(g){var P=this;return Object(s.coroutine)(function*(){if(!P.isExperimentalSDK)return;const F=g.getVideoTracks()[0];if(!F){P.log.info("Constraints not re-applied no video track available");return}F.getSettings()||P.log.info("Constraints not re-applied no video track settings available");const fe={width:{ideal:ss},height:{ideal:ss},frameRate:{ideal:vs}};yield F.applyConstraints(fe),P.log.info("Constraints re-applied to content share (resolution overwrite applied)")})()}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}stopContentShare(){var g=this;return Object(s.coroutine)(function*(){let P=!1;if(g.waitForStart.isPending()?Date.now()-g.lastEnableTimeMs>1e4?(P=!0,g.log.info(`Stop screen share, force: ${Date.now()-g.lastEnableTimeMs} ms since start`)):(g.log.info("Stop screen share, waiting for content share start to resolve"),P=yield g.waitForStart,g.log.info(`Stop screen share, wait for content share start resolve finished: ${P}`)):(P=g.waitForStart.value(),g.log.info(`Stop screen share, promise resolved: ${P}`)),P){g.audioVideoFacade.stopContentShare(),g.isScreenshareEnabled=!1;const{huddleEventsTrace:F}=Object(M.a)().getAllTraceHandlers();F==null||F.update({name:y.a.SCREENSHARE,type:y.b.STOP}),ce.a.publish({type:ge.a.ScreenshareContentType,update:void 0})}else g.log.warn("Screen share disable ignored as screen share was not started successfully");return P})()}constructor(g,P,F,K){this.audioVideoFacade=g,this.observer=P,this.huddlesJukeboxEnabled=F,this.isExperimentalSDK=K,this.log=Object(i.c)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=ee(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),ys=h(class{addObserver(g){var P,F;(P=this.videoDownlinkPolicy)===null||P===void 0||(F=P.addObserver)===null||F===void 0||F.call(P,g)}removeObserver(g){var P,F;(P=this.videoDownlinkPolicy)===null||P===void 0||(F=P.removeObserver)===null||F===void 0||F.call(P,g)}remoteVideoSourcesDidChange(g){this.videoSources=g,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const g=[];this.videoSources.forEach(P=>{var F;const K=(F=P.attendee)===null||F===void 0?void 0:F.attendeeId;K===this.selfAttendeeId||!K||(K.includes("#content")||!this.isAudioOnlyMode)&&g.push(P)}),this.sendChimeVideoPreferences(g)}constructor({selfAttendeeId:g,videoDownlinkPolicy:P}){this.logger=new Fe.a("Huddles Video Streams Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=F=>{this.isAudioOnlyMode=F,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=F=>{var K;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(F)}`)}catch{}(K=this.videoDownlinkPolicy)===null||K===void 0||K.chooseRemoteVideoSources(F)},this.videoDownlinkPolicy=P,this.selfAttendeeId=g}},"HuddlesVideoStreamsManager");const Ls=ys;var Es=e("20qZ"),zn=e("oTSI"),_s=e("LTG1");let ls=h(class{initialize(g,P){this.gainNode=P,this.audioContext=g}onAudioLevelUpdated(g){isNaN(g.value)||g.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const g=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(g,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var g;this.gainNode&&this.audioContext&&((g=this.gainNode)===null||g===void 0||g.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(g){this.defaultVolume=g,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),_s.a.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const Ts="HUDDLE-JUKEBOX";let gs=h(class{startLocalJukebox(g){let{song:P,volume:F}=g;var K=this;return Object(s.coroutine)(function*(){var fe;const Me=K.getSongUrl({song:P});if(Me===K.localAudioUrl)return;K.callLogger.info(`Starting local jukebox song key: ${P.key}.`),K.audioContext||(K.audioContext=new AudioContext),K.cleanup(),K.localAudioUrl=Me;const xe=yield(yield window.fetch(Me)).arrayBuffer(),He=yield K.audioContext.decodeAudioData(xe);K.audioBufferSourceNode=K.audioContext.createBufferSource(),K.audioBufferSourceNode.buffer=He,K.localAudio=new Audio,K.localAudio.volume=F,K.localMediaStreamAudioDestinationNode=K.audioContext.createMediaStreamDestination(),K.gainNode=K.audioContext.createGain(),(fe=K.jukeboxDucker)===null||fe===void 0||fe.initialize(K.audioContext,K.gainNode),K.gainNode.gain.value=K.defaultVolume,K.audioBufferSourceNode.connect(K.gainNode),K.gainNode.connect(K.localMediaStreamAudioDestinationNode),K.localAudio.srcObject=K.localMediaStreamAudioDestinationNode.stream,K.audioBufferSourceNode.loop=!0,K.audioBufferSourceNode.start(),K.localAudio.play()})()}startContentShareJukebox(g){let{song:P}=g;var F=this;return Object(s.coroutine)(function*(){var K,fe;F.audioContext||(F.audioContext=new AudioContext),F.audioDestination||(F.audioDestination=F.audioContext.createMediaStreamDestination()),F.callLogger.info(`Starting jukebox song key: ${P.key}`),F.cleanup();const Me=F.getSongUrl({song:P}),xe=yield(yield window.fetch(Me)).arrayBuffer(),He=yield F.audioContext.decodeAudioData(xe);return F.audioBufferSourceNode=F.audioContext.createBufferSource(),F.audioBufferSourceNode.buffer=He,F.localAudio=new Audio,F.localMediaStreamAudioDestinationNode=F.audioContext.createMediaStreamDestination(),F.gainNode=F.audioContext.createGain(),(K=F.jukeboxDucker)===null||K===void 0||K.initialize(F.audioContext,F.gainNode),F.gainNode.gain.value=F.defaultVolume,F.audioBufferSourceNode.connect(F.gainNode),F.gainNode.connect(F.audioDestination),F.gainNode.connect(F.localMediaStreamAudioDestinationNode),F.localAudio.srcObject=F.localMediaStreamAudioDestinationNode.stream,F.audioBufferSourceNode.loop=!0,F.audioBufferSourceNode.start(),F.localAudio.play(),(fe=F.audioDestination)===null||fe===void 0?void 0:fe.stream})()}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var g,P,F,K;(g=this.audioBufferSourceNode)===null||g===void 0||g.stop(),this.audioBufferSourceNode=void 0,(P=this.localAudio)===null||P===void 0||P.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(F=this.gainNode)===null||F===void 0||F.disconnect(),this.gainNode=void 0,(K=this.audioDestination)===null||K===void 0||K.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var g;return(g=this.localAudio)===null||g===void 0?void 0:g.volume}getSongUrl(g){let{song:P}=g;return P.url}constructor(){this.defaultVolume=.3,this.callLogger=Object(i.a)(Ts),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new ls(this.defaultVolume)}},"JukeboxManager");var xn=Object(zn.a)(()=>new gs);const Ss={connectionWaitTimeMs:5*1e3,connectionUnhealthyThreshold:10,sendingAudioFailureSamplesToConsider:2,sendingAudioFailureInitialWaitTimeMs:3*1e3},V={connectionWaitTimeMs:10*1e3,connectionUnhealthyThreshold:25,sendingAudioFailureSamplesToConsider:5,sendingAudioFailureInitialWaitTimeMs:10*1e3};var We=h(class{constructor({enableExperimentalConfig:g}){this.enableExperimentalConfig=!1,this.getConfiguration=()=>this.enableExperimentalConfig?V:Ss,this.enableExperimentalConfig=!!g}},"ConnectionHealthPolicyManager"),Ct=e("yQbL"),Gt=e("68hO");class sn{initialize(g){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[c.i.MICROPHONE,c.i.CAMERA],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,K=arguments.length>3?arguments[3]:void 0,fe=arguments.length>4?arguments[4]:void 0,Me=arguments.length>5?arguments[5]:void 0;var Te=this;return Object(s.coroutine)(function*(){var xe,He,ze,Be,Mt,Pt,Qt,tn,pt,At;fe&&(Te.waitForStop=fe),Me&&(Te.dataChannelSubscribers=Me),Te.observer.onInit(),Te.options=g;const[an,$t,Mn,Cn]=yield r.a.all([Te.options.serverConfig,Te.options.useChimeSdkExp,Te.options.useSimulcast,Te.options.useGetMediaAccessCheckForWindows]),Rn=yield Te.options.backgroundVideoFilteringSetting;yield Object(a.J)($t),Te.chimeLogger=new Fe.a(Te.loggerName),Te.callLogger=Object(i.a)(Te.loggerName),(xe=Te.callLogger)===null||xe===void 0||xe.info(`user agent: ${navigator.userAgent}`);const An=Object(o.f)();(He=Te.callLogger)===null||He===void 0||He.info(`Version TS: ${An}`);const On=(document==null||(ze=document.documentElement)===null||ze===void 0||(Be=ze.dataset)===null||Be===void 0?void 0:Be.versionHash)||"unknown";(Mt=Te.callLogger)===null||Mt===void 0||Mt.info(`Version Hash: ${On}`),(Pt=Te.callLogger)===null||Pt===void 0||Pt.info(`Chime SDK Version: ${a.s.sdkVersion}${$t?" (Experimental)":""}`),Te.meeting=an.meeting,Te.attendee=an.attendee,Te.selfAttendeeId=Te.attendee.AttendeeId;const bn=Object(m.a)(an.attendee.ExternalUserId);if(Te.transportProtocols=an.transportProtocols,Te.isPrejoin=yield r.a.resolve(Te.options.isPrejoin),Te.meetingSessionConfiguration=new a.o(Te.meeting,Te.attendee),Mn&&Te.meetingSessionConfiguration){var Pn;(Pn=Te.callLogger)===null||Pn===void 0||Pn.info("Simulcast enabled"),Te.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if((yield Te.options.usePriorityDownlinkPolicy)&&(Te.videoDownlinkPolicy=new a.a(Te.selfAttendeeId),Te.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=Te.videoDownlinkPolicy,Te.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,Te.videoStreamsManager=new ys({selfAttendeeId:Te.selfAttendeeId,videoDownlinkPolicy:Te.videoDownlinkPolicy})),Te.meetingSessionConfiguration.urls&&(Te.meetingSessionConfiguration.urls.urlRewriter=Te.urlRewriter.bind(Te)),Te.meetingSessionConfiguration&&Te.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const us=new We({enableExperimentalConfig:yield Te.options.enableExperimentalConnectionHealthPolicyConfig});Object.assign(Te.meetingSessionConfiguration.connectionHealthPolicyConfiguration,us.getConfiguration())}Te.options.screenshareAutoKeyframesDisabled&&(yield Te.options.screenshareAutoKeyframesDisabled)&&Object(t.a)((Qt=Te.meetingSessionConfiguration)===null||Qt===void 0?void 0:Qt.disablePeriodicKeyframeRequestOnContentSender)&&(Te.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0);let pn=0;if(yield Te.options.useVoiceFocus){const us=yield Te.options.voiceFocusMaxModelsEnabled;if(us){var Wn;(Wn=Te.callLogger)===null||Wn===void 0||Wn.info("Voice Focus max models experiment enabled")}const Ps=Date.now();Te.voiceFocusManager=new Es.a(Te.chimeLogger,us),yield Te.voiceFocusManager.init({configOnly:!1,shouldPreventAutoDisable:yield Te.options.shouldPreventVoiceFocusAutoDisable}),pn=Date.now()-Ps}else{var Fn;(Fn=Te.callLogger)===null||Fn===void 0||Fn.info("Voice Focus experiment not enabled")}Te.observer.onMaybeVoiceFocusInitialized(pn);const Bn={audio:P.includes(c.i.MICROPHONE),video:P.includes(c.i.CAMERA)};a.b.disable();let Nn;const Gn=yield Te.options.huddlesVideoEnabled,as=Gn?!0:!!(!((tn=Te.voiceFocusManager)===null||tn===void 0)&&tn.isAvailable());(pt=Te.callLogger)===null||pt===void 0||pt.info(`Huddles Video (pro-max) experiment enabled: ${!!Gn}`);const Xn=yield Te.options.audioContextLatencyHint,Ns=(yield Te.options.disableAudioRedundancy)||!1;if($t){const us=Object(a.F)(),Ps=Object(a.B)();if(Xn&&Ps.setDefaultLatencyHint(Xn),Te.defaultDeviceController=new Ps(Te.chimeLogger,{enableWebAudio:as}),Te.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Bn)),Te.sessionExp=new us(Te.meetingSessionConfiguration,Te.chimeLogger,Te.defaultDeviceController),Nn=Te.sessionExp.audioVideo,Ns){const Gs=Object(a.w)();Nn.setAudioProfile(new Gs(null,!1))}}else{const us=Object(a.E)(),Ps=Object(a.A)();if(Xn&&Ps.setDefaultLatencyHint(Xn),Te.defaultDeviceController=new Ps(Te.chimeLogger,{enableWebAudio:as}),Te.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(Bn)),Te.session=new us(Te.meetingSessionConfiguration,Te.chimeLogger,Te.defaultDeviceController),Nn=Te.session.audioVideo,Ns){const Gs=Object(a.v)();Nn.setAudioProfile(new Gs(null,!1))}}const Ws=(yield Te.options.useUpdatedAudioLevelMonitor)||!1;Te.applyPrejoinNoAudioFix=(yield Te.options.applyPrejoinNoAudioFix)||!1,Te.applyAudioInitFix=(yield Te.options.applyAudioInitFix)||!1;const js={useGetMediaAccessCheckForWindows:Cn,backgroundVideoFilteringSetting:Rn,useUpdatedAudioLevelMonitor:Ws},Hs=(yield Te.options.useDeviceManagerV2)?De:ae;Te.deviceManager=new Hs(Nn,Te.audioOutputElement,Te.observer,js,F,Te.chimeLogger,Te.defaultDeviceController,Te.voiceFocusManager,Te.applyAudioInitFix),(At=Te.dataChannelSubscribers)===null||At===void 0||At.forEach(us=>us.onInitializeDataChannelSubscriber()),Te.audioVideoObserver=new Rt(Te.selfAttendeeId,Te.meeting.MeetingId,Te.meeting.MediaRegion,bn,Nn,Te.observer,Te.deviceManager,Te.videoStreamsManager,K,Te.waitForStop,Te.dataChannelSubscribers);const ks=yield Te.options.huddlesJukeboxEnabled;if(ks){var Bs;(Bs=Te.callLogger)===null||Bs===void 0||Bs.info("Huddles Jukebox experiment enabled (prototype)")}Te.contentShareManager=new Cs(Nn,Te.observer,!!ks,$t);const Fs=yield Te.options.micMeterPolicy;Te.audioVideoFacadeSubscriber=new kn(Te.selfAttendeeId,Nn,Te.observer,Te.windowedActiveSpeakerPolicyMode,Fs),d.a.setTracer(),Object(Ct.a)().initialize(),Te.connect(),Te.screenManager=new u.a(Te.options.singleAppShareEnabled),d.a.setChimeMeetingId(Te.meeting.MeetingId,Te.meeting.ExternalMeetingId),Te.observer.onMeetingSessionInitialized(),Te.waitForInit.resolve()})()}shutdown(g){var P=this;return Object(s.coroutine)(function*(){var F,K,fe,Me,Te,xe;if((F=P.callLogger)===null||F===void 0||F.info("Huddles SDK shutdown initiated"),yield P.waitForInit,P.cleanupDataChannelSubscribers(),(K=P.contentShareManager)===null||K===void 0||K.stop(),(fe=P.audioVideoObserver)===null||fe===void 0||fe.stop(),yield(Me=P.deviceManager)===null||Me===void 0?void 0:Me.shutdown(),Gt.a.doesInstanceExist()){var He;(He=Gt.a.getInstance())===null||He===void 0||He.release()}(Te=P.audioVideoFacadeSubscriber)===null||Te===void 0||Te.destroy(),yield P.waitForStop,delete P.session,delete P.sessionExp,delete P.meetingSessionConfiguration,yield P.cleanupDefaultDeviceControllerRefs(),(xe=P.callLogger)===null||xe===void 0||xe.info("Huddles SDK shutdown completed"),delete P.chimeLogger,delete P.callLogger,delete P.deviceManager,delete P.audioVideoFacadeSubscriber,delete P.audioVideoObserver,delete P.contentShareManager,delete P.screenManager,delete P.voiceFocusManager,delete P.videoStreamsManager,delete P.videoDownlinkPolicy,g&&g()})()}selfMicrophoneEnabled(g){var P;(P=this.deviceManager)===null||P===void 0||P.setMicrophone(g)}selfVideoEnabled(g,P,F,K){var fe,Me;(fe=this.deviceManager)===null||fe===void 0||fe.setCamera(g),(Me=this.contentShareManager)===null||Me===void 0||Me.setScreenshare(P,F,K)}startContentShareJukebox(g){let{song:P}=g;var F=this;return Object(s.coroutine)(function*(){var K;const fe=yield xn().startContentShareJukebox({song:P});fe&&((K=F.contentShareManager)===null||K===void 0||K.setSongStream(fe))})()}selfStopJukebox(){var g=this;return Object(s.coroutine)(function*(){var P;xn().stopJukebox(),(P=g.contentShareManager)===null||P===void 0||P.stopMusic({cleanObserver:!1})})()}setCameraQuality(g,P,F,K){var fe;(fe=this.deviceManager)===null||fe===void 0||fe.setCameraQuality(g,P,F,K)}setAGC(g){var P;(P=this.deviceManager)===null||P===void 0||P.setAGC(g)}setNewPreferredDevice(g,P){var F;(F=this.deviceManager)===null||F===void 0||F.setPreferredDevice(g,P)}setNoiseSuppression(g){var P;(P=this.deviceManager)===null||P===void 0||P.setNoiseSuppression(g)}setVideoBackgroundEffect(g){var P;(P=this.deviceManager)===null||P===void 0||P.setVideoBackgroundEffect(g)}requestPreviewStreamForDeviceId(g,P,F){var K;(K=this.deviceManager)===null||K===void 0||K.requestPreviewStreamForDeviceId(g,P,F)}stopVideoPreviewForVideoInput(g){var P;(P=this.deviceManager)===null||P===void 0||P.stopVideoPreviewForVideoInput(g)}getScreenThumbnails(g){var P;return(P=this.screenManager)===null||P===void 0?void 0:P.getScreenThumbnails(g==null?void 0:g.thumbnailDimensions,g==null?void 0:g.isRefetch)}selfDrawEnabled(g){var P;(P=this.audioVideoFacadeSubscriber)===null||P===void 0||P.selfDrawEnabled(g)}sendReacji(g,P){var F;(F=this.audioVideoFacadeSubscriber)===null||F===void 0||F.sendReacji(g,P)}sendBackground(g){var P;(P=this.audioVideoFacadeSubscriber)===null||P===void 0||P.sendBackground(g)}sendMuteRequest(g){var P;(P=this.audioVideoFacadeSubscriber)===null||P===void 0||P.sendMuteRequest(g)}sendJukeboxRequest(g){var P;(P=this.audioVideoFacadeSubscriber)===null||P===void 0||P.sendJukeboxRequest(g)}sendJukeboxStopRequest(){var g;(g=this.audioVideoFacadeSubscriber)===null||g===void 0||g.sendJukeboxStopRequest()}sendDrawMessage(g){var P;(P=this.audioVideoFacadeSubscriber)===null||P===void 0||P.sendDrawMessage(g)}sendContentShareDetails(g){var P;(P=this.audioVideoFacadeSubscriber)===null||P===void 0||P.sendContentShareDetails(g)}maybeBindAudioOutputElement(){var g;(g=this.deviceManager)===null||g===void 0||g.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(g){var P;return(P=this.deviceManager)===null||P===void 0?void 0:P.maybeCheckSystemMediaAccess(g)}setIncludeSelfAndNoneActiveSpeaker(g,P){var F;(F=this.audioVideoFacadeSubscriber)===null||F===void 0||F.setIncludeSelfAndNoneActiveSpeaker(g,P)}bindVideo(g,P,F){var K;const fe=this.session||this.sessionExp;if(!fe)return;const Me=(K=fe.audioVideo.getVideoTile(g))===null||K===void 0?void 0:K.state();F?Me!=null&&Me.boundVideoStream&&a.m.connectVideoStreamToVideoElement(Me.boundVideoStream,P,!1):(this.videoDownlinkPolicy&&(Me!=null&&Me.paused)&&fe.audioVideo.unpauseVideoTile(g),fe.audioVideo.bindVideoElement(g,P))}unbindVideo(g,P,F){const K=this.session||this.sessionExp;K&&(F?a.m.disconnectVideoStreamFromVideoElement(P,!0):K.audioVideo.getVideoTile(g)&&K.audioVideo.unbindVideoElement(g))}pauseVideo(g){const P=this.session||this.sessionExp;if(!P)return;const F=P.audioVideo.getVideoTile(g),K=F==null?void 0:F.state();!(K!=null&&K.isContent)&&(K!=null&&K.active)&&(F==null||F.pause())}unpauseVideo(g){const P=this.session||this.sessionExp;if(!P)return;const F=P.audioVideo.getVideoTile(g),K=F==null?void 0:F.state();K!=null&&K.paused&&(F==null||F.unpause())}videoTileHasStream(g){const P=this.session||this.sessionExp;if(!P)return!1;const F=P.audioVideo.getVideoTile(g);if(!F)return!1;const K=F.state();return K?!!K.boundVideoStream:!1}getMeetingMediaRegion(){var g;return(g=this.meeting)===null||g===void 0?void 0:g.MediaRegion}completePrejoin(g){var P=this;return Object(s.coroutine)(function*(){const{isStartMuted:F}=g;if(P.isPrejoin){var K,fe;return F&&((K=P.deviceManager)===null||K===void 0||K.setStartMutedBarrier(F)),(fe=P.audioVideoObserver)===null||fe===void 0||fe.start(),P.maybeBindAudioOutputElement(),P.setIncludeSelfAndNoneActiveSpeaker(!0,!0),P.isPrejoin=!1,!0}return!1})()}urlRewriter(g){if(!g)return g;if(this.transportProtocols){const fe=this.transportProtocols;if(g.includes("?transport=udp")&&!fe.includes("udp")){var P;return(P=this.callLogger)===null||P===void 0||P.info("Dropping UDP transport"),""}if(g.includes("?transport=tcp")){if(g.includes("turns:")){if(!fe.includes("tls")){var F;return(F=this.callLogger)===null||F===void 0||F.info("Dropping TLS transport"),""}}else if(!fe.includes("tcp")){var K;return(K=this.callLogger)===null||K===void 0||K.info("Dropping TCP transport"),""}}}return g.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var g,P=this;const F=function(){var K=Object(s.coroutine)(function*(){try{var fe;P.videoDevicePermissionStatus="IN_PROGRESS";const Te=yield navigator.mediaDevices.getUserMedia({video:!0});return(fe=P.callLogger)===null||fe===void 0||fe.info("Video device permissions granted"),P.videoDevicePermissionStatus="GRANTED",Te}catch(Te){var Me;throw P.videoDevicePermissionStatus="DENIED",P.observer.onSetNoMediaInput(c.i.CAMERA),(Me=P.callLogger)===null||Me===void 0||Me.info("Video device permissions denied"),Te}});return h(function(){return K.apply(this,arguments)},"callback")}();(g=this.defaultDeviceController)===null||g===void 0||g.setDeviceLabelTrigger(F)}maybeEnableSelfCamera(){let{isScreenshareEnabled:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var P=this;return Object(s.coroutine)(function*(){if((yield P.initVideoPermission())&&(P.videoDevicePermissionStatus==="INITIAL"||P.videoDevicePermissionStatus==="GRANTED")){var K;P.selfVideoEnabled(!0,!!g),P.observer.onPeerCameraActive("self",!0),(K=P.callLogger)===null||K===void 0||K.info("maybeEnableSelfCamera:: enabling camera function executed")}})()}initVideoPermission(){var g=this;return Object(s.coroutine)(function*(){var P;return g.setupVideoDeviceLabelTrigger(),yield(P=g.deviceManager)===null||P===void 0?void 0:P.initVideoInputDevices()})()}getSelfAttendeeId(){return this.selfAttendeeId}connect(){var g=this;return Object(s.coroutine)(function*(){var P;if((yield(P=g.options)===null||P===void 0?void 0:P.userGrantedPermissionToJoin)===!0)if(g.isPrejoin){var F,K,fe,Me,Te;if((F=g.callLogger)===null||F===void 0||F.info("[NO-AUDIO-DEBUG] Pre-join connection initiated. Initializing device manager"),yield(K=g.deviceManager)===null||K===void 0?void 0:K.init(),g.applyPrejoinNoAudioFix){var xe,He;(xe=g.callLogger)===null||xe===void 0||xe.info("[NO-AUDIO-DEBUG] Pre-join device manager initialized."),(He=g.callLogger)===null||He===void 0||He.info("[NO-AUDIO-DEBUG] Prejoin audio fix applied. Skipping initNullMicrophone")}else{var ze,Be,Mt;(ze=g.callLogger)===null||ze===void 0||ze.info("[NO-AUDIO-DEBUG] Pre-join device manager initialized. Now initializing null microphone"),yield(Be=g.deviceManager)===null||Be===void 0?void 0:Be.initNullMicrophone(),(Mt=g.callLogger)===null||Mt===void 0||Mt.info("[NO-AUDIO-DEBUG] Pre-join null microphone initialized.")}(fe=g.callLogger)===null||fe===void 0||fe.info("[NO-AUDIO-DEBUG] Now starting session with signaling only."),(Me=g.audioVideoObserver)===null||Me===void 0||Me.startWithSignalingOnly(),(Te=g.callLogger)===null||Te===void 0||Te.info("[NO-AUDIO-DEBUG] Pre-join session started with signaling only.")}else{var Pt,Qt;(Pt=g.audioVideoObserver)===null||Pt===void 0||Pt.start(),(Qt=g.deviceManager)===null||Qt===void 0||Qt.init()}})()}constructor(g,P,F="FREE-WILLY-SDK",K=c.o.DampedSwitching){this.observer=g,this.audioOutputElement=P,this.loggerName=F,this.windowedActiveSpeakerPolicyMode=K,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=Object(l.a)(),this.waitForStop=Object(l.a)(),this.applyPrejoinNoAudioFix=!1,this.applyAudioInitFix=!1,this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(Me=>Me.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)};var fe=this;this.cleanupDefaultDeviceControllerRefs=Object(s.coroutine)(function*(){var Me;if(!fe.defaultDeviceController)return;yield fe.defaultDeviceController.destroy();const Te=(Me=fe.defaultDeviceController)===null||Me===void 0?void 0:Me.eventController;if(Te){var xe;const He=(xe=Te.configuration)===null||xe===void 0?void 0:xe.urls;He&&(He.urlRewriter=void 0)}fe.defaultDeviceController.deviceLabelTrigger=void 0,delete fe.defaultDeviceController}),this.handleClientOffline=()=>{var Me;(Me=this.audioVideoObserver)===null||Me===void 0||Me.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=Me=>{var Te;(Te=this.videoStreamsManager)===null||Te===void 0||Te.toggleAllIncomingVideo(Me)},this.videoDevicePermissionStatus="INITIAL"}}h(sn,"free_willy_sdk_FreeWillySdk")},lihz:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("xwCZ"),t=e("Yauy");const a=h((r,l)=>{const o=Object(s.c)(r);return l?o.id===Object(t.g)(l):!1},"isCurrentUserChannelCreator")},lkvs:function(H,n,e){"use strict";var s=e("vfQU"),t=e("ZbzB"),a=e("Kyco"),r=e("Jc4w"),l=e("GYPw"),o=e("WUSA"),i=e("j77i");let u=!1;Object(t.a)()?u=window.matchMedia(l.e).matches:Object(t.c)()&&(u=Object(s.J)("settings","shouldUseHighContrastColors"));let d=!1;try{d=!!Object(i.f)(l.j)}catch{}let m;try{m=Object(i.f)(l.a)}catch{}let c;try{c=Object(i.f)(l.g)||1}catch{}let E;try{E=Object(i.f)(l.f)||1}catch{}let f;try{f=Object(i.f)(l.h)||"0"}catch{}let O;try{var p;O=(p=Object(i.f)(l.c))!==null&&p!==void 0?p:""}catch{O=""}let b;try{var T;b=(T=Object(i.f)(l.d))!==null&&T!==void 0?T:""}catch{b=""}let v;try{v=Object(i.f)(l.b)}catch{v=void 0}let S;try{var A;S=(A=Object(i.f)(l.i))!==null&&A!==void 0?A:!0}catch{S=!0}const I={screenReaderEnabled:!1,shouldUseHighContrastColors:u,useARIAApplicationForListViews:d,composerUpArrowShortcutBehavior:m,messageTextLineSpacing:c,messageSpacing:E,messageTextWordSpacing:f,conversationIncomingMessageSound:O,conversationSentMessageSound:b,conversationIncomingMessageAnnouncement:v,peeksEnabledOnMouseEnter:S},_=Object(a.b)({},I,{storeKey:"accessibility",persistenceEnabled:!1}).on(o.a,(M,y)=>y!=null&&y.message?{...M,announcerAPIAnnouncement:y}:M).on(o.j,(M,y)=>typeof y!="boolean"||y===M.screenReaderEnabled?M:{...M,screenReaderEnabled:y}).on(o.k,function(M){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof y!="boolean"||y===M.shouldUseHighContrastColors?M:{...M,shouldUseHighContrastColors:y}}).on(o.l,function(M){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...M,useARIAApplicationForListViews:y}}).on(o.b,function(M){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.a.LIST;return{...M,composerUpArrowShortcutBehavior:y}}).on(o.g,function(M){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageTextLineSpacing:y}}).on(o.f,function(M){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageSpacing:y}}).on(o.h,function(M){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...M,messageTextWordSpacing:y}}).on(o.d,(M,y)=>({...M,conversationIncomingMessageSound:y})).on(o.e,(M,y)=>({...M,conversationSentMessageSound:y})).on(o.c,(M,y)=>({...M,conversationIncomingMessageAnnouncement:y})).on(o.i,(M,y)=>({...M,peeksEnabledOnMouseEnter:y}));n.a=_},lmdu:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("ZKjC"),t=e("UOL+"),a=e("i5Ig"),r;const l=Object(s.b)(m=>{var c;return(r=(c=Object(t.a)(m))===null||c===void 0?void 0:c.messagesMeta)!==null&&r!==void 0?r:m==null?void 0:m.messagesMeta});var o;l.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:m=>{var c;return(o=(c=Object(t.a)(m))===null||c===void 0?void 0:c.messagesMeta)!==null&&o!==void 0?o:m==null?void 0:m.messagesMeta}};var i;const u=Object(s.b)((m,c)=>{let{channelId:E,ts:f}=c;var O,p;return(i=(O=l(m))===null||O===void 0||(p=O[E])===null||p===void 0?void 0:p[f])!==null&&i!==void 0?i:a.b});var d;u.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(m,c)=>{let{channelId:E,ts:f}=c;var O,p;return(d=(O=l(m))===null||O===void 0||(p=O[E])===null||p===void 0?void 0:p[f])!==null&&d!==void 0?d:a.b}}},lrwl:function(H,n,e){"use strict";var s=e("Cfcg"),t=e("C3vN"),a=e("+tZp"),r=e("Fn/R"),l=e("ehcD"),o=e("9I4P"),i=e("QLhP"),u=e("beVI"),d=e("O86Y"),m=e("yrot"),c=e("LvvF"),E=e("tg2r"),f=e("6JJY"),O=e("BfA7"),p=e("I0j/"),b=e("ivl2"),T=e("ny0b"),v=e("MzqU"),S=e("ykb+"),A=e("pu3F"),I=e("bbt7"),_=e("XcRx");let M=h((D,N)=>{const{user:B,userId:L,botId:R,botProfile:U,size:W,icons:x,emoji:G,team:w,slackbotFeels:se,isUnknown:ee,showPresence:X}=N;let me=null,Oe=null,Ce,le,de,ie,pe=G,ne,q,ce,ge;const{member:be,bot:Q,memberIsHuman:re}=Object(i.f)(D,{userId:L,botId:R,botProfile:U});if(B||L||ee){const k=B||be;if(k&&!k.isUnknown&&!k.is_unknown){var z;R||(ne=Q==null?void 0:Q.id);const ae=Object(T.a)({size:W,teamOrEnterpriseId:Object(r.a)(k)?Object(l.d)(k):Object(l.e)(k),memberId:k.id,avatarHash:k==null||(z=k.profile)===null||z===void 0?void 0:z.avatar_hash,slackbotFeels:se});me=ae.imageUrl,Oe=ae.imageUrl2x,le=N.isExternal||k.isExternal,Ce=le?Object(l.c)(D,k):void 0,de=k.is_restricted,ie=k.is_ultra_restricted,q=Object(a.a)(D,k),ce=k.id,ge=Object(t.V)(k)}}else{let k=x||U&&U.icons;Q&&(k=k||Q.icons,q=Object(o.a)(Q));const ae=Object(S.b)()?v.a:v.b;if(Q&&Q.app_id===ae&&(k=Q.icons||k),!pe&&k&&(pe=k.emoji),!pe){const Ee=Object(T.a)({size:W,botImages:k,isBot:!0});me=Ee.imageUrl,Oe=Ee.imageUrl2x}Ce=(w==null?void 0:w.id)||Object(o.d)(D,{bot:Q,botProfile:U}),le=Ce?Ce!==Object(d.i)(D):!1}let Y=pe&&Ce&&Object(m.q)(D,{text:pe,teamId:Ce});if(!Y&&pe&&Ce===Object(d.i)(D)){const k=Object(u.g)(D),ae=k&&k.id;ae&&ae!==Ce&&(Y=Object(m.q)(D,{text:pe,teamId:ae}))}const ve=X?Object(_.a)(D,L):void 0,Z=X?Object(b.a)(D,L):!1;var $;const te=($=L??ce)!==null&&$!==void 0?$:"",J=te?Object(c.b)(D,te):!1;return{userId:L||ce,imageUrl:me||void 0,imageUrl2x:Oe||void 0,botEmoji:pe,canRenderEmoji:!!Y,teamId:Ce,isRestricted:de,isUltraRestricted:ie,isDeleted:ge,memberOrBotName:q,botId:ne||R,disableLink:!re&&(!Q||Object(t.rb)(Q)),isExternal:le,isUserHidden:J,userType:ve,isDnd:Z,isSlackbot:L===A.W}},"mapStateToProps"),y=h(D=>({openProfile:N=>D(Object(E.a)(N)),showMemberProfileInWindow:N=>D(Object(f.a)(N)),navigate:N=>D(Object(p.a)(N))}),"mapDispatchToProps");const j={mapStateToProps:M,mapDispatchToProps:y};Object.defineProperty(j,"mapStateToProps",{get:()=>M,set:D=>{M=D}}),Object.defineProperty(j,"mapDispatchToProps",{get:()=>y,set:D=>{y=D}});const C=Object(O.a)(Object(s.a)(M,y)(I.b));C.displayName="ConnectedAvatar",n.a=C},m1zK:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("DneB"),l=e("ifKl"),o=e("i5Ig"),i=e("B4ch"),u=e("E3dU"),d=e("+CZ0"),m=e("3vtZ"),c=e("E97Y"),E=e("hXnR"),f=e("9oTK"),O=e("cZF4"),p=e("/MKj"),b=e("qDEp"),T=e("WMzb"),v=e("y6S6"),S=e("CDqL"),A=e("nWdO"),I=e("8aX7"),_=e("YUBf"),M=e("GNR7"),y=e("9Gfp"),j=e("sgFo"),C=e("nNoG"),D=e("Yauy"),N=e("jWAO"),B=e("+tZp"),L=e("xwCZ"),R=e("Tevt"),U=e("ZElP");const W=new C.b("huddles");function x(ve){let{members:Z,createNewMpim:$}=ve;var te,J,k;const ae=Object(a.g)(je=>Z.map(Ue=>Object(B.a)(je,Object(L.g)(je,Ue.slackId))));if(!Z)return null;const Ee=ae&&ae.slice(3),_e=W.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:Z.length,name1:t.a.createElement(U.a,{slackId:(te=Z[0])===null||te===void 0?void 0:te.slackId}),name2:t.a.createElement(U.a,{slackId:(J=Z[1])===null||J===void 0?void 0:J.slackId}),name3:t.a.createElement(U.a,{slackId:(k=Z[2])===null||k===void 0?void 0:k.slackId}),numOthers:t.a.createElement(A.c,{zIndex:"above_fs",position:"top",tip:Object(C.h)(Ee)},t.a.createElement("span",null,Z.length-3))},je=>{let{text:Ue,tag:Ke}=je;return Ke==="a"?t.a.createElement(R.a,{onClick:$},Ue):null});return t.a.createElement(N.d,{level:N.b.info,type:N.c.custom},_e)}h(x,"HuddleInviteMpimAlert"),x.displayName="HuddleInviteMpimAlert";var G=x,w=e("s9Q6"),se=e("beVI"),ee=e("G0eX"),X=e("hAJ3"),me=e("Trx9"),Oe=e("ktUG"),Ce=e("WAPM"),le=e("fPvf"),de=e("U1tW"),ie=e("trVL"),pe=e("Z3RE"),ne=e("p6pj"),q=e("6SBE"),ce=e("FN5i");const ge=new C.b("huddles"),be={elementName:"learn_more",onClick:{enableClogAction:!0}};function Q(ve){let{closeModal:Z,callId:$,channelId:te,selectedMemberIds:J=o.a}=ve;const k=Object(p.useDispatch)(),ae=Object(T.a)(),Ee=Object(a.d)(y.a),_e=Object(a.d)(m.H),je=Object(a.d)(St=>Object(u.d)(St,te)),Ue=Object(a.d)(j.A),Ke=Object(a.g)(St=>Object(M.g)(St,te).filter(vt=>vt.id!==Ee).map(vt=>vt.id)),[ke,Qe]=Object(s.useState)(J),[Ze,De]=Object(s.useState)(!1),Fe=Object(a.g)(St=>!te||!(ke!=null&&ke.length)?[]:ke.filter(Yt=>{const et=Object(v.c)(St,te,Yt);return et&&et.isKnown&&!(et!=null&&et.isMember)?Yt:!1})),Ve=Object(a.d)(se.g),Je=Object(ee.G)(Ve),Ot=Object(a.d)(w.i),ht=Object(s.useCallback)(St=>{Qe(St)},[]),Le=Object(s.useCallback)(St=>{Qe(ke.concat(St))},[ke]),jt=Object(s.useMemo)(()=>{const St=Object(D.x)(je);return Array.isArray(St)?St:[]},[je]),Ut=jt.filter(St=>St!==Ee),Ie=Object(s.useCallback)(Object(f.coroutine)(function*(){if(!te)return;let St=ke.concat(Ke);return jt&&(St=Object(O.a)(St,jt)),k(Object(X.a)({channelId:te,memberIds:St})).then(()=>{Z()}).catch(vt=>{ae.error(vt),De(!1)})}),[te,ke,Ke,jt,k,Z,ae]),oe=Object(s.useCallback)(Object(f.coroutine)(function*(){if(!te)return;De(!0);const St=ke.concat(Ke);return k(Object(S.a)({channelId:te,userIds:St})).then(()=>{Z()}).catch(vt=>{ae.error(vt),De(!1)})}),[te,Z,k,ae,Ke,ke]),ye=h(()=>Je&&!Ue?t.a.createElement(de.a,null):Ot?t.a.createElement(le.b,null):null,"maybeRenderBanner");ye.displayName="maybeRenderBanner";let Ne,Ge,st,$e;const It=h(St=>{const vt=St.map(Yt=>t.a.createElement(I.a,{key:Yt,isBold:!1,id:Yt}));return vt&&Object(C.h)(vt)},"listifiedOverflowMembers");It.displayName="listifiedOverflowMembers",Je&&Ue?(Ne=ge.t("Invite someone else to your huddle"),st=ge.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(Ut==null?void 0:Ut.length)-1,firstParticipant:t.a.createElement(I.a,{isBold:!1,id:Ut[0]}),secondParticipant:t.a.createElement(I.a,{isBold:!1,id:Ut[1]}),"<a>":St=>{let{text:vt}=St;return t.a.createElement(A.c,{zIndex:"above_fs",tip:It(Ut==null?void 0:Ut.slice(1))},t.a.createElement("span",null,vt))},"<b>":St=>{let{text:vt}=St;return t.a.createElement("b",null,vt)}}),$e=ge.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":St=>{let{text:vt}=St;return t.a.createElement(Ce.a,{articleId:4402059015315,ariaLabel:ge.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:be},vt)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(Ne=ge.t("Invite people to your huddle"),Ge=ge.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const Lt=Object(s.useMemo)(()=>ke.length>1?ge.t("Send Invites"):ge.t("Send Invite"),[ke]);return!_e||!te?null:t.a.createElement(_.a,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Z,contentLabel:Ne,shouldReturnFocusAfterClose:!0},t.a.createElement(_.i,null,t.a.createElement(_.l,{title:Ne,subtitle:Ge})),t.a.createElement(_.d,null,t.a.createElement(_.e,null,(st||$e)&&t.a.createElement("p",null,st,$e),t.a.createElement(pe.a,{isFreeTeam:Je,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:Ue,channel:je,otherMembersInHuddle:Ke,onSelectedMembersChange:ht,selectedMemberIds:ke}),(Fe==null?void 0:Fe.length)>0&&t.a.createElement(G,{members:Fe.map(St=>({slackId:St})),createNewMpim:Ie})),t.a.createElement(q.a,{activeHuddleCallId:$,channel:je,isFreeTeam:Je,onSuggestedUserSelected:Le,otherMembersInHuddle:Ke,selectedMemberIds:ke}),ye()),t.a.createElement(_.g,null,t.a.createElement(ne.a,{channelId:te}),t.a.createElement(_.h,null,t.a.createElement(_.c,{type:"outline"},ge.t("Cancel")),t.a.createElement(me.a,{clogImpression:!0,eventId:Oe.EventId.HUDDLES_MPIM_INVITE},t.a.createElement(b.c,{loading:Ze,onClick:oe,type:"primary",disabled:!ke.length},Lt)))),Ue&&Je&&t.a.createElement(ie.a,{selectedMemberIds:ke}))}h(Q,"HuddleInviteMpim"),Q.displayName="HuddleInviteMpim";var re=Q;function z(ve){let{closeModal:Z=l.a,selectedMemberIds:$=o.a}=ve;const te=Object(a.d)(m.H),J=Object(r.b)(d.a),k=Object(r.b)(d.b),ae=Object(a.d)(Ee=>Object(u.d)(Ee,k));return te?Object(c.h)(ae)?t.a.createElement(re,{callId:J,channelId:k,closeModal:Z,selectedMemberIds:$}):t.a.createElement(E.a,{callId:J,channel:ae,closeModal:Z,selectedMemberIds:$}):null}h(z,"HuddleInviteOrStartModal"),z.displayName="HuddleInviteOrStartModal";var Y=n.a=Object(i.a)(z,{isStackable:!0})},m2C9:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("7lBi"),t=e("SQ0V"),a=e("u43d"),r=e("ED1u"),l=e("j77i");const o=Object(t.c)("Sets whether or not the user prefers a responsive sidebar",(i,u,d)=>{Object(a.a)(u())&&Object(l.w)(s.E,d),i(Object(r.f)(d))});o.meta={name:"createThunk",key:"createThunksetUserPrefersResponsiveSidebar",description:"Sets whether or not the user prefers a responsive sidebar"}},mHzN:function(H,n,e){H.exports=e.p+"slackbot_frowny_512-955a74f.png"},mNat:function(H,n,e){"use strict";e.d(n,"l",function(){return te}),e.d(n,"n",function(){return Fe}),e.d(n,"a",function(){return Je}),e.d(n,"b",function(){return Ut}),e.d(n,"p",function(){return oe}),e.d(n,"e",function(){return ye}),e.d(n,"c",function(){return Ne}),e.d(n,"d",function(){return Ge}),e.d(n,"f",function(){return st}),e.d(n,"q",function(){return $e}),e.d(n,"k",function(){return It}),e.d(n,"o",function(){return Lt}),e.d(n,"m",function(){return St}),e.d(n,"g",function(){return vt}),e.d(n,"h",function(){return Yt}),e.d(n,"i",function(){return et}),e.d(n,"r",function(){return Ft}),e.d(n,"s",function(){return mt}),e.d(n,"j",function(){return Zt});var s=e("a83l"),t=e("8/D0"),a=e("Op30"),r=e("UIhb"),l=e("P9LH"),o=e("+l5E"),i=e("rebY"),u=e("sAkM"),d=e("Ar8P"),m=e("417x"),c=e("DcSV"),E=e("u7F4"),f=e("/0zS"),O=e("1Lli"),p=e("lCmp"),b=e("ZP0B"),T=e("Z0Cl"),v=e("wd/R"),S=e.n(v),A=e("Pq/0"),I=e("fGfo");function _(gt,at){var it;const dt=Object(I.i)(gt);if(!gt||!at||!dt||!Object(I.n)(gt))return null;const _t=(it=dt.find(Ye=>Ye.type===t.a.User&&Ye.key===A.a.Owner))===null||it===void 0?void 0:it.key;if(!_t)return null;const Dt=new Set;return Object.values(at).forEach(Ye=>{const Xe=Ye.fields[_t];Xe&&Dt.add(Xe)}),Array.from(Dt)}h(_,"getRecordOwnerIds");var M=e("vkwO"),y=e.n(M),j=e("VFO2"),C=e.n(j),D=e("5Vg5"),N=e.n(D),B=e("GapZ"),L=e.n(B),R=e("CFdI"),U=e.n(R),W=e("7/Cr"),x=e.n(W),G=e("7Ehu"),w=e.n(G),se=e("kp40"),ee=e.n(se),X=e("pUqw"),me=e.n(X),Oe=e("COk/"),Ce=e.n(Oe),le=e("PaS2"),de=e.n(le),ie=e("42/h"),pe=e.n(ie),ne=e("sr/F"),q=e.n(ne),ce=e("RnUY"),ge=e.n(ce),be=e("4SNR"),Q=e.n(be),re=e("eDDn"),z=e("xwCZ"),Y=e("52Wj"),ve=e("E3dU"),Z=e("Yauy"),$=e("hwN2");const te=h(gt=>{let{record:at,colKey:it}=gt;var dt,_t,Dt,Ye,Xe;return!(at==null||(dt=at.fallback)===null||dt===void 0)&&dt[it]?at.fallback[it]:!(at==null||(_t=at.fields)===null||_t===void 0||(Dt=_t.fallback)===null||Dt===void 0)&&Dt[it]?at==null||(Ye=at.fields)===null||Ye===void 0||(Xe=Ye.fallback)===null||Xe===void 0?void 0:Xe[it]:at[it]?Object(d.a)(at[it])?at[it][0].elements[0].elements[0].text:at[it].toString():""},"getStringValue"),J=h(gt=>{const at=S()(gt).startOf("isoWeek"),it=S()(gt).endOf("isoWeek"),dt=[];let _t=at;for(;_t<=it;)dt.push(_t),_t=_t.clone().add(1,"days");return dt},"getWeekdays"),k=h((gt,at)=>{const it="YYYY-MM-DD";let dt;switch(gt){case re.b.Today:dt=S()().format(it);break;case re.b.Yesterday:dt=S()().subtract(1,"days").format(it);break;case re.b.Tomorrow:dt=S()().add(1,"days").format(it);break;case re.b.ThisWeek:dt=J(S()()).map(Dt=>Dt.format(it));break;case re.b.NextWeek:dt=J(S()().add(1,"weeks")).map(Dt=>Dt.format(it));break;case re.b.LastWeek:dt=J(S()().subtract(1,"weeks")).map(Dt=>Dt.format(it));break;case re.b.SinceILastViewed:return dt=S.a.unix(at),dt;default:dt=S()(gt,it).format(it)}return Array.isArray(dt)?dt.map(Dt=>S()(Dt,it)):S()(dt,it)},"convertDynamicDateToStatic"),ae=h((gt,at,it)=>{switch(gt){case a.a.NotEqual:return!(at!=null&&at.isSame(it));case a.a.GreaterThan:return at==null?void 0:at.isBefore(it);case a.a.GreaterThanOrEqual:return at==null?void 0:at.isSameOrBefore(it);case a.a.LessThan:return at==null?void 0:at.isAfter(it);case a.a.LessThanOrEqual:return at==null?void 0:at.isSameOrAfter(it);case a.a.Equal:default:return at==null?void 0:at.isSame(it)}},"dateOperatorFilterValueCheck"),Ee=h(function(gt,at,it){let dt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const _t=dt?at:at==null?void 0:at.clone().startOf("day"),Dt=dt?it:it==null?void 0:it.clone().startOf("day");switch(gt){case a.a.NotEqual:return!(_t!=null&&_t.isSame(Dt));case a.a.GreaterThan:return _t==null?void 0:_t.isBefore(Dt);case a.a.GreaterThanOrEqual:return _t==null?void 0:_t.isSameOrBefore(Dt);case a.a.LessThan:return _t==null?void 0:_t.isAfter(Dt);case a.a.LessThanOrEqual:return _t==null?void 0:_t.isSameOrAfter(Dt);case a.a.Equal:default:return _t==null?void 0:_t.isSame(Dt)}},"multiDateOperatorFilterValueCheck"),_e=h((gt,at,it)=>{if(!at.values[0])return gt;const dt=at.values[0]?S()(at.values[0].toString()):void 0;return gt.filter(_t=>{const Dt=_t[at.key]?S()(_t[at.key]):void 0;return dt&&Dt&&ae(it,dt,Dt)})},"dateFilter"),je=h((gt,at,it,dt)=>{if(!at.values[0])return gt;let _t=it;const Dt=at.values[0]===re.b.SinceILastViewed;return Dt&&(_t=a.a.GreaterThan),gt.filter(Ye=>{const Xe=Ye[at.key];let kt=Xe?S()(Xe).startOf("day"):void 0;return isNaN(Xe)||(kt=S.a.unix(Xe)),at.values.some(Bt=>{if(!Bt)return!1;const wt=k(Bt.toString(),dt);return Array.isArray(wt)?_t===a.a.NotEqual?!wt.some(we=>we&&kt?we.clone().startOf("day").isSame(kt):!1):wt.some(we=>we&&kt?Ee(_t,we,kt):!1):wt&&kt?Ee(_t,wt,kt,Dt):!1})})},"multiDateFilter"),Ue=h((gt,at,it)=>{const dt=at.values[0]?S()(at.values[0].toString()):void 0;return gt.filter(_t=>{const Dt=_t[at.key]?S.a.unix(_t[at.key]):void 0;return dt&&Dt&&ae(it,dt,Dt)})},"dateTimestampFilter"),Ke=h((gt,at,it)=>{const dt=at.values[0]||"";return gt.filter(_t=>{const Dt=_t[at.key]||"";switch(it){case a.a.DoesNotContain:return!Dt.toLowerCase().includes(dt.toString().toLowerCase());case a.a.Contains:default:return Dt.toLowerCase().includes(dt.toString().toLowerCase())}})},"textFilter"),ke=h((gt,at,it)=>{const dt=at.values[0]||"";return gt.filter(_t=>{const Dt=te({record:_t,colKey:at.key});switch(it){case a.a.DoesNotContain:return!Dt.toLowerCase().includes(dt.toString().toLowerCase());case a.a.Contains:default:return Dt.toLowerCase().includes(dt.toString().toLowerCase())}})},"richTextFilter"),Qe=h((gt,at,it)=>{if(!at.values.length)return gt;var dt;const _t=Number((dt=at.values[0])!==null&&dt!==void 0?dt:"");return gt.filter(Dt=>{var Ye;const Xe=Number((Ye=Dt[at.key])!==null&&Ye!==void 0?Ye:"");if(!(_t&&!Xe))switch(it){case a.a.NotEqual:return Xe!==_t;case a.a.GreaterThan:return Xe>_t;case a.a.GreaterThanOrEqual:return Xe>=_t;case a.a.LessThan:return Xe<_t;case a.a.LessThanOrEqual:return Xe<=_t;case a.a.Equal:default:return Xe===_t}})},"numberFilter"),Ze=h((gt,at,it)=>{const dt=new Set(at.values);return dt.size?gt.filter(_t=>{var Dt;const Ye=String((Dt=_t[at.key])!==null&&Dt!==void 0?Dt:"");switch(it){case a.a.Contains:return dt.has(Ye);case a.a.DoesNotContain:return!dt.has(Ye);case a.a.IsEmpty:return Ye===null;case a.a.IsNotEmpty:return Ye!==null;default:return!0}}):gt},"multiRatingFilter"),De=h((gt,at,it,dt)=>{const _t=new Set(at.values);return _t.size?gt.filter(Dt=>{const Ye=Dt[at.key],Xe=(Ye??"").split(s.r).filter(Boolean);let kt=!1;for(const Bt of Xe){if(_t.has(Bt)){kt=!0;break}if(!dt)break}return it===a.a.Equal?kt:it===a.a.NotEqual?!kt:it===a.a.Contains?kt:it===a.a.DoesNotContain?!kt:!0}):gt},"multiOptionFilter");function Fe(gt){return gt===0?!1:!gt||Array.isArray(gt)&&gt.length===0}h(Fe,"isEmptyValue");const Ve=h((gt,at,it,dt,_t,Dt)=>{let Ye=gt;return at.forEach(Xe=>{const kt=it.find(ot=>ot.key===Xe.key);if(!kt)return;const Bt=Xe.operator;if(Bt===a.a.IsEmpty){Ye=Ye.filter(ot=>Fe(ot[Xe.key]));return}if(Bt===a.a.IsNotEmpty){Ye=Ye.filter(ot=>!Fe(ot[Xe.key]));return}switch(kt.type){case t.a.Text:Ye=ke(Ye,Xe,Bt);break;case t.a.Email:case t.a.Phone:Ye=Ke(Ye,Xe,Bt);break;case t.a.Number:case t.a.Currency:Ye=Qe(Ye,Xe,Bt);break;case t.a.Rating:Ye=Ze(Ye,Xe,Bt);break;case t.a.Date:case t.a.CreatedTime:case t.a.DueDate:Ye=Dt?je(Ye,Xe,Bt,_t):_e(Ye,Xe,Bt);break;case t.a.LastEditedTime:Ye=Ue(Ye,Xe,Bt);break;case t.a.Checkbox:case t.a.Completed:return;case t.a.Select:var wt;Ye=De(Ye,Xe,Bt,((wt=kt.options)===null||wt===void 0?void 0:wt.format)===u.n.MultiSelect);break;case t.a.Channel:case t.a.User:case t.a.Assignee:case t.a.CreatedBy:case t.a.LastEditedBy:switch(Bt){case a.a.IsMe:Ye=Ye.filter(ot=>{var yt;return(yt=ot[Xe.key])===null||yt===void 0?void 0:yt.includes(dt)});break;case a.a.IsNotMe:Ye=Ye.filter(ot=>{var yt;return!(!((yt=ot[Xe.key])===null||yt===void 0)&&yt.includes(dt))});break;default:var we;Ye=De(Ye,Xe,Bt,((we=kt.options)===null||we===void 0?void 0:we.format)===u.e.MultiEntity)}break;default:Ye=Ke(Ye,Xe,Bt);break}}),Ye},"applyFiltersToRecords"),Je=new Map([[t.a.Text,""],[t.a.Email,""],[t.a.Date,""],[t.a.Checkbox,!1],[t.a.Completed,!1],[t.a.Number,0],[t.a.Rating,0],[t.a.CreatedTime,0],[t.a.LastEditedTime,0],[t.a.Channel,""],[t.a.User,""],[t.a.CreatedBy,""],[t.a.LastEditedBy,""]]),Ot=h((gt,at,it,dt)=>{const _t=at.map(kt=>kt.ascending?"asc":"desc"),Dt=new Map;for(const kt of it)if(kt.type===t.a.Select){var Ye;const Bt=((Ye=kt.options)===null||Ye===void 0?void 0:Ye.choices)||[];for(let wt=0;wt<Bt.length;wt++){const we=Bt[wt],ot=`${kt.key}:${we.value}`;Dt.set(ot,wt)}}const Xe=at.map(kt=>Bt=>{const wt=it.find(vn=>vn.key===kt.key);if(!wt)return"";var we;let ot=(we=Bt[kt.key])!==null&&we!==void 0?we:Je.get(wt.type||t.a.Text);if(wt.type===t.a.Select){var yt,Kt;const vn=(((yt=wt.options)===null||yt===void 0?void 0:yt.choices)||[]).length;var Xt;let lt=((Xt=Bt[kt.key])!==null&&Xt!==void 0?Xt:"").split(s.r).filter(Boolean);if(vn===0||lt.length===0)return-1;((Kt=wt.options)===null||Kt===void 0?void 0:Kt.format)!==u.n.MultiSelect&&(lt=lt.slice(0,1));let ct=vn;for(const Rt of lt){const zt=`${wt.key}:${Rt}`;var cn;const mn=(cn=Dt.get(zt))!==null&&cn!==void 0?cn:vn;ct=Math.min(ct,mn)}ot=ct<vn?ct:-1}if((wt==null?void 0:wt.type)===t.a.User&&dt[Bt[kt.key]]&&(ot=dt[Bt[kt.key]].toLowerCase()),(wt==null?void 0:wt.type)===t.a.Text&&(ot=te({record:Bt,colKey:kt.key})),wt.type===t.a.Vote){var gn;ot=((gn=Bt[kt.key])!==null&&gn!==void 0?gn:"").split(s.r).filter(Boolean).length}return ot});return Object(O.a)(gt,Xe,_t)},"applySortToRecords"),ht=new Set([t.a.Text,t.a.Email,t.a.Phone,t.a.Number,t.a.Rating,t.a.Select]),Le=h((gt,at,it)=>{const dt=at.filter(kt=>ht.has(kt.type)),_t=new Map;for(const kt of dt)if(kt.type===t.a.Select){var Dt,Ye;const Bt=(Ye=(Dt=kt.options)===null||Dt===void 0?void 0:Dt.choices)!==null&&Ye!==void 0?Ye:[];for(const{value:wt,label:we}of Bt){const ot=`${kt.key}:${wt}`;_t.set(ot,we)}}const Xe=it.toLowerCase();return gt.filter(kt=>Object(p.a)(dt,Bt=>{const wt=te({record:kt,colKey:Bt.key});if(Bt.type===t.a.Select){var we;let yt=wt.split(s.r).filter(Boolean);((we=Bt.options)===null||we===void 0?void 0:we.format)===u.n.MultiSelect||(yt=yt.slice(0,1));for(const Xt of yt){const cn=`${Bt.key}:${Xt}`;var ot;if(((ot=_t.get(cn))!==null&&ot!==void 0?ot:wt).toLowerCase().includes(Xe))return!0}}return wt.toLowerCase().includes(Xe)}))},"applySearchStringToRecords"),jt=h(gt=>{let{listRecords:at,records:it}=gt;return it.map(dt=>{const _t=at==null?void 0:at[dt.id];return{...dt,highlightAsNew:_t==null?void 0:_t.highlightAsNew}})},"applyHighlightAsNew"),Ut=h(gt=>{let{listRecords:at,records:it,schema:dt,filterObj:_t,sortObj:Dt,searchString:Ye,lastReadTimestamp:Xe,experimentChromeGroupOn:kt=!1}=gt,Bt=it;if(_t){const{filters:wt,currentUserId:we}=_t;Bt=Ve(Bt,wt,dt,we,Xe,kt)}if(Dt){const{sorts:wt,userNames:we}=Dt;Bt=Ot(Bt,wt,dt,we)}return Ye&&(Bt=Le(Bt,dt,Ye)),Bt=jt({listRecords:at,records:Bt}),Bt},"applyModifiersToRecords");function Ie(gt,at,it){const dt=Object(r.b)(gt,at,it);return dt&&!Object(i.a)(dt)&&!Object(o.bb)(dt)&&!Object(o.pb)(dt)}h(Ie,"isValidMarkedMessageForListThread");function oe(gt,at,it){return Object(b.a)(Object(T.a)(it,dt=>Ie(gt,at,dt)))}h(oe,"maxRealTsForListThread");function ye(gt,at,it,dt,_t){let Dt=(it==null?void 0:it.position)||0;if(gt&&at){var Ye,Xe,kt,Bt,wt;const zt=Number((wt=(Ye=dt[gt.id])===null||Ye===void 0?void 0:Ye.position)!==null&&wt!==void 0?wt:0);var we;const mn=Number((we=(Xe=dt[at.id])===null||Xe===void 0?void 0:Xe.position)!==null&&we!==void 0?we:0);var ot;const fn=Number((ot=(kt=dt[gt.id])===null||kt===void 0?void 0:kt.viewPositions[_t])!==null&&ot!==void 0?ot:zt);var yt;const ln=Number((yt=(Bt=dt[at.id])===null||Bt===void 0?void 0:Bt.viewPositions[_t])!==null&&yt!==void 0?yt:mn);Dt=(fn+ln)/2}else if(gt){var Kt,Xt,cn;const zt=Number((cn=(Kt=dt[gt.id])===null||Kt===void 0?void 0:Kt.position)!==null&&cn!==void 0?cn:0);var gn;Dt=Number((gn=(Xt=dt[gt.id])===null||Xt===void 0?void 0:Xt.viewPositions[_t])!==null&&gn!==void 0?gn:zt)+1}else if(at){var vn,lt,ct;const zt=Number((ct=(vn=dt[at.id])===null||vn===void 0?void 0:vn.position)!==null&&ct!==void 0?ct:0);var Rt;Dt=Number((Rt=(lt=dt[at.id])===null||lt===void 0?void 0:lt.viewPositions[_t])!==null&&Rt!==void 0?Rt:zt)-1}return Dt}h(ye,"calculateRecordPositionForView");function Ne(gt,at,it,dt){let _t=null,Dt=null;if(gt&&at){var Ye,Xe,kt,Bt;if(!((Ye=it[gt.id])===null||Ye===void 0)&&Ye.viewPositions&&(!((Xe=it[gt.id])===null||Xe===void 0)&&Xe.viewPositions[dt])){var wt;_t=(wt=it[gt.id])===null||wt===void 0?void 0:wt.viewPositions[dt]}else{var we,ot;_t=!((we=it[gt.id])===null||we===void 0)&&we.position?`${(ot=it[gt.id])===null||ot===void 0?void 0:ot.position}`:null}if(!((kt=it[at.id])===null||kt===void 0)&&kt.viewPositions&&(!((Bt=it[at.id])===null||Bt===void 0)&&Bt.viewPositions[dt])){var yt;Dt=(yt=it[at.id])===null||yt===void 0?void 0:yt.viewPositions[dt]}else{var Kt,Xt;Dt=!((Kt=it[at.id])===null||Kt===void 0)&&Kt.position?`${(Xt=it[at.id])===null||Xt===void 0?void 0:Xt.position}`:null}}else if(gt){var cn,gn;if(!((cn=it[gt.id])===null||cn===void 0)&&cn.viewPositions&&(!((gn=it[gt.id])===null||gn===void 0)&&gn.viewPositions[dt])){var vn;_t=(vn=it[gt.id])===null||vn===void 0?void 0:vn.viewPositions[dt]}else{var lt,ct;_t=!((lt=it[gt.id])===null||lt===void 0)&&lt.position?`${(ct=it[gt.id])===null||ct===void 0?void 0:ct.position}`:null}}else if(at){var Rt,zt;if(!((Rt=it[at.id])===null||Rt===void 0)&&Rt.viewPositions&&(!((zt=it[at.id])===null||zt===void 0)&&zt.viewPositions[dt])){var mn;Dt=(mn=it[at.id])===null||mn===void 0?void 0:mn.viewPositions[dt]}else{var fn,ln;Dt=!((fn=it[at.id])===null||fn===void 0)&&fn.position?`${(ln=it[at.id])===null||ln===void 0?void 0:ln.position}`:null}}return Object(E.a)(_t,Dt)}h(Ne,"calculateFractionalRecordPosition");function Ge(gt,at){let it=null,dt=null;return gt&&at?(it=gt.position,dt=at.position):gt?it=gt.position:at&&(dt=at.position),Object(E.a)(it,dt)}h(Ge,"calculateFractionalViewPosition");const st=h(gt=>{var at;const it=Object(f.a)({input:gt});return it&&it[0]&&it[0].offset===0&&((at=it[0].url)===null||at===void 0?void 0:at.length)===(gt==null?void 0:gt.length)?[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"link",url:it[0].url||""}]}]}]:[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:gt||""}]}]}]},"convertStringToBlocks"),$e=h(gt=>{if(gt instanceof HTMLElement){if(gt instanceof HTMLInputElement&&["checkbox","radio"].includes(gt.type))return!0;if(["input","textarea","select"].includes(gt.tagName.toLowerCase())||gt.isContentEditable)return!1}return!0},"shouldHandleUndoFrom"),It=h((gt,at)=>{const it=[];var dt;const _t=(dt=Object(l.C)(gt))!==null&&dt!==void 0?dt:[],Dt=Object(l.Y)(gt).length||Object(l.Ab)(gt);return at.forEach((Ye,Xe)=>{const kt=_t.some(Kt=>(Kt==null?void 0:Kt.user_id)===(Ye==null?void 0:Ye.id));var Bt;const wt=(Bt=Ye==null?void 0:Ye.is_profile_only_user)!==null&&Bt!==void 0?Bt:!1;var we;const ot=(we=Ye==null?void 0:Ye.is_self)!==null&&we!==void 0?we:!1;!wt&&!ot&&!kt&&!Dt&&it.push(Xe)}),it},"getRestrictedSelectedTokenIndexes"),Lt=h(gt=>["created_time","created_by","last_edited_time","last_edited_by"].includes(gt.type),"isMetaColumn"),St=h(gt=>{switch(gt){case u.j.BLANK:return{card:y.a};case u.j.TEAM_PRIORITIES:return{card:w.a,screenshot:ge.a};case u.j.PROJECT_TRACKER:return{card:x.a,screenshot:q.a};case u.j.TRIAGE_SLACK:return{card:ee.a,screenshot:Q.a};case u.j.CROWDSOURCE_IDEAS:return{card:N.a,screenshot:Ce.a};case u.j.FEEDBACK:return{card:L.a,screenshot:de.a};case u.j.BUGS:return{card:C.a,screenshot:me.a};case u.j.HELP:return{card:U.a,screenshot:pe.a};default:return{card:x.a,screenshot:q.a}}},"getTemplateImage"),vt=h(gt=>{var at,it,dt,_t,Dt;const Ye=Object(m.a)(gt,100);return{id:Ye.id,title:Ye.title||"",icon:((at=Ye.listMetadata)===null||at===void 0?void 0:at.icon)||"",description:((it=Ye.listMetadata)===null||it===void 0?void 0:it.description)||"",schema:((dt=Ye.listMetadata)===null||dt===void 0?void 0:dt.schema)||[],views:((_t=Ye.listMetadata)===null||_t===void 0?void 0:_t.views)||[],isPublic:!!Ye.isPublic,updated:Ye.updated,creationSource:(Dt=Ye.listMetadata)===null||Dt===void 0?void 0:Dt.creationSource,lastReadTs:Ye.lastRead}},"createListFromFileApi"),Yt=h((gt,at)=>{if(!gt)return"";const it=te({record:gt,colKey:"name"});if(!it)return"";let dt=Object(c.e)(it==null?void 0:it.toLowerCase().split(/[ :/-]/).filter(Boolean).join("-"));return dt=dt.split("-").filter(Boolean).join("-"),at&&!dt.startsWith(at)&&(dt=`${at}${dt}`),dt.slice(0,Object(c.d)())},"generateChannelNameFromRecordName"),et=h((gt,at,it,dt)=>{const _t=((dt==null?void 0:dt.editors)||[]).filter(Xe=>Xe!==gt),Dt=(_(at,it)||[]).filter(Xe=>Xe!==gt),Ye=new Set([..._t,...Dt]);return Array.from(Ye)},"getListRecordChannelInitialInvitedMemberIds"),Ft=h(()=>new Date<new Date("2023-11-15"),"shouldShowListsNewCallout"),mt=h((gt,at)=>{var it,dt;return gt?at&&(at.type===t.a.MultiSelect||at.type===t.a.Select&&(at==null||(it=at.options)===null||it===void 0?void 0:it.format)===u.n.MultiSelect||(at.type===t.a.User||at.type===t.a.Channel)&&(at==null||(dt=at.options)===null||dt===void 0?void 0:dt.format)===u.e.MultiEntity)?new Set(gt.split(s.r).filter(Boolean)):new Set([gt]):new Set},"splitMultiValueField"),Zt=h((gt,at)=>{let{value:it,record:dt,column:_t}=at,Dt=null;if(s.z.has(_t.type))return Dt;let Ye,Xe,kt,Bt,wt,we,ot,yt,Kt;try{switch(_t.type){case t.a.Message:{Dt=it.toString();break}case t.a.CreatedBy:case t.a.LastEditedBy:{Ye=Object(z.g)(gt,it),Dt=Object(Y.e)(Ye)||Object(Y.c)(Ye);break}case t.a.User:{var Xt;Xe=(Xt=it==null?void 0:it.split(s.r))!==null&&Xt!==void 0?Xt:[],Dt=Xe.map(Rt=>{Ye=Object(z.g)(gt,Rt);var zt;return(zt=Object(Y.e)(Ye))!==null&&zt!==void 0?zt:Object(Y.c)(Ye)}).join(", ");break}case t.a.Channel:var cn;Bt=(cn=it==null?void 0:it.split(s.r))!==null&&cn!==void 0?cn:[],Dt=Bt.map(Rt=>{kt=Object(ve.d)(gt,Rt);var zt;return(zt=Object(Z.K)(kt))!==null&&zt!==void 0?zt:""}).join(", ");break;case t.a.CreatedTime:case t.a.LastEditedTime:Dt=Object($.a)(it,{alwaysAgo:!0,compact:!1});break;case t.a.Select:var gn,vn;ot=(vn=it==null?void 0:it.split(s.r))!==null&&vn!==void 0?vn:[];var lt;we=(lt=(gn=_t.options)===null||gn===void 0?void 0:gn.choices)!==null&&lt!==void 0?lt:[],Dt=ot.map(Rt=>{var zt;return yt=(zt=we.find(mn=>mn.value===Rt))===null||zt===void 0?void 0:zt.label,yt}).filter(Rt=>!!Rt).join(", ");break;case t.a.Text:case t.a.RichText:Dt=te({record:dt,colKey:_t.key});break;case t.a.Number:Dt=it;break;case t.a.Vote:var ct;wt=(ct=it==null?void 0:it.split(s.r))===null||ct===void 0?void 0:ct.filter(Boolean),Dt=wt.length;break;case t.a.Rating:Kt=_t.options,Dt=`${it} of ${Kt==null?void 0:Kt.max}`;break;case t.a.Attachment:case t.a.Assignee:case t.a.Email:case t.a.Phone:Dt=it;break;default:Dt=it}}catch{}return Dt},"getPlainFieldValue")},mSUo:function(H,n,e){"use strict";var s=e("Kyco"),t=e("vLZU"),a=e("COQp");const r={hasKeyboardFocus:!1},l=Object(s.b)({},r,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0,scope:t.k.orgShared}).on(a.a,function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.hasKeyboardFocus===i?o:{...o,hasKeyboardFocus:i}});n.a=l},mSpc:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("OKwM");class t{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(o=>"-".repeat(o));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((o,i)=>o+i.reduce((u,d,m)=>u+Object(s.a)(d,this.padding[m])+(m!==i.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((l,o)=>Math.max(l.length,this.padding[o]||0))}constructor(r,l="|"){this.columnNames=r,this.separator=l,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}h(t,"StringTable")},mVl8:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("ZKjC"),t=e("O86Y"),a=e("gOA+");const r=Object(s.b)((l,o)=>{const i=Object(t.g)(l);return i&&Object(a.a)().maybeRefetch(i,o),l&&l.membershipOrdered&&l.membershipOrdered[o]?l.membershipOrdered[o]:[]});r.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(l,o)=>{const i=Object(t.g)(l);return i&&Object(a.a)().maybeRefetch(i,o),l&&l.membershipOrdered&&l.membershipOrdered[o]?l.membershipOrdered[o]:[]}}},"mY+K":function(H,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("9oTK"),t=e.n(s),a=e("oTSI"),r=e("Lgge"),l=e("uAML"),o=e("lhZz"),i=e("GAXn"),u=e("9068"),d=e("F56K");const m=Object(a.a)(()=>new l.b({fetch:c,isEnabled:()=>!0}));function c(f,O){return r.a.map(O,function(){var p=Object(s.coroutine)(function*(b){try{return(yield Object(o.dispatchForTeamId)(f,Object(i.a)({workflowId:b,reason:"hermes_workflows_store"}))).workflow}catch{return Object(u.e)(b)}});return function(b){return p.apply(this,arguments)}}()).then(p=>Object(o.dispatchForTeamId)(f,Object(d.b)({workflows:p})))}h(c,"fetchAndUpsertWorkflowsForTeamId");const E={fetchAndUpsertWorkflowsForTeamId:c}},mcZN:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),l=e("P7By"),o=e("JoR1"),i=e("DhzV");const u=t.a.memo(m=>{let{shouldShow:c=!1}=m;const E=Object(a.useDispatch)(),[f,O]=Object(s.useState)(),[p,b]=Object(s.useState)(!1),T=Object(s.useCallback)(A=>{A&&A.then(I=>O(I))},[O]),v=Object(r.d)(A=>!Object(o.t)(A,"a11y_animations")),S=Object(s.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(null,"AcCj",3)),[]);return!c||v||p?null:(f&&f._cbs&&f.addEventListener("complete",()=>{E(Object(i.e)(!1)),b(!0)}),t.a.createElement(l.a,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:S,ref:T}))});var d=n.a=u},mf6s:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("LZPg"),l=e("BHdc"),o=e("G5NC"),i=e("1VgO"),u=e("lhZz"),d=e("myfR"),m=e("S4nM"),c=e("e9jb"),E=e("RVJP");function f(){return f=Object.assign||function(M){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(M[C]=j[C])}return M},f.apply(this,arguments)}h(f,"_extends");let O=h(class extends s.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var y;const j=this.videoRef.current,{shouldAttachStream:C,tileId:D,peerId:N}=this.props;!D||!j||(this.props.unbindVideo({tileId:D,videoRef:this.videoRef,shouldDetachStream:!!C,peerId:N}),j.removeEventListener("resize",this.onResize),(y=this.interactionObserver)===null||y===void 0||y.disconnect())}setUpMedia(){const y=this.videoRef.current,{shouldAttachStream:j,tileId:C,peerId:D}=this.props;!C||!y||(this.props.bindVideo({tileId:C,videoRef:this.videoRef,shouldAttachStream:!!j,peerId:D}),y.addEventListener("resize",this.onResize))}setupInteractionObserver(){var y;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((y=this.interactionObserver)===null||y===void 0||y.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var j;(j=this.interactionObserver)===null||j===void 0||j.observe(this.videoRef.current)}}interactionObserverCallback(y){const j=y[0];if(!j)return;const C=this.videoRef.current,{shouldAttachStream:D,tileId:N,peerId:B}=this.props;!N||!C||(j.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:N,videoRef:this.videoRef,shouldAttachStream:!!D,peerId:B}):this.props.unbindVideo({tileId:N,videoRef:this.videoRef,shouldDetachStream:!!D,peerId:B}))}onResize(){const y=this.videoRef.current;y&&(this.props.isSharingScreen?y.style.objectFit="contain":y.style.objectFit=y.videoWidth>y.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:y,peerId:j,tileId:C,isActivePeerSharingScreen:D,isShroudVisible:N}=this.props;!y||!C||(j!=="self"&&D&&!N?this.props.pauseVideo({tileId:C}):this.props.unpauseVideo({tileId:C}))}render(){const{refToForward:y,shouldFlip:j,peerId:C,className:D,width:N,height:B,onLoadedData:L}=this.props;return t.a.createElement("video",f({className:Object(l.default)("p-calls_video",D,{flipped:j}),ref:Object(i.b)(this.videoRef,y),key:C,"data-qa":"free-willy-video-element",style:{width:N,height:B}},L?{onLoadedData:L}:{}))}constructor(y){super(y),this.videoRef=Object(s.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=y.onResize?y.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");O.displayName="VideoElement";const p=h((M,y)=>{var j;const C=Object(E.d)(M,"calls_pause_video_on_screenshare")==="treatment",D=Object(r.u)(M),N=y.peer?Object(r.X)(y.peer):!1;let B;if(D)B=y.tileId;else{var L,R,U,W,x,G;B=N?(L=y.peer)===null||L===void 0||(R=L.tileIds)===null||R===void 0||(U=R.screenshare)===null||U===void 0?void 0:U.tileId:(W=y.peer)===null||W===void 0||(x=W.tileIds)===null||x===void 0||(G=x.camera)===null||G===void 0?void 0:G.tileId}return{tileId:B,peerId:(j=y.peer)===null||j===void 0?void 0:j.id,isSharingScreen:N,isShroudVisible:C&&Object(c.a)()?Object(m.h)(M):!1,isActivePeerSharingScreen:Object(r.v)(M),experimentCallsPauseVideoOnScreenshareGroupTreatment:C}},"mapStateToProps"),b=h(M=>({bindVideo:y=>Object(o.a)()?Object(u.dispatchForClientStore)(Object(d.a)(y)):M(Object(d.a)(y)),unbindVideo:y=>Object(o.a)()?Object(u.dispatchForClientStore)(Object(d.c)(y)):M(Object(d.c)(y)),pauseVideo:y=>Object(o.a)()?Object(u.dispatchForClientStore)(Object(d.b)(y)):M(Object(d.b)(y)),unpauseVideo:y=>Object(o.a)()?Object(u.dispatchForClientStore)(Object(d.d)(y)):M(Object(d.d)(y))}),"mapDispatchToProps"),T=Object(a.a)(p,b)(O);var v=t.a.forwardRef((M,y)=>t.a.createElement(T,f({refToForward:y},M)));function S(){return S=Object.assign||function(M){for(var y=1;y<arguments.length;y++){var j=arguments[y];for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(M[C]=j[C])}return M},S.apply(this,arguments)}h(S,"peer_video_element_extends");const A=h((M,y)=>{const j=Object(r.u)(M),C=Object(r.J)(M,y.id);let D;const N=y.tileId;if(!j)D=Object(r.Y)(C)&&!C.isScreenshareEnabled;else{var B,L;const R=((B=C.tileIds)===null||B===void 0||(L=B.screenshare)===null||L===void 0?void 0:L.tileId)===N;D=Object(r.Y)(C)&&!R}return{peer:C,tileId:N,shouldFlip:D}},"peer_video_element_mapStateToProps"),I=Object(a.a)(A)(v);var _=n.a=t.a.forwardRef((M,y)=>t.a.createElement(I,S({},M,{refToForward:y})))},mmwi:function(H,n,e){H.exports=e.p+"ava_0002-72-c702398.png"},mnG8:function(H,n,e){H.exports=e.p+"slackbot_neutral_1024-b58a548.png"},mwr9:function(H,n,e){"use strict";e.d(n,"c",function(){return _e}),e.d(n,"b",function(){return je}),e.d(n,"d",function(){return Ue}),e.d(n,"a",function(){return ke});var s=e("9oTK"),t=e("SQ0V"),a=e("lhZz"),r=e("LZPg"),l=e("sNDC"),o=e("4tnk"),i=e("ti9H"),u=e("vfQU"),d=e("1Zcw"),m=e("oBB2"),c=e("Nq3N"),E=e("Wn1n"),f=e("q1tI"),O=e.n(f),p=e("DneB"),b=e("Kmpi"),T=e("7JUD"),v=e("lvWT"),S=e("tYRW"),A=e("AEEY"),I=e("9org"),_=e("zKrX"),M=e("YyjR"),y=e("iUFw"),j=e("eBYm"),C=e("oEDn"),D=e("Trx9"),N=e("zxER"),B=e("B4ch"),L=e("+CZ0"),R=e("E3dU"),U=e("Yauy"),W=e("Enx8"),x=e("E97Y"),G=e("ktUG"),w=e("nNoG"),se=e("2kWh"),ee=e("LqER");function X(){return X=Object.assign||function(Qe){for(var Ze=1;Ze<arguments.length;Ze++){var De=arguments[Ze];for(var Fe in De)Object.prototype.hasOwnProperty.call(De,Fe)&&(Qe[Fe]=De[Fe])}return Qe},X.apply(this,arguments)}h(X,"_extends");const me=new w.b("huddles"),Oe={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:G.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},Ce={elementName:"huddles_invite_confirmation_dialog_ok",eventId:G.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function le(Qe){let{closeModal:Ze,...De}=Qe;const{channelId:Fe,senderUserId:Ve}=De,Je=Object(ee.b)(Fe),{handleDecline:Ot,handleJoin:ht,isLoading:Le,inviteText:jt}=Object(se.c)(De),Ut=Object(N.d)($e=>Object(W.a)($e,Ve));let Ie=me.t("Huddle with {dmPersons}",{dmPersons:Ut,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const oe=Object(N.d)($e=>Object(R.d)($e,Fe)),ye=Object(N.d)($e=>Object(b.b)(oe)?Object(U.t)($e,oe,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);ye&&(Ie=Object(x.h)(oe)?me.t("Huddle with {dmPersons}",{dmPersons:ye,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):me.t("Huddle in {channelName}",{channelName:ye,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const Ne=Object(p.b)(L.b)===Fe;Object(f.useEffect)(()=>{Ne&&!Le&&(Ze==null||Ze())},[Ne,Le,Ze]);const Ge=Object(f.useCallback)(()=>{Ot(),Ze==null||Ze()},[Ze,Ot]),st="huddle-invite-join-modal";return O.a.createElement(D.a,X({uiComponentName:G.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},Je),O.a.createElement(T.a,{labelledby:st,dataQa:st,closeModal:Ze,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},O.a.createElement(v.a,null,O.a.createElement(S.a,{title:Ie,id:st})),O.a.createElement(A.a,null,O.a.createElement(I.a,null,jt)),O.a.createElement(_.a,null,O.a.createElement(M.a,null,O.a.createElement(y.d,{type:"outline",onClick:Ge,"data-qa":"huddle_invite_join_cancel",autoClogProps:Oe},me.t("Not Now")),O.a.createElement(j.a,{type:"primary",loading:Le,onClick:ht,"data-qa":"huddle_invite_join_go",autoClogProps:Ce,autoFocus:!0},O.a.createElement(C.a,{type:"headphones"}),O.a.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},me.t("Join")))))))}h(le,"HuddleInviteJoinModal"),le.displayName="HuddleInviteJoinModal";const de={HuddleInviteJoinModal:le};var ie=Object(B.a)(le),pe=e("m1zK"),ne=e("Lgge"),q=e("s4P+"),ce=e("Zbwg"),ge=e("l1I1"),be=e("HpvR"),Q=e("3vtZ"),re=e("5IZy"),z=e("kBpe"),Y=e("to1N"),ve=e("0dq7"),Z=e("qZdH"),$=e("v7mh"),te=e("2VFn"),J=e("rZ8V"),k=e("RV0M"),ae=e("uiBO");const Ee=h((Qe,Ze,De)=>{Object(re.a)({state:Qe}).track(Ze,{contexts:{calls:Object(Q.p)(Qe,De),ui_context:{action:G.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),_e=Object(t.c)("Start huddle in highlighted channel or current primary view",function(){var Qe=Object(s.coroutine)(function*(Ze,De,Fe){let{highlightedChannelId:Ve}=Fe;const Je=Object(a.getStateForClientStore)(),Ot=De(),ht=Object(J.o)(Ot),Le=ht,jt=Object($.a)(Ot),Ut=Object(E.a)(Ot),Ie=Le?Object($.g)(Ot,{tab:jt,container:te.h.Primary}):null,oe=Le?Ie==null?void 0:Ie.id:Ut,ye=Ve||oe,{channelId:Ne,teamId:Ge}=Object(L.c)(Je)||{};if(Ne&&Ge&&(!Ve||Ve===Ne)){Object(a.dispatchForTeamId)(Ge,Object(m.a)()),Ee(Ot,G.EventId.HUDDLES_LEAVE,Ne);return}const st=Object(L.f)(Je);if(st&&!Ve){const{channelId:It,senderUserId:Lt,callId:St,teamId:vt}=st;Object(a.dispatchForTeamId)(vt,ie({channelId:It,senderUserId:Lt,callId:St}));return}if(!ye||!Object(ce.a)(ye)&&!Object(ge.a)(ye)){ht&&Ze(Object(pe.a)());return}const $e=Object(be.a)(Ot,ye);$e&&Object(Q.e)(Ot,$e)&&(Ee(Ot,G.EventId.HUDDLES_JOIN,$e.id),Ze(Object(Y.a)({channelId:$e.id,forceFocus:!0,entryPoint:ve.e.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});return function(Ze,De,Fe){return Qe.apply(this,arguments)}}());_e.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const je=Object(t.c)("Start huddle in the current view",function(){var Qe=Object(s.coroutine)(function*(Ze,De,Fe,Ve){var Je,Ot;const ht=De(),{shouldUseNavigate:Le,isChildWindow:jt,getViewSet:Ut}=Ve(k.a),Ie=Ut(ht);(!Le||!jt||(Ie==null||(Je=Ie[te.h.Primary])===null||Je===void 0?void 0:Je.viewType)!==ae.b.Channel)&&Ze(_e({highlightedChannelId:void 0}));const oe=Ie==null||(Ot=Ie[te.h.Primary])===null||Ot===void 0?void 0:Ot.id;Ze(_e({highlightedChannelId:oe}))});return function(Ze,De,Fe,Ve){return Qe.apply(this,arguments)}}());je.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const Ue=Object(t.c)("Toggle microphone from current value to opposite value",(Qe,Ze)=>{const De=Object(a.getStateForClientStore)(),{teamId:Fe,channelId:Ve}=Object(L.c)(De)||{};if(!Fe)return;const Je=Object(a.getStateByTeamId)(Fe),Ot=Object(r.V)(Je),ht=Ot==null?void 0:Ot.isMicrophoneEnabled;Object(a.dispatchForTeamId)(Fe,Object(c.a)(!ht)),Qe(ht?Object(l.b)():Object(l.c)()),Object(q.a)({state:Je}).info(d.c,`Keyboard shortcut invoked -- toggling mic to ${ht?G.EventId.HUDDLES_MUTE:G.EventId.HUDDLES_UNMUTE}`),Ve&&Ee(Je,ht?G.EventId.HUDDLES_MUTE:G.EventId.HUDDLES_UNMUTE,Ve)});Ue.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let Ke=!1;const ke=h(Qe=>{var Ze;return Object(z.j)("4.13.0")?(Qe&&!Ke&&(Object(u.Sb)(i.a.TOGGLE_MUTE,Object(s.coroutine)(function*(){const De=Object(a.getStateForClientStore)(),{teamId:Fe}=Object(L.c)(De)||{};Fe&&(Object(a.dispatchForTeamId)(Fe,Ue()),Object(o.k)(Object(a.getStateForClientStore)())||Object(a.dispatchForClientStore)(Object(Z.b)()))})),Ke=!0),(Ze=Object(u.Nc)(i.a.TOGGLE_MUTE,Qe))===null||Ze===void 0?void 0:Ze.then(()=>Qe)):ne.a.resolve(!1)},"maybeToggleGlobalMuteShortcut")},mx2s:function(H,n,e){"use strict";e.d(n,"i",function(){return s}),e.d(n,"j",function(){return t}),e.d(n,"g",function(){return a}),e.d(n,"h",function(){return r}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return u}),e.d(n,"f",function(){return d}),e.d(n,"l",function(){return m}),e.d(n,"a",function(){return c}),e.d(n,"k",function(){return E});const s="viewLayoutSidebarWidthIntent",t="viewLayoutSidebarWidthMode",a="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",l="viewLayoutSidebarExtraWideWidthIntent",o="viewLayoutSidebarExtraWideWidthMode",i="viewLayoutSecondaryWidthIntent",u="viewLayoutSecondaryWidthMode",d="viewLayoutIsSidebarVisible",m="viewLayoutIsWorkspaceSwitcherVisible",c="viewLayoutLastSidebarWidth",E="workspaceSwitcherNewCallout"},myfR:function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"c",function(){return m}),e.d(n,"b",function(){return c}),e.d(n,"d",function(){return E}),e.d(n,"e",function(){return f});var s=e("DwFS");const t=Object(s.a)("connect to free willy media server");t.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const a=Object(s.a)("Set flag to indicate if experimental Chime SDK should be used");a.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=Object(s.a)("Set flag to indicate if voice focus should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseVoiceFocus",description:"Set flag to indicate if voice focus should be used in a Chime call"};const l=Object(s.a)("Set flag to indicate if simulcast should be used in a Chime call");l.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const o=Object(s.a)("Set flag to indicate if priority based downlink policy should be used in a Chime call");o.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const i=Object(s.a)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");i.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const u=Object(s.a)("Set flag to determine if a call is a readiness test call");u.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const d=Object(s.a)("Binds video tile to a video element");d.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const m=Object(s.a)("Unbinds video tile from a video element");m.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const c=Object(s.a)("Pauses video tile");c.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const E=Object(s.a)("Unpauses video tile");E.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const f=Object(s.a)("Returns if there in a stream associated with the tileId");f.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},n3Lk:function(H,n,e){"use strict";e.d(n,"a",function(){return E}),e.d(n,"d",function(){return f}),e.d(n,"b",function(){return O}),e.d(n,"c",function(){return p});var s=e("s4P+"),t=e("SQ0V"),a=e("lhZz"),r=e("T1zM"),l=e("1Zcw"),o=e("dKQz"),i=e("0dq7"),u=e("ovHh"),d=e("rTTn"),m=e("+CZ0"),c=e("3krt");const E=Object(t.c)("Close the mini survey after a postive response",(b,T,v)=>{let{channelId:S}=v;Object(a.dispatchForClientStore)(Object(o.ab)({channelId:S,optimisticHuddleState:null,huddleState:i.a.NOT_STARTED}))});E.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const f=Object(t.c)("Set the date for when the user last saw the huddle survey",(b,T,v)=>{let{timeSeen:S}=v;b(Object(r.f)({pref:"huddle_survey_last_seen",value:S}))});f.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const O=Object(t.c)("Hide the survey, if it has not been responded to",(b,T)=>{const v=Object(a.getStateForClientStore)(),S=Object(m.b)(v),A=Object(m.e)(v),I=Object(m.a)(v),_=i.a.NOT_STARTED;Object(s.a)({getState:T}).info(l.c,`Marking huddle as ${_} and hiding huddle survey`),Object(a.dispatchForClientStore)(Object(o.ab)({channelId:S,optimisticHuddleState:null,huddleState:_})),Object(c.b)({teamId:A,callId:I,results:{summary:c.a.Timeout}})});O.meta={name:"createThunk",key:"createThunkhideMiniSurvey",description:"Hide the survey, if it has not been responded to"};const p=Object(t.c)("Record the result of the mini survey we first display the user after a huddle ends.",(b,T,v)=>{let{result:S}=v;const A=Object(a.getStateForClientStore)(),I=Object(m.a)(A),_=Object(m.b)(A),M=d.a.HuddleSurvey;let y=i.a.NOT_STARTED;switch(S){case"bad":I&&b(Object(d.b)({callId:I}));break;case"good":y=i.a.SURVEY_GOOD,b(Object(u.b)({isOk:!0,callId:I,type:M}));break;case"dismiss":b(Object(u.b)({isOk:!1,callId:I,notOkResponses:["dismiss"]}));break;default:}Object(a.dispatchForClientStore)(Object(o.ab)({channelId:_,optimisticHuddleState:null,huddleState:y})),Object(s.a)({getState:T}).info(l.c,`Marking huddle as ${y} in component: huddle-survey`)});p.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},n3y5:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("oTSI"),l=e("ifKl"),o=e("oEDn");const i=Object(r.a)(O=>({height:`${O}px`,width:`${O}px`}));function u(O){let{icon:p,classes:b=null,size:T=20,ariaHidden:v=void 0,ariaRole:S="img",ariaLabel:A=void 0}=O;const I=Object(a.default)("c-base_font_icon",b);return t.a.createElement("div",{className:I,style:i(T),"aria-hidden":v,role:S,"aria-label":A},t.a.createElement(o.a,{type:p}))}h(u,"BaseFontIcon"),u.displayName="BaseFontIcon";var d=u;const m=Object(r.a)(O=>({height:`${O}px`,width:`${O}px`})),c=Object(r.a)(O=>({width:`${O}px`}));function E(O){let{image:p=void 0,size:b=20,srcSet:T="",classes:v=void 0,icon:S=void 0,ariaHidden:A=!1,ariaRole:I="img",ariaLabel:_=void 0,widthOnly:M=!1,onLoad:y=l.a,onError:j=l.a,resetIA:C,"data-qa":D}=O;if(p&&S)throw Error("Cannot pass in both image and icon!");if(!A&&!_)throw Error("If ariaHidden is false, we must have an ariaLabel for a11y!");const N=Object(a.default)("c-base_icon",v,{"c-base_icon--unknown":!p&&!S,"c-base_icon--image":p,"c-base_icon--resetIA":C});if(S)return t.a.createElement(d,{icon:S,classes:N,size:b,ariaHidden:A,ariaRole:I,ariaLabel:_});const B=t.a.createElement("img",{src:p,srcSet:T,className:N,style:M?c(b):m(b),"aria-hidden":A,role:I,"aria-label":_,alt:"",onLoad:y,onError:j,"data-qa":D});return M?t.a.createElement("span",{className:Object(a.default)("c-base_icon__width_only_container",{"c-base_icon--resetIA":C}),style:m(b)},B):B}h(E,"BaseIcon"),E.displayName="BaseIcon";var f=n.a=E},n9FT:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("9oTK"),t=e.n(s),a=e("SQ0V"),r=e("O9MH"),l=e("LZPg");const o=Object(a.c)("Maybe show share screen borders",function(){var u=Object(s.coroutine)(function*(d,m){const c=m(),E=Object(l.s)(c),f=E==null?void 0:E.mediaSourceId;f&&Object(r.b)(f,c)});return function(d,m){return u.apply(this,arguments)}}());o.meta={name:"createThunk",key:"createThunkmaybeShowScreenBorders",description:"Maybe show share screen borders"};const i=Object(a.c)("Hide share screen borders",(u,d)=>{Object(r.a)()});i.meta={name:"createThunk",key:"createThunkhideScreenBorders",description:"Hide share screen borders"}},nBRq:function(H,n,e){"use strict";e.d(n,"a",function(){return r});function s(o,i,u,d){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const c=[d.x-i.x,d.y-i.y],E=[u.x-i.x,u.y-i.y],f=[o.x-i.x,o.y-i.y],O=c[0]*c[0]+c[1]*c[1],p=c[0]*E[0]+c[1]*E[1],b=c[0]*f[0]+c[1]*f[1],T=E[0]*E[0]+E[1]*E[1],v=E[0]*f[0]+E[1]*f[1],S=1/(O*T-p*p),A=(T*b-p*v)*S,I=(O*v-p*b)*S;return A>=-m&&I>=-m&&A+I<1+m}h(s,"isPointInTriangle");function t(o,i,u){const d=(u.x-i.x)**2+(u.y-i.y)**2,m=((o.x-i.x)*(u.x-i.x)+(o.y-i.y)*(u.y-i.y))/d;return m<0?(o.x-i.x)**2+(o.y-i.y)**2:m<=1?(i.x-o.x)**2+(i.y-o.y)**2-m**2*d:(o.x-u.x)**2+(o.y-u.y)**2}h(t,"distanceSquarePointToSegment");function a(o,i,u,d){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const c=Math.min(i.x,Math.min(u.x,d.x))-m,E=Math.max(i.x,Math.max(u.x,d.x))+m,f=Math.min(i.y,Math.min(u.y,d.y))-m,O=Math.max(i.y,Math.max(u.y,d.y))+m;return o.x>c&&o.x<E&&o.y>f&&o.y<O}h(a,"pointInTriangleBoundingBox");function r(o,i,u,d){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!a(o,i,u,d,m))return!1;const c=m**2;return s(o,i,u,d,0)||t(o,i,u)<=c||t(o,u,d)<=c||t(o,d,i)<=c}h(r,"accurateIsPointInTriangle");var l={accurateIsPointInTriangle:r,isPointInTriangle:s}},nHGf:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("LTG1"),l=e("rEBs"),o=e("s0AW");function i(u){let{peerId:d,isMicrophoneEnabled:m,className:c,allowMuteIconAnimation:E=!1,isMicStrikethroughRed:f=!1}=u;const[O,p]=Object(s.useState)(0);return Object(s.useEffect)(()=>{if(!m)return a.a;const b=h(T=>{const v=Object(l.b)(T);p(v)},"onLevelUpdated");return r.a.subscribe(d,b),()=>{r.a.unsubscribe(d,b)}},[d,m]),t.a.createElement(o.a,{type:m?"unmuted":"muted",volumeLevel:O,className:c||"",allowMuteAnimation:E,isMicStrikethroughRed:f})}h(i,"HuddleMicVolumeIndicator")},nHh1:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t}),e.d(n,"c",function(){return r});var s;(function(l){l.Picklist="Picklist",l.Reference="Reference",l.SlackUser="SlackUser",l.String="String"})(s||(s={}));var t;(function(l){l.Opportunity="Opportunity",l.Account="Account",l.Case="Case",l.Lead="Lead"})(t||(t={}));const a=new Set(["Account","Opportunity"]),r=h(l=>a.has(l),"isRelatedRecordSupported")},nePV:function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("GxtX"),t=e("BeL+"),a=e("0VPD"),r=e("rKeN"),l=e("9Gfp"),o=e("ZOzc"),i=e("2vLX"),u=e("ByMX"),d=e("q0lC"),m=e("VktL"),c=e("zCzZ"),E=e("O86Y");const f=h(b=>{if(Object(u.b)(b))return!1;const T=Object(E.d)(b);if(Object(d.d)(b,T)||Object(d.b)(b,T))return!0;const v=Object(E.g)(b),S=Object(s.a)(v,Object(E.f)(b));return Object(t.a)(S).some(I=>!!(Object(d.h)(b,I)||Object(d.f)(b,I)))},"isCurrentUserAnyAdminOrOwner");function O(b){const T=Object(c.g)(b,"who_can_manage_shared_channels");if(!T)return!0;if(!Object(r.a)(b)||Object(u.b)(b))return!1;const v=Object(o.a)(b,"can_user_manage_shared_channels");if(typeof v=="boolean")return!!v;const S=Object(l.a)(b);if(Object(m.a)(T,"user")&&T.user.includes(S))return!0;if(Object(m.a)(T,"subteam")){const I=Object(i.a)(b);if(Object(a.a)(T.subteam,I).length>0)return!0}const A=T==null?void 0:T.type;return A!=null&&A.includes("regular")?!0:A!=null&&A.includes("admin")?f(b):A!=null&&A.includes("owner")?Object(d.b)(b):!1}h(O,"canUserManageOrgSharedChannels");const p={isCurrentUserAnyAdminOrOwner:f}},nevH:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),l=e("j77i");const o=Object(t.c)("Set the user-specified secondary width and mode",(i,u,d)=>{let{secondaryWidthIntent:m,secondaryWidthMode:c}=d;Object(l.w)(s.b,m),Object(l.w)(s.c,c),i(Object(a.d)({secondaryWidthIntent:m,secondaryWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.d)({secondaryWidthIntent:m,secondaryWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},nfxS:function(H,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return l});var s=e("+VTe"),t=e("QAer");const a=h(u=>u?t.a.ADMIN:t.a.RA,"mapOnlyAdminToWhoCanStyle"),{getWorkspaceIdsOnWhichUserCanDoCustomTeamPref:r,canUserDoCustomTeamPrefInSomeWorkspace:l,canUserDoCustomTeamPrefForChannel:o,canUserDoCustomTeamPrefForChannelById:i}=Object(s.b)(a)},niVp:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("3mLu"),l=e("QOYf"),o=e("nNoG"),i=e("nzWX"),u=e("oEDn"),d=e("qDEp"),m=e("QYtq"),c=e("qNPi"),E=e("5MVR"),f=e("qiCS"),O=e("jF6j");function p(){return p=Object.assign||function(S){for(var A=1;A<arguments.length;A++){var I=arguments[A];for(var _ in I)Object.prototype.hasOwnProperty.call(I,_)&&(S[_]=I[_])}return S},p.apply(this,arguments)}h(p,"_extends");const b=new o.b("find_team");function T(S,A){if(Object(l.a)())return Object(f.d)(location.href,"locale",A);const I=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return S==="en-us"?I:`/intl/${S}${I}`}h(T,"getUrlForLocale");let v=h(class extends s.Component{render(){const{hideRegionPicker:A,showLogo:I,govSlackTheme:_,joinerRedesignTreatment:M}=this.props,y=Object(a.default)("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":_}),j=Object(a.default)("full_width",{"p-refreshed_page__full_width_footer":M}),C=t.a.createElement("footer",{className:"p-refreshed_page__footer"},t.a.createElement(d.e,{href:Object(r.a)("/legal"),className:y,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},b.rt("Privacy & Terms")),t.a.createElement(d.e,{href:Object(r.a)("/help/requests/new"),className:y,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},b.rt("Contact Us")),!A&&t.a.createElement(m.b,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:D=>t.a.createElement(m.a,p({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:b.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0},D),t.a.createElement("div",{className:"p-refreshed_page__footer_locales"},t.a.createElement("div",{className:"bold margin_bottom_50"},b.rt("Change region")),t.a.createElement("div",{className:"margin_bottom_100"},b.rt("Selecting a different region will change the language and content of Slack.com.")),t.a.createElement("div",{className:"display_flex"},[{title:b.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:b.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:b.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(N=>{let{title:B,locales:L}=N;return t.a.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:B},t.a.createElement("div",{className:"bold margin_bottom_50"},B),L.map(R=>{let{locale:U,geocode:W,name:x}=R;return t.a.createElement(d.e,{key:U,href:T(W,U),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:U,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:U,geocode:W})},x)}))}))))},t.a.createElement("div",null,t.a.createElement(d.e,{onClick:this.onClickChangeRegion,href:"#",className:y,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.a.createElement(u.a,{type:"globe",size:"inherit",className:"margin_right_25"}),b.rt("Change region"),t.a.createElement(u.a,{type:"chevron-medium-down",size:"inherit"})))));return t.a.createElement("div",{className:j},t.a.createElement("div",{className:Object(a.default)("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":_})},t.a.createElement(t.a.Fragment,null,I&&t.a.createElement(c.a,{width:80,height:20,className:"p-app_slack_logo"}),C)))}constructor(A){super(A),this.onClickChangeRegion=I=>{I.preventDefault()},this.onClickLocale=I=>{let{locale:_,geocode:M}=I;return()=>{const y=Object(E.b)(Object(i.h)("c")||"")||{};y.geocode=M;const j=Object(E.c)(y,{space:""});Object(i.d)("i18n_locale",_,365*10,"slack.com"),j&&Object(i.d)("c",j,365*10,"slack.com")}},this.popoverTriggerRef=t.a.createRef(),this.state={}}},"RefreshedFooter");v.displayName="RefreshedFooter",n.a=v},np25:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("mx2s"),t=e("SQ0V"),a=e("E4z0"),r=e("lhZz"),l=e("j77i");const o=Object(t.c)("Set the user-specified extra wide sidebar width and mode",(i,u,d)=>{let{sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:c}=d;Object(l.w)(s.d,m),Object(l.w)(s.e,c),i(Object(a.f)({sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:c})),Object(r.dispatchForClientStore)(Object(a.f)({sidebarExtraWideWidthIntent:m,sidebarExtraWideWidthMode:c}))});o.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},ntGM:function(H,n,e){"use strict";var s=e("pu3F");let t;n.a=()=>{if(t)return t;const a=Object.keys(s.n).map(r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return t=new RegExp(`(^|\\s)(${a.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),t}},nuzi:function(H,n,e){"use strict";e.d(n,"d",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"c",function(){return d}),e.d(n,"b",function(){return m}),e.d(n,"e",function(){return c});var s=e("/92K"),t=e("C3vN"),a=e("DQNL"),r=e("eUIW"),l=e("bjy1");const o=h(E=>{var f;return"entity"in E&&(Object(r.a)((f=E.entity)===null||f===void 0?void 0:f.id)||Object(t.db)(E.entity))||Object(r.a)(E==null?void 0:E.value)},"isMemberInviteeOption"),i=h(E=>{var f;return"entity"in E&&(Object(l.a)((f=E.entity)===null||f===void 0?void 0:f.id)||Object(a.w)(E.entity))||Object(l.a)(E==null?void 0:E.value)},"isUserGroupInviteeOption"),u=h(E=>{var f;return"entity"in E&&!!(!((f=E.entity)===null||f===void 0)&&f.isEmail)},"isEmailInviteeOption"),d=h((E,f)=>{var O;return u(E)?f&&(E==null||(O=E.emailTeam)===null||O===void 0?void 0:O.id)===f?!0:(E==null?void 0:E.classification)===s.a.Internal:!1},"isInternalEmailInviteeOption"),m=h((E,f)=>{var O;return!u(E)||f&&(E==null||(O=E.emailTeam)===null||O===void 0?void 0:O.id)===f?!1:(E==null?void 0:E.classification)===s.a.External},"isExternalEmailInviteeOption"),c=h(E=>u(E)?"emailTeam"in E:!1,"isPrimaryScEmailInviteeOption")},nvPh:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("x91h"),r=e("DQKV");const l=/\ue000([^\ue001]*)\ue001/g;function o(i){let{text:u="",inputIsEscaped:d=!1,showTooltips:m=!0,stopAnimations:c=!1}=i;const E=[];let f=0;const O=d?Object(a.a)(u):u;if(O.replace(l,(p,b,T)=>{if(T>f){const v=O.slice(f,T);E.push(t.a.createElement(r.a,{key:`${T}-${v}`,text:v,showTooltips:m,inputIsEscaped:d,stopAnimations:c}))}E.push(t.a.createElement("span",{className:"c-mrkdwn__highlight",key:`${T}-${b}`},t.a.createElement(r.a,{text:b,showTooltips:m,inputIsEscaped:d,stopAnimations:c}))),f=T+p.length}),!E.length)return t.a.createElement(t.a.Fragment,null,t.a.createElement(r.a,{text:u,showTooltips:m,inputIsEscaped:d,stopAnimations:c}));if(f<u.length){const p=O.substr(f);E.push(t.a.createElement(r.a,{key:`last-${p}`,text:p,showTooltips:m,inputIsEscaped:d,stopAnimations:c}))}return t.a.createElement(t.a.Fragment,null,E)}h(o,"FormatTextWithHighlightMarkers"),o.displayName="FormatTextWithHighlightMarkers",n.a=t.a.memo(o)},ny0b:function(H,n,e){"use strict";e.d(n,"a",function(){return mn});var s=e("a1Y7"),t=e.n(s),a=e("qBBt"),r=e.n(a),l=e("PN0B"),o=e.n(l),i=e("3cIe"),u=e.n(i),d=e("TpDV"),m=e.n(d),c=e("qCl6"),E=e.n(c),f=e("PWgi"),O=e.n(f),p=e("SS7u"),b=e.n(p),T=e("bdv9"),v=e.n(T),S=e("NYuI"),A=e.n(S),I=e("mnG8"),_=e.n(I),M=e("eh0M"),y=e.n(M),j=e("Rt42"),C=e.n(j),D=e("ctdj"),N=e.n(D),B=e("LAqm"),L=e.n(B),R=e("59s5"),U=e.n(R),W=e("jgRE"),x=e.n(W),G=e("HEqF"),w=e.n(G),se=e("YWu2"),ee=e.n(se),X=e("YQ8e"),me=e.n(X),Oe=e("RBep"),Ce=e.n(Oe),le=e("mHzN"),de=e.n(le),ie=e("Tv5Z"),pe=e.n(ie),ne=e("G/rR"),q=e.n(ne),ce=e("eb8l"),ge=e.n(ce),be=e("RXuJ"),Q=e.n(be),re=e("pVEH"),z=e.n(re),Y=e("3i7m"),ve=e.n(Y),Z=e("4Fy9"),$=e.n(Z),te=e("i6es"),J=e.n(te),k=e("K5Ez"),ae=e.n(k),Ee=e("KKcr"),_e=e.n(Ee),je=e("G0Vk"),Ue=e.n(je),Ke=e("tM7h"),ke=e.n(Ke),Qe=e("Vw6i"),Ze=e.n(Qe),De=e("iLLt"),Fe=e.n(De),Ve=e("O5Ce"),Je=e.n(Ve),Ot=e("GCXW"),ht=e.n(Ot),Le=e("zKNY"),jt=e.n(Le),Ut=e("dbKp"),Ie=e.n(Ut),oe=e("Uy34"),ye=e.n(oe),Ne=e("Se5r"),Ge=e.n(Ne),st=e("mmwi"),$e=e.n(st),It=e("4ZsU"),Lt=e.n(It),St=e("Bi0V"),vt=e.n(St),Yt=e("6XI5"),et=e.n(Yt),Ft=e("vlVB"),mt=e.n(Ft),Zt=e("qrpL"),gt=e.n(Zt),at=e("QufA"),it=e.n(at),dt=e("TsI9"),_t=e.n(dt),Dt=e("1Lli"),Ye=e("zmn3"),Xe=e("mkut"),kt=e("TSHB"),Bt=e("OZf9"),wt=e("pu3F"),we=e("ql+L"),ot=e("DR7d");function yt(fn){return Object(Dt.a)(Object(Ye.a)(Object(Xe.a)(fn),ln=>parseInt(ln,10)),null,"desc")}h(yt,"makeOrderedIconSizes");function Kt(fn){return Object(kt.a)(fn,ln=>yt(ln))}h(Kt,"makeOrderedNamedIconSizes");const Xt={24:_t.a,32:gt.a,36:et.a,72:Lt.a,192:Ge.a},cn={24:it.a,32:mt.a,36:vt.a,72:$e.a,192:ye.a},gn={fancy:{20:Ie.a,24:jt.a,32:ht.a,36:Je.a,48:Fe.a,72:Ze.a,192:ke.a,360:Ue.a,512:_e.a,1024:ae.a},frowny:{20:J.a,24:$.a,32:ve.a,36:z.a,48:Q.a,72:ge.a,192:q.a,360:pe.a,512:de.a,1024:Ce.a},neutral:{20:me.a,24:ee.a,32:w.a,36:x.a,48:U.a,72:L.a,192:N.a,360:C.a,512:y.a,1024:_.a},sad_surprise:{20:A.a,24:v.a,32:b.a,36:O.a,48:E.a,72:m.a,192:u.a,360:o.a,512:r.a,1024:t.a}},vn=24,lt=yt(cn),ct=Kt(gn),Rt="image_";function zt(fn){const ln=[];return Object(Bt.a)(fn,(Ln,In)=>{if(In.indexOf(Rt)!==0)return;const Dn=In.slice(Rt.length);ln.unshift(parseInt(Dn,10))}),ln}h(zt,"getSizeOptionsFromProfile");function mn(fn){let{size:ln,teamOrEnterpriseId:Ln,memberId:In,avatarHash:Dn,emoji:_n,isBot:qe=!1,botImages:Et=!1,slackbotFeels:Wt=null,isUserHidden:qt=!1}=fn,nn,rn,hn=!1;if(!ln||!qe&&!qt&&(!Ln||!In||!Dn)&&!_n)return{};if(_n)return{emoji:_n,isDefault:!1};if(qt){const en=Object(ot.a)(ln,lt),Un=Object(ot.a)(ln*2,lt);nn=Xt[en||vn],rn=Xt[Un||vn],hn=!0}else if(In===wt.W&&Wt&&gn[Wt]){const en=Object(ot.a)(ln,ct[Wt]),Un=Object(ot.a)(ln*2,ct[Wt]);nn=gn[Wt][en||vn],rn=gn[Wt][Un||vn]}else if(!qe||Ln&&In&&Dn){const en=Object(ot.a)(ln),Un=Object(ot.a)(ln*2),Yn=Object(we.a)(Ln);nn=`${Yn}${Ln}-${In}-${Dn}-${en}`,rn=`${Yn}${Ln}-${In}-${Dn}-${Un}`}else if(Et){const en=zt(Et),Un=Object(ot.a)(ln,en),Yn=Object(ot.a)(ln*2,en);nn=Et[Rt+Un],rn=Et[Rt+Yn]}if(qe&&!nn&&!rn&&!_n){const en=Object(ot.a)(ln,lt),Un=Object(ot.a)(ln*2,lt);nn=cn[en||vn],rn=cn[Un||vn],hn=!0}return{imageUrl:nn,imageUrl2x:rn,emoji:_n,isDefault:hn}}h(mn,"getMemberProfileImage")},oBB2:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("6rGi"),a=e("lhZz"),r=e("oCIk"),l=e("X1Aw"),o=e("sgFo"),i=e("dKQz"),u=e("Cudo");const d=Object(s.c)("Stop the active huddle",(m,c)=>{const E=c(),f=Object(o.G)(E);return Object(a.dispatchForClientStore)(Object(i.S)({})),m(Object(l.a)()),m(Object(r.a)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),f&&Object(a.dispatchForClientStore)(Object(i.Q)()),m(Object(u.i)(u.a.HiddenUserJoinedHuddle)),Object(t.a)().stop()});d.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"},n.a=d},oCIk:function(H,n,e){"use strict";e.d(n,"a",function(){return m});var s=e("SQ0V"),t=e("s4P+"),a=e("Vnbe"),r=e("dKQz"),l=e("lhZz"),o=e("sgFo"),i=e("+CZ0"),u=e("HoeF"),d=e("SIMs");const m=Object(s.c)("Stops huddle lounge music from playing",(c,E,f)=>{let{clearOnEndedCallback:O,logContext:p,isStoppedByUser:b}=f;const T=E(),v=Object(t.a)({state:T}),S=Object(o.q)(T),A=Object(o.B)(T),I=Object(d.C)(T),_=Object(l.getStateForClientStore)(),M=Object(i.a)(_);a.b.getInstance({experimentHuddlesLoungeMusicPlayerGroupOn:S}).stopMusic({clearOnEndedCallback:O,logger:v,logContext:p}),Object(l.dispatchForClientStore)(Object(r.D)(!1)),b&&M&&c(Object(u.j)({huddleId:M,hasUserStoppedLoungeMusic:b})),A&&b&&I&&c(Object(u.N)({stopMusic:!0}))});m.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},oSkh:function(H,n,e){"use strict";var s=e("c7k8");n.a=s.b},oU7v:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("E97Y"),t=e("ISSR"),a=e("miM7");const r=h((l,o)=>!Object(s.h)(o)&&!Object(t.a)(o)&&!Object(a.a)(o),"canBeExternallyShared")},oWj6:function(H,n,e){"use strict";e.d(n,"a",function(){return t});var s=e("6kzs");let t=h(class extends s.a{getOffsetForKey(r){if(!r)return this.totalHeight;const l=this.getTop(r);return l===void 0?0:l-this.anchorOffset}setHeight(r,l,o){if(this.anchor!==!1)return super.setHeight(r,l),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(o,this.STICKY_EPSILON_SETHEIGHT))return super.setHeight(r,l),this.bracketScrollTop(1/0);let i=o;if(this.getBottom(r)<=o+this.anchorOffset){const d=l-this.getHeight(r);i+=d}return super.setHeight(r,l),this.bracketScrollTop(i)}setKeys(r,l){if(this.anchor!==!1)return super.setKeys(r),this.bracketScrollTop(this.getOffsetForKey(this.anchor));if(this.shouldStickToBottom(l))return super.setKeys(r),this.bracketScrollTop(1/0);const o=l+this.anchorOffset,i=this.findAnchor(this.keys,r,o);if(!i)return super.setKeys(r),this.bracketScrollTop(l);const u=this.getTop(i)-o;super.setKeys(r);const d=this.getTop(i)-o,m=u-d;return this.bracketScrollTop(l-m)}setContainerHeight(r,l){return this.anchor!==!1?(this.containerHeight=r,this.layout(),this.bracketScrollTop(this.getOffsetForKey(this.anchor))):this.shouldStickToBottom(l)?(this.containerHeight=r,this.layout(),this.bracketScrollTop(1/0)):(this.containerHeight=r,this.layout(),l)}setBottomMargin(r){this.bottomMargin=r}setStickToBottom(r){this.stickToBottom=r}setAnchor(r,l){this.anchor=r,typeof l!="number"?this.anchorOffset=this.ANCHOR_OFFSET:this.anchorOffset=l}findAnchor(r,l,o){for(let i=0;i<r.length;i++){const u=r[i];if(this.getBottom(u)>o){for(let d=0;d<l.length;d++)if(l[d]===u)return u}}return null}bracketScrollTop(r){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,r))}shouldStickToBottom(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.STICKY_EPSILON;return this.stickToBottom?r>=this.totalHeight-this.containerHeight-l+this.bottomMargin:!1}constructor({keys:r,heightCache:l,gutter:o,containerHeight:i=0,stickToBottom:u=!1,bottomMargin:d=0,ANCHOR_OFFSET:m=0,STICKY_EPSILON:c=2,STICKY_EPSILON_SETHEIGHT:E=2}={}){super({keys:r,heightCache:l,gutter:o}),this.containerHeight=i,this.stickToBottom=u,this.bottomMargin=d,this.STICKY_EPSILON=c,this.STICKY_EPSILON_SETHEIGHT=E,this.ANCHOR_OFFSET=m,this.anchorOffset=m,this.anchor=!1}},"AnchorLayout")},od0p:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("bPB8"),t=e("K9E8"),a=e("oNuo");function r(){return Object(s.a)(Object.entries(t.a).filter(l=>{let[o,i]=l;return i.is_enabled_by_default}).map(l=>{let[o,i]=l;return Object(a.a)(o)}))}h(r,"getAllBroadcastKeywords")},onsa:function(H,n,e){H.exports=e.p+"gym-preview-cfff9c8.jpg"},opHY:function(H,n,e){"use strict";e.d(n,"c",function(){return t}),e.d(n,"n",function(){return a}),e.d(n,"o",function(){return r}),e.d(n,"l",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"g",function(){return i}),e.d(n,"a",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"f",function(){return m}),e.d(n,"h",function(){return c}),e.d(n,"d",function(){return E}),e.d(n,"k",function(){return f}),e.d(n,"m",function(){return O}),e.d(n,"i",function(){return p}),e.d(n,"j",function(){return b});var s=e("DwFS");const t=Object(s.a)("Sets the highlight property of a download");t.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const a=Object(s.a)("An update of the desktop state from the desktop app");a.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=Object(s.a)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const l=Object(s.a)("Starts a download on the desktop app");l.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const o=Object(s.a)("Pauses a download on the desktop app");o.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const i=Object(s.a)("Resumes a download on the desktop app");i.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const u=Object(s.a)("Cancels a download on the desktop app");u.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const d=Object(s.a)("Clears all stopped downloads for the active team");d.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const m=Object(s.a)("Removes a download on the desktop app");m.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const c=Object(s.a)("Retries a download on the desktop app");c.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const E=Object(s.a)("Opens a file downloaded by the desktop app");E.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const f=Object(s.a)("Shows the folder that contains the downloaded file");f.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const O=Object(s.a)("Toggles the performance monitor");O.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const p=Object(s.a)("Sets the currently active team in the SSB");p.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const b=Object(s.a)("Update canvas system text settings in the SSB");b.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},otRl:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("RB1+"),t=e("qMw6");function a(r){let{inputText:l,inputDelta:o,channelId:i,threadTs:u}=r;const d=Object(s.a)({viewContext:t.a.THREAD,channelId:i,threadTs:u});d&&(o?d.setContents({contents:o.ops}):d.setText(l));const m=Object(s.a)({viewContext:t.a.THREADS_VIEW,channelId:i,threadTs:u});m&&(o?m.setContents({contents:o.ops}):m.setText(l))}h(a,"populateThreadInputs")},ovHh:function(H,n,e){"use strict";e.d(n,"a",function(){return i}),e.d(n,"b",function(){return d});var s=e("Lgge"),t=e("SQ0V"),a=e("6l10"),r=e("2mvv"),l=e("KGIc"),o=e("S4vl"),i;(function(m){m.NoAudioInput="no-audio-input",m.NoAudioOutput="no-audio-output",m.LowVideoQuality="low-video-quality",m.LowAudioQuality="low-audio-quality",m.VideoNotWorking="video-not-working",m.DeviceSelectionError="device-selection-error",m.Disconnected="disconnected",m.SomethingElse="something-else"})(i||(i={}));function u(m){return m.isOk}h(u,"isOkResult");const d=Object(t.c)("Send survey results",(m,c,E)=>{var f,O;const p=c();var b;const T=(b=E.callId)!==null&&b!==void 0?b:p.activeCall.id;if(!T)return Object(o.b)(!1,"There should have been a call in order to send survey results."),s.a.reject(new Error("SendSurveyResult: No call"));var v;const S=(v=E.type)!==null&&v!==void 0?v:"vo-survey",A=u(E)?void 0:{response_requested:!1,comments:E.comments,is_video:(f=p.activeCall)===null||f===void 0?void 0:f.hasVideoBeenEnabled,is_ss:(O=p.activeCall)===null||O===void 0?void 0:O.hasScreenshareBeenEnabled},I={room:T,event_type:S,event_value:u(E)?"ok":E.notOkResponses.join(","),event_metadata:JSON.stringify(A)};return Object(a.a)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:Object(r.b)(p),versionTs:Object(l.f)(),versionUid:Object(l.h)(),args:I})?s.a.resolve():s.a.reject(new Error("SendSurveyResult: beacon failed"))});d.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"}},"p0i/":function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"k",function(){return i}),e.d(n,"j",function(){return u}),e.d(n,"g",function(){return m}),e.d(n,"c",function(){return c}),e.d(n,"h",function(){return E}),e.d(n,"b",function(){return f}),e.d(n,"f",function(){return O}),e.d(n,"d",function(){return p}),e.d(n,"i",function(){return b});var s=e("ZKjC"),t=e("i5Ig"),a=e("uZL6"),r=e("LZPg");const l=3,o=Object(s.b)(T=>T.huddleTroubleshooting.view.activeTab);o.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveTab",description:T=>T.huddleTroubleshooting.view.activeTab};const i=Object(s.b)(T=>T.huddleTroubleshooting.view.shouldDisplayPanel);i.meta={name:"createSelector",key:"createSelectorshouldDisplayTroubleshootingPanel",description:T=>T.huddleTroubleshooting.view.shouldDisplayPanel};const u=Object(s.b)(T=>T.huddleTroubleshooting.view.alertCount>=l);u.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:T=>T.huddleTroubleshooting.view.alertCount>=l};const d=Object(s.b)(T=>T.huddleTroubleshooting.metrics.stable);d.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:T=>T.huddleTroubleshooting.metrics.stable};const m=Object(s.b)(T=>T.huddleTroubleshooting.metrics.unstable);m.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:T=>T.huddleTroubleshooting.metrics.unstable};const c=Object(s.b)(T=>T.huddleTroubleshooting.warnings.stable);c.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:T=>T.huddleTroubleshooting.warnings.stable};const E=Object(s.b)(T=>T.huddleTroubleshooting.warnings.unstable);E.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:T=>T.huddleTroubleshooting.warnings.unstable};const f=Object(s.b)(T=>T.huddleTroubleshooting.alerts.stable);f.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:T=>T.huddleTroubleshooting.alerts.stable};const O=Object(s.b)(T=>T.huddleTroubleshooting.alerts.unstable);O.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:T=>T.huddleTroubleshooting.alerts.unstable};const p=Object(a.a)(T=>f(T)||t.b,T=>O(T)||t.b,T=>c(T)||t.b,(T,v,S)=>{const{isMicrophoneBlocked:A,isCameraBlocked:I,isDisconnected:_,isMicrophoneNotSendingAudio:M}=T,{isAudioQualityPoor:y,isCpuCompetitionPoor:j,isNetworkQualityPoor:C}=v,{isCameraProbablyIphone:D,isSpeakerBluetooth:N}=S,B=!!(y&&C),L=!!(y&&j);return{shouldSurfaceGeneralWarning:!!(B||L||I||A||M||_),shouldSurfaceNetworkWarning:B,shouldSurfaceSystemWarning:L,shouldSurfaceDevicesWarning:!!(N||I||A||M||D)}}),b=Object(a.a)(r.V,r.y,(T,v)=>{const{isCameraEnabled:S}=T;return!!(S||v)})},p5o1:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("w2SD");const{addObjects:t,removeObjects:a}=s.a},p6pj:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("nNoG"),l=e("qDEp"),o=e("/Nz6");const i=new r.b("huddles"),u=h(m=>{let{channelId:c}=m;const E=Object(a.useDispatch)(),f=Object(s.useCallback)(()=>{E(Object(o.a)({channelId:c}))},[E,c]);return c?t.a.createElement(l.f,{onClick:f,type:"outline",className:"p-huddle_invite_link_button__copy_link"},i.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");u.displayName="HuddleInviteLinkButton";var d=n.a=u},p9fx:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s=h(t=>t&&t.name,"getEmojiName")},pFNT:function(H,n,e){"use strict";var s=e("lrwl"),t=e("bbt7");e.d(n,"a",function(){return t.a}),e.d(n,"b",function(){return t.b}),e.d(n,"d",function(){return t.c}),n.c=s.a},pOIg:function(H,n,e){"use strict";e.d(n,"l",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"g",function(){return o}),e.d(n,"f",function(){return i}),e.d(n,"d",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"j",function(){return m}),e.d(n,"i",function(){return c}),e.d(n,"a",function(){return E}),e.d(n,"k",function(){return f}),e.d(n,"h",function(){return O}),e.d(n,"c",function(){return p});var s=e("n3tL"),t=e("DwFS");const a=s.default.shape({threadKey:s.default.string,sortTs:s.default.string,hasUnreads:s.default.bool}),r=Object(t.a)("Set the thread root keys");r.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"},r.propTypes={threads:s.default.arrayOf(a).isRequired,hasMore:s.default.bool,cursorTs:s.default.string,maxTs:s.default.string,refreshId:s.default.string,totalUnreadReplies:s.default.number};const l=Object(t.a)("Append more thread root keys");l.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"},l.propTypes={threads:s.default.arrayOf(a).isRequired,hasMore:s.default.bool,cursorTs:s.default.string};const o=Object(t.a)("Insert a thread at the beginning");o.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"},o.propTypes={thread:a};const i=Object(t.a)("Increments totalUnreadReplies");i.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"},i.propTypes=null;const u=Object(t.a)("Sets totalNewThreads to 0");u.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"},u.propTypes=null;const d=Object(t.a)("Increments allThreadsRefreshCounter");d.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"},d.propTypes=null;const m=Object(t.a)("Set the thread key that should be focused");m.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"},m.propTypes=s.default.string;const c=Object(t.a)("Set the thread timestamp that should be focused");c.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"},c.propTypes=s.default.string;const E=Object(t.a)("Add a thread key to an array of threads that were manually marked unread");E.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"},E.propTypes={threadKey:s.default.string,markOrigin:s.default.string};const f=Object(t.a)("set object of threads that have been manually marked as unread");f.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"},f.propTypes=s.default.objectOf(s.default.string);const O=Object(t.a)("Remove a thread key from an array of threads that were manually marked unread");O.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"},O.propTypes=s.default.string;const p=Object(t.a)("Sets manuallyMarkedUnread to empty");p.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"},p.propTypes=null},pUqw:function(H,n,e){H.exports=e.p+"template_screenshot_bugs-9c0d722.png"},pVEH:function(H,n,e){H.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},pyW3:function(H,n,e){"use strict"},pyq8:function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("FcR8"),r=e("BcBz"),l=e("UbkG"),o=e("RV0M"),i=e("2VFn"),u=e("CnKg"),d=e("gXfi"),m=e("v7mh"),c=e("uNaj"),E=e("rZ8V"),f=e("QKJg"),O=e("SQ0V"),p=e("/Rv1");const b=Object(O.c)("Open a document on a specific version",function(){var T=Object(s.coroutine)(function*(v,S,A,I){const{fileId:_,windowId:M,version:y,source:j,isFromCloseActivityHistory:C,replaceHistoryState:D}=A,N=S(),{versionId:B,sequence:L}={...y};if(!_)return;const{isChildWindow:R,isMainWindow:U,shouldUseNavigate:W,closeView:x,getViewSet:G}=I(o.a),w=Object(m.a)(N),se=Object(l.c)(N,M),{versionId:ee,sequence:X}={...se},me=C?void 0:B||ee,Oe=C?void 0:L||X;if(C||v(Object(r.c)({windowId:M,versionId:B||ee})),R&&W||Object(E.o)(N))if(D){const Ce=U?G(N):Object(m.e)(N,{windowId:M});if(Ce){const le=Ce[i.h.Primary];if(le){const de={...Ce,[i.h.Primary]:{...Ce[i.h.Primary],params:{...le.params,versionId:me,sequence:Oe}}};v(U?Object(d.a)({windowId:i.c,tab:w,viewSet:de}):Object(d.a)({windowId:M.toString(),viewSet:de}))}}}else{const Ce={id:Object(u.h)({id:_}),versionId:me,sequence:Oe,preserveExistingSecondaryView:!C};v(U?Object(f.g)({windowId:i.c,tab:w,container:i.h.Primary,params:Ce}):Object(f.g)({windowId:M.toString(),container:i.h.Primary,params:Ce})),C&&x(i.h.Secondary)}else{const Ce=Object(c.a)();v(Object(a.a)({fileId:_,source:j,versionId:me,sequence:Oe,isFromQuipActivityHistory:!0,replaceHistoryState:D,openedFromId:Ce.params.canvasOpenedFromId})),C&&v(Object(p.a)({shouldReplaceState:!0}))}C&&v(Object(r.b)({windowId:M}))});return function(v,S,A,I){return T.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"},n.a=b},pzLM:function(H,n,e){"use strict";e.d(n,"b",function(){return T}),e.d(n,"a",function(){return v});var s=e("E3dU"),t=e("RVJP"),a=e("Yauy"),r=e("VjAc"),l=e("E97Y"),o=e("ISSR"),i=e("ByMX"),u=e("y/Pn"),d=e("mzZe"),m=e("O0Iw"),c=e("CaVW"),E=e("NjAx");const f={ok:!0},O={ok:!1,reason:r.f},p={ok:!1,reason:r.g},b={ok:!1,reason:r.i},T=h((S,A)=>{const I=Object(s.B)(S,A)&&Object(s.d)(S,A);return I?Object(l.h)(I)&&Object(u.a)(I)?p:Object(o.a)(I)?b:Object(t.d)(S,"channel_manager_enhancements")==="on"&&Object(E.V)(S,{channelId:A})?f:!Object(a.db)(I)||!Object(d.a)(S,I)||Object(i.b)(S)||Object(i.c)(S)||Object(c.a)(S,I)&&!Object(m.b)(S,I)?b:f:O},"canUserSetTopicForChannelWithReasonById"),v=h((S,A)=>T(S,A).ok,"canUserSetTopicForChannelById")},"q+YH":function(H,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i});var s=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),l=e("j77i");const o=Object(s.c)("Set the pref for the sound that plays when a message arrives to the focused conversation",(u,d,m)=>{if(Object(t.a)(d()))try{Object(l.w)(a.c,m)}catch{}u(Object(r.d)(m))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const i=Object(s.c)("Set the pref for the sound that plays when a message is sent to the focused conversation",(u,d,m)=>{if(Object(t.a)(d()))try{Object(l.w)(a.d,m)}catch{}u(Object(r.e)(m))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},q5W5:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("kBpe"),t;(function(r){r[r.Available=0]="Available",r[r.HiddenByBrowser=1]="HiddenByBrowser",r[r.NoDevices=2]="NoDevices"})(t||(t={}));function a(r){return Object(s.i)()?t.Available:r.length===0?t.NoDevices:Object(s.m)()?r.every(o=>o.label==="")?t.HiddenByBrowser:t.Available:r.length===1&&r[0].id===""?t.HiddenByBrowser:t.Available}h(a,"getDeviceAvailability")},q6Tz:function(H,n,e){"use strict";e.d(n,"b",function(){return D}),e.d(n,"e",function(){return N}),e.d(n,"a",function(){return L}),e.d(n,"d",function(){return R}),e.d(n,"c",function(){return x});var s=e("fujP"),t=e("Lgge"),a=e("s4P+"),r=e("Zbwg"),l=e("SQ0V"),o=e("0Wfr"),i=e("417x"),d=h((w,se)=>Object.keys(se).reduce((ee,X)=>({...ee,[w[X]||X]:se[X]}),{}),"renameKeys"),m=e("uVZW"),c=e("i5Ig"),E=h(w=>{const se=d(m.a,Object(i.a)(w)||{});return Object(s.a)(se)?c.b:se},"prepare_data"),f=e("qCwA"),O=e("BEaa"),p=e("v7mh"),b=e("u4cD"),T=e("c41J"),v=e("Wn1n"),S=e("rZ8V"),A=e("vfQU"),I=e("wnwW"),_=e("RV0M"),M=e("2VFn"),y=e("uiBO");const j=Object(a.b)(),C=60*60*1e3,D=Object(l.c)("Load megaphone notification data",(w,se,ee)=>w(Object(T.a)({reason:"load-megaphone-notification-data",...ee})).then(function(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Object(s.a)(X))return;const{ok:me,error:Oe,response_metadata:Ce,notifications:le}=X;if(me===!1||Oe){j.warn(m.d,"Error while fetching notification data",{error:Oe,messages:Ce==null?void 0:Ce.messages});return}const de=le||{},ie=Object.keys(de),pe=Object.values(m.g);ie.forEach(ne=>{if(!pe.includes(ne))return;const q=ee.channelId;if(de[ne]===null)w(Object(b.f)({spaceName:ne,channelId:q})),ne===m.g.LAUNCH_MODAL&&w(Object(I.a)());else{const{name:ce,data:ge={}}=de[ne];if(ne===m.g.CHANNEL_CONTEXT_BAR&&ce===m.h.SLACK_CONNECT_CHANNEL_CONTEXT_BANNER){w(Object(b.f)({spaceName:ne,channelId:q,notificationName:ce,notificationData:{...E(ge),channelId:q}}));return}if(ne===m.g.EVENTS_VIEW&&ce===m.h.EXTERNAL_WORKSPACES_ONBOARDING_MODAL){w(Object(b.f)({spaceName:ne,channelId:ge.external_workspace_id,notificationName:ce,notificationData:E(ge)}));return}w(Object(b.f)({spaceName:ne,channelId:q,notificationName:ce,notificationData:E(ge)})),ne===m.g.LAUNCH_MODAL&&w(Object(I.a)())}ne===m.g.SIDEBAR_FOOTER&&w(Object(f.a)())})}));D.meta={name:"createThunk",key:"createThunkloadMegaphoneNotificationData",description:"Load megaphone notification data"};const N=Object(o.a)(D,C),B=h(()=>[[m.g.CLIENT_FOOTER,m.g.MESSAGE_PANE,m.g.SIDEBAR_FOOTER,m.g.LAUNCH_MODAL,m.g.SIDEBAR_MENU,m.g.IN_PRODUCT_COACHMARK,m.g.QUICK_REACTIONS,m.g.MESSAGE_ACTIONS_LABELS,m.g.PROGRESSIVE_DISCLOSURE,m.g.WELCOME_SPACE,m.g.MESSAGE_INPUT,m.g.EVENTS_VIEW,m.g.ACTIVITY_TAB_SIDEBAR,m.g.TAB_RAIL_HOME_TAB],[m.g.WORKSPACE_MENU_PRIMARY_PLAN_INFO,m.g.WORKSPACE_MENU_SECONDARY_PLAN_INFO,m.g.WORKSPACE_MENU_UPSELL,m.g.EMOJI_DRAWER,m.g.INVITE_MODAL_HEADING,m.g.CREATE_CHANNEL_MAKE_SHARED_CTA,m.g.GUESTS_MODAL_DROPDOWN,m.g.MAIN_MENU,m.g.PROFILE_MENU,m.g.SIDEBAR_MENU_HEADER,m.g.LATER_PAGE_HEADER,m.g.LATER_PAGE_SIDEBAR_LINK,m.g.CHANNEL_CONTEXT_MENU,m.g.SHORTCUTS_MENU_ITEM,m.g.ANNOUNCE_ONLY_SHORTCUTS_MENU_ITEM,m.g.HUDDLE_BUTTON_MENU,m.g.WORKFLOW_BUILDER_HEADER,m.g.APP_HEADER,m.g.SHORTCUTS_MENU_CREATE_A_CANVAS,m.g.AUTOMATIONS_SIDEBAR_MENU_ITEM,m.g.CANVAS_TEMPLATE,m.g.USER_MENU_COACHMARKS,m.g.MORE_PEEK_MENU,m.g.SEARCH_MODAL_FOOTER,m.g.HUDDLE_INVITE_MODAL]],"getBootMegaphoneSpacesGroups"),L=Object(l.c)("Initial load for specific Megaphone Spaces that need to load on boot",(w,se,ee,X)=>{var me;const Oe=se(),Ce=Object(S.o)(Oe)?4:3,le=Object(A.eb)(),{getSiblingView:de,shouldUseNavigate:ie}=X(_.a),pe=ie?(me=de(Oe,{container:M.h.Primary}))===null||me===void 0?void 0:me.id:Object(v.a)(Oe),ne=ee.spaces||B(),q=Object(p.g)(Oe,{tab:Object(p.a)(Oe),container:M.h.Primary}),ce=(q==null?void 0:q.viewType)===y.b.AboutWorkspace,ge=ne.map(be=>{const Q={event:{type:m.e.REQUEST_SPACES,spaces:be,iaVersion:Ce,isAppStoreBuild:le},reason:ee.megaphoneReason};return Object(r.a)(pe)&&(Q.event.channel=pe),ce&&(Q.event.externalWorkspaceId=q.id),w(D(Q))});return t.a.all(ge)});L.meta={name:"createThunk",key:"createThunkchunkedLoadMegaphoneNotificationBootData",description:"Initial load for specific Megaphone Spaces that need to load on boot"};const R=Object(o.a)(L,C),U=20*1e3;let W;const x=Object(l.c)("Load megaphone notification data after a random delay",(w,se,ee)=>{if(W)return;const X=Object(O.a)(U,-1,0);W=setTimeout(()=>{w(L(ee)),W=null},X)});x.meta={name:"createThunk",key:"createThunkrandomDelayedLoadMegaphoneNotificationData",description:"Load megaphone notification data after a random delay"};const G={LOAD_BANNER_MAX_DELAY_MS:U,getBootMegaphoneSpacesGroups:B}},qBBt:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},qCl6:function(H,n,e){H.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},qCwA:function(H,n,e){"use strict";e.d(n,"a",function(){return O});var s=e("Lgge"),t=e("SQ0V"),a=e("Wn1n"),r=e("ohbk"),l=e("mHfD"),o=e("E3dU"),i=e("bhDs"),u=e("pu3F"),d=e("TiPP"),m=e("RV0M"),c=e("I0j/"),E=e("37+L"),f=e("2VFn");const O=Object(t.c)("Redirect to general or Slackbot if benefits page is primary view but not enabled",(p,b,T,v)=>{var S;const A=b(),{getSiblingView:I,shouldUseNavigate:_}=v(m.a),M=_?(S=I(A,{container:f.h.Primary}))===null||S===void 0?void 0:S.id:Object(a.a)(A);if((M==="paid-benefits"||M===d.a)&&!Object(i.c)(A)){const y=p(Object(l.a)());let j=y&&y.id;if(j||(j=Object(o.n)(A,u.W)),j)return p(_?Object(c.a)(Object(E.i)(j)):Object(r.a)({id:j,replaceHistoryState:!0}))}return s.a.resolve()});O.meta={name:"createThunk",key:"createThunkmaybeRedirectFromBenefitsPage",description:"Redirect to general or Slackbot if benefits page is primary view but not enabled"}},qHL7:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("GUXX"),a=e("kov+"),r=e("hHnA"),l=e("asny"),o=e("MDjO");const i=Object(s.c)("Search opportunity list views by query",(u,d,m)=>{let{query:c,isFullSearch:E=!1}=m;const f=d(),O=Object(t.o)(f,a.i.Opportunity),p=E?o.k:o.j;return u(Object(l.a)({limit:p,listviewScope:O,query:c,sobjects:[{sobjectApiName:"ListView",fields:["Name"]}]})).then(b=>{const T=[];return u(Object(r.q)(b)),E&&(b.forEach(v=>{let{id:S}=v;T.push(S)}),u(Object(r.h)(T))),b})});i.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search opportunity list views by query"},n.a=i},qNPi:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("0cEW");const r=h(l=>{let{width:o=20,height:i=20,className:u="",theme:d}=l;const m=d===a.c.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.a.createElement("div",{role:"banner"},t.a.createElement("img",{className:u,src:m,alt:"Slack",width:o,height:i}))},"SlackLogo");r.displayName="SlackLogo",n.a=r},qZ3p:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("DQKV"),r=e("/qcS");const l=h(o=>{let{text:i,emojiSize:u=r.a.SMALL}=o;return t.a.createElement(t.a.Fragment,null,t.a.createElement(a.a,{text:i,emojiSize:u}))},"FormattedHuddleTopic");l.displayName="FormattedHuddleTopic",n.a=l},qZdH:function(H,n,e){"use strict";e.d(n,"b",function(){return l}),e.d(n,"a",function(){return o});var s=e("+CZ0"),t=e("dKQz"),a=e("SQ0V");let r;const l=Object(a.c)("Temporarily show mini-panel",function(i,u){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),i(Object(t.i)(!0)),r=setTimeout(()=>i(Object(t.i)(!1)),d)});l.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const o=Object(a.c)("Temporarily pause mini-panel visibility transition",(i,u)=>{const d=u();Object(s.B)(d)&&clearTimeout(r)});o.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},qcau:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"c",function(){return d}),e.d(n,"f",function(){return E}),e.d(n,"g",function(){return f});var s=e("oTSI"),t=e("kBpe"),a=e("vfQU");const r="sunroof_init",l="fullscreen-ui",o=Object(s.a)(()=>!1),i=Object(s.a)(()=>Object(t.l)("25.1.1")),u=Object(s.a)(()=>{if(!Object(t.i)())return!1;const{titleBarStyle:O}=Object(a.J)("environment")||{},{debugFeatures:p}=Object(a.J)("settings")||{};return O==="custom-extension"||(p==null?void 0:p.includes("window-chrome"))}),d=Object(s.a)(()=>Object(t.k)()&&Object(t.j)("4.33.90")),m=h(()=>{if(!d())return!1;const{useHwAcceleration:O,windowVibrancy:p}=Object(a.J)("settings")||{};return O&&p},"shouldEnableWindowSunroof"),c=Object(s.a)(()=>!Object(t.j)("4.35.97")),E=h(()=>m()?Object(t.p)()?{transparent:c(),vibrancy:l,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function f(O){const{windowVibrancy:p}=Object(a.J)("settings")||{};if(typeof p>"u")return;if(p&&(!O.experimentDesktopIa4SunroofEnabled||!m())){Object(a.ec)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(r)}catch{}return}const b=!!localStorage.getItem(r);if(O.experimentDesktopIa4SunroofEnabled&&!b&&!p&&d()){Object(a.ec)({name:"windowVibrancy",value:!0});try{localStorage.setItem(r,"1")}catch{}}}h(f,"maybeToggleSunroof")},qiJD:function(H,n,e){"use strict";var s=e("Kyco"),t=e("TSHB"),a=e("Bw5p"),r=e("7EGn"),l=e("ifKl"),o=e("vfQU"),i=e("opHY");const u=h((E,f)=>Object(t.a)(E,(O,p)=>Object(t.a)(O,(b,T)=>f(p,T,b))),"mapDownloads"),d=h(E=>({...{app:{},environment:{},settings:{},...Object(a.a)(E,["app","settings","environment"]),windows:Object(t.a)((E==null?void 0:E.windows)||{},O=>({frame:Object(a.a)(O.frame,["isFullScreen","isFocused","isVisible","hasVibrancy"])})),downloads:u((E==null?void 0:E.downloads)||{},(O,p,b)=>({...b,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:Object(r.a)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),m=Object(o.fb)()?d(Object(r.a)(window,"desktop.redux.getState",l.a)()):null,c=Object(s.b)({},m,{storeKey:"desktop",persistenceEnabled:!1}).on(i.n,(E,f)=>{const O=f.downloads?u(f.downloads,(p,b,T)=>({...T,highlight:Object(r.a)(E.downloads,[p,b,"highlight"],!1)})):E.downloads;return{...E,...f,downloads:O}}).on(i.o,(E,f)=>{let{windowId:O,property:p,value:b}=f;var T,v,S;return{...E,windows:{...E.windows,[O]:{...((T=E.windows)===null||T===void 0?void 0:T[O])||{},frame:{...((v=E.windows)===null||v===void 0||(S=v[O])===null||S===void 0?void 0:S.frame)||{},[p]:b}}}}}).on(i.c,(E,f)=>{let{fileId:O,teamId:p,highlight:b}=f;return Object(r.a)(E.downloads,[p,O])?{...E,downloads:{...E.downloads,[p]:{...E.downloads[p],[O]:{...E.downloads[p][O],highlight:b}}}}:E}).on(i.m,E=>({...E,debug:{...E.debug,isPerformanceMonitorEnabled:!E.debug.isPerformanceMonitorEnabled}})).on(i.i,(E,f)=>f?{...E,activeTeamId:f}:E);n.a=c},qlBN:function(H,n,e){"use strict";var s=e("9oTK"),t=e("q1tI"),a=e.n(t),r=e("SQ0V"),l=e("/0Xg"),o=e("3l96"),i=e("s9Q6"),u=e("beWg"),d=e("nNoG"),m=e("/cL/"),c=e("54tk"),E=e("P7By");const f=new d.b("huddles"),O=30,p=h(I=>{let{startTrialContext:_=u.a.huddlesTrialEntryPointModal,uiComponentVariant:M,onSpeedbumpContinue:y,promoType:j,promoSubtype:C,isEligibleForTrial:D}=I;const N=h(G=>{let{text:w}=G;return a.a.createElement(m.a,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},w)},"renderPlansPageLink"),B=f.t("Try huddles with more people"),L=D?f.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:O,"<plansPageLink>":N}):f.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":N}),R=f.t("With more people, you can:"),U=Object(t.useCallback)(()=>[f.t("Host a team brainstorm from anywhere"),f.t("Get the group\u2019s feedback with a live screenshare"),f.t("Touch base on the go, without all the typing")],[]),W=Object(t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(null,"xyFF",3)),[]),x=Object(t.useMemo)(()=>a.a.createElement(E.a,{getAnimationImport:W,autoplay:!0,loop:!0}),[W]);return a.a.createElement(c.a,{modalTitle:B,modalSubtitle:L,modalLottieAnimation:x,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:R,modalChecklistItems:U(),promoType:j,promoSubtype:C,startTrialContext:_,uiComponentVariant:M,onSpeedbumpContinue:y,isEligibleForTrial:D})},"HuddleTrialEntryPointModal");p.displayName="HuddleTrialEntryPointModal";var b=p,T=e("iaW+");function v(){return v=Object.assign||function(I){for(var _=1;_<arguments.length;_++){var M=arguments[_];for(var y in M)Object.prototype.hasOwnProperty.call(M,y)&&(I[y]=M[y])}return I},v.apply(this,arguments)}h(v,"_extends");const S=Object(r.c)("Open huddles trial entry point modal",function(){var I=Object(s.coroutine)(function*(_,M,y){const j=l.o.PaidFeatureTrial,C=l.n.Vhq;yield _(Object(T.a)({campaignType:j,campaignSubType:C,reason:"huddle_trial_entry_point_modal"}));const D=Object(i.c)(M(),j,C);return _(Object(o.a)({element:a.a.createElement(b,v({},y,{promoType:j,promoSubtype:C,isEligibleForTrial:D}))}))});return function(_,M,y){return I.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};var A=n.a=S},qrpL:function(H,n,e){H.exports=e.p+"ava_0022-32-7779579.png"},qvC3:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return i});var s=e("9oTK"),t=e.n(s),a=e("Aqb/"),r=e("xvpf");function l(m){return o.apply(this,arguments)}h(l,"collectInitialPageLoadMetrics");function o(){return o=Object(s.coroutine)(function*(m){let{contextualInfo:c}=m;const{getTraceMeta:E,isBootingWarm:f,appName:O}=c,{getTracer:p,tags:b}=E(),T=(yield f)?r.b.WARM:r.b.COLD,v=p().createTrace({traceName:r.a.BOOT_INITIAL_LOAD,tags:{boot_type:T,app_name:O,...b},autoCreateRootSpan:!1,samplingOptions:{sampleType:a.a.ALWAYS}});v.startSpan(r.a.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),v.startSpan(r.a.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),v.startSpan(r.a.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),p().reportTrace(v)}),o.apply(this,arguments)}h(o,"_collectInitialPageLoadMetrics");function i(m){m.hooks.beforeDynamicImportsStart.addCallIntercept(c=>u(c)),m.hooks.renderApp.addCallIntercept(c=>d(c))}h(i,"setupBootMetricsTracing");function u(m){return c=>{const{getTracer:E,setTrace:f,rootTrace:O}=c.contextualInfo.getTraceMeta(),b=E().createTrace({traceName:r.a.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:O.getRootSpanId(),traceId:O.getTraceId()});return b.startSpan(r.a.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),f(b),m(c)}}h(u,"startTimeToRenderTrace");function d(m){return function(){var c=Object(s.coroutine)(function*(E){const{isBootingWarm:f,getTraceMeta:O,isForegroundTeam:p}=E.contextualInfo,{getTracer:b,getTrace:T,setTrace:v,rootTrace:S}=O(),A=b(),I=T(),_=(yield f)?r.b.WARM:r.b.COLD;return I.addTags({boot_type:_,is_foreground_team:p}),A.reportTrace(I),v(S),m(E)});return function(E){return c.apply(this,arguments)}}()}h(d,"endTimeToRenderTrace")},r6c4:function(H,n,e){"use strict";e.d(n,"b",function(){return m}),e.d(n,"a",function(){return c});var s=e("oTSI"),t=e("RVJP"),a=e("beVI"),r=e("y/Pn"),l=e("E97Y"),o=e("G0eX"),i=e("x+oO"),u=e("E3dU");const d=Object(s.a)((E,f)=>Object(o.G)(E)&&(f==null?void 0:f.some(O=>Object(r.a)(O)&&!Object(l.h)(O)))),m=h(E=>{const f=Object(a.g)(E),O=Object(u.b)(E);return d(f,O)},"isHuddlesEnabledForSponsoredTeam"),c=h((E,f)=>{const O=Object(a.g)(E);return!!f&&Object(t.d)(E,"sponsored_connections_translations")==="on"&&Object(o.G)(O)&&Object(i.b)(E,f)},"isHuddlesEnabledForSponsoredChannel")},r9F4:function(H,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"f",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"d",function(){return c}),e.d(n,"c",function(){return E});var s=e("G4qV"),t=e("ZKjC"),a=e("7zTl"),r=e("wVLq");const l=Object(t.b)(f=>f.huddleEvents);l.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:f=>f.huddleEvents};const o=Object(t.b)(f=>l(f).enabled);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:f=>l(f).enabled};const i=Object(t.b)(f=>l(f).isLoading);i.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:f=>l(f).isLoading};const u=Object(t.b)(f=>f.huddleEvents.isSideBySideEnabled);u.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:f=>f.huddleEvents.isSideBySideEnabled};const d=Object(t.b)(f=>f.huddleEvents.isClosedCaptionsEnabled);d.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:f=>f.huddleEvents.isClosedCaptionsEnabled};const m=Object(t.b)(f=>f.huddleEvents.isClosedCaptionsEnabled);m.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:f=>f.huddleEvents.isClosedCaptionsEnabled};const c=Object(s.a)(f=>l(f).events,f=>{const O=[];let p,b=[];const T=h(()=>{p&&O.push({...p,content:b.join(" ")})},"maybeCommit");return f.forEach(v=>{p&&v.type===r.a.TRANSCRIBE&&p.memberId===v.memberId&&v.timestampMs-p.endTimeMs<a.b?(b.push(v.content),p.endTimeMs=v.endTimeMs):(T(),v.type===r.a.TRANSCRIBE?(p={type:r.a.TRANSCRIBE,resultId:"",memberId:v.memberId,content:"",timestampMs:v.timestampMs,endTimeMs:v.endTimeMs},b=[v.content]):(p=null,b=[],O.push(v)))}),T(),O}),E=Object(s.a)(f=>c(f),f=>f.filter(O=>O.type===r.a.TRANSCRIBE||O.type===r.a.START_TRANSCRIPTION).slice(-5))},r9Lk:function(H,n,e){H.exports=e.p+"office-preview-de46de4.jpg"},rCwz:function(H,n,e){"use strict";e.d(n,"b",function(){return r}),e.d(n,"a",function(){return l});var s=e("e9jb"),t=e("KciV"),a=e("s4P+");function r(o){let{direction:i,type:u,payload:d}=o;const m=Object(s.a)()?"slack":"call",c="INTER-WINDOW-MESSAGE";(Object(s.a)()?Object(t.c)(c):Object(a.b)({label:c})).info(`${i==="send"?"Sending":"Received"} ${u} ${i==="send"?"to":"from"} the ${m} window${d?`, with payload: ${JSON.stringify(d)}`:""}`)}h(r,"logInterWindowMessage");function l(o){function i(u,d,m){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;o(d,m,c),u.sendData({type:d,payload:m})}return h(i,"sendMessage"),i}h(l,"createInterWindowMessageSender")},rEBs:function(H,n,e){"use strict";e.d(n,"b",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("Cfcg"),l=e("zm5I"),o=e("rf28"),i=e("EQgQ");const u=15,d={numActiveBubbles:0,numInactiveBubbles:u};function m(O){return Math.min(1,Math.max(0,i.a*O))}h(m,"getClampedAudioLevel");let c=h(class extends s.PureComponent{componentDidMount(){o.a.subscribe(this.onLevelUpdated)}componentWillUnmount(){o.a.unsubscribe(this.onLevelUpdated)}onLevelUpdated(p){const b=Math.floor(u*m(p));this.setState(()=>({numActiveBubbles:b,numInactiveBubbles:u-b}))}renderBubbles(){const{numActiveBubbles:p,numInactiveBubbles:b}=this.state,{bubbleClassname:T}=this.props,v=Object(a.default)("p-audio_levels__bubble","p-audio_levels__bubble--active",T,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),S=Object(a.default)("p-audio_levels__bubble","p-audio_levels__bubble--inactive",T,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),A=Array.from({length:p},(_,M)=>t.a.createElement("span",{key:`active${M}`,className:v})),I=Array.from({length:b},(_,M)=>t.a.createElement("span",{key:M,className:S}));return A.concat(I)}render(){return t.a.createElement("div",{className:"p-audio_levels","data-qa":"audio-levels-bubbles"},this.renderBubbles())}constructor(p){super(p),this.state=d,this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");c.displayName="AudioMeter";const E=h(O=>({clientTheme:Object(l.a)(O)}),"mapStateToProps");var f=n.a=Object(r.a)(E)(c)},rGCG:function(H,n,e){"use strict";e.d(n,"a",function(){return Ut});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("Muja"),l=e("yM+I"),o=e("3REw"),i=e("1VgO"),u=e("WSQ4");function d(){return d=Object.assign||function(Ie){for(var oe=1;oe<arguments.length;oe++){var ye=arguments[oe];for(var Ne in ye)Object.prototype.hasOwnProperty.call(ye,Ne)&&(Ie[Ne]=ye[Ne])}return Ie},d.apply(this,arguments)}h(d,"_extends");let m=h(class extends s.PureComponent{componentDidMount(){this.context.window.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){this.isDragging&&this.onMouseUp(),this.context.window.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(oe){oe.button===0&&(this.isDragging=!0,this.context.window.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(oe))}onMouseMove(oe){oe.button===0&&this.isDragging&&this.props.onDragMove(oe)}onMouseUp(oe){if(oe&&oe.button!==0)return;const ye=this.isDragging;this.isDragging=!1,ye&&(this.context.window.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(oe))}render(){const{children:oe,refToForward:ye,onDragStart:Ne,onDragMove:Ge,onDragEnd:st,...$e}=this.props,It=t.a.Children.only(this.props.children);return t.a.cloneElement(It,{...$e,onMouseDown:St=>this.onMouseDown(St),ref:Object(i.a)(ye,It)})}constructor(oe){super(oe),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");m.displayName="BaseDragTarget",m.contextType=u.a;const c=t.a.forwardRef((Ie,oe)=>t.a.createElement(m,d({},Ie,{refToForward:oe})));var E=e("LZPg"),f=e("SQ0V"),O=e("KciV");const p=Object(O.c)("USER-ACTIONS"),b=Object(f.c)("Logs user interaction with call window",(Ie,oe,ye)=>{p.info(ye)});b.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var T=e("wMt+"),v=e("uXea");function S(Ie){I=w(ie(Ie))}h(S,"startCurve");function A(Ie){const oe=ie(Ie),ye=se(I,oe);return ye.update_status==L.SUCCESS?ye:se(I,oe)}h(A,"addToCurve");let I;const _=2,M=9,y=9,j=50,C=80,D=1,N=!0,B=!0,L={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},R=h(()=>({segments:[],vdmap:[]}),"initCurve"),U=h((Ie,oe)=>({c0:{x:Ie,y:oe},c1:{x:Ie,y:oe},c2:{x:Ie,y:oe},c3:{x:Ie,y:oe}}),"initCurveSegment"),W=h(Ie=>Ie.segments[Ie.segments.length-1],"getLastSegment"),x=h(Ie=>Ie.c3,"getLastPoint"),G=h(function(Ie){return{c0:{x:Ie.c0.x,y:Ie.c0.y},c1:{x:Ie.c1.x,y:Ie.c1.y},c2:{x:Ie.c2.x,y:Ie.c2.y},c3:{x:Ie.c3.x,y:Ie.c3.y},constrain_to:Ie.constrain_to==null?void 0:{x:Ie.constrain_to.x,y:Ie.constrain_to.y},error:Ie.error||0,update_status:Ie.update_status}},"copySegment"),w=h(function(Ie){let{x:oe,y:ye}=Ie;const Ne=R();return Ne.segments.push(U(oe,ye)),Ne},"createCurve"),se=h(function(Ie,oe){const ye=W(Ie),Ne=x(ye);if(z(oe,x(ye))<D)return ye;if(L.SUCCESS!=ye.update_status&&ye.update_status!==void 0){let Ge;L.FAIL_CORNER==ye.update_status?Ge=U(Ne.x,Ne.y):L.FAIL_MAXED==ye.update_status&&(Ge=U(Ne.x,Ne.y),Ge.constrain_to=$(me(ye))),Ie.vdmap=[],Ie.segments.push(Ge)}return ee(Ie,oe)},"addToCurveImpl"),ee=h(function(Ie,oe){const ye=W(Ie),{x:Ne,y:Ge}=oe;let st=x(ye);const $e=G(ye);if(Oe(ye,oe))return ye.update_status=L.FAIL_CORNER,ye;ye.c3={x:Ne,y:Ge},ye.c2={x:ye.c2.x+Ne-st.x,y:ye.c2.y+Ge-st.y};const It=Z(st,oe),Lt=le(It),St=q(st,Lt),vt=q(oe,Lt),Yt=de(ge(Lt,2)),et=ve(Yt),Ft=be(Yt,et),mt=ce(vt,St),Zt=ve(mt),gt=be(mt,Zt);let at=St;for(let Dt=0;Dt<Zt;Dt++){let Ye=at,Xe=Lt;for(let kt=0;kt<et;kt++){const{x:Bt,y:wt}=ie(Ye);Ie.vdmap[Bt]||(Ie.vdmap[Bt]=[]),Ie.vdmap[Bt][wt]==null?Ie.vdmap[Bt][wt]=ie(Xe):Ie.vdmap[Bt][wt]=pe(Ie.vdmap[Bt][wt])<pe(ie(Xe))?Ie.vdmap[Bt][wt]:ie(Xe),Xe=q(Xe,Ft),Ye=q(Ye,Ft)}at=q(at,gt)}const it=ce(oe,{x:M,y:M}),dt=q(oe,{x:M,y:M});for(let Dt=it.x;Dt<dt.x;Dt++)for(let Ye=it.y;Ye<dt.y;Ye++){Ie.vdmap[Dt]||(Ie.vdmap[Dt]=[]);const Xe=ce({x:Dt,y:Ye},oe);Ie.vdmap[Dt][Ye]==null?Ie.vdmap[Dt][Ye]=Xe:Ie.vdmap[Dt][Ye]=pe(Ie.vdmap[Dt][Ye])<pe(Xe)?Ie.vdmap[Dt][Ye]:Xe}let _t=0;for(;;){let Dt={x:0,y:0},Ye={x:0,y:0};for(let Bt=0;Bt<y;Bt++){const wt=Bt/y,we=ie(te(ye,wt)),ot=X(Ie,we),yt=ne(ot),Kt=ot.x,Xt=ot.y;let cn=1;B&&(wt<.1||wt>.9)&&(cn=10),Dt.x+=wt*Math.pow(1-wt,2)*yt*Kt*cn,Dt.y+=wt*Math.pow(1-wt,2)*yt*Xt*cn,Ye.x+=Math.pow(wt,2)*(1-wt)*yt*Kt*cn,Ye.y+=Math.pow(wt,2)*(1-wt)*yt*Xt*cn}if(B){const Bt=ce(Ce(ye),ye.c2),wt=ce(Ce(ye),ye.c1);Dt=ce(Dt,ge(wt,.03)),Ye=ce(Ye,ge(Bt,.03))}ye.constrain_to&&(Dt=ge(ye.constrain_to,re(ye.constrain_to,Dt)));const Xe=1;ye.c1.x-=Xe*Dt.x*6/y,ye.c1.y-=Xe*Dt.y*6/y,ye.c2.x-=Xe*Ye.x*6/y,ye.c2.y-=Xe*Ye.y*6/y;let kt=0;for(let Bt=0;Bt<y;Bt++){const wt=Bt/y,we=te(ye,wt),ot=X(Ie,ie(we));kt+=Math.pow(ot.x,2)+Math.pow(ot.y,2)}if(kt=kt/y,_t++,ye.error=kt,ye.steps=_t,kt<_||_t>j)break}return _t>j?(ye.c0=$e.c0,ye.c1=$e.c1,ye.c2=$e.c2,ye.c3=$e.c3,ye.error=$e.error,ye.constrain_to=$e.constrain_to,ye.update_status=L.FAIL_MAXED,ye):(ye.update_status=L.SUCCESS,ye)},"updateDistanceField"),X=h(function(Ie,oe){let{x:ye,y:Ne}=oe;if(Ie.vdmap[ye]){const Ge=Ie.vdmap[ye][Ne],st=Ie.vdmap[ye][Ne+1];let $e=Ge!=null?{x:Ge.x,y:Ge.y}:{x:M,y:M};return st&&st.x!=null&&Math.abs($e.x)>Math.abs(st.x)&&($e.x=st.x),st&&st.y!=null&&Math.abs($e.y)>Math.abs(st.y)&&($e.y=st.y),$e}else return{x:M,y:M}},"getDistanceFromPolyline"),me=h(function(Ie){const oe=Ie.c3,ye=Ie.c2;return{x:3*(ye.x-oe.x),y:3*(ye.y-oe.y)}},"getCurveEndTangent"),Oe=h(function(Ie,oe){if(Q(Ie.c0,Ie.c3))return!1;let ye;N?ye=$(ce(te(Ie,.95),Ie.c3)):ye=$(me(Ie));const Ne=$({x:oe.x-Ie.c3.x,y:oe.y-Ie.c3.y}),Ge=re(ye,Ne);if(Y(Math.acos(Ge))<C)return!0},"checkCorner"),Ce=h(Ie=>q(be(ce(Ie.c3,Ie.c0),2),Ie.c0),"getSegmentMidpoint"),le=h(Ie=>({x:Ie.x*M,y:Ie.y*M}),"getScaledVectorDifference"),de=h(Ie=>({x:-Ie.x,y:-Ie.y}),"negateVec"),ie=h(Ie=>({x:Math.round(Ie.x),y:Math.round(Ie.y)}),"roundVec"),pe=h(Ie=>Math.pow(Ie.x,2)+Math.pow(Ie.y,2),"sumOfSquaresVec"),ne=h(Ie=>Math.sqrt(pe(Ie)),"magnitudeVec"),q=h((Ie,oe)=>({x:Ie.x+oe.x,y:Ie.y+oe.y}),"addVec"),ce=h((Ie,oe)=>q(Ie,de(oe)),"subVec"),ge=h((Ie,oe)=>({x:Ie.x*oe,y:Ie.y*oe}),"multVec"),be=h((Ie,oe)=>ge(Ie,1/oe),"divVec"),Q=h((Ie,oe)=>Ie.x==oe.x&&Ie.y==oe.y,"equalVec"),re=h((Ie,oe)=>Ie.x*oe.x+Ie.y*oe.y,"dotProduct"),z=h(function(Ie){let{x:oe,y:ye}=Ie,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(oe-Ne.x,2)+Math.pow(ye-Ne.y,2))},"getMagnitude"),Y=h(Ie=>Ie*180/Math.PI,"radiansToDegrees"),ve=h(Ie=>Math.max(Math.abs(Ie.x),Math.abs(Ie.y)),"getDDASteps"),Z=h((Ie,oe)=>{const ye=oe.x-Ie.x,Ge=oe.y-Ie.y,st=-ye;return $({x:Ge,y:st})},"getPerpindicularUnitVector"),$=h(function(Ie){let{x:oe,y:ye}=Ie;const Ne=z({x:oe,y:ye});return{x:oe/Ne,y:ye/Ne}},"getUnitVector"),te=h(function(Ie,oe){const ye=J(oe,Ie.c0.x,Ie.c1.x,Ie.c2.x,Ie.c3.x),Ne=J(oe,Ie.c0.y,Ie.c1.y,Ie.c2.y,Ie.c3.y);return{x:ye,y:Ne}},"getPointAlongCurve"),J=h(function(Ie,oe,ye,Ne,Ge){return oe*Math.pow(1-Ie,3)+ye*3*Ie*Math.pow(1-Ie,2)+Ne*3*Math.pow(Ie,2)*(1-Ie)+Ge*Math.pow(Ie,3)},"singleComponentBezier");function k(Ie,oe){return{a:Ie,b:oe}}h(k,"makeLineSegment");function ae(Ie,oe){let[ye,Ne]=Ie,[Ge,st]=oe;return Math.sqrt((ye-Ge)**2+(Ne-st)**2)}h(ae,"magnitude");class Ee{add(oe){return this.current?ae(this.current.a,oe)>.05?(this.current=k(this.current.b,oe),{type:o.c.New,segment:this.current}):(this.current=k(this.current.a,oe),{type:o.c.Edit,segment:this.current}):(this.current=k(oe,oe),{type:o.c.New,segment:this.current})}}h(Ee,"line_transformer_ProgressiveEqualLengthMultilineTransformer");class _e{setTargetRect(oe){this.targetRect=oe}add(oe){if(!Object(T.a)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:ye,left:Ne,width:Ge,height:st}=this.targetRect,[$e,It]=[oe[0]-Ne,oe[1]-ye];if(!this.current){S({x:$e,y:It});const Ft=[$e/Ge,It/st];return this.current={a:Ft,b:Ft,c:Ft,d:Ft},{type:o.c.New,segment:this.current}}const Lt=this.current,{c0:St,c1:vt,c2:Yt,c3:et}=A({x:$e,y:It});return this.current={a:[St.x/Ge,St.y/st],b:[vt.x/Ge,vt.y/st],c:[Yt.x/Ge,Yt.y/st],d:[et.x/Ge,et.y/st]},this.current.a[0]!==Lt.a[0]||this.current.a[1]!==Lt.a[1]?{type:o.c.New,segment:this.current}:{type:o.c.Edit,segment:this.current}}}h(_e,"line_transformer_ProgressiveCurveTransformer");var je=e("UXvI"),Ue=e("cRDo");const Ke=2e3,ke=50,Qe=h(Ie=>{const{onDragStart:oe,onDragMove:ye,onDragEnd:Ne,onCursorMoveStart:Ge,onCursorMove:st,onCursorMoveEnd:$e,children:It}=Ie,[Lt,St]=Object(s.useState)(!1),[vt,Yt]=Object(s.useState)(!1),[et,Ft]=Object(s.useState)(0),[mt,Zt]=Object(s.useState)(0),gt=Object(s.useCallback)(Xe=>{Xe.button===0&&(St(!0),oe(Xe))},[oe]),at=Object(s.useCallback)(()=>{Yt(!1),$e()},[Yt,$e]);Object(Ue.a)(()=>{at()},Ke,[et,mt]);const it=Object(s.useCallback)(Xe=>{if(Xe.button===0){if(Lt){ye(Xe);return}vt||(Ge(Xe),Yt(!0)),st(Xe),Ft(Xe.movementX),Zt(Xe.movementY)}},[vt,Lt,st,Ge,ye]),dt=Object(je.a)(it,ke,{leading:!0}),_t=Object(s.useCallback)(Xe=>{Xe.persist(),dt(Xe)},[dt]),Dt=Object(s.useCallback)(Xe=>{if(Xe&&Xe.button!==0)return;const kt=Lt;St(!1),kt&&Ne(Xe)},[Lt,Ne]),Ye=Object(s.useCallback)(Xe=>{const kt=Lt;St(!1),kt?Ne(Xe):vt&&$e()},[Lt,Ne,vt,$e]);return t.a.createElement("div",{onMouseDown:gt,onMouseMove:_t,onMouseUp:Dt,onMouseLeave:Ye,"aria-hidden":"true"},It)},"HuddlesCursorTarget");Qe.displayName="HuddlesCursorTarget";var Ze=t.a.memo(Qe),De=e("74PA"),Fe=e("ktUG"),Ve=e("uxre");function Je(){return Je=Object.assign||function(Ie){for(var oe=1;oe<arguments.length;oe++){var ye=arguments[oe];for(var Ne in ye)Object.prototype.hasOwnProperty.call(ye,Ne)&&(Ie[Ne]=ye[Ne])}return Ie},Je.apply(this,arguments)}h(Je,"target_extends");let Ot=h(class extends t.a.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(oe,ye){return!Object(r.a)(this.props,oe)||!Object(r.a)(this.state,ye)}componentDidUpdate(oe){Object(r.a)(oe.targetRect,this.props.targetRect)||this.onResize()}onResize(){var oe;if(!(!((oe=this.props.refToForward)===null||oe===void 0)&&oe.current))return;const ye=Object(v.a)(this.props.targetRect);this.props.refToForward.current.style.height=ye.height,this.props.refToForward.current.style.width=ye.width,this.props.refToForward.current.style.top=ye.top,this.props.refToForward.current.style.left=ye.left,this.props.refToForward.current.style.position=ye.position}getCursorCoordinates(oe){return this.props.useHuddlesDragTarget?[oe.nativeEvent.offsetX,oe.nativeEvent.offsetY]:[oe.pageX,oe.pageY]}onDragStart(oe){this.multilineTransformer=new _e,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),l.a.publish({id:"self",type:o.c.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),l.a.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(oe)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(oe){Object(T.a)(this.multilineTransformer,"Need transformer to draw")&&l.a.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(oe)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(oe){l.a.publish({id:"self",type:o.c.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&Object(De.a)(Fe.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Fe.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){l.a.publish({id:"self",type:o.c.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(oe){const ye=this.getCursorCoordinates(oe),Ne=ye[0]/this.props.targetRect.width,Ge=ye[1]/this.props.targetRect.height;l.a.publish({id:"self",type:o.c.Position,x:Ne,y:Ge,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){l.a.publish({id:"self",type:o.c.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.a.createElement(Ze,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.a.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...Object(v.a)(this.props.targetRect)}})):t.a.createElement(c,{onDragStart:oe=>this.onDragStart(oe),onDragMove:oe=>this.onDragMove(oe),onDragEnd:oe=>this.onDragEnd(oe)},t.a.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...Object(v.a)(this.props.targetRect)}}))}constructor(oe){super(oe),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");Ot.displayName="BaseDrawTarget";const ht=h((Ie,oe)=>({hue:Object(E.V)(Ie).drawHue}),"mapStateToProps"),Le=h(Ie=>({logDrawingAction:oe=>Ie(b(oe))}),"mapDispatchToProps"),jt=Object(a.a)(ht,Le)(Ot),Ut=t.a.forwardRef((Ie,oe)=>t.a.createElement(jt,Je({refToForward:oe},Ie)))},rH7J:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),l=e("j77i");const o=Object(s.c)("Set the behavior of the up arrow shortcut when focus is in the MessageInput",(i,u,d)=>{if(Object(t.a)(u()))try{Object(l.w)(a.a,d)}catch{}i(Object(r.b)(d))});o.meta={name:"createThunk",key:"createThunksetComposerUpArrowShortcutBehavior",description:"Set the behavior of the up arrow shortcut when focus is in the MessageInput"}},rIOq:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("xwCZ"),o=e("5YDL"),i=e("4HNC"),u=e("zNRp"),d=e("TUw0"),m=e("sGXp");function c(){return c=Object.assign||function(O){for(var p=1;p<arguments.length;p++){var b=arguments[p];for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(O[T]=b[T])}return O},c.apply(this,arguments)}h(c,"_extends");let E=h(class extends s.Component{render(){const{className:p,isActive:b=!1,isDeactivated:T=!1,isDisabled:v=!1,secondaryContent:S,secondaryContentPosition:A=d.a.right,showUnreadCount:I=!1,showStatus:_,showPresence:M,useShortMode:y=!1,showHoverCard:j,forwardedRef:C,unreadCount:D,ariaLabel:N}=this.props,B=I&&D&&t.a.createElement(u.b,{className:"c-member__unread_count",count:D,style:u.a.red}),L=S&&t.a.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},S),R=(A===d.a.right&&L||B)&&t.a.createElement("span",{className:"c-member__secondary_content"},A===d.a.right&&L,B),U=Object(r.default)(p,"c-medium_member_list_entity");let W;return b?v||T?W=m.d.highlightDim:W=m.d.highlightLight:(v||T)&&(W=m.d.dim),t.a.createElement(i.a,{"data-qa":"medium_member_list_entity",className:U,style:W,primaryContent:t.a.createElement(d.b,c({},this.props,{secondaryContent:A===d.a.right?null:S,showStatus:_,showPresence:M,showHoverCard:j,useShortMode:y,forwardedRef:C})),secondaryContent:R,size:"medium",ariaLabel:N})}},"MediumMemberListEntity");E.displayName="MediumMemberListEntity";function f(O,p){let{id:b}=p;const T=Object(l.g)(O,b);return{member:T??void 0,unreadCount:Object(o.a)(O,T)}}h(f,"mapStateToProps"),n.a=Object(a.a)(f,null,null,{forwardRef:!0})(E)},rRi9:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a});var s=e("DwFS");const t=Object(s.a)("Add ephemeral message reference to store");t.meta={name:"createAction",key:"createActionaddToEphemeralMessageMap",description:"Add ephemeral message reference to store"};const a=Object(s.a)("Remove ephemeral message reference");a.meta={name:"createAction",key:"createActionremoveFromEphemeralMessageMap",description:"Remove ephemeral message reference"}},rTTn:function(H,n,e){"use strict";e.d(n,"a",function(){return A});var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("owWc"),l=e("/MKj"),o=e("qDEp"),i=e("Ws5+"),u=e("ovHh"),d=e("3krt"),m=e("O86Y"),c=e("YUBf"),E=e("3V+Q"),f=e("Eoji"),O=e("nNoG"),p=e("Tevt"),b=e("B4ch"),T=e("d/xU"),v=e("sgFo");const S=new O.b("huddles");var A;(function(y){y.HuddleSurvey="huddle-survey"})(A||(A={}));function I(y){return Object(r.a)(y,(j,C,D)=>(C&&j.push(D),j),[])}h(I,"collectResponses");const _=h(y=>{let{closeModal:j,callId:C}=y;const D=Object(a.d)(m.g),N=Object(a.d)(v.T),[B,L]=Object(s.useState)({}),[R,U]=Object(s.useState)(""),[W,x]=Object(s.useState)(!1),G=`https://${Object(T.l)()}`,w=Object(l.useDispatch)(),se=N?[{value:u.a.NoAudioInput,text:S.t("Others couldn\u2019t hear me")},{value:u.a.NoAudioOutput,text:S.t("I couldn\u2019t hear others")},{value:u.a.DeviceSelectionError,text:S.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:u.a.LowAudioQuality,text:S.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:u.a.LowVideoQuality,text:S.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:u.a.VideoNotWorking,text:S.t("Video didn\u2019t work at all")},{value:u.a.Disconnected,text:S.t("I got disconnected from the Huddle")},{value:u.a.SomethingElse,text:S.t("Something else went wrong")}]:[{value:"echo",text:S.t("I could hear an echo")},{value:"robot",text:S.t("Some people sounded like robots")},{value:"no-audio",text:S.t("I couldn\u2019t hear anything at all")},{value:"disconnect",text:S.t("The huddle kept disconnecting")},{value:"screen-share",text:S.t("Screensharing didn\u2019t work well")}],ee=A.HuddleSurvey,X=Object(s.useCallback)(()=>{x(!0);const de={isOk:!1,notOkResponses:I(B),comments:R,callId:C,type:ee};w(Object(u.b)(de)).then(()=>{N&&D&&Object(d.b)({teamId:D,callId:C,results:{summary:d.a.Bad,...de}}),x(!1),j==null||j()})},[N,C,B,j,D,R,w,ee]),me=Object(s.useCallback)(()=>{w(Object(u.b)({isOk:!1,notOkResponses:["dismiss"],callId:C,type:ee})),j==null||j()},[j,C,ee,w]),Oe=Object(s.useCallback)(de=>U(de),[]),Ce=!!B[u.a.SomethingElse],le=N?Ce:!0;return t.a.createElement(c.a,{closeModal:me,showCloseButton:!0,centered:!0,maxWidth:600},t.a.createElement(t.a.Fragment,null,t.a.createElement(c.i,null,t.a.createElement(c.l,{title:S.t("What went wrong?")})),t.a.createElement(c.d,null,t.a.createElement(c.e,null,se.map(de=>{let{value:ie,text:pe}=de;return t.a.createElement(E.b,{text:pe,key:ie,id:ie,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},t.a.createElement(i.a,{name:ie,value:ie,checked:!!B[ie],onChange:ne=>L(q=>({...q,[ie]:ne.target.checked}))}))}),le&&t.a.createElement(E.b,{className:"padding_top_75",text:S.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},t.a.createElement(f.a,{name:"details",id:"details",onChange:Oe,value:R})))),t.a.createElement(c.g,null,t.a.createElement(p.a,{href:`${G}/privacy-policy`,target:"_blank"},S.t("Privacy Policy")),t.a.createElement(c.h,null,t.a.createElement(o.a,{onClick:me,type:"outline"},S.t("Dismiss")),t.a.createElement(o.c,{loading:W,onClick:X},S.t("Send"))))))},"HuddleSurveyModal");_.displayName="HuddleSurveyModal";var M=n.b=Object(b.a)(_)},rYtS:function(H,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"d",function(){return M}),e.d(n,"c",function(){return y}),e.d(n,"b",function(){return j}),e.d(n,"e",function(){return C});var s=e("Vfgr"),t=e("nNoG"),a=e("rdha"),r=e("ZOzc"),l=e("3REw"),o=e("2OfI"),i=e("sgFo"),u=e("i3z+"),d=e("UIWO"),m=e("beVI"),c=e("3vtZ"),E=e("ZTSm"),f=e("uZL6");const O={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},p=new t.b("huddles"),b=h((D,N)=>({video:[...D&&D.video?D.video:[]],audio:[...!N&&D&&D.audio?D.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),T=h(D=>{const N=D.reduce((L,R)=>(Object.entries(R).forEach(U=>{let[W,x]=U;(W==="video"||W==="audio")&&(L[W]=L[W]?[...L[W],...x]:[...x])}),L),{}),B={video:[],audio:[]};return Object.entries(N).forEach(L=>{let[R,U]=L;(R==="video"||R==="audio")&&(B[R]=U.filter((W,x,G)=>x===G.findIndex(w=>w.id===W.id&&w.id!==void 0)))}),B},"combineCallApps"),v=h(D=>{const B=Object(m.q)(D).map(R=>Object(r.a)(D,"calls_apps",R.id)).filter(E.a);return T(B)},"retrieveCallsAppsForUnifiedOrg"),S=h(D=>Object(d.a)(D)?v(D):Object(r.a)(D,"calls_apps"),"retrieveCallsAppsFromPrefs"),A=h((D,N)=>{const B=S(D);if(N){var L;const R=B==null||(L=B.video)===null||L===void 0?void 0:L.findIndex(U=>U.id===l.j);R>=0&&B.video.splice(R,1)}return B},"filterCallsAppsFromTeamPref"),I=Object(a.b)((D,N)=>A(D,N),D=>b(D,!1)),_=Object(a.b)((D,N)=>A(D,N),D=>b(D,!0)),M=h(function(D){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const B=Object(i.g)(D);return N?_(D,B):I(D,B)},"getCallsAppsFromTeamPref"),y=Object(f.a)(M,c.N,(D,N)=>{const B={},L=D&&D.video?D.video:[],R=D&&D.audio?D.audio:[],U=p.t("Start a huddle"),W=N?[{id:"A01",name:U,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...L,...R,...W].forEach(x=>{let G;x.id===l.j?G={id:x.id,name:x.name,image:x.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(w=>x.id===w)!==-1?G={id:x.id,name:x.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:G=x,B[G.id]=G}),B}),j=h(D=>{let{callsApp:N,memberPhoneNumber:B,hideVideoApps:L=!1}=D;const R=[];return N&&(!L&&N.video&&R.push(...N.video.map(U=>({...U,type:u.b.Video}))),N.audio&&Object(o.a)(Object(s.a)(B))&&R.push(...N.audio.map(U=>({...U,type:u.b.Audio})))),R},"getCallAppList"),C=h(D=>{const N=Object(i.g)(D),B=A(D,N),L=B&&B.video?B.video:[],R=B&&B.audio?B.audio:[];return[...L,...R]},"getFlattenTeamPrefCallsApps")},rf28:function(H,n,e){"use strict";var s=e("ZvnG");n.a=new s.a},rkcT:function(H,n,e){"use strict";e.d(n,"b",function(){return u}),e.d(n,"a",function(){return d}),e.d(n,"c",function(){return m});var s=e("JfJV"),t=e("uNaj"),a=e("lhZz"),r=e("j77i"),l=e("toaU"),o=e("KiUf"),i=e("bczA");function u(){let{store:c,shouldSetFocus:E}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const f=Object(t.a)(window.location.pathname,{throwOnNoRoute:!1});if(f&&E&&f.routeName!==l.a)return f;if(!c)return null;const O=Object(i.a)(c.getState()),p=Object(i.b)(c.getState()),b={routeName:O,params:p};return Object(s.g)(b)?b:null}h(u,"determineCurrentView");function d(){return Object(s.b)(c=>{let{nextTeamId:E,routeName:f,params:O}=c;Object(a.getStoreInstanceByTeamId)(E)&&Object(a.dispatchForTeamId)(E,Object(o.b)({routeName:f,params:O}))})}h(d,"configureUpdateCurrentRoute");function m(c){const E=Object(r.h)(c,"lastRoute");return Object(s.g)(E)?E:null}h(m,"getLastRouteFromLocalConfig")},robD:function(H,n,e){"use strict";e.d(n,"f",function(){return r}),e.d(n,"b",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"c",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"a",function(){return m});var s=e("m8R6"),t=e("Muja"),a=e("8/D0");const r=h((c,E)=>c.indexOf(E)===-1?[...c,E]:c.filter(O=>O!==E),"toggleValueInFilterValues"),l=h(c=>{if(!c.length)return c;const E=c==null?void 0:c.flatMap(O=>O.split("|"));return[...new Set(E)]},"parseUserIdsAndRemoveDupes"),o=h((c,E,f)=>{const O=[c];return Object.values(E).forEach(b=>{if(b.fields&&b.fields[f]){const T=b.fields[f];O.push(T.trim())}}),l(O)},"getUserIdsInUserColumns"),i=h((c,E,f)=>{const O=c.map(b=>Object(s.a)(b,[f])),p=E.map(b=>Object(s.a)(b,[f]));return Object(t.a)(O,p)},"isLocalAndServerFilterSortsEqual"),u=h((c,E)=>{var f;const O=E.get((f=c.key)!==null&&f!==void 0?f:"");return O?!Object(t.a)(O.operator,c.operator)||!Object(t.a)(new Set(O.values),new Set(c.values)):!0},"isFilterUnsavedOrModified"),d=h((c,E)=>{const f=E.indexOf(c),O=[...E];return f>-1&&(O.splice(f,1),O.unshift(c)),O},"organizedUserIds"),m=h(c=>{let E=c;return Boolean(E.find(O=>O.type===a.a.CreatedTime))||(E=[...E,{id:a.a.CreatedTime,name:"Created time",key:a.a.CreatedTime,type:a.a.CreatedTime,isPrimaryColumn:!1}]),E},"appendCreatedTimeDataColumn")},rq2v:function(H,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return b});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),l=e("7+Lm"),o=e("uVZW"),i=e("VxqI"),u=e("eWGC"),d=e("q6Tz"),m=e("6FZx"),c=e("Trx9");const E={isInMegaphoneContainerContext:!0},f={isInMegaphoneContainerContext:!1},O=Object(s.createContext)(f),p=h(T=>{let{fetchDataOnMount:v,notifications:S,spaceName:A,children:I,shouldAlwaysRenderChildren:_,shouldPassPropsToChildren:M,channelScopedId:y,componentClassName:j,...C}=T;var D;const N=Object(a.useDispatch)(),B=Object(r.d)(G=>Object(l.c)(G,A,y)),L=Object(r.d)(G=>Object(l.b)(G,A,y)),R=Object(s.useCallback)(()=>{N(Object(u.a)({notificationName:B,action:o.f.IMPRESSION}))},[N,B]),U=Object(s.useCallback)(()=>{N(Object(d.b)({event:{type:o.e.REQUEST_SPACES,spaces:[A]}}))},[N,A]),W=h(()=>_?M&&t.a.isValidElement(I)?t.a.cloneElement(I,{...C}):t.a.createElement(t.a.Fragment,null,I):null,"maybeRenderChildren");if(Object(s.useEffect)(()=>{A&&v&&U()},[v,A,U]),!A||!B)return W();const x=S==null||(D=S[B])===null||D===void 0?void 0:D.component;return x?t.a.createElement(c.a,{megaphoneSpaceName:A,megaphoneNotificationName:B},t.a.createElement(O.Provider,{value:E},t.a.createElement(s.Suspense,{fallback:null},t.a.createElement(x,{...L,recordNotificationEventImpression:R,notificationName:B,className:j,...C},I)))):(S||Object(i.a)({spaceName:A,notificationName:B}),W())},"MegaphoneContainer");p.displayName="MegaphoneContainer";const b=Object(m.b)(p);n.c=p},s0AW:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc");const r=t.a.memo(u=>{let{className:d,iconClassName:m,allowMuteAnimation:c,wasMicEverEnabled:E,isMicStrikethroughRed:f}=u;return t.a.createElement("div",{className:Object(a.default)("p-huddle_mic_icon p-huddle_mic_icon__container",d),"data-qa":"huddle_mic_icon_unmute"},t.a.createElement("svg",{className:m,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.a.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.a.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.a.createElement("path",{className:Object(a.default)({"p-huddle_mic_icon__microphone--slash_animated":c&&E,"p-huddle_mic_icon__microphone--slash":f}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),l=t.a.memo(u=>{let{volumeLevel:d=0,className:m,iconClassName:c}=u;const[E,f]=Object(s.useState)(0);return Object(s.useEffect)(()=>{if(d!=="auto"){f(Math.min(1,d||0));return}const O=setInterval(()=>{const p=(Math.floor(Math.random()*100)+1)/100;f(p)},100);return()=>{clearInterval(O)}},[d]),t.a.createElement("div",{className:Object(a.default)("p-huddle_mic_icon p-huddle_mic_icon__container",m),"data-qa":"huddle_mic_icon_mute"},t.a.createElement("svg",{className:c,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.a.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${E})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.a.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.a.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.a.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),o=h(u=>{let{type:d,volumeLevel:m,className:c,iconClassName:E,allowMuteAnimation:f=!1,isMicStrikethroughRed:O=!1}=u;const[p,b]=Object(s.useState)(d==="unmuted");return Object(s.useEffect)(()=>{d==="unmuted"&&b(!0)},[d]),d==="unmuted"?t.a.createElement(l,{className:c,iconClassName:E,volumeLevel:m}):t.a.createElement(r,{className:c,iconClassName:E,allowMuteAnimation:f,wasMicEverEnabled:p,isMicStrikethroughRed:O})},"HuddleMicIcon");o.displayName="HuddleMicIcon";var i=n.a=t.a.memo(o)},s9IP:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t&&t.emoji}h(s,"getEmojiCollectionEmoji")},sEH6:function(H,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return l});var s=e("f8fv"),t=e("ZGcR"),a=e("Lgge");const r=h(i=>Object(s.a)(i),"formatTag"),l=h(function(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return Object(t.a)(i,(d,m)=>m.indexOf(u)>-1?m:r(m))},"formatTags"),o=h(()=>new a.a(i=>{setTimeout(i,0)}),"waitForNextTick")},sEtg:function(H,n,e){"use strict";e.d(n,"i",function(){return O}),e.d(n,"e",function(){return p}),e.d(n,"f",function(){return b}),e.d(n,"c",function(){return T}),e.d(n,"d",function(){return v}),e.d(n,"j",function(){return S}),e.d(n,"g",function(){return A}),e.d(n,"h",function(){return I}),e.d(n,"a",function(){return _}),e.d(n,"b",function(){return M});var s=e("ZKjC"),t=e("G4qV"),a=e("EsgF"),r=e("Muja"),l=e("fujP"),o=e("i5Ig"),i=e("Eh7F"),u=e("BSP1");const d=Object(t.b)(a.a,r.a),m=h(y=>{var j;return(y==null||(j=y.awareness)===null||j===void 0?void 0:j.awarenessEntries)||o.a},"selectAwarenessEntries"),c=Object(t.a)([m,(y,j)=>j,(y,j,C)=>C,(y,j,C,D)=>D],(y,j,C,D)=>{if(j===void 0)return o.b;const N=y.filter(L=>{const R=L.channel===j,U=L.fieldName===C,W=D?L.uniqueId===D:!0,x=!Object(u.a)(L);return R&&U&&W&&x}).map(L=>[L.user,L.fieldValue]),B=Object.fromEntries(N);return Object(l.a)(B)?o.b:B}),E=Object(t.a)([m,(y,j)=>j,(y,j,C)=>C],(y,j,C)=>{if(j===void 0)return o.b;const D=y.filter(B=>{const L=B.channel===j,R=B.fieldName===C,U=!Object(u.a)(B);return L&&R&&U}).map(B=>[B.uniqueId,[B.user,B.fieldValue]]),N=Object.fromEntries(D);return Object(l.a)(N)?o.b:N}),f=Object(t.a)([m,(y,j)=>j,(y,j,C)=>C],(y,j,C)=>{if(j===void 0)return o.b;var D,N;const B=y.filter(R=>{const U=R.channel===j,W=R.fieldName===C,x=!Object(u.a)(R);return U&&W&&x}).sort((R,U)=>((D=R.fieldTimestampMs)!==null&&D!==void 0?D:Number.MAX_SAFE_INTEGER)-((N=U.fieldTimestampMs)!==null&&N!==void 0?N:Number.MAX_SAFE_INTEGER)).map(R=>[R.user,R.fieldValue]);return Object.fromEntries(B)}),O=Object(s.b)((y,j)=>{const C=f(y,j,i.a.STICKYEMOJI);return Object(l.a)(C)?o.b:C});O.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(y,j)=>{const C=f(y,j,i.a.STICKYEMOJI);return Object(l.a)(C)?o.b:C}};const p=Object(s.b)((y,j)=>c(y,j,i.a.CONTENTVIEW));p.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(y,j)=>c(y,j,i.a.CONTENTVIEW)};const b=Object(s.b)((y,j)=>E(y,j,i.a.CONTENTVIEW));b.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(y,j)=>E(y,j,i.a.CONTENTVIEW)};const T=Object(s.b)((y,j,C,D)=>{var N;return(y==null||(N=y.awareness)===null||N===void 0?void 0:N.awarenessEntries).filter(R=>{const U=R.channel===j,W=R.user===C,x=!D||Object(u.b)(R.fieldName)?!0:R.uniqueId===D,G=!Object(u.a)(R);return U&&W&&x&&G}).map(R=>({field_name:R.fieldName,field_value:R.fieldValue,...!!R.fieldTimestampMs&&{field_timestamp_ms:R.fieldTimestampMs}}))});T.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(y,j,C,D)=>{var N;return(y==null||(N=y.awareness)===null||N===void 0?void 0:N.awarenessEntries).filter(R=>{const U=R.channel===j,W=R.user===C,x=!D||Object(u.b)(R.fieldName)?!0:R.uniqueId===D,G=!Object(u.a)(R);return U&&W&&x&&G}).map(R=>({field_name:R.fieldName,field_value:R.fieldValue,...!!R.fieldTimestampMs&&{field_timestamp_ms:R.fieldTimestampMs}}))}};const v=Object(s.b)((y,j,C,D)=>{const N=T(y,j,C,D);for(const B of N)if(B.field_name===i.a.STICKYEMOJI)return B;return null});v.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(y,j,C,D)=>{const N=T(y,j,C,D);for(const B of N)if(B.field_name===i.a.STICKYEMOJI)return B;return null}};const S=Object(s.b)((y,j)=>{let{callId:C,userId:D,uniqueId:N}=j;return C?c(y,C,i.a.STICKYEMOJI,N)[D]:void 0});S.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(y,j)=>{let{callId:C,userId:D,uniqueId:N}=j;return C?c(y,C,i.a.STICKYEMOJI,N)[D]:void 0}};const A=Object(s.b)((y,j)=>{let{callId:C,userId:D}=j;if(!C)return;const N=c(y,C,i.a.HUDDLE_ACTIVE_SONG);if(Object(l.a)(N))return;if(D)return N[D];const B=Object.values(N);if(B.length!==0)return B[0]});A.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(y,j)=>{let{callId:C,userId:D}=j;if(!C)return;const N=c(y,C,i.a.HUDDLE_ACTIVE_SONG);if(Object(l.a)(N))return;if(D)return N[D];const B=Object.values(N);if(B.length!==0)return B[0]}};const I=Object(s.b)((y,j)=>{let{callId:C,userId:D,uniqueId:N}=j;return C?c(y,C,i.a.STEPS,N)[D]:void 0});I.meta={name:"createSelector",key:"createSelectorgetStepsByUserId",description:(y,j)=>{let{callId:C,userId:D,uniqueId:N}=j;return C?c(y,C,i.a.STEPS,N)[D]:void 0}};const _=d([m,(y,j,C,D,N)=>`${j},${C},${D},${N}`],(y,j)=>{const[C,D,N,B]=j.split(","),L=y.filter(R=>{const U=R.channel===C,W=R.user!==D,x=R.fieldName===i.a.ACTIVE_CELL&&R.fieldValue&&R.fieldValue.rowId===N&&R.fieldValue.colId===B,G=!Object(u.a)(R);return U&&W&&x&&G}).map(R=>[[`${R.fieldValue.rowId},${R.fieldValue.colId}`],R.user]);return L.length?Object.fromEntries(L):o.b}),M=Object(t.a)([m,(y,j)=>j],(y,j)=>j===void 0?o.a:y.filter(D=>{const N=D.channel===j,B=D.fieldName===i.a.ACTIVE_CELL;return N&&B}).map(D=>D.user))},sGXp:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"d",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"e",function(){return l});const s={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},t={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},a={normal:"12px",none:"0"},r={small:"small",medium:"medium"},l={true:!0,bestOnly:"best_only",false:!1}},sK3r:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});const s=3e5,t={shareChannelPaywall:"share_channel_paywall",sharedChannelsIntro:"shared_channels_intro",trialStart:"trial_start",limitedHistoryForeword:"limited_history_foreword",slackConnectHub:"slack_connect_hub",slackConnectHubHeader:"slack_connect_hub_header",slackConnectDMBanner:"slack_connect_dm_banner",addMoreItemsLink:"add_more_items_link",connectionsChannelSection:"connections_channel_section",paidBenefitsPage:"paid_benefits_page",adminBillingOverview:"admin_billing_overview",channelInviteModal:"channel_invite_modal",huddleChannelJoinMsgText:"huddle_channel_join_msg_text",fileStorageWarning:"file_storage_warning",huddleInviteModal:"huddle_invite_modal",canvasPageSyntheticView:"canvas_page_synthetic_view",workflowBuilderFreemiumBanner:"workflow_builder_freemium_banner",workflowPublishButton:"workflow_publish_button",workflowBuilderSidebar:"workflow_builder_sidebar"}},sNDC:function(H,n,e){"use strict";e.d(n,"e",function(){return T}),e.d(n,"f",function(){return v}),e.d(n,"g",function(){return S}),e.d(n,"h",function(){return A}),e.d(n,"b",function(){return I}),e.d(n,"c",function(){return _}),e.d(n,"d",function(){return M}),e.d(n,"a",function(){return y});var s=e("UXvI"),t=e("SQ0V"),a=e("1Zcw"),r=e("s4P+"),l=e("jUSB"),o=e("pJ2S"),i=e("JoR1"),u=e("IYwZ"),d=e("ctiz"),m=e("sgFo"),c=e("9Gfp");const E=Object(s.a)(function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(l.c)(j?o.G:o.y,{loop:!1})},7e3,{leading:!0,trailing:!1}),f=Object(s.a)(function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(l.c)(j?o.H:o.z,{loop:!1})},7e3,{leading:!0,trailing:!1}),O=Object(s.a)(function(){let j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Object(l.c)(j?o.p:o.q,{loop:!1})},0,{leading:!0,trailing:!1}),p=Object(s.a)((j,C,D)=>{let N=C?o.D:o.d;const B=.25,L=Object(c.i)(D,"feature_tinyspeck"),R=Object(m.O)(D);C&&j==="gong"&&R&&L&&(N=o.j);const U=Object(m.x)(D);C&&j==="duck"&&U&&L&&(N=o.h),Object(l.c)(N,{loop:!1,volume:B})},5e3,{leading:!0,trailing:!1}),b=h(j=>!Object(i.t)(j,"mute_huddle_sounds"),"canPlayHuddleSound"),T=Object(t.c)("Play sound when user joins",(j,C)=>{b(C())&&(Object(r.a)({getState:C}).info(a.c,"playSoundOnUserJoin"),E(!1))});T.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const v=Object(t.c)("Play sound when user leaves",(j,C)=>{b(C())&&(Object(r.a)({getState:C}).info(a.c,"playSoundOnUserLeft"),f(!1))});v.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const S=Object(t.c)("Play sound when you join",(j,C)=>{b(C())&&(Object(r.a)({getState:C}).info(a.c,"playSoundOnYouJoin"),E(!0))});S.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const A=Object(t.c)("Play sound when you leave",(j,C)=>{b(C())&&(Object(r.a)({getState:C}).info(a.c,"playSoundOnYouLeft"),f(!0))});A.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const I=Object(t.c)("Play sound when user mutes the mic using keyboard shortcut",(j,C)=>{b(C())&&(Object(r.a)({getState:C}).info(a.c,"playSoundOnMicMute"),O(!0))});I.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const _=Object(t.c)("Play sound when user unmutes the mic using keyboard shortcut",(j,C)=>{b(C())&&(Object(r.a)({getState:C}).info(a.c,"playSoundOnMicUnmute"),O(!1))});_.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const M=Object(t.c)("Play sound when reaction is received",(j,C,D)=>{let{emoji:N,isEffect:B}=D;const L=C();Object(i.t)(L,"huddles_reactions_play_sound")&&b(L)?(Object(r.a)({getState:C}).info(a.c,"playSoundOnReaction"),p(N,B,L)):Object(r.a)({getState:C}).info(a.c,"did not playSoundOnReaction")});M.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const y=Object(t.c)("Plays the huddle invite sound",(j,C)=>{const D=C();Object(u.a)(D)||!b(D)||Object(l.c)(Object(d.l)(D))});y.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"}},sOAz:function(H,n,e){"use strict";e.d(n,"b",function(){return o}),e.d(n,"c",function(){return i});var s=e("SQ0V"),t=e("Cudo");e.d(n,"a",function(){return t.a});const a=3*1e3,r={[t.a.NoUserAudioStream]:!0,[t.a.NoUserVideoStream]:!0,[t.a.NoAudioOutputAudioElementError]:!0,[t.a.NoAudioOutputAudioLevelError]:!0,[t.a.SlowNetwork]:!0,[t.a.PeerMuteRequest]:!0};let l={};const o=Object(s.c)("Display alert message for huddle call",(d,m,c)=>{let{alert:E,peerId:f}=c;if(!l[E]){if(r[E]){l[E]=setTimeout(()=>{l[E]&&(clearTimeout(l[E]),delete l[E]),d(Object(t.c)({alert:E,peerId:f}))},a);return}d(Object(t.c)({alert:E,peerId:f}))}});o.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const i=Object(s.c)("Undisplay an alert message for huddle call",(d,m,c)=>{l[c]&&(clearTimeout(l[c]),delete l[c]),d(Object(t.i)(c))});i.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:l},"alertTimeouts",{get:()=>l,set:d=>{l=d}})},sOnb:function(H,n,e){"use strict";e.d(n,"a",function(){return t});const s=/^Ft[A-Z0-9]{7,}$/;function t(a){return s.test(a)}h(t,"looksLikeHermesTriggerId")},sR4G:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("lhZz"),t=e("beVI"),a=e("7xYR");function r(l,o){const i=Object(s.getClientStoreInstance)();if(i){const d=i.getState(),m=Object(a.getWorkspaceMetaBySubdomain)(d,o);if(m)return m.id}const u=Object(t.r)(l,o);if(u)return u.id}h(r,"findWorkspaceIdForSubdomain")},sekU:function(H,n,e){"use strict";e.d(n,"a",function(){return O}),e.d(n,"b",function(){return b}),e.d(n,"c",function(){return v});var s=e("oTSI"),t=e("x5lL"),a=e("A1dN"),r=e("Lgge"),l=e("Kmpi"),o=e("uAML"),i=e("SQ0V"),u=e("lhZz"),d=e("gpLM"),m=e("HKlo"),c=e("+CZ0"),E=e("lpU5");const f=h((A,I)=>Object(u.dispatchForTeamId)(A,Object(a.a)({callIds:I,reason:"all-calls-store/conditional-fetch"})).then(_=>_.map(M=>Object(u.dispatchForTeamId)(A,Object(t.E)(M)))),"fetchAndUpsert"),O=Object(s.a)(()=>new o.b({fetch:f,isEnabled:()=>!0})),p=h((A,I)=>{const _=I.map(M=>(Object(u.dispatchForTeamId)(A,Object(t.E)(M)),M.id));O().markObjectsAsFresh(A,_)},"upsertCalls"),b=Object(s.a)(()=>new l.a({fetch:(A,I)=>Object(u.dispatchForTeamId)(A,Object(a.a)({callIds:I,reason:"all-calls-store/unknown-fetch"})),upsertKnown:p,upsertNonExistent:(A,I)=>p(A,I.map(_=>{let{id:M}=_;return{id:M,name:""}}))}));let T=0;const v=Object(i.c)("Set a huddle topic",(A,I,_)=>{let{channelId:M,topic:y}=_;const j=Object(u.getStateForClientStore)();if(Object(c.A)(j))return A(Object(E.e)(y)),r.a.resolve();const C=Object(c.a)(j);if(!C)return r.a.reject(new Error(`No callId for channel ${M}`));A(Object(E.e)(y)),T+=1;const D=T;return A(Object(a.e)({roomId:C,name:y})).then(()=>A(Object(t.E)({id:C,name:y}))).finally(()=>{D===T&&A(Object(E.e)(null)),A(Object(d.c)({focusKey:m.c.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});v.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const S={fetchAndUpsert:f}},smhd:function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});var s;(function(a){a.START="start",a.STOP="stop",a.ONCE="once"})(s||(s={}));var t;(function(a){a.JOIN="session_join",a.VIDEO="video",a.SCREENSHARE="screenshare",a.REACTION="reaction_posted",a.MESSAGE="message_posted",a.MICROPHONE="microphone",a.MINIPLAYER_VIEW="mini_player_view",a.WINDOW_COMPACT_VIEW="window_compact_view",a.WINDOW_FULL_VIEW="window_full_view",a.THREAD_VIEW="thread_flexpane_view",a.TRANSCRIPT="trxn"})(t||(t={}))},spq4:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(){return!0}h(s,"isIaLayoutEnabled")},"sr/F":function(H,n,e){H.exports=e.p+"template_screenshot_project_tracker-ed40189.png"},srzd:function(H,n,e){"use strict";e.d(n,"a",function(){return T}),e.d(n,"b",function(){return v});var s=e("ZKjC"),t=e("9068"),a=e("O86Y"),r=e("mY+K"),l=e("9oTK"),o=e("oTSI"),i=e("zmn3"),u=e("Lgge"),d=e("Kmpi"),m=e("lhZz"),c=e("GAXn"),E=e("F56K");const f=Object(o.a)(()=>new d.a({fetch:O,upsertKnown:p,upsertNonExistent:p,isEnabled:()=>!0}));function O(S,A){return u.a.map(A,function(){var I=Object(l.coroutine)(function*(_){try{return(yield Object(m.dispatchForTeamId)(S,Object(c.a)({workflowId:_,reason:"hermes_workflows_store"}))).workflow}catch{var M;const j=(M=Object(m.getStateByTeamId)(S).hermesWorkflows)===null||M===void 0?void 0:M[_];return Object(d.e)(j)?null:j}});return function(_){return I.apply(this,arguments)}}()).filter(I=>I)}h(O,"fetchWorkflowsForTeamId");function p(S,A){Object(r.a)().markObjectsAsFresh(S,Object(i.a)(A,"id")),Object(m.dispatchForTeamId)(S,Object(E.b)({workflows:A}))}h(p,"upsertWorkflowsForTeamId");const b={fetchWorkflowsForTeamId:O,upsertWorkflowsForTeamId:p},T=Object(s.b)(function(S,A){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var _;const M=Object(a.g)(S),y=(_=S.hermesWorkflows)===null||_===void 0?void 0:_[A];return M?y?(Object(r.a)().maybeRefetch(M,A),y):I?f().fetchObjectWithId(M,A):Object(t.e)(A):Object(t.e)(A)});T.meta={name:"createSelector",key:"createSelectorgetWorkflowById",description:function(S,A){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var _;const M=Object(a.g)(S),y=(_=S.hermesWorkflows)===null||_===void 0?void 0:_[A];return M?y?(Object(r.a)().maybeRefetch(M,A),y):I?f().fetchObjectWithId(M,A):Object(t.e)(A):Object(t.e)(A)}};const v=Object(s.b)((S,A)=>{const I=T(S,A);return Object(t.d)(I)?[]:I.steps});v.meta={name:"createSelector",key:"createSelectorgetWorkflowStepsById",description:(S,A)=>{const I=T(S,A);return Object(t.d)(I)?[]:I.steps}}},ssje:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("+l5E"),t=e("pu3F");function a(r){return Object(s.z)(r)===t.W}h(a,"isSlackbotMessage")},stkM:function(H,n,e){"use strict";var s=e("Lgge"),t=e("SQ0V"),a=e("0Wfr"),r=e("sK3r"),l=e("DhzV"),o=e("beVI"),i=e("AaDX"),u=e("G0eX"),d=e("s4P+");const m=Object(t.c)("Fetch promo campaign eligibility",(f,O,p)=>{let{campaignType:b,campaignSubType:T,context:v,reason:S}=p;const A=Object(o.g)(O());return Object(u.G)(A)?(f(Object(l.c)({campaignType:b,campaignSubType:T,isFetching:!0})),f(Object(i.a)({campaignType:b,campaignSubType:T,context:v,reason:S})).then(_=>{const{isEligible:M,discountPercent:y,expirationTimestamp:j,discountDuration:C}=_;return f(Object(l.b)({campaignType:b,campaignSubType:T,isEligible:M,discountPercent:y,expirationTimestamp:j,discountDuration:C})),f(Object(l.c)({campaignType:b,campaignSubType:T,isFetching:!1})),_}).catch(_=>(Object(d.a)({state:O()}).error(_.message),f(Object(l.c)({campaignType:b,campaignSubType:T,isFetching:!1})),_))):s.a.resolve({isEligible:!1})});m.meta={name:"createThunk",key:"createThunkfetchPromoEligibility",description:"Fetch promo campaign eligibility"};const c=Object(a.a)(m,r.a,!0,["context","reason"]);n.a=c;const E={fetchPromoEligibility:m}},swWY:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("GzZI"),r=e("lCmp"),l=e("Cfcg"),o=e("n3tL"),i=e("Yauy"),u=e("xwCZ"),d=e("E3dU"),m=e("Kmpi"),c=e("CD4m"),E=e("CTEJ"),f=e("QaYX");const O=4,p={className:o.default.string,mpim:o.default.object,multiline:o.default.bool,name:o.default.string,isAnyMemberUnknown:o.default.bool,invert:o.default.bool,inline:o.default.bool,onlyBoldIfUnread:o.default.bool},b={className:void 0,mpim:void 0,multiline:!1,name:void 0,isAnyMemberUnknown:!1,invert:!1,inline:void 0,onlyBoldIfUnread:!1};function T(S){let{className:A,mpim:I,multiline:_,name:M,invert:y,isAnyMemberUnknown:j,inline:C,onlyBoldIfUnread:D}=S;const N=Object(m.c)(I),B=Object(m.d)(I),L=Object(i.G)(I),R=!D||Object(i.ub)(I);let U;return B||N||j?U=Object(a.a)(L||O).map(W=>t.a.createElement(E.a,{key:W,className:"c-mpim_entity__missing_text",isNonExistent:N,size:"random",invert:y})):U=R?t.a.createElement("strong",{"data-qa":"mpim_name"},M):t.a.createElement("span",{"data-qa":"mpim_name"},M),t.a.createElement(c.c,{className:A,multiline:_,breakWords:!1,inline:C},U)}h(T,"MpimName"),T.displayName="MpimName",T.propTypes=p,T.defaultProps=b;const v=h((S,A)=>{let{id:I,mpim:_,matchData:M}=A;const y=_||Object(d.d)(S,I),j=Object(f.a)({state:S,mpim:y,matchData:M}),C=j&&j.map(B=>Object(u.g)(S,B)),D=Object(r.a)(C,m.e),N=Object(i.E)(S,y,j);return{mpim:y,name:N,isAnyMemberUnknown:D}},"mapStateToProps");n.a=Object(l.a)(v)(T)},sxEY:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("XZo2"),a=e("pZC0"),r=e("E97Y"),l=e("E3dU"),o=e("5IZy"),i=e("ktUG");const u=Object(s.c)("Clogs a message sent or resent",function(d,m){let{channelId:c,msgTs:E,resent:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=m(),p=c?Object(l.d)(O,c):null;let b={message_timestamp:E,channel_id:c,channel_type:c?c.charAt(0):null,channel_privacy_type:p?Object(r.c)(p):null,is_file_channel:p?Object(a.a)(p):null};const T=Object(t.b)(O);T!==null&&(b={...b,channel_session_id:T});const v=Object(o.a)({state:O}),S=f?i.EventId.MSG_RESENT:i.EventId.MSG_SENT;v.track(S,b)});u.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"},n.a=u},sypA:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("TBTs"),a=e("3fJ/");const r=Object(s.c)("Reset session timeout ids when someone returns to their search",(l,o)=>{clearTimeout(Object(t.E)(o())),l(Object(a.N)({sessionTimeoutId:null})),l(Object(a.J)({querySessionTimeoutId:null}))});r.meta={name:"createThunk",key:"createThunkresetSessionTimeoutIds",description:"Reset session timeout ids when someone returns to their search"},n.a=r},t35X:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("SQ0V"),t=e("lhZz"),a=e("dKQz"),r=e("FZZA"),l=e("lA92"),o=e("qr10"),i;(function(d){d.ACCEPT="accept",d.DECLINE="decline",d.JOINING_SOON="joining_soon"})(i||(i={}));const u=Object(s.c)("Respond to an invitation to a huddle",(d,m,c)=>{let{channelId:E,inviteResponse:f,callId:O}=c;d(Object(l.a)());let p;return f!==i.ACCEPT&&(p=d(Object(o.a)({response:f,channelId:E,roomId:O,reason:"respond-to-huddle-invite"}))),f===i.DECLINE&&(Object(t.dispatchForClientStore)(Object(a.c)(E)),d(Object(r.c)(E))),p});u.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"},n.b=u},t3jr:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("S4vl"),t=e("e9jb"),a=e("rCwz");const r=Object(a.a)(function(l,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;Object(s.b)(!Object(t.a)(),"Expected to send message from the slack window"),Object(a.b)({direction:"send",type:l,payload:i?o:"REDACTED"})})},t890:function(H,n,e){"use strict";e.d(n,"g",function(){return t}),e.d(n,"i",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"a",function(){return l}),e.d(n,"j",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"k",function(){return u}),e.d(n,"e",function(){return d}),e.d(n,"l",function(){return m}),e.d(n,"f",function(){return c}),e.d(n,"h",function(){return E}),e.d(n,"b",function(){return f});var s=e("DwFS");const t=Object(s.a)("Set Awareness State for another user");t.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const a=Object(s.a)("Set Awareness State for me");a.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=Object(s.a)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const l=Object(s.a)("Clear the full awareness state for a user");l.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const o=Object(s.a)("Set my screenshare view");o.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const i=Object(s.a)("Remove my screenshare view");i.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const u=Object(s.a)("Set my sticky reaction");u.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const d=Object(s.a)("Remove my sticky reaction");d.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const m=Object(s.a)("Clear any stale awareness entries");m.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const c=Object(s.a)("Sets updatedTimestamp for my awareness entries to current time");c.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const E=Object(s.a)("Set my active song");E.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const f=Object(s.a)("Remove my active song");f.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},"tBN+":function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("JfJV"),r=e("SQ0V"),l=e("KtMe"),o=e("PJXs"),i=e("2VFn"),u=e("25cE"),d=e("WUSA"),m=e("nNoG"),c=e("gPPH"),E=e("xcHN"),f=e("n2bd"),O=e("bczA");const p=new m.b("client"),b=Object(r.c)("Restore the detail view for an entity",function(){var T=Object(s.coroutine)(function*(v,S,A){let{entityId:I,windowId:_=i.c,nextRouteParams:M}=A;var y,j;const C=S(),D=Object(o.b)(C,{entityId:I,windowId:_});var N;const B=(N=D==null?void 0:D.params)!==null&&N!==void 0?N:{};if(!D||_!==i.c)return;const L=Object(o.a)(C,{entityId:I,windowId:_});if(D.routeName!==u.o&&L&&Date.now()>L)return v(Object(f.a)({entityId:I,windowId:_})),{entityId:I,expired:!0};const U=Object(O.a)(C);U===u.b?v(Object(d.a)({message:p.t("Secondary view has opened"),uuid:Object(c.a)()})):U!=null&&U.includes("FLEX")&&v(Object(d.a)({message:p.t("Secondary view has changed"),uuid:Object(c.a)()}));let W={...B};return((y=Object(E.a)(M==null?void 0:M.threadId))===null||y===void 0?void 0:y.channelId)===((j=Object(E.a)(B==null?void 0:B.threadId))===null||j===void 0?void 0:j.channelId)&&(W={...D.params,...M}),Object(a.h)(D.routeName,W,{reason:l.c,shouldReplaceState:!0})});return function(v,S,A){return T.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkopenDetailViewForEntityId",description:"Restore the detail view for an entity"},n.a=b},tHoN:function(H,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"e",function(){return u}),e.d(n,"c",function(){return d}),e.d(n,"d",function(){return m});var s=e("kiPk"),t=e("xt0X"),a;let r=!!(!(window==null||(a=window.performance)===null||a===void 0)&&a.memory);function l(){return r?window.performance.memory.jsHeapSizeLimit:null}h(l,"getMemoryLimit");function o(){return r?window.performance.memory.totalJSHeapSize:null}h(o,"getMemoryTotal");function i(){return r?window.performance.memory.usedJSHeapSize:null}h(i,"getMemoryUsed");function u(){return r}h(u,"supportsMemoryMeasurement");function d(E){const f=E/1e3/1e3;return`${f<100?f.toPrecision(3):Math.round(f)} MB`}h(d,"humanizeBytes");function m(E,f){const O=Object(s.a)(E,p=>{let{memory:b}=p;return b[f]||0});return Math.ceil(Object(t.b)(O))}h(m,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:E=>{r=E}}})},tM7h:function(H,n,e){H.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},tOKv:function(H,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("QYtq"),l=e("nxhD");const o=h(u=>{const{left:d=0,top:m=0}=u||{};return{left:d,top:m,right:d,bottom:m,width:0,height:0}},"makeTargetBounds"),i=h(u=>{let{targetBounds:d,onCloseRequested:m,children:c}=u;const E=t.a.Children.only(c),f=Object(a.useDispatch)();Object(s.useEffect)(()=>(f(Object(l.b)({})),()=>{f(Object(l.a)({}))}),[f]);const O=Object(s.useMemo)(()=>({isContextMenu:!0,width:"auto",onTriggerClose:m,onMenuItemSelected:m}),[m]);return t.a.createElement(r.a,{shouldFade:!1,position:"right-bottom",tryOppositePosition:!0,useTargetBoundsAsPosition:!0,shouldCloseOnOverlayMouseDown:!0,isOpen:!0,targetBounds:o(d),onClose:m},t.a.cloneElement(E,O))},"ContextMenu");i.displayName="ContextMenu",n.a=i},tUtw:function(H,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"b",function(){return i}),e.d(n,"c",function(){return u});var s=e("ZKjC"),t=e("vLZU"),a=e("UOL+"),r=e("w2SD");const{getObjectById:l}=r.c,o=h((m,c)=>l(Object(t.B)({reducer:r.b})?Object(a.a)(m):m,c),"innerGetChannelLoadingDataById"),i=Object(s.b)((m,c)=>{var E;return!!(!((E=o(m,c))===null||E===void 0)&&E.loading)});i.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(m,c)=>{var E;return!!(!((E=o(m,c))===null||E===void 0)&&E.loading)}};const u=Object(s.b)((m,c)=>{const E=o(m,c);return!!(E!=null&&E.loading&&(E!=null&&E.loadingOlder))});u.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(m,c)=>{const E=o(m,c);return!!(E!=null&&E.loading&&(E!=null&&E.loadingOlder))}};const d={innerGetChannelLoadingDataById:o}},tZQI:function(H,n,e){"use strict";e.d(n,"b",function(){return y}),e.d(n,"e",function(){return C}),e.d(n,"d",function(){return D}),e.d(n,"a",function(){return N}),e.d(n,"c",function(){return B});var s=e("q1tI"),t=e.n(s),a=e("ifKl"),r=e("oTSI"),l=e("WIr4"),o=e("vd/O"),i=e("BHdc"),u=e("HP72"),d=e("YsXF"),m=e("fEGR"),c=e("yh68"),E=e("cRTT"),f=e("HUUN"),O=e("Pewd"),p=e("9ADk"),b=e("2K8U"),T=e("MYuU"),v=e("OmHH"),S=e("FRd1"),A=e("ktUG");function I(){return I=Object.assign||function(L){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&(L[W]=U[W])}return L},I.apply(this,arguments)}h(I,"_extends");const _={onOptionSelected:{action:A.UiAction.SELECT}},M=h(L=>L.map(R=>{let{id:U}=R;return U}),"getIdsFromHintOrErrors");let y=h(class extends s.Component{renderOptionsList(){const{selectState:R,setSelectState:U,renderOption:W,emptyStateMessage:x,enableLoadingState:G,width:w,maxOptionsListHeight:se,inputRef:ee,resultsInPopover:X,isLoading:me,classPrefix:Oe,optionsRowHeight:Ce,onOptionsListOpen:le,onOptionsListClose:de,overlayClassName:ie,onScrollablePage:pe,onOptionSelected:ne,shouldOptionBeSelected:q,shouldTokenizeOnComma:ce,shouldTokenizeOnSpace:ge,autoClogProps:be,dynamicHeight:Q,shouldAllowUnselectInMultiSelectMode:re,stayExpandedAfterSelection:z,optionsListFooterBannerContent:Y}=this.props,{isDisabled:ve,loadInBackground:Z}=R;if(ve)return null;const $=X?t.a.createElement(d.a,{selectState:R,setSelectState:U,renderOption:W,emptyStateMessage:x,enableLoadingState:G,width:w,maxListHeight:se,multiSelectMode:!0,inputRef:ee,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:me&&!Z,classPrefix:Oe,selectDataQa:this.fallbackDataQa,optionsRowHeight:Ce,onOpen:le,onOptionsListClose:de,popoverProps:ie?{overlayClassName:ie}:void 0,onScrollablePage:pe,onOptionSelected:ne,shouldOptionBeSelected:q,shouldTokenizeOnComma:ce,shouldTokenizeOnSpace:ge,autoClogProps:be,dynamicHeight:Q,shouldAllowUnselectInMultiSelectMode:re,stayExpandedAfterSelection:z,footerBannerContent:Y}):t.a.createElement(u.b,{selectState:R,setSelectState:U,renderOption:W,emptyStateMessage:x,enableLoadingState:G,width:w,maxListHeight:se,multiSelectMode:!0,classPrefix:Oe,selectDataQa:this.fallbackDataQa,optionsRowHeight:Ce,onOptionsListClose:de,onOptionSelected:ne,shouldOptionBeSelected:q,shouldTokenizeOnComma:ce,shouldTokenizeOnSpace:ge,dynamicHeight:Q,footerBannerContent:Y});return be?t.a.createElement(S.a,{elementType:A.ElementType.DROPDOWN,actionProps:_,autoClogProps:be},$):$}render(){const{selectState:R,setSelectState:U,inputRef:W,maxHeight:x,placeholderText:G,size:w,width:se,isLoading:ee,focusOnMount:X,resultsInPopover:me,onSelectedItemsChange:Oe,onKeyDown:Ce,onKeyUp:le,className:de,classPrefix:ie,onFilterQueryChange:pe,onFilterQueryPaste:ne,processOptions:q,onBlur:ce,onOptionsListClosedBlur:ge,onOptionsListClose:be,expandOnFocus:Q,ariaLabel:re,ariaLabelledBy:z,ariaDescribedBy:Y,onTokenSelect:ve,onInputFocused:Z,forceRealName:$,autoClogProps:te,errors:J,hints:k,disableIdParsing:ae,customizeTokenProps:Ee,iconType:_e,isTokenEditable:je,ignoreSelectAllTokensAfterMount:Ue,disableCloseOnTab:Ke,throttleForceRenderSelectContainer:ke,forceRenderSelectContainerThrottleRate:Qe,shouldDisableDarkMode:Ze}=this.props;let De;J&&(De=Object(o.a)(J));let Fe;k&&(Fe=Object(o.a)(k));let Ve;J&&(Ve=De?M(J):void 0);let Je;k&&(Je=Fe?M(k):void 0);const Ot=Object(T.e)([Y,Ve,Je]);return t.a.createElement("div",{className:Object(i.default)(de,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.a.createElement(m.a,{selectState:R,setSelectState:U,size:w,width:se,maxHeight:x,placeholderText:G,isLoading:ee,inputRef:W,focusOnMount:X,measurePopoverEventName:me&&this.measurePopoverEventName,onSelectedItemsChange:Oe,selectDataQa:this.fallbackDataQa,onKeyDown:Ce,onKeyUp:le,classPrefix:ie,onFilterQueryChange:pe,onFilterQueryPaste:ne,processOptions:q,onBlur:ce,onOptionsListClosedBlur:ge,onOptionsListClose:be,expandOnFocus:Q,ariaLabel:re,ariaLabelledBy:z,ariaDescribedBy:Ot,onTokenSelect:ve,onInputFocused:Z,forceRealName:$,autoClogProps:te,customizeTokenProps:Ee,iconType:_e,disableIdParsing:ae,isTokenEditable:je,ignoreSelectAllTokensAfterMount:Ue,disableCloseOnTab:Ke,throttleForceRenderSelectContainer:ke,forceRenderSelectContainerThrottleRate:Qe,shouldDisableDarkMode:Ze}),De&&J&&t.a.createElement(O.a,{errors:J}),Fe&&k&&k.map(ht=>{let{id:Le,message:jt}=ht;return t.a.createElement(p.a,{key:Le,id:Le},jt)}),this.renderOptionsList())}constructor(R){super(R),Object(l.a)(this,["renderOptionsList"]),this.inputContainerRef=t.a.createRef();const{selectId:U}=R.selectState;this.measurePopoverEventName=`measureSelectPopover--${U}`,this.fallbackDataQa=R.selectDataQa||U}},"ControlledMultiSelect");y.displayName="ControlledMultiSelect",y.defaultProps={renderOption:L=>L.label,size:b.f.MEDIUM,width:300,optionsRowHeight:b.a,maxHeight:void 0,maxOptionsListHeight:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:a.a,onKeyDown:a.a,onKeyUp:a.a,className:void 0,classPrefix:void 0,onFilterQueryChange:a.a,onFilterQueryPaste:a.a,processOptions:a.a,onBlur:a.a,onOptionsListClosedBlur:a.a,ariaLabel:void 0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:a.a,onInputFocused:a.a,forceRealName:void 0,onOptionsListOpen:a.a,onOptionsListClose:a.a,onScrollablePage:!1,onOptionSelected:a.a,shouldOptionBeSelected:a.a,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0,shouldDisableDarkMode:!1};let j=h(class extends s.Component{setSelectState(R,U){this.setState(W=>{let x=R();const{filter:G,options:w}=this.props;return x.filterQuery!==void 0&&x.filterQuery!==W.filterQuery&&G&&(x=G(w,x)),x},U)}render(){const{isDisabled:R,isInvalid:U,isRequired:W,customControlledMultiSelectComponent:x,errors:G}=this.props,w=U||Object(o.a)(G),se=x??y,ee=Object(r.a)(()=>({...this.state,isDisabled:R,isInvalid:w,isRequired:W}));return t.a.createElement(se,I({},this.props,{selectState:ee(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(R){super(R),this.state={filterQuery:"",options:R.options,isDisabled:R.isDisabled,isExpanded:R.isExpanded,isInvalid:R.isInvalid,isRequired:R.isRequired,selectId:R.selectId,selectedOptions:R.selectedOptions||[],shouldRefocusInputAfterSelection:!!R.showConfirmDialog,selectedTokenIndexes:R.selectedTokenIndexes||[]},this.inputRef=t.a.createRef(),Object(l.a)(this,["setSelectState"])}},"MultiSelect");j.displayName="MultiSelect",j.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:v.a,selectId:`multi-select-${Object(T.d)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},n.f=j;const C=Object(c.a)(y),D=Object(c.a)(Object(E.a)(y)),N=Object(E.a)(y),B=Object(f.a)(y)},tZRe:function(H,n,e){"use strict";e.d(n,"a",function(){return G});var s=e("q1tI"),t=e.n(s),a=e("Cfcg"),r=e("BHdc"),l=e("ifKl"),o=e("3Hq1"),i=e("2K8U"),u=e("Iy3M"),d=e("oEDn"),m=e("0i82"),c=e("Tsh7"),E=e("i9y5"),f=e("3RZE"),O=e("M2+7"),p=e("55av"),b=e("XcMG"),T=e("gVOt"),v=e("E97Y"),S=e("eUIW"),A=e("bJfW"),I=e("bjy1"),_=e("D2c/"),M=e("E3dU"),y=e("beVI"),j=e("G0eX"),C=e("zm5I"),D=e("DQKV"),N=e("/qcS"),B=e("bqbz"),L=e("NV6F"),R=e("djjd"),U=e("Zbwg"),W=e("UA9w");function x(){return x=Object.assign||function(ee){for(var X=1;X<arguments.length;X++){var me=arguments[X];for(var Oe in me)Object.prototype.hasOwnProperty.call(me,Oe)&&(ee[Oe]=me[Oe])}return ee},x.apply(this,arguments)}h(x,"_extends");let G=h(class extends s.Component{renderChannelToken(X){const{channel:me,showMemberCounts:Oe,isSelected:Ce,channelHasNonUniqueName:le}=this.props;let de;return Object(v.g)(me)?de=t.a.createElement(O.b,{id:Object(T.a)(me),className:"c-token_channel"}):Object(v.i)(me)?de=t.a.createElement(p.a,{mpim:me,className:"c-token_channel",isActive:Ce}):de=t.a.createElement(u.a,{channel:me,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:Oe,showTeamForLocalChannel:le}),t.a.createElement("span",{className:X,"data-qa":"token_channel"},de)}renderContent(){const{isLoading:X,isUnknown:me,isError:Oe,isMemberError:Ce,isTeamError:le,isInvalid:de,channel:ie,memberId:pe,teamName:ne,userGroupId:q,channelSection:ce,contentInnerClassName:ge,emailTeam:be}=this.props;let Q=Object(r.default)("c-token_content__inner",ge);return X&&!de?(Q+=" c-token_content__inner--loading",this.renderLoadingToken(Q)):me?(Q+=" c-token_content__inner--unknown",this.renderUnknownToken(Q)):Oe?(Q+=" c-token_content__inner--error",this.renderErrorToken(Q)):be?(Q+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(Q)):pe&&Ce?(Q+=" c-token_content__inner--error",this.renderMemberErrorToken(Q)):pe?(Q+=" c-token_content__inner--member",this.renderMemberToken()):ie?this.renderChannelToken(Q):ne&&le?(Q+=" c-token_content__inner--error",this.renderTeamErrorToken(Q)):ne?(Q+=" c-token_content__inner--team",this.renderTeamToken(Q)):ce?(Q+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(Q)):q?(Q+=" c-token_content__inner--usergroup",this.renderUserGroupToken(Q)):this.renderPlainToken(Q)}renderErrorToken(X){const{label:me}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__error_icon_container"},t.a.createElement(d.a,{type:"exclamation-circle","data-qa":"token_error_icon"})),t.a.createElement("span",{className:Object(r.default)(X,"c-token_content__label"),"data-qa":"token_error"},me))}renderLoadingToken(X){const{isSelected:me,size:Oe,label:Ce,theme:le}=this.props,de=le==="dark";return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__loading_icon_container"},t.a.createElement(E.a,x({color:!de&&me||de&&!me?"white":"blue"},Oe?{size:Oe}:{},{"data-qa":"token_loading_icon"}))),t.a.createElement("span",{className:Object(r.default)(X,"c-token_content__label"),"data-qa":"token_loading"},Ce))}renderMemberToken(){const{forceRealName:X,isDisabled:me,memberId:Oe,size:Ce}=this.props;return t.a.createElement(O.b,{id:Oe,isDeactivated:me,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:X,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:Ce})}renderMemberErrorToken(X){const{forceRealName:me,isDisabled:Oe,memberId:Ce,size:le}=this.props;return t.a.createElement(O.b,{id:Ce,isDeactivated:Oe,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:me,showStatus:!1,className:Object(r.default)(X,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:le})}renderPlainToken(X){const{icon:me,label:Oe}=this.props;return t.a.createElement("span",{className:X},me&&t.a.createElement(d.a,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:me,inline:!0}),t.a.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.a.createElement(D.a,{text:Oe,inputIsEscaped:!0,emojiSize:N.a.MEDIUM})))}renderEmailTokenWithTeamIcon(X){const{icon:me,label:Oe,emailTeam:Ce}=this.props;return t.a.createElement("span",{className:X},me&&t.a.createElement(d.a,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:me,inline:!0}),t.a.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.a.createElement(D.a,{text:Oe,inputIsEscaped:!0,emojiSize:N.a.MEDIUM})),Ce&&t.a.createElement("span",{className:"c-member__secondary_content"},t.a.createElement(m.b,{team:Ce,"data-qa":"token_email_with_team_icon",size:O.a,className:"c-member__team_icon"})))}renderTeamToken(X){const{teamId:me,teamName:Oe}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement(m.b,{id:me,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.a.createElement("span",{className:Object(r.default)(X,"c-token_content__label"),"data-qa":"token_team_name"},Oe))}renderTeamErrorToken(X){const{teamId:me,teamName:Oe}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement(m.b,{id:me,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.a.createElement("span",{className:Object(r.default)(X,"c-token_content__label"),"data-qa":"token_team_name_error"},Oe))}renderChannelSectionToken(X){const{channelSection:me}=this.props;return me?t.a.createElement("span",{className:Object(r.default)(X,"c-token_content__label")},t.a.createElement(b.a,{channelSection:me})):null}renderUnknownToken(X){const{label:me}=this.props;return t.a.createElement("div",{className:"inline_flex"},t.a.createElement("span",{className:"c-token__unknown_icon_container"},t.a.createElement(d.a,{type:"missing-emoji","data-qa":"token_unknown_icon"})),t.a.createElement("span",{className:Object(r.default)(X,"c-token_content__label"),"data-qa":"token_unknown"},me))}renderUserGroupToken(X){const{userGroupId:me}=this.props;return t.a.createElement(f.a,{id:me,showDescription:!1,className:Object(r.default)(X,"c-token_content__label")})}render(){const{isDisabled:X,isInvalid:me,isError:Oe,memberId:Ce,isMemberError:le,isTeamError:de,isUnknown:ie,isLoading:pe,isSelected:ne,size:q,theme:ce,hoverText:ge,tabIndex:be,contentEditable:Q,className:re,onMouseDown:z,enableProfileHoverCard:Y,customizeProfileHoverCardProps:ve,isRestricted:Z,shouldDisableDarkMode:$}=this.props,te=ce==="light"||$?"light":"dark",J=Object(r.default)("c-token",re,`c-token--${q}`,`c-token--${te}`,{"c-token--selected":ne,"c-token--disabled":X,"c-token--invalid":me,"c-token--restricted":Z,"c-token--error":Oe||le||de,"c-token--unknown":ie,"c-token--loading":pe}),k=this.renderContent();let ae=k;ge&&k?ae=t.a.createElement(c.d,{tip:ge},k):Ce&&Y&&(ae=Object(L.C)({...ve||{},memberId:Ce,children:k}));const Ee=this.props.renderIcon(this.props);return t.a.createElement("span",{className:J,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:be,contentEditable:Q,onMouseDown:z},t.a.createElement("span",{className:"c-token__content","data-qa":"token_content"},ae),Ee)}},"Token");G.displayName="Token",G.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:i.f.MEDIUM,theme:"light",renderIcon:l.a,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1};const w=h((ee,X)=>{const{entityId:me,disableIdParsing:Oe,isIA4Enabled:Ce}=X,le=Object(C.a)(ee);if(Object(o.a)(me))return{theme:le};let de;Object(S.a)(me)&&!Oe&&(de=me);let ie,pe;if((Object(A.a)(me)||Object(A.b)(me))&&!Oe){const Q=Object(y.s)(ee,me);Q&&(ie=me,pe=Object(j.h)(Q))}let ne;Object(_.a)(me)&&!Oe&&(ne=Object(B.g)(ee,me));let q;Object(I.a)(me)&&!Oe&&(q=me);const ce=Object(M.d)(ee,me),ge=Object(M.a)(ee);let be;return Object(U.a)(me)&&ce&&(be=Ce&&Object(R.a)(ge,ce)),{channel:ce,memberId:de,teamName:pe,teamId:ie,userGroupId:q,theme:le,channelSection:ne,channelHasNonUniqueName:be}},"mapStateToProps");var se=n.b=Object(W.c)(Object(a.a)(w,null)(G))},tcEy:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("bdgK"),t=e("UXvI");function a(r){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const o=h(i=>{!Array.isArray(i)||!i.length||requestAnimationFrame(()=>r(i))},"observer");return new s.a(Object(t.a)(o,l))}h(a,"getResizeObserver")},tcZJ:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("IzLi"),t=e("SQ0V"),a=e("Lgge"),r=e("OqoL"),l=e("k6mT");const o=Object(t.c)("Submits changes to the current user\u2019s profile",(i,u,d)=>{let{profile:m,reason:c="submitProfileChange"}=d;if(!Object(s.a)(m))return a.a.resolve();const E={...m},f=u();return m.status_text&&(E.status_text=Object(r.b)(f,m.status_text)),i(Object(l.b)({profile:JSON.stringify(E),reason:c}))});o.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},tfcd:function(H,n,e){"use strict";e.d(n,"a",function(){return t});const s=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function t(a){return a?s.test(a):!1}h(t,"looksLikeQuipHistoryId")},tg2r:function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("SQ0V"),t=e("QLhP"),a=e("MUHj"),r=e("O86Y"),l=e("9I4P"),o=e("x/ke"),i=e("xwCZ"),u=e("RV0M"),d=e("I0j/"),m=e("37+L"),c=e("3956");const E=Object(s.c)("Shows message pane for bots",function(O,p){let{memberId:b,serviceId:T,botProfile:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var S;const{member:A,bot:I,memberIsHuman:_}=Object(t.f)(p(),{userId:b,botId:T,botProfile:v}),M=Object(r.g)(p())||"",y=!_||T?Object(l.c)({member:A||void 0,bot:I,botProfile:v,currentTeamId:M}):void 0,j=Object(o.c)(p(),{serviceId:T,homeWorkspaceId:y,memberId:b});var C;const D=Object(i.g)(p(),b||((C=j==null||(S=j.app_user)===null||S===void 0?void 0:S.id)!==null&&C!==void 0?C:void 0));var N;return O(Object(a.a)({memberId:(N=D==null?void 0:D.id)!==null&&N!==void 0?N:void 0}))});E.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const f=Object(s.c)("Shows the flexpane profile for humans or messages for bots",(O,p,b,T)=>{let{memberId:v,serviceId:S,botProfile:A}=b;const{shouldUseNavigate:I}=T(u.a);return v&&Object(t.e)(p(),v)?O(I?Object(d.a)(Object(m.P)(v)):Object(c.a)({memberId:v})):O(E({memberId:v,serviceId:S,botProfile:A}))});f.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},to1N:function(H,n,e){"use strict";var s=e("SQ0V"),t=e("Lgge"),a=e("s4P+"),r=e("Pw4T"),l=e("AaY3"),o=e("lA92"),i=e("lhZz"),u=e("3vtZ"),d=e("bYrq"),m=e("SZMM"),c=e("+CZ0"),E=e("4cJY"),f=e("RBHu"),O=e("vHY4"),p=e("uVZW"),b=e("7+Lm"),T=e("q6Tz"),v=e("sgFo"),S=e("lpU5"),A=e("0dq7");const I=Object(s.c)("Join/start huddle, but confirm with shouty rooster modal first",(M,y,j)=>{let{channelId:C,threadTs:D,muted:N,callId:B,forceFocus:L,entryPoint:R,forceConfirmation:U,markTelemeter:W,isMultiDevice:x,isStandaloneHuddle:G}=j;const w=h(()=>{var se;W&&Object(r.d)({state:y()}).mark(f.p),(se=M(Object(l.a)({channelId:C,threadTs:D,muted:N,callId:B,forceFocus:L,entryPoint:R,isMultiDevice:x,isStandaloneHuddle:G})))===null||se===void 0||se.catch(ee=>{Object(a.a)({getState:y}).error("Could not start huddle",ee)})},"onConfirm");if(Object(u.db)(y(),C,D)||U){D?M(Object(T.b)({event:{type:p.e.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{Object(b.c)(y(),p.g.LAUNCH_MODAL)===p.h.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?M(Object(E.b)({channelId:C??"",onConfirm:w})):w()}):M(Object(O.b)({channelId:C??"",onConfirm:w}));return}w()});I.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const _=Object(s.c)("Join/start huddle, but confirm if already in another huddle",(M,y,j)=>{const{channelId:C}=j,D=y(),N=Object(v.F)(D),B=Object(i.getStateForClientStore)(),L=Object(c.b)(B),R=Object(c.g)(B),U=Object(c.y)(B),W=Object(u.W)(D,{channelId:C});if(M(Object(o.a)()),Object(d.b)()){const x=Object(m.b)();return x?x.sendQuery({type:_.getType(),payload:j}):t.a.reject(new Error("multiverse-redirect-no-parent-window"))}if(L&&C!==L&&!U)return M(Object(O.c)({prevChannelId:L,nextChannelId:C??"",onConfirm:()=>{M(I({...j,markTelemeter:!1}))}}));if(N&&W){M(Object(S.a)({channelId:C??"",onConfirm:x=>{let{isMultiDevice:G}=x;return M(I({...j,markTelemeter:!1,isMultiDevice:G}))}}));return}return L&&C===L&&R===A.a.STARTED?t.a.resolve():M(I({...j,markTelemeter:!0}))});_.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"},n.a=_},trVL:function(H,n,e){"use strict";var s=e("Trx9"),t=e("ktUG"),a=e("i5Ig"),r=e("nNoG"),l=e("q1tI"),o=e.n(l),i=e("zxER"),u=e("Tevt"),d=e("/0Xg"),m=e("/MKj"),c=e("/cL/"),E=e("qlBN"),f=e("xeGy"),O=e("+fxZ"),p=e("sgFo"),b=e("lpU5"),T=e("s9Q6"),v=e("stkM"),S=e("sK3r"),A=e("fRJc"),I=e("0cEW");const _=new r.b("trials_highlight_paid_features"),M={onClick:{enableClogAction:!0},elementName:"start_trial"},y={elementName:"upgrade_link",onClick:{enableClogAction:!0}},j=h(D=>{let{selectedMemberIds:N=a.a}=D;const B=Object(m.useDispatch)(),L=d.o.PaidFeatureTrial,R=d.n.Vhq,U=Object(i.d)(ee=>Object(T.c)(ee,L,R)),W=Object(i.d)(ee=>Object(T.b)(ee,L,R)),x=Object(i.d)(p.A),G=Object(l.useCallback)(()=>{B(Object(b.f)(N))},[B,N]),w=Object(l.useCallback)(()=>{B(Object(E.a)({uiComponentVariant:t.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:G}))},[B,G]);if(Object(l.useEffect)(()=>{B(Object(v.a)({campaignType:L,campaignSubType:R,reason:"huddle_invite_modal",context:S.b.huddleInviteModal}))},[B,L,R]),!x||W)return null;const se=U?_.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":ee=>{let{text:X}=ee;return o.a.createElement(u.a,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:w,autoClogProps:M},X)}}):_.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":ee=>{let{text:X}=ee;return o.a.createElement(c.a,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:y,useLink:!0},X)}});return o.a.createElement(s.a,{eventId:t.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:t.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},o.a.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},o.a.createElement(f.a,{variant:O.a.HuddlesFreemium,promoType:L,promoSubtype:R,uiComponentVariant:t.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:A.a.AboveFullScreen,toolTipPosition:I.b.Bottom}),o.a.createElement("span",{className:"margin_left_50"},se)))},"HuddleInviteModalFooterBanner");j.displayName="HuddleInviteModalFooterBanner";var C=n.a=j},tstp:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"d",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return l});var s=e("DwFS");const t=Object(s.a)("Have we already sent boot metrics");t.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const a=Object(s.a)("Should we log team switch metrics");a.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const r=Object(s.a)("Set whether we should continue logging time to visible metrics");r.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const l=Object(s.a)("Set whether we should continue logging time to usable metrics");l.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},tv4y:function(H,n,e){"use strict";e.d(n,"a",function(){return s});const s={default:"default",compactItem:"compact_item",separator:"separator",sub_separator:"sub_separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"};n.b=s},tvJC:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){return t==="UNVERIFIED"}h(s,"mentionIdIsUnverified")},"u+Mq":function(H,n,e){"use strict";e.d(n,"b",function(){return o});var s=e("SQ0V"),t=e("LDoU");e.d(n,"a",function(){return t.a});var a=e("gpLM"),r=e("HKlo");const l=h(i=>{switch(i){case t.a.ShowDocFlexpane:return!0;default:return!1}},"shouldForceFocus"),o=Object(s.c)("Focus a Quip Embed",(i,u,d)=>{i(Object(a.c)({focusKey:r.c.QUIP_EMBED,forceFocus:l(d.uiState.reason),focusMetadata:d}))});o.meta={name:"createThunk",key:"createThunkfocusQuipEmbed",description:"Focus a Quip Embed"}},u09r:function(H,n,e){"use strict";e.d(n,"a",function(){return E});var s=e("n3tL"),t=e("SQ0V"),a=e("Wn1n"),r=e("v7mh"),l=e("RV0M"),o=e("8d8q"),i=e("HKlo"),u=e("gpLM"),d=e("2VFn"),m=e("PIf0");const c=Object(t.c)("Get target view id for focus transition out of thread",(f,O,p,b)=>{var T;const v=O(),{shouldUseNavigate:S,getViewSet:A}=b(l.a);if(S){var I,_;const C=A(v);var M;return(M=C==null||(I=C[d.h.Primary])===null||I===void 0?void 0:I.id)!==null&&M!==void 0?M:C==null||(_=C[d.h.Sidebar])===null||_===void 0?void 0:_.id}const j=b(m.a).windowId||d.c;return j===d.c?Object(a.a)(v):(T=Object(r.d)(v,{windowId:j,container:d.h.Primary}))===null||T===void 0?void 0:T.id});c.meta={name:"createThunk",key:"createThunkgetTargetViewId",description:"Get target view id for focus transition out of thread"};const E=Object(t.c)("Handle focus transitions away from thread",(f,O,p)=>{let{channelId:b,threadTs:T,id:v}=p;if(!b||!T)return;const S=v??f(c());if(S==="Punreads"){f(Object(u.c)({focusKey:i.c.UNREAD_VIEW_MESSAGE_LIST,focusMetadata:{uiState:{channelId:b,ts:T}}}));return}if(S===o.a.allThreads){f(Object(u.c)({focusKey:i.c.THREADS_VIEW_MESSAGE_LIST,focusMetadata:{uiState:{channelId:b,ts:T}}}));return}f(S===b?Object(u.c)({focusKey:i.c.MESSAGE_PANE_MESSAGE_LIST,focusMetadata:{id:b,uiState:{ts:T}}}):Object(u.d)({id:S,forceFocus:!0}))});E.meta={name:"createThunk",key:"createThunktransitionFocusOutOfThread",description:"Handle focus transitions away from thread"},E.propTypes={channelId:s.default.string.isRequired,shouldJumpToMessage:s.default.bool,threadTs:s.default.string.isRequired}},u4cD:function(H,n,e){"use strict";e.d(n,"f",function(){return t}),e.d(n,"d",function(){return a}),e.d(n,"b",function(){return r}),e.d(n,"e",function(){return l}),e.d(n,"a",function(){return o}),e.d(n,"c",function(){return i});var s=e("DwFS");const t=Object(s.a)("Set Megaphone notification and (optional) data to a Megaphone space");t.meta={name:"createAction",key:"createActionsetMegaphoneNotification",description:"Set Megaphone notification and (optional) data to a Megaphone space"};const a=Object(s.a)("Clear Megaphone space");a.meta={name:"createAction",key:"createActionclearMegaphoneSpace",description:"Clear Megaphone space"};const r=Object(s.a)("Clear megaphone notification");r.meta={name:"createAction",key:"createActionclearMegaphoneNotification",description:"Clear megaphone notification"};const l=Object(s.a)("Set Megaphone notification boot Data as loaded");l.meta={name:"createAction",key:"createActionmegaphoneNotificationBootDataFetched",description:"Set Megaphone notification boot Data as loaded"};const o=Object(s.a)("Side effect action for triggering sending of megaphone client event");o.meta={name:"createAction",key:"createActionbroadcastMegaphoneClientEvent",description:"Side effect action for triggering sending of megaphone client event"};const i=Object(s.a)("In response to an RTM event, clear a Megaphone notification from all spaces where it is currently showing");i.meta={name:"createAction",key:"createActionclearMegaphoneNotificationFromRtmEvent",description:"In response to an RTM event, clear a Megaphone notification from all spaces where it is currently showing"}},u7F4:function(H,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});const s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=10;function a(m,c){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t;if(m!==null&&d(m,E,f),c!==null&&d(c,E,f),m!==null&&c!==null&&m>=c)throw new Error(`${m} >= ${c}`);if(m===null){if(c===null){const I=5*10**(f-1);return i(I,f)}const A=o(c,f);return A.toString()<c&&c.slice(f+1)!==""?i(A,f):i(A-1,f)}if(c===null){const A=o(m,f);return i(A+1,f)}const O=o(m,f),p=o(c,f),b=m.slice(f+1),T=c.slice(f+1);if(O===p){const A=l(b,T,E);return`${i(O,f)}.${A}`}const v=O+1;if(v<p)return i(v,f);const S=l(b,null,E);return`${i(O,f)}.${S}`}h(a,"generateKeyBetween");function r(m,c,E){let f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t;if(E===0)return[];if(E===1)return[a(m,c,f,O)];if(c===null){let T=a(m,c,f,O);const v=[T];for(let S=0;S<E-1;S++)T=a(T,c,f,O),v.push(T);return v}if(m===null){let T=a(m,c,f,O);const v=[T];for(let S=0;S<E-1;S++)T=a(m,T,f,O),v.push(T);return v.reverse(),v}const p=Math.floor(E/2),b=a(m,c,f,O);return[...r(m,b,p,f,O),b,...r(b,c,E-p-1,f,O)]}h(r,"generateNKeysBetween");function l(m,c,E){const f=E[0];if(c!==null&&m>=c)throw new Error(`${m} >= ${c}`);if(m.slice(-1)===f||c&&c.slice(-1)===f)throw new Error("trailing zero");if(c){let b=0;for(;(m[b]||f)===c[b];)b+=1;if(b>0)return c.slice(0,b)+l(m.slice(b),c.slice(b),E)}const O=m?E.indexOf(m[0]):0,p=c!==null?E.indexOf(c[0]):E.length;if(p-O>1){const b=Math.round(.5*(O+p));return E[b]}return c&&c.length>1?c.slice(0,1):E[O]+l(m.slice(1),null,E)}h(l,"midpoint");function o(m,c){const E=m.slice(0,c);return Number(E)}h(o,"getIntegerPart");function i(m,c){if(m>=10**c)throw new Error(`Integer overflow at ${m} for fixed length ${c}`);if(m<0)throw new Error(`Integer underflow at ${m} for fixed length ${c}`);return m.toString().padStart(c,"0")}h(i,"formatInteger");function u(m,c){const E=m.length;if(E<c)throw new Error("Invalid integer portion, length too short");if(E===c){const f=m.indexOf(".");if(f>=0)throw new Error(`Unexpected . at position ${f} in string of exact length ${c}`);const O=Number(m);if(isNaN(O))throw new Error(`Invalid integer portion - not a valid integer ${m}`)}else if(m[c]!==".")throw new Error(`Expected . after int_fixed length ${c} and got ${m[c]}`)}h(u,"validateIntegerLength");function d(m,c,E){if(u(m,E),E!==m.length&&m.slice(E).endsWith(c[0]))throw new Error(`Fractional portion must not end with ${c[0]}`)}h(d,"validateOrderKey")},uHvJ:function(H,n,e){H.exports=e.p+"collect_requests_sq-86bf556.png"},uXea:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){let{width:a,height:r,top:l,left:o}=t;return{position:"absolute",width:`${a}px`,height:`${r}px`,top:`${l}px`,left:`${o}px`}}h(s,"cssForRect")},ueJG:function(H,n,e){"use strict";e.d(n,"a",function(){return d}),e.d(n,"b",function(){return m});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("l0nk"),l=e("0dq7"),o=e("PPXB"),i=e("KciV");const u=Object(i.c)("HUDDLE-ERROR");var d;(function(c){c.Huddles="huddles",c.Sidebar="huddles_pro_max-sidebar",c.Flexpane="huddles_pro_max-flexpane",c.CompactWindow="huddles_pro_max-compact_window",c.LargeWindow="huddles_pro_max-large_window",c.WindowFooter="huddles_pro_max-window_footer",c.AlertBanner="huddles_pro_max-alert_banner",c.InviteWindow="huddles_invite_window",c.ControlStripButton="huddles_control_strip_button",c.ChannelHeader="huddles_channel_header",c.Composer="huddles_composer",c.HuddleSpecialReactions="huddle_special_reactions"})(d||(d={}));function m(c){let{children:E,onError:f,isQuiet:O=!0,shouldStopHuddle:p=!1,subtype:b=d.Huddles}=c;const T=Object(a.useDispatch)(),v=Object(s.useCallback)(()=>{p&&T(Object(r.a)({terminalState:l.c.ClientUIError}))},[T,p]),S=Object(s.useCallback)(I=>{u.error(`${b} ${I}`),f?f():v()},[v,f,b]),A=O?o.a:o.b;return t.a.createElement(A,{subtype:b,onError:S},E)}h(m,"HuddleErrorBoundary")},uoFi:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"y",function(){return a}),e.d(n,"n",function(){return r}),e.d(n,"v",function(){return l}),e.d(n,"m",function(){return o}),e.d(n,"k",function(){return i}),e.d(n,"c",function(){return u}),e.d(n,"A",function(){return d}),e.d(n,"o",function(){return m}),e.d(n,"B",function(){return c}),e.d(n,"d",function(){return E}),e.d(n,"q",function(){return f}),e.d(n,"h",function(){return O}),e.d(n,"w",function(){return p}),e.d(n,"u",function(){return b}),e.d(n,"a",function(){return v}),e.d(n,"i",function(){return S}),e.d(n,"f",function(){return A}),e.d(n,"g",function(){return I}),e.d(n,"e",function(){return _}),e.d(n,"r",function(){return M}),e.d(n,"s",function(){return y}),e.d(n,"j",function(){return j}),e.d(n,"z",function(){return C}),e.d(n,"t",function(){return D}),e.d(n,"x",function(){return N}),e.d(n,"l",function(){return B}),e.d(n,"p",function(){return L});var s=e("DwFS");const t=Object(s.a)("Add / update multiple lists");t.meta={name:"createAction",key:"createActionbulkUpsertLists",description:"Add / update multiple lists"};const a=Object(s.a)("Add / update a list");a.meta={name:"createAction",key:"createActionupsertList",description:"Add / update a list"};const r=Object(s.a)("Remove a list");r.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const l=Object(s.a)("Add / update a list column");l.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const o=Object(s.a)("Remove a list column");o.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const i=Object(s.a)("Fill column with info data or default value");i.meta={name:"createAction",key:"createActionfillColumnData",description:"Fill column with info data or default value"};const u=Object(s.a)("Add / update multiple records");u.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const d=Object(s.a)("Add / update a list record");d.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const m=Object(s.a)("Remove a list record");m.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const c=Object(s.a)("Add/update a record position in a view");c.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const E=Object(s.a)("Add / update multiple templates");E.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const f=Object(s.a)("Set the list's banner message");f.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const O=Object(s.a)("Clear this list's banner message");O.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear this list's banner message"};const p=Object(s.a)("Add / update a list record field");p.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const b=Object(s.a)("Add / update a list cell");b.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const T=Object(s.a)("Add / update a workflow for a list");T.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const v=Object(s.a)("Apply an edit action to a list");v.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const S=Object(s.a)("Clear edit history for a list");S.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const A=Object(s.a)("Update local filters");A.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const I=Object(s.a)("Update local sorts");I.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const _=Object(s.a)("Update local collapsed grids");_.meta={name:"createAction",key:"createActionchangeViewLocalCollapsedGrids",description:"Update local collapsed grids"};const M=Object(s.a)("Set filter pill to auto open");M.meta={name:"createAction",key:"createActionsetFilterPillKey",description:"Set filter pill to auto open"};const y=Object(s.a)("Set group by pill to auto open");y.meta={name:"createAction",key:"createActionsetGroupByPillAutoOpen",description:"Set group by pill to auto open"};const j=Object(s.a)("Destroy local refinements");j.meta={name:"createAction",key:"createActiondestroyLocalRefinements",description:"Destroy local refinements"};const C=Object(s.a)("Add / update my items");C.meta={name:"createAction",key:"createActionupsertMyItems",description:"Add / update my items"};const D=Object(s.a)("set refinement pill to auto open in view");D.meta={name:"createAction",key:"createActionsetRefinePillAutoOpenByViewId",description:"set refinement pill to auto open in view"};const N=Object(s.a)("Add / update last read timestamp by list ID");N.meta={name:"createAction",key:"createActionupsertLastReadTimestampById",description:"Add / update last read timestamp by list ID"};const B=Object(s.a)("Mark records as new to highlight it");B.meta={name:"createAction",key:"createActionhighlightRecordsAsNew",description:"Mark records as new to highlight it"};const L=Object(s.a)("Mark record read to unhighlight it");L.meta={name:"createAction",key:"createActionremoveRecordHighlight",description:"Mark record read to unhighlight it"}},uslK:function(H,n,e){"use strict";e.d(n,"d",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return d});var s=e("3Hq1"),t=e("kBpe"),a=e("cthg");const r="4.30.79",l=[a.a.DesktopScreen,a.a.DesktopWindow];function o(){return!!Object(t.j)(r)}h(o,"isWindowDrawingSupported");function i(m){return Object(s.a)(m)?a.b.None:m.startsWith("screen:")?a.b.Screen:m.startsWith("window:")?a.b.Window:a.b.Other}h(i,"determineContentShareTypeFromSourceId");function u(m){if(!Object(t.i)())return a.a.BrowserContent;const c=i(m);if(Object(t.i)())switch(c){case a.b.Screen:return a.a.DesktopScreen;case a.b.Window:return a.a.DesktopWindow;default:return a.a.DesktopUnknown}return a.a.Unknown}h(u,"determineFullContentShareSourceType");function d(m){return l.includes(m)}h(d,"doesContentShareTypeSupportDrawing")},uubn:function(H,n,e){"use strict";e.d(n,"a",function(){return f});var s=e("lhZz"),t=e("BeL+"),a=e("m8R6"),r=e("SQ0V"),l=e("O86Y"),o=e("Kmpi"),i=e("x/ke"),u=e("+ujC"),d=e("GTsZ"),m=e("TGfC");const c=Object(r.c)("Upsert app profiles and mark as fresh in CFM",(O,p,b)=>{const T=p(),v=Object(l.h)(T),S=[],A=[];b.forEach(I=>{if(!I||!I.service_id)return;const _=Object(i.d)(T,I.service_id);if(!Object(o.b)(I)&&Object(o.b)(_))return;const M={...I};I&&_&&Object(o.c)(I)&&Object(o.c)(_)&&(M.failed_home_workspace_ids=Object(t.a)((I.failed_home_workspace_ids||[]).concat(_.failed_home_workspace_ids||[]))),S.push(M.id?Object(a.a)(M,["id"]):M);const y=Object(m.a)({serviceId:M.service_id,homeWorkspaceId:M.home_workspace_id||v});A.push(y)}),S.length&&(O(Object(d.b)(S)),Object(u.a)(v,A))});c.meta={name:"createThunk",key:"createThunkbulkUpsertAppProfiles",description:"Upsert app profiles and mark as fresh in CFM"};var E=c;function f(O,p){return Object(s.dispatchForTeamId)(O,E(p))}h(f,"upsertAppProfilesForTeamId")},uxre:function(H,n,e){"use strict"},v0Vs:function(H,n,e){H.exports=e.p+"beach-preview-33d7acf.jpg"},vDCl:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});var s;(function(a){a.SMALL="small",a.MEDIUM="medium",a.LARGE="large"})(s||(s={}));var t;(function(a){a.NONE="none",a.PURPLE="purple",a.LIGHT_PURPLE="light_purple",a.BLUE="blue",a.ERROR="error",a.HORCHATA="horchata"})(t||(t={}))},vHY4:function(H,n,e){"use strict";e.d(n,"a",function(){return D}),e.d(n,"c",function(){return B}),e.d(n,"b",function(){return R});var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("Kmpi"),l=e("zxER"),o=e("Ccc1"),i=e("KkHf"),u=e("3V+Q"),d=e("Ws5+"),m=e("Trx9"),c=e("E97Y"),E=e("B4ch"),f=e("9Gfp"),O=e("E3dU"),p=e("dlm8"),b=e("Yauy"),T=e("gVOt"),v=e("Enx8"),S=e("ktUG"),A=e("nNoG"),I=e("T1zM"),_=e("JoR1");function M(){return M=Object.assign||function(U){for(var W=1;W<arguments.length;W++){var x=arguments[W];for(var G in x)Object.prototype.hasOwnProperty.call(x,G)&&(U[G]=x[G])}return U},M.apply(this,arguments)}h(M,"_extends");const y=new A.b("huddles"),j={elementName:"huddles_confirmation_dialog_ok",eventId:S.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},C={elementName:"huddles_confirmation_dialog_cancel",eventId:S.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},D=h(U=>{let{children:W,closeModal:x,onConfirm:G,uiComponentName:w,...se}=U;const ee=Object(s.useCallback)(()=>{G(),x==null||x()},[x,G]);return t.a.createElement(m.a,{uiComponentName:w,eventId:S.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.a.createElement(i.a,M({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:x,onClose:x,onSubmit:ee,submitButtonText:y.t("OK"),submitAutoClogProps:j,cancelAutoClogProps:C},se),W))},"HuddleJoinModal");D.displayName="HuddleJoinModal";const N=h(U=>{let{prevChannelId:W,nextChannelId:x,onConfirm:G,closeModal:w}=U;const se=Object(l.d)(le=>Object(O.d)(le,W)),ee=Object(l.g)(le=>{if(!se)return[];let de=[];if(Object(c.g)(se))de=[Object(T.a)(se)];else if(Object(c.i)(se)){const ie=Object(b.C)(se);if(ie&&ie.length){const pe=Object(f.a)(le);de=ie.filter(ne=>ne!==pe)}}return de.map(ie=>Object(v.a)(le,ie))}),X=Object(l.d)(le=>Object(O.d)(le,x)),me=Object(l.g)(le=>{if(!X)return[];let de=[];if(Object(c.g)(X))de=[Object(T.a)(X)];else if(Object(c.i)(X)){const ie=Object(b.C)(X);if(ie&&ie.length){const pe=Object(f.a)(le);de=ie.filter(ne=>ne!==pe)}}return de.map(ie=>Object(v.a)(le,ie))});let Oe=y.rt("You\u2019re already in a huddle.");ee.length?Oe=y.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:Object(A.h)(ee).join("")}):se&&Object(r.b)(se)&&(Oe=y.rt("You\u2019re already in a huddle in {channel}.",{channel:t.a.createElement(o.a,{channel:se,channelId:W})}));let Ce=y.rt("Would you like to leave it and join this one instead?");return me.length?Ce=y.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.a.createElement("strong",null,Object(A.h)(me).join(""))}):X&&Object(r.b)(X)&&(Ce=y.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.a.createElement("strong",null,t.a.createElement(o.a,{channel:X,channelId:x}))})),t.a.createElement(D,{uiComponentName:S.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:y.t("Switch to this huddle?"),onConfirm:G,closeModal:w},t.a.createElement("p",null,Oe," ",Ce))},"HuddleSwitchModal");N.displayName="HuddleSwitchModal";const B=Object(E.a)(N),L=h(U=>{let{channelId:W,onConfirm:x,closeModal:G}=U;const w=Object(l.d)(pe=>Object(O.d)(pe,W));var se;const ee=Object(l.d)(pe=>{var ne,q;return(se=(ne=Object(p.d)(pe,W))===null||ne===void 0||(q=ne.counts)===null||q===void 0?void 0:q.member_count)!==null&&se!==void 0?se:0}),X=Object(l.d)(pe=>Object(_.t)(pe,"huddles_show_shouty_rooster")),[me,Oe]=Object(s.useState)(X),Ce=Object(a.useDispatch)(),le=w&&Object(r.b)(w)&&t.a.createElement("strong",null,t.a.createElement(o.a,{channelId:W,channel:w})),de=ee>1?y.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.a.createElement("strong",null,ee),channel:le}):y.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:le}),ie=Object(s.useCallback)(()=>{const pe=!me;Oe(pe),Ce(Object(I.f)({pref:"huddles_show_shouty_rooster",value:pe}))},[me,Ce]);return t.a.createElement(D,{uiComponentName:S.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:y.t("Start a huddle in this channel?"),onConfirm:x,closeModal:G},t.a.createElement("p",null,de),t.a.createElement(u.b,{text:y.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.a.createElement(d.a,{name:"ns",checked:!me,onChange:ie,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");L.displayName="HuddleShoutyRoosterModal";const R=Object(E.a)(L)},vSKv:function(H,n,e){"use strict";e.d(n,"c",function(){return c}),e.d(n,"e",function(){return E}),e.d(n,"b",function(){return f}),e.d(n,"d",function(){return O});var s=e("fujP"),t=e("XIp8"),a=e("4Ok1"),r=e("m8R6"),l=e("Kyco"),o=e("2VFn"),i=e("l2Je");const u=100,d={},m={persistenceEnabled:!1,storeKey:"windowHistory"};function c(b){let{windowState:T,entry:v}=b;const S=T?T.stack:[],A=Object(s.a)(S)?null:1;return{stack:[Object(t.a)(v)].concat(S).slice(0,u),index:0,previousIndex:A}}h(c,"handlePushHistoryEntryForWindow");function E(b){let{windowState:T,index:v,previousIndex:S}=b;return{stack:T.stack,index:v,previousIndex:S}}h(E,"handleUpdateIndexForWindow");function f(b){let{windowState:T,index:v}=b;return{stack:Object(a.a)(T.stack,v),index:T.index,previousIndex:null}}h(f,"handlePopHistoryAboveIndexForWindow");function O(b){let{windowState:T,entry:v}=b;const S=[...T.stack];return S[T.index]=Object(t.a)(v),{...T,stack:S}}h(O,"handleReplaceCurrentHistoryEntryForWindowInternal");const p=Object(l.b)({},d,m).on(i.c,(b,T)=>{let{windowId:v,entry:S}=T;return!v||!S?b:{...b,[v]:c({windowState:b[v],entry:S})}}).on(i.d,(b,T)=>{let{windowId:v}=T;return Object(r.a)(b,v)}).on(i.h,(b,T)=>{let{windowId:v,index:S,previousIndex:A}=T;return{...b,[v]:E({windowState:b[v],index:S,previousIndex:A})}}).on(i.f,(b,T)=>{let{windowId:v,viewSet:S}=T;return{...b,[v]:{stack:[Object(t.a)(S)],index:0,previousIndex:null}}}).on(i.b,(b,T)=>{let{windowId:v,index:S}=T;return b[v]?{...b,[v]:f({windowState:b[v],index:S})}:b}).on(i.e,(b,T)=>{let{windowId:v,entry:S}=T;return b[v]?{...b,[v]:O({windowState:b[v],entry:S})}:b}).on(i.g,(b,T)=>{let{windowId:v,viewParams:S,index:A}=T;if(!b[v])return b;const _=[...b[v]?b[v].stack:[]];if(!_[A])return b;const M=Object(t.a)(_[A]),y=M[o.h.Primary];if(!(y!=null&&y.id))return b;const j={...M,[o.h.Primary]:{...y,params:{...y.params,...S}}};return _[A]=j,{...b,[v]:{...b[v],stack:_}}});n.a=p},vYXD:function(H,n,e){"use strict";e.d(n,"d",function(){return u}),e.d(n,"b",function(){return d}),e.d(n,"c",function(){return m}),e.d(n,"a",function(){return c}),e.d(n,"g",function(){return E}),e.d(n,"f",function(){return O}),e.d(n,"e",function(){return p});var s=e("8f+r"),t=e("BeUZ"),a=e("kBpe"),r=e("vfQU"),l=e("G5NC"),o=e("nNoG");const i=new o.b("calls_wrong_build");function u(){if(!Object(a.i)())return!1;const T=Object(r.D)();return f(T,{major:4,minor:13,patch:0})}h(u,"isWrongGantryHuddlesBuild");function d(){if(!Object(a.i)())return!1;const T=Object(r.D)();return T.major<4?T.minor<4?f(T,{major:3,minor:3,patch:7}):f(T,{major:3,minor:4,patch:0,prerelease:"alpha3"}):T.prerelease&&(T.prerelease.startsWith("sonic")||T.prerelease.startsWith("alpha2"))?!1:f(T,{major:4,minor:0,patch:0,prerelease:"alpha1190201"})}h(d,"isWrongGantryCallsBuild");const m=h(()=>{if(Object(a.i)())return!1;if(Object(a.m)()){if(!(Object(a.p)()||Object(a.x)()))return!0;const v=87;return Number(Object(a.d)().split(".")[0])<v}return!Object(a.h)()},"isWrongGantryHuddlesBrowser");function c(){return Object(a.i)()?!1:!Object(a.h)()}h(c,"isWrongGantryCallsBrowser");function E(){return Object(l.a)()||(Object(a.i)()?!d():!c())}h(E,"useGantryCalls");function f(T,v){const S=Object(t.a)(T,v),A=S<0,I=S>0;return A?!0:I||!T.prerelease?!1:v.prerelease?T.prerelease<v.prerelease:!0}h(f,"isPrereleaseVersionOlder");function O(T){return b(T,i.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to calls &mdash; as well as bug fixes and an all-around smoother experience.",{fallbackHash:"15f4227e116c3dce202df6486303491344a6350d",fallbackHashNs:"utility"}))}h(O,"sendEphemeralMessageWithCorrectBuildInfo");function p(T){return b(T,i.t("Unfortunately, Slack calls aren't available in this browser. We recommend downloading the Slack desktop app, or you can switch to Chrome.",{fallbackHash:"c3316caea826cdc00385e8aca03517944038abcc",fallbackHashNs:"utility"}))}h(p,"sendEphemeralMessageWithCorrectBrowserInfo");function b(T,v){return Object(s.b)({temporary:!0,message:{text:v,channel:T}})}h(b,"sendEphemeralMessage")},"vd/O":function(H,n,e){"use strict";var s=e("fujP"),t=e("Z0Cl"),a=e("s4P+"),r=e("ykb+");n.a=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Object(s.a)(l))return!1;const o=Object(t.a)(l,i=>(i&&!i.message&&Object(r.b)()&&Object(a.b)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${i.id}, message: ${i.message}}`),i&&!!i.message));return!Object(s.a)(o)}},vjDR:function(H,n,e){"use strict";e.d(n,"a",function(){return d});var s=e("4Lve"),t=e("JN2d"),a=e("PPXH"),r=e("LqbL"),l=e("lhZz"),o=e("t4eE"),i=e("Z7Ay"),u=e("7xYR");function d(c){if(!c||Object(l.getClientStoreInstance)())return;const E=Object(a.a)(),f=Object(o.b)()?Object(s.a)():[c],O=Object(t.a)();E.dispatch(Object(r.initialize)({focusedWorkspace:c,allWorkspaces:f,workspacesMeta:O})),m()}h(d,"initializeClientStore");function m(){const c=Object(l.getClientStoreInstance)();Object(i.a)("clientStore",c),Object(i.b)("teamIds",()=>{const f=c.getState();return u.getAllWorkspaces(f)}),Object(i.b)("activeTeam",()=>{const f=c.getState(),O=u.getFocusedWorkspace(f);return window.slackDebug[O]}),Object(i.b)("activeTeamId",()=>{const f=c.getState();return u.getFocusedWorkspace(f)}),Object(i.b)("activeEnterprise",()=>{var f,O;const p=c.getState(),b=(f=u.getWorkspacesMeta(p))===null||f===void 0||(O=f[u.getFocusedWorkspace(p)])===null||O===void 0?void 0:O.enterprise_id;return window.slackDebug[b]});const E={};Object.keys(r).forEach(f=>{E[f]=function(){for(var O=arguments.length,p=new Array(O),b=0;b<O;b++)p[b]=arguments[b];return c.dispatch(r[f](...p))}}),Object.keys(u).forEach(f=>{E[f]=function(){for(var O=arguments.length,p=new Array(O),b=0;b<O;b++)p[b]=arguments[b];return u[f](c.getState(),...p)}}),Object(i.a)("clientStore.workspaces",E)}h(m,"setupClientStoreDebugger")},vkL2:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("DwFS");const t=Object(s.a)("Set the last executed encoded search string");t.meta={name:"createAction",key:"createActionsetLastExecutedEncodedSearchString",description:"Set the last executed encoded search string"};const a=Object(s.a)("Clear the last executed encoded search string");a.meta={name:"createAction",key:"createActionclearLastExecutedEncodedSearchString",description:"Clear the last executed encoded search string"}},vkwO:function(H,n,e){H.exports=e.p+"template_card_blank-eca9a0c.png"},vlVB:function(H,n,e){H.exports=e.p+"ava_0002-32-798f043.png"},vlz8:function(H,n,e){"use strict";e.d(n,"a",function(){return i});var s=e("qAkX"),t=e("SQ0V"),a=e("Jhy3"),r=e("SRu2"),l=e("Bi0v"),o=e("8Xig");const i=Object(t.c)("Add or update the last ephemeral message of a certain type",(u,d,m)=>{let{ephemeralType:c,message:E,ignoreExistingMessage:f=!1}=m;const O=d(),p=E.channel,b=E.thread_ts;if(c){const T=c&&Object(s.a)(Object(o.a)(O,{ephemeralType:c,channelId:p,threadTs:b}));if(T&&T.ts&&!f){u(Object(a.a)([{...Object(r.a)(O,E),ts:T.ts,channel:p,thread_ts:b}]));return}}u(Object(l.a)({ephemeralType:c,message:E}))});i.meta={name:"createThunk",key:"createThunkaddOrFlashEphemeralBotMsg",description:"Add or update the last ephemeral message of a certain type"}},vr9t:function(H,n,e){"use strict";e.d(n,"e",function(){return u}),e.d(n,"d",function(){return d}),e.d(n,"c",function(){return m}),e.d(n,"f",function(){return c}),e.d(n,"a",function(){return E}),e.d(n,"b",function(){return f});var s=e("AFNo"),t=e("O86Y"),a=e("UIhb"),r=e("JQ3U"),l=e("dmdh"),o=e("YKhI"),i=e("8z+9");const u=Object(s.c)(function(p,b){let{refetchIfNeeded:T=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(T){const v=Object(t.g)(p);Object(o.a)().maybeRefetch(v,b)}return p&&p.pins&&p.pins.pinsByChannel[b]});u.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(p,b){let{refetchIfNeeded:T=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(T){const v=Object(t.g)(p);Object(o.a)().maybeRefetch(v,b)}return p&&p.pins&&p.pins.pinsByChannel[b]}};const d=Object(s.c)((p,b)=>{var T,v;return p&&p.pins&&p.pins.pinsByChannel[b]?(T=p.pins.pinsByChannel)===null||T===void 0||(v=T[b])===null||v===void 0?void 0:v.length:0});d.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(p,b)=>{var T,v;return p&&p.pins&&p.pins.pinsByChannel[b]?(T=p.pins.pinsByChannel)===null||T===void 0||(v=T[b])===null||v===void 0?void 0:v.length:0}};const m=Object(s.c)((p,b)=>p&&p.pins&&p.pins.loadingStateByChannel[b]);m.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(p,b)=>p&&p.pins&&p.pins.loadingStateByChannel[b]};const c=Object(s.c)((p,b)=>{let{channelId:T,ts:v}=b;const S=!1,A=Object(a.b)(p,T,v,S);if(!A)return!1;if(Object(r.g)(A)&&A.comment){const I=Object(l.g)(p,A.file,A.comment.id);return I?!!(I.pinned_to&&I.pinned_to.includes(T)):!1}return!!(A.pinned_to&&A.pinned_to.includes(T))});c.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(p,b)=>{let{channelId:T,ts:v}=b;const S=!1,A=Object(a.b)(p,T,v,S);if(!A)return!1;if(Object(r.g)(A)&&A.comment){const I=Object(l.g)(p,A.file,A.comment.id);return I?!!(I.pinned_to&&I.pinned_to.includes(T)):!1}return!!(A.pinned_to&&A.pinned_to.includes(T))}};const E=h((p,b)=>{switch(b.type){case i.a.MESSAGE:return{...Object(a.b)(p,b.channel,b.ts),type:i.a.MESSAGE};case i.a.FILE:return{...Object(l.e)(p,b.id),type:i.a.FILE};case i.a.FILE_COMMENT:return{...Object(l.g)(p,b.fileId,b.id),fileId:b.fileId,type:i.a.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),f=Object(s.c)((p,b)=>{const T=u(p,b);return T?T.map(v=>E(p,v)):[]});f.meta={name:"createSelector",key:"createSelectorgetItemsMappedFromPins",description:(p,b)=>{const T=u(p,b);return T?T.map(v=>E(p,v)):[]}};const O=Object(s.c)(p=>p&&p.pins&&p.pins.popoverScrollTop);O.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:p=>p&&p.pins&&p.pins.popoverScrollTop}},vws0:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("vkL2"),a=e("ohbk"),r=e("TU0B"),l=e("rZ8V"),o=e("I0j/"),i=e("37+L");const u=Object(s.c)("Adds a search history item and updates the url with its id",function(d,m){let{isSearchInSidebar:c=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const E=m(),f=Object(r.a)(E),O=Object(l.o)(E);if(f){if(d(Object(t.b)({value:f})),O){d(Object(o.a)(Object(i.ab)(f)));return}c||d(Object(a.a)({id:"Psearch",routeParams:{searchQuery:f}}))}});u.meta={name:"createThunk",key:"createThunkrunSearchFromReduxState",description:"Adds a search history item and updates the url with its id"}},w2SD:function(H,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"c",function(){return o});var s=e("ivW5"),t=e("vLZU");const a={storeKey:"channelLoading",persistenceEnabled:!1,scope:t.k.orgShared},{reducer:r,actions:l,selectors:o}=Object(s.a)(a,{idKey:"channelId",transform:i=>{const{channelId:u,...d}=i;return{id:u,object:d}}});n.b=r},"w3c/":function(H,n,e){"use strict"},wA9Q:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("fujP"),t=e("Oy0v");function a(r,l){if(!l||Object(s.a)(l))return{name:r};const o=Object(t.a)(r);if(!o)return{name:r};const{name:i,skinTone:u}=o,d=l[i];if(!d||Object(s.a)(d))return{name:r};const m=d.display_alias,c=m??i,E=u?`:${c}::skin-tone-${u}:`:`:${c}:`,f=d.display_url;return{name:E,url:f}}h(a,"getEmojiDisplayInfoFromMap")},wGfi:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("hD2y"),t=e("E3dU"),a=e("6etV"),r=e("miM7"),l=e("9Gfp");const o=h((i,u)=>{const d=Object(t.B)(i,u)&&Object(t.d)(i,u)||void 0;return!u||!d||!Object(r.a)(d)?!1:Object(l.m)(i)?Object(s.a)(i,u)&&!Object(a.a)(i,d==null?void 0:d.id,{allowToAdmins:!0}):Object(s.a)(i,u)},"canUserAtEveryoneInChannelById")},wVLq:function(H,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.JOIN="JOIN",t.LEAVE="LEAVE",t.SCREENSHARE_START="SCREENSHARE_START",t.SCREENSHARE_STOP="SCREENSHARE_STOP",t.TRANSCRIBE="TRANSCRIBE",t.SEND_REACTION="SEND_REACTION",t.START_TRANSCRIPTION="START_TRANSCRIPTION"})(s||(s={}))},wWBL:function(H,n,e){"use strict";e.d(n,"a",function(){return t}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var s=e("RVJP");const t="autocompleteFallback";function a(){return t}h(a,"getModelForSorter");function r(l){return Object(s.d)(l,"searcher_sessions_phase_1")==="treatment"}h(r,"shouldUseSearcherSessions")},wY8X:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("fujP"),r=e("zxER"),l=e("/qcS"),o=e("FlEr"),i=e("wA9Q");function u(d){let{memberId:m,className:c,emoji:E,emojiSize:f,showTooltips:O,stopAnimations:p}=d;const b=Object(r.c)(S=>Object(o.a)(S,m));if(!m||!E)return null;const{name:T=E,url:v=void 0}=b?Object(i.a)(E,Object(a.a)(b)?void 0:b):{};return t.a.createElement(l.b,{className:c,emojiSize:f||l.a.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!O,stopAnimations:!!p,text:T,url:v})}h(u,"CustomStatusEmoji"),u.displayName="CustomStatusEmoji",n.a=t.a.memo(u)},whaK:function(H,n,e){"use strict";e.d(n,"a",function(){return a});var s=e("kBpe"),t=e("jlKB");function a(r){let{forceDisplay:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object(t.a)(r)&&!l?"as_text":Object(s.p)()?"apple":"google"}h(a,"getEmojiMode")},wlwd:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("SQ0V"),t=e("u43d"),a=e("GYPw"),r=e("WUSA"),l=e("j77i");const o=Object(s.c)("Set the pref for the sound that plays when a message arrives to the focused conversation",(i,u,d)=>{if(Object(t.a)(u()))try{Object(l.w)(a.b,d)}catch{}i(Object(r.c)(d))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},wnwW:function(H,n,e){"use strict";var s=e("DwFS");const t=Object(s.a)("Triggers a side-effect that opens a specific modal for the launch_modal space in our Megaphone framework");t.meta={name:"createAction",key:"createActiononLaunchModalMegaphoneDataLoadedCircular",description:"Triggers a side-effect that opens a specific modal for the launch_modal space in our Megaphone framework"},n.a=t},woMp:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ZobM"),l=e("sGXp"),o=e("E97Y"),i=e("zxER"),u=e("zMr6");function d(){return d=Object.assign||function(E){for(var f=1;f<arguments.length;f++){var O=arguments[f];for(var p in O)Object.prototype.hasOwnProperty.call(O,p)&&(E[p]=O[p])}return E},d.apply(this,arguments)}h(d,"_extends");function m(E){let{size:f=l.a.medium,className:O,channel:p,showDraftIcon:b=!1,showFilledIcon:T=!1}=E;const v=Object(o.q)(p),S=Object(i.d)(A=>Object(u.b)(A,p,{filled:T,showDraftIcon:b}));return f!==l.a.small&&(S.inline=!0),t.a.createElement("span",{className:Object(a.default)("c-channel_icon",{"c-channel_icon--unknown":v,"c-channel_icon--with-background":f!==l.a.small},O),"data-channel-type-icon":(S==null?void 0:S.name)||"unknown"},!v&&t.a.createElement(r.a,d({},f===l.a.small?{size:"18"}:{},S)))}h(m,"ChannelIcon"),m.displayName="ChannelIcon";var c=n.a=m},ww7Y:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("nNoG"),l=e("A7Fl");function o(){return o=Object.assign||function(d){for(var m=1;m<arguments.length;m++){var c=arguments[m];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(d[E]=c[E])}return d},o.apply(this,arguments)}h(o,"_extends");const i=new r.b("members");function u(d){let{className:m,inverse:c=!1,isWorkflow:E=!1,...f}=d;const O=Object(a.default)(m,"c-app_badge",{"c-app_badge--inverse":c});return t.a.createElement("span",o({},f,{className:O,"data-stringify-suffix":" "}),E?i.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"}):i.t("APP"))}h(u,"AppBadge"),u.displayName="AppBadge",n.a=Object(s.memo)(u)},"x+oO":function(H,n,e){"use strict";e.d(n,"f",function(){return r}),e.d(n,"d",function(){return l}),e.d(n,"e",function(){return o}),e.d(n,"c",function(){return i}),e.d(n,"b",function(){return u}),e.d(n,"a",function(){return d});var s=e("ZKjC"),t=e("O86Y"),a=e("OW01");const r=Object(s.b)((m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.connections)||[]});r.meta={name:"createSelector",key:"createSelectorgetTeamConnectionsForChannelId",description:(m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.connections)||[]}};const l=Object(s.b)((m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.pendingConnections)||[]});l.meta={name:"createSelector",key:"createSelectorgetPendingTeamConnectionsForChannelId",description:(m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.pendingConnections)||[]}};const o=Object(s.b)((m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.previousConnections)||[]});o.meta={name:"createSelector",key:"createSelectorgetPreviousTeamConnectionsForChannelId",description:(m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.previousConnections)||[]}};const i=Object(s.b)((m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.conversationHostId});i.meta={name:"createSelector",key:"createSelectorgetConversationHostTeamIdForChannelId",description:(m,c)=>{var E,f;return Object(a.c)(Object(t.g)(m),c),m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0?void 0:f.conversationHostId}};const u=Object(s.b)((m,c)=>{var E,f;return c?(Object(a.c)(Object(t.g)(m),c),!!(!(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0)&&f.isChannelSponsored)):!1});u.meta={name:"createSelector",key:"createSelectorgetChannelIsSponsored",description:(m,c)=>{var E,f;return c?(Object(a.c)(Object(t.g)(m),c),!!(!(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0)&&f.isChannelSponsored)):!1}};const d=Object(s.b)((m,c)=>{var E,f,O,p,b,T,v,S,A;Object(a.c)(Object(t.g)(m),c);const I=(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0||(O=f.connections)===null||O===void 0?void 0:O.length)||0,_=(m==null||(p=m.extSharedChannelTeams)===null||p===void 0||(b=p[c])===null||b===void 0||(T=b.pendingConnections)===null||T===void 0?void 0:T.length)||0,M=(m==null||(v=m.extSharedChannelTeams)===null||v===void 0||(S=v[c])===null||S===void 0||(A=S.previousConnections)===null||A===void 0?void 0:A.length)||0;return I>1||_>0||M>0});d.meta={name:"createSelector",key:"createSelectordoesChannelHaveExternalTeamConnections",description:(m,c)=>{var E,f,O,p,b,T,v,S,A;Object(a.c)(Object(t.g)(m),c);const I=(m==null||(E=m.extSharedChannelTeams)===null||E===void 0||(f=E[c])===null||f===void 0||(O=f.connections)===null||O===void 0?void 0:O.length)||0,_=(m==null||(p=m.extSharedChannelTeams)===null||p===void 0||(b=p[c])===null||b===void 0||(T=b.pendingConnections)===null||T===void 0?void 0:T.length)||0,M=(m==null||(v=m.extSharedChannelTeams)===null||v===void 0||(S=v[c])===null||S===void 0||(A=S.previousConnections)===null||A===void 0?void 0:A.length)||0;return I>1||_>0||M>0}}},"x/ke":function(H,n,e){"use strict";e.d(n,"e",function(){return I}),e.d(n,"d",function(){return M}),e.d(n,"c",function(){return y}),e.d(n,"b",function(){return j}),e.d(n,"a",function(){return D});var s=e("ZKjC"),t=e("UOL+"),a=e("E3dU"),r=e("9I4P"),l=e("gVOt"),o=e("52Wj"),i=e("Nnn3"),u=e("O86Y"),d=e("TGfC"),m=e("xwCZ"),c=e("+ujC"),E=e("oTSI"),f=e("Kmpi"),O=e("uubn"),p=e("CQj+");const b=Object(E.a)(()=>new f.a({fetch:p.a,upsertKnown:O.a,upsertNonExistent:O.a,makeUnknownObject:T,makeNonExistentObject:v}));function T(B){const{serviceId:L,homeWorkspaceId:R}=Object(d.b)(B);return{id:B,isUnknown:!0,service_id:L,home_workspace_id:R,failed_home_workspace_ids:[]}}h(T,"makeUnknownAppProfileStub");function v(B){const{serviceId:L,homeWorkspaceId:R}=Object(d.b)(B);return{id:B,isNonExistent:!0,service_id:L,home_workspace_id:R,failed_home_workspace_ids:[R]}}h(v,"makeNonExistentAppProfileStub");var S=e("s4P+"),A;const I=Object(s.b)(B=>{var L;return(A=(L=Object(t.a)(B))===null||L===void 0?void 0:L.appProfiles)!==null&&A!==void 0?A:B==null?void 0:B.appProfiles});var _;I.meta={name:"createSelector",key:"createSelectorgetAppProfilesState",description:B=>{var L;return(_=(L=Object(t.a)(B))===null||L===void 0?void 0:L.appProfiles)!==null&&_!==void 0?_:B==null?void 0:B.appProfiles}};const M=Object(s.b)((B,L)=>{var R;return L&&((R=I(B))===null||R===void 0?void 0:R[L])||null});M.meta={name:"createSelector",key:"createSelectorgetAppProfileByServiceId",description:(B,L)=>{var R;return L&&((R=I(B))===null||R===void 0?void 0:R[L])||null}};const y=Object(s.b)(function(B){let{serviceId:L,homeWorkspaceId:R,memberId:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const W=M(B,L),x=Object(u.h)(B),G=R||x,w=Object(d.a)({serviceId:L,homeWorkspaceId:G}),se=W&&Object(f.c)(W)&&!W.failed_home_workspace_ids.includes(G);if(!W||se)return b().fetchObjectWithId(x,w);if(Object(c.c)(x,w),U&&!W.app_user){const ee=Object(m.g)(B,U);return{...W,app_user:{id:ee.id,username:Object(o.b)(ee)}}}return W});y.meta={name:"createSelector",key:"createSelectorgetAppProfileByIds",description:function(B){let{serviceId:L,homeWorkspaceId:R,memberId:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const W=M(B,L),x=Object(u.h)(B),G=R||x,w=Object(d.a)({serviceId:L,homeWorkspaceId:G}),se=W&&Object(f.c)(W)&&!W.failed_home_workspace_ids.includes(G);if(!W||se)return b().fetchObjectWithId(x,w);if(Object(c.c)(x,w),U&&!W.app_user){const ee=Object(m.g)(B,U);return{...W,app_user:{id:ee.id,username:Object(o.b)(ee)}}}return W}};const j=Object(s.b)((B,L)=>{if(!L)return Object(S.b)().error("Channel Id is undefined");const R=Object(a.d)(B,L),U=Object(l.a)(R),W=Object(m.g)(B,U),x=Object(i.a)(B,W),G=Object(u.h)(B),w=Object(r.b)(W,G);return y(B,{serviceId:x,homeWorkspaceId:w,memberId:U})});j.meta={name:"createSelector",key:"createSelectorgetAppProfileByChannelId",description:(B,L)=>{if(!L)return Object(S.b)().error("Channel Id is undefined");const R=Object(a.d)(B,L),U=Object(l.a)(R),W=Object(m.g)(B,U),x=Object(i.a)(B,W),G=Object(u.h)(B),w=Object(r.b)(W,G);return y(B,{serviceId:x,homeWorkspaceId:w,memberId:U})}};var C;const D=Object(s.b)((B,L)=>{var R;return(R=Object.values((C=I(B))!==null&&C!==void 0?C:{}).filter(U=>U.app_id===L))===null||R===void 0?void 0:R[0]});var N;D.meta={name:"createSelector",key:"createSelectorgetAppProfileByAppId",description:(B,L)=>{var R;return(R=Object.values((N=I(B))!==null&&N!==void 0?N:{}).filter(U=>U.app_id===L))===null||R===void 0?void 0:R[0]}}},x5cI:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("gSGL"),l=e("ifKl"),o=e("qDEp"),i=e("oEDn"),u=e("zNRp"),d=e("GWPn"),m=e("nNoG"),c=e("kBpe"),E=e("ZobM"),f=e("ktUG"),O=e("tv4y"),p=e("6FZx"),b=e("YiJ7"),T=e("Cfcg"),v=e("boyP");const S=new m.b("menu");let A=h(class extends s.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(y){var j,C;(C=(j=this.props).menuCallbackBefore)===null||C===void 0||C.call(j,y),this.props.onSelected(y),this.props.menuCallback(this.props.menuCallbackId,y)}determineMenuRole(){const{type:y,ariaRole:j}=this.props;if(j)return j;switch(y){case O.b.radio:return"menuitemradio";case O.b.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:y,badgeCount:j,badgeClassName:C,highlighted:D}=this.props;return j?t.a.createElement(u.b,{count:j,style:D?u.a.white:u.a.red}):y?t.a.createElement(d.a,{className:C},y):null}renderAdditionalIconMaybe(){const{additionalIcon:y}=this.props;return y?t.a.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},y):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.a.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.a.createElement(E.a,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:y,highlighted:j}=this.props;return!y||!j?null:t.a.createElement(i.a,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:y,checked:j,indeterminate:C}=this.props,D=y===O.b.radio||y===O.b.checkbox;return D&&C?t.a.createElement(i.a,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):D&&j?t.a.createElement("div",{className:"c-menu_item__checkmark"},t.a.createElement(E.a,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:y}=this.props;return y?t.a.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},y):null}renderLinkIconMaybe(){const{href:y,showLinkIndicatorIcon:j}=this.props;return j===!1||j!==!0&&!y?null:t.a.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.a.createElement(E.a,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:y,containerSize:j,experimentSkResponsiveMenusGroupOn:C,isResponsive:D}=this.props;if(!y||C&&D&&j&&j.width<300)return null;if(!Object(r.a)(y)&&"label"in y){const{label:N}=y;if(N&&Object(r.a)(N))return t.a.createElement("div",{className:"c-menu_item__shortcut"},N)}return t.a.createElement("div",{className:"c-menu_item__shortcut"},y)}render(){const{autoClogProps:y,children:j,className:C,classNameListItem:D,danger:N,description:B,disabled:L,showOfflineIcon:R,highlighted:U,label:W,onMouseEnter:x,onMouseLeave:G,href:w,target:se,download:ee,type:X,withSubmenu:me,standaloneHoverEffect:Oe,checked:Ce,indeterminate:le,measureRef:de,containerSize:ie,experimentSkResponsiveMenusGroupOn:pe,isResponsive:ne,ariaDescribedBy:q,ariaLabelledBy:ce,ariaLabel:ge,disableHoverStyling:be}=this.props,Q=Object(a.default)(C,"c-menu_item__button",{"c-menu_item__button--highlighted":U&&!L&&!be,"c-menu_item__button--danger":N,"c-menu_item__button--disabled":L,"c-menu_item__button--with_submenu":me,"c-menu_item--button--subheader_child":X===O.b.subheaderChild,"c-menu_item__button--checked":(X===O.b.radio||X===O.b.checkbox)&&(Ce||le),"c-menu_item--compact":X===O.b.compactItem,"c-menu_item--standalone":Oe}),re=Object(a.default)(D,"c-menu_item__li",{"c-menu_item__li--highlighted":U&&!be}),z=Object(a.default)(D,"c-menu_item__label",{"c-menu_item__label--with_description":B}),Y=me?"true":void 0,ve=B?t.a.createElement("div",{className:"c-menu_item__description"},B):"",Z=this.props.activeMenuId,$=this.props.featureSubmenuRoleDescription?S.t("submenu"):void 0,te=Object(c.p)()&&me?$:void 0;return t.a.createElement("div",{ref:de,className:re,onMouseEnter:x,onMouseLeave:G,"data-qa":`${this.props["data-qa"]}-wrapper`},t.a.createElement(o.d,{autoClogProps:{...y,elementType:f.ElementType.MENU_ITEM},ref:this.buttonRef,id:Z,className:Q,disabled:L,onClick:this.onSelected,href:w,target:se,download:ee,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:Ce,"aria-checked":le?"mixed":Ce,"aria-haspopup":Y,tabIndex:-1,"aria-roledescription":te,"aria-describedby":q,"aria-labelledby":ce,"aria-label":ge},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.a.createElement("div",{className:z},W,j,!(pe&&ne&&ie&&ie.width<300)&&ve),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),R&&t.a.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.a.createElement(i.a,{type:"cloud-offline-small"}))))}constructor(y){super(y),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.a.createRef()}},"MenuItem");A.displayName="MenuItem",A.defaultProps={children:void 0,highlighted:!1,onMouseEnter:l.a,onMouseLeave:l.a,onSelected:l.a,menuCallback:l.a,menuCallbackBefore:l.a,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,showEnter:!1,target:void 0,download:void 0,type:O.b.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:l.a,onUnmount:l.a,showFullCarat:!1,disableHoverStyling:!1};const I={MenuItem:A},_=h(M=>({experimentSkResponsiveMenusGroupOn:Object(b.a)(M)}),"mapStateToProps");n.a=Object(p.b)(Object(T.a)(_)(Object(b.c)(A)))},xLpb:function(H,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.MULTI_PANE="multi_pane",t.SINGLE_PANE="single_pane",t.VERTICAL_BANNER="vertical_banner",t.HORIZONTAL_BANNER="horizontal_banner"})(s||(s={}))},xQ1x:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("CpTu"),t=e("Bw5p"),a=e("1myf"),r=e("lE2N"),l=e("yJbr");function o(i,u){if(!i||!u)return u;const d=u.comments||[],m=Object(s.a)(d,T=>T.id===i.id),c=Object(t.a)(m,["is_starred","_rxn_key"]),E={...m,...i,...c},f=Object(a.a)(Object(r.a)([E,...d],"id"),"timestamp"),O=u.initial_comment&&i.id===u.initial_comment.id,p=O?E:u.initial_comment;m||Object(l.d)(u,i),O&&Object(l.c)(u);const b={...u,comments:f};return p&&(b.initial_comment=p),b}h(o,"addCommentToFile")},xY6W:function(H,n,e){"use strict";e.d(n,"a",function(){return u});var s=e("SQ0V"),t=e("HoeF"),a=e("QIbu"),r=e("PfQc"),l=e("gpLM"),o=e("HKlo"),i=e("SIMs");const u=Object(s.c)("closes the canvas within the huddle",(d,m)=>{Object(i.A)(m())&&d(Object(t.t)({isNotesOpen:!1})),d(Object(r.a)({peerId:"self",contentViewType:a.a.None})),d(Object(l.c)({focusKey:o.c.HUDDLE_TOP_TOOLBAR,forceFocus:!0}))});u.meta={name:"createThunk",key:"createThunkcloseHuddleCanvas",description:"closes the canvas within the huddle"}},xeGy:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("nNoG"),l=e("zxER"),o=e("G0eX"),i=e("beVI"),u=e("s9Q6"),d=e("/0Xg"),m=e("GiOu"),c=e("UjK0");function E(){return E=Object.assign||function(b){for(var T=1;T<arguments.length;T++){var v=arguments[T];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(b[S]=v[S])}return b},E.apply(this,arguments)}h(E,"_extends");const f=new r.b("trials"),O=h(b=>{let{badgeTheme:T=m.a.Purple,className:v,hideTooltip:S,uiComponentVariant:A,...I}=b;const _=Object(l.d)(i.g),M=Object(l.d)(j=>Object(u.e)(j)===d.i.standard.id);if(!(Object(o.G)(_)||M))return null;const y=f.t("PRO");return S?t.a.createElement(m.b,{autoClogProps:{uiComponentVariant:A},badgeTheme:T,className:v}):t.a.createElement(c.a,E({ariaLabel:y,uiComponentVariant:A},I),t.a.createElement("span",{className:Object(a.default)("p-trial_pro_badge",v),"data-qa":"trial_pro_badge"},t.a.createElement(m.b,{autoClogProps:{uiComponentVariant:A},badgeTheme:T})))},"TrialProBadge");O.displayName="TrialProBadge";var p=n.a=O},xt0X:function(H,n,e){"use strict";e.d(n,"c",function(){return r}),e.d(n,"a",function(){return o}),e.d(n,"b",function(){return u});const s=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],t=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],a=h(function(m,c,E){let f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(m===0)return 0;if(c===E)return parseFloat(m.toFixed(f));const p=O?1024:1e3,b=O?s:t,T=b.findIndex(S=>S.toLowerCase()===c.toLowerCase()),v=b.findIndex(S=>S.toLowerCase()===E.toLowerCase());if(T===-1)throw new Error(`Unknown currentType '${c}' passed to convertToSize`);if(v===-1)throw new Error(`Unknown desiredType '${E}' passed to convertToSize`);return T<v?parseFloat((m/p**(v-T)).toFixed(f)):parseFloat((m*p**(T-v)).toFixed(f))},"convertToSize"),r=h(function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(m===0)return{size:0,type:"B"};const O=f?1024:1e3,p=f?s:t;let b=Math.log(m)/Math.log(O);b<1&&(b=-Math.floor(Math.log(Math.abs(b))/Math.log(10)+1));const T=p.findIndex(S=>S.toLowerCase()===c.toLowerCase()),v=Math.max(Math.min(T+Math.floor(b),p.length-1),0);if(T===-1)throw new Error(`Unknown currentType '${c}' passed to convertToSize`);return{size:a(m,c,p[v],E,f),type:p[v]}},"convertToOptimumSize"),l=h(function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(m,"B","KB",c,!1)},"convertBytesToKilobytes"),o=h(function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(m,"B","MB",c,!1)},"convertBytesToMegabytes"),i=h(function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(m,"B","GB",c,!1)},"convertBytesToGigabytes"),u=h(function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(m,"KB","MB",c,!1)},"convertKilobytesToMegabytes"),d=h(function(m){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return a(m,"KB","GB",c,!1)},"convertKilobytesToGigabytes")},xvpf:function(H,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return t});var s;(function(a){a.BOOT_INITIAL_LOAD="boot:initial_load",a.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",a.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",a.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",a.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(s||(s={}));var t;(function(a){a.COLD="cold",a.WARM="warm"})(t||(t={}))},y23z:function(H,n,e){"use strict";e.d(n,"a",function(){return c});var s=e("uZL6"),t=e("ZKjC"),a=e("UOL+"),r=e("i5Ig"),l,o;const i=Object(t.b)(E=>{var f;return(o=(l=(f=Object(a.a)(E))===null||f===void 0?void 0:f.links)!==null&&l!==void 0?l:E==null?void 0:E.links)!==null&&o!==void 0?o:r.b});var u,d;i.meta={name:"createSelector",key:"createSelectorgetLinksState",description:E=>{var f;return(d=(u=(f=Object(a.a)(E))===null||f===void 0?void 0:f.links)!==null&&u!==void 0?u:E==null?void 0:E.links)!==null&&d!==void 0?d:r.b}};const m=Object(t.b)((E,f)=>i(E)[f]);m.meta={name:"createSelector",key:"createSelectorgetLinkByUrl",description:(E,f)=>i(E)[f]};const c=Object(s.a)(i,E=>Object.values(E).filter(f=>!f.fileId).sort((f,O)=>(O.timestamp||0)-(f.timestamp||0)))},"yM+I":function(H,n,e){"use strict";var s=e("ZvnG");n.a=new s.a},yQbL:function(H,n,e){"use strict";var s=e("9oTK"),t=e.n(s),a=e("yIs4"),r=e("oTSI");class l{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var c,E;(c=this.battery)===null||c===void 0||c.addEventListener("chargingchange",this.handleBatteryUpdate),(E=this.battery)===null||E===void 0||E.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var c,E;(c=this.battery)===null||c===void 0||c.removeEventListener("chargingchange",this.handleBatteryUpdate),(E=this.battery)===null||E===void 0||E.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)};var d=this;this.initialize=Object(s.coroutine)(function*(){yield d.setUp(),d.updateBatteryState()});var m=this;this.setUp=Object(s.coroutine)(function*(){if(!m.isInitialized)try{if(navigator.getBattery){const c=yield navigator.getBattery();m.battery=c,m.battery&&(m.isSupported=!0,m.updateBatteryState(),m.registerListeners())}else m.isSupported=!1}catch{m.isSupported=!1}finally{m.isInitialized=!0}}),this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!Object(a.a)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}h(l,"HuddleBatteryManager");const o=Object(r.a)(()=>new l),i={getHuddleBatteryManager:o,HuddleBatteryManager:l};n.a=o},yUYH:function(H,n,e){"use strict";e.d(n,"a",function(){return s});var s;(function(t){t.SpecificMembers="add-specific-members",t.AllMembers="add-all-members"})(s||(s={}))},yVpb:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("q1tI"),t=e.n(s),a=e("SwdH");function r(l){const o=Object(a.a)(),i=Object(s.useRef)(l);i.current=l;const u=Object(s.useCallback)(function(){for(var c=arguments.length,E=new Array(c),f=0;f<c;f++)E[f]=arguments[f];o.info(i.current,...E)},[o]),d=Object(s.useCallback)(function(){for(var c=arguments.length,E=new Array(c),f=0;f<c;f++)E[f]=arguments[f];o.warn(i.current,...E)},[o]),m=Object(s.useCallback)(function(c){for(var E=arguments.length,f=new Array(E>1?E-1:0),O=1;O<E;O++)f[O-1]=arguments[O];o.error(c,i.current,...f)},[o]);return Object(s.useMemo)(()=>({info:u,warn:d,error:m}),[u,d,m])}h(r,"useEmbedLogger")},yZZd:function(H,n,e){"use strict";e.d(n,"b",function(){return t}),e.d(n,"a",function(){return a});var s=e("DwFS");const t=Object(s.a)("Update the last channel switch trigger");t.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const a=Object(s.a)("Update the last channel focus time");a.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},ybyy:function(H,n,e){"use strict";e.d(n,"b",function(){return s}),e.d(n,"a",function(){return t});const s={openCount:0,unreadCount:0},t={issues:{},stats:s,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},yh68:function(H,n,e){"use strict";e.d(n,"a",function(){return Oe});var s=e("9oTK"),t=e("Lgge"),a=e("q1tI"),r=e.n(a),l=e("ifKl"),o=e("Muja"),i=e("fujP"),u=e("fp5s"),d=e("BeL+"),m=e("bPB8"),c=e("OZf9"),E=e("CpTu"),f=e("F3Uw"),O=e("dYt1"),p=e("/1FC"),b=e("Z0Cl"),T=e("zmn3"),v=e("hbEN"),S=e("UXvI"),A=e("n3tL"),I=e("Cfcg"),_=e("s4P+"),M=e("yxNq"),y=e("nNoG");function j(Ce){return[...Ce.filter(le=>!le.isError&&!le.isUnknown),...Ce.filter(le=>!le.isError&&le.isUnknown),...Ce.filter(le=>le.isError)]}h(j,"sortTokens");var C=e("FeOl"),D=e("O86Y"),N=e("6ysl"),B=e("coh6"),L=e("wWBL"),R=e("GS6c"),U=e("5IZy"),W=e("zb/F"),x=e("eUIW"),G=e("bjy1"),w=e("G7vT"),se=e("Icpd");function ee(){return ee=Object.assign||function(Ce){for(var le=1;le<arguments.length;le++){var de=arguments[le];for(var ie in de)Object.prototype.hasOwnProperty.call(de,ie)&&(Ce[ie]=de[ie])}return Ce},ee.apply(this,arguments)}h(ee,"_extends");const X=Object(_.b)(),me=new y.b("form_inputs");function Oe(Ce){const le={searcherOptions:A.default.object.isRequired,selectId:A.default.string.isRequired,inputRef:A.default.object,isRequired:A.default.bool,selectedOptions:A.default.array,selectedOption:A.default.object,isExpanded:A.default.bool,isDisabled:A.default.bool,isInvalid:A.default.bool,focusOnMount:A.default.bool,searchOnPaste:A.default.bool,expandOnFocus:A.default.bool,expandOnClick:A.default.bool,searchBatchSize:A.default.number,debounceWaitPeriod:A.default.number,onFilterQueryPaste:A.default.func,onInputFocused:A.default.func,onSearch:A.default.func,onSearchError:A.default.func,onSearchResolved:A.default.func,onOptionsListClose:A.default.func,splitPastedQuery:A.default.func,processOptions:A.default.func,processSelectedOptions:A.default.func,clogger:A.default.object.isRequired,search:A.default.func.isRequired,teamId:A.default.string.isRequired,useSearcherSessions:A.default.bool,showConfirmDialog:A.default.func,restrictedSelectedTokenIndexes:A.default.array,useBulkSearch:A.default.bool},de={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:l.a,onInputFocused:l.a,onSearch:l.a,onSearchError:l.a,onSearchResolved:l.a,onOptionsListClose:l.a,splitPastedQuery:C.a,processOptions:q=>t.a.resolve(q),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],useBulkSearch:!1};let ie=h(class extends a.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(ce,ge){const{isDisabled:be,isInvalid:Q,selectedOptions:re,selectedOption:z,searchOnPaste:Y,expandOnFocus:ve,expandOnClick:Z,restrictedSelectedTokenIndexes:$}=this.props,te={};if(ce.isInvalid!==Q&&(te.isInvalid=Q),ce.isDisabled!==be&&(te.isDisabled=be),Object(o.a)(ce.selectedOptions,re)||(te.selectedOptions=re),Object(o.a)(ce.selectedOption,z)||(te.selectedOption=z),(ce.expandOnFocus&&!ve||ce.expandOnClick&&!Z)&&(te.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,ge.selectedOptions)){var k,ae;const ke=this.getNextUnknownTokenIndex();te.selectedTokenIndexes=[ke],(k=this.inputRef)===null||k===void 0||(ae=k.current)===null||ae===void 0||ae.focus()}ce.restrictedSelectedTokenIndexes!==$&&(te.restrictedSelectedTokenIndexes=$);const{isLoading:Ee,pendingQueries:_e,selectedOptions:je,pendingEscapeQueries:Ue,filterQuery:Ke}=this.state;if(Y&&!Ee){if(!Object(i.a)(_e))te.isLoading=!0,te.loadInBackground=!0,this.searchQueryObjects(_e);else if(ge.isLoading){if(this.updateDisabled(!1),Ue.length>0&&Ke===""){const ke=Object(y.h)(Ue.map(Ve=>Ve.query),{noConj:!0}).join(""),Qe=Ue[0],{options:Ze}=Qe,De=h(Ve=>Ve.map(Je=>{const{query:Ot,options:ht,...Le}=Je,jt=ht?{options:De(ht)}:{};return{...Le,...jt,query:ke}}),"getUpdatedOptions"),Fe={...Qe,options:De(Ze),query:ke};te.pendingEscapeQueries=[],te.options=Fe.options,te.filterQuery=ke,te.isExpanded=!0,te.isLoading=!1}if(je.length){const ke=je.filter(Ze=>Ze.isError||Ze.isUnknown).length,Qe=ke?me.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:ke}):me.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Qe)}}}Object(i.a)(te)||this.setSelectState(()=>te)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}onFilterQueryPaste(ce){var ge=this;return Object(s.coroutine)(function*(){const{searchOnPaste:be,searcherOptions:Q,splitPastedQuery:re,processOptions:z}=ge.props;if(!be||!ce&&!ce.clipboardData)return;ce.preventDefault();const Y=ce.clipboardData.getData("text/plain")?"text/plain":"Text",ve=Object(W.b)(ce),Z=ve.text,$=re(Z,{...Q,fromMetadata:ve.text!==ce.clipboardData.getData(Y)});ge.props.onFilterQueryPaste($);const te=[],J=[];yield t.a.all($.map(k=>{const ae=ge.getQueryId();return Object(x.a)(k)||Object(G.a)(k)?z([{key:ae,pasted:!0,fromMetadata:!0,value:k,label:ve.members?ve.members[k]:k}]).then(Ee=>(Ee[0]&&J.push(Ee[0]),t.a.resolve())):(te.push({query:k,queryId:ae,pasted:!0}),J.push({label:k,queryId:ae,isLoading:!0,key:ae,pasted:!0}),t.a.resolve())})),ge.setSelectState(k=>({pendingQueries:k.pendingQueries.concat(te),selectedOptions:k.selectedOptions.concat(J)})),ge.updateDisabled(!Object(i.a)(te)),ge.updateAriaTextThrottled.cancel&&ge.updateAriaTextThrottled.cancel()})()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(ce){const{isLoading:ge,isExpanded:be,filterQuery:Q}=this.state;!ge&&be&&Q.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(ce)}onTokenSelect(ce){var ge=this;return Object(s.coroutine)(function*(){if(!(ge.props.expandOnClick||ge.shouldExpandOnFocus())){if(ce&&!ce.isUnknown)ge.setState(()=>({isExpanded:!1,options:[]}));else if(ce){const be=yield ge.props.processOptions(ce.resultOptions.map(Q=>({...Q,fromUnknown:!0})),ce.label);ge.lastShownSearchDetails=ce.searcher,ge.setState(()=>({isExpanded:!0,options:be}))}}})()}getQueryId(){return Object(u.a)("query__")}setSelectState(ce,ge){var be=this;return Object(s.coroutine)(function*(){var Q;const{processSelectedOptions:re}=be.props;let z=ce(be.state);const{selectedOption:Y,selectedOptions:ve}=be.state;z.filterQuery!==void 0&&z.filterQuery!==be.state.filterQuery&&(z.isLoading=!0,z.loadInBackground=!1,be.searchQuery(z.filterQuery));const{searchOnPaste:Z}=be.props;if(Z&&z.selectedOptions){const te=z.selectedOptions.map(k=>{let{key:ae}=k;return ae}),J=Object(d.a)(Object(m.a)(te.filter(k=>te.indexOf(k)!==te.lastIndexOf(k))));Object(c.a)(J,k=>{const ae=Object(E.a)(z.selectedOptions,_e=>{let{key:je,isUnknown:Ue}=_e;return je===k&&!Ue}),Ee=Object(m.a)(z.selectedOptions.map(_e=>_e.key===k?_e.isUnknown?ae:null:_e));z.selectedOptions=Ee})}if(z.selectedOptions!==void 0&&!Object(o.a)(z.selectedOptions,ve)){const te=z.selectedOptions.filter(k=>{let{isLoading:ae,isUnknown:Ee}=k;return!ae&&!Ee}),[J]=Object(f.a)(te,ve,"value");J&&be.clogSearcherResults(J)}z.selectedOption!==void 0&&z.selectedOption!==null&&((Q=z.selectedOption)===null||Q===void 0?void 0:Q.value)!==(Y==null?void 0:Y.value)&&be.clogSearcherResults(z.selectedOption);const $=!!z.removalInitiator;if(z.selectedOptions&&!$&&re){if(z=Object(O.a)(z),z.isLoading!==void 0){const te=z.isLoading;be.setState(()=>({isLoading:te})),delete z.isLoading}z.selectedOptions=yield re(z.selectedOptions)}be.setState(()=>z,ge)})()}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(ce=>ce.isUnknown&&ce.queryId)}wasUnknownTokenResolved(ce,ge){const be=ce.filter(re=>re.isUnknown).length,Q=ge.filter(re=>re.isUnknown).length;return be<Q}shouldExpandOnFocus(){const{expandOnFocus:ce}=this.props,{selectedOptions:ge}=this.state,be=Object(se.a)(ge);return ce&&!be}clogSearcherResults(ce){if(this.lastShownSearchDetails===null)return;const{clogger:ge,selectId:be,useSearcherSessions:Q,teamId:re}=this.props,{query:z,results:Y}=this.lastShownSearchDetails,ve={source:be,query:z,results:Y};ce?(ve.selectedItemId=ce.value,Q?Object(R.a)({teamId:re,key:be}).clogSearcherAccept({clogger:ge,data:ve}):Object(B.c)({clogger:ge,data:ve})):Q?Object(R.a)({teamId:re,key:be}).clogSearcherReject({clogger:ge,data:ve}):Object(B.d)({clogger:ge,data:ve})}processSearchResults(ce){const{searchOnPaste:ge,onSearchResolved:be,searcherOptions:Q}=this.props,{escapeHatchEnabled:re,escapeHatchKeys:z}=Q,Y=this.state.selectedOptions.slice(0);ge&&ce.forEach(ve=>{let{queryId:Z,options:$,searcher:te}=ve;const J=Y.findIndex(Ee=>Ee.queryId===Z),k=Y[J];let ae=null;if(k){this.lastShownSearchDetails=te;let Ee;$.length===1?(Ee=$[0],re&&te&&te.results&&te.results.length===0&&te.pasted&&z&&z[Ee.key]&&this.setState(je=>({pendingEscapeQueries:[...je.pendingEscapeQueries,{query:te.query,options:[Ee]}]})),this.clogSearcherResults(Ee)):$.length?Ee={isUnknown:!0}:(Ee={isError:!0},this.clogSearcherResults()),ae={...k,...Ee,resultOptions:$,searcher:te,isLoading:!1},Y[J]=ae}be({result:$,selectedOption:ae})}),this.setState(ve=>{if(Object(M.a)(ve.selectedOptions,Y,2)){const{options:Z,searcher:$}=ce[0];return this.lastShownSearchDetails=$,ve.loadInBackground?null:{options:Z}}return{selectedOptions:j(Y)}})}runBatchedSearch(ce){const ge=ce.slice(0,this.props.searchBatchSize);if(ce.length>1&&this.props.useBulkSearch){const Q=ge.some(z=>!!z.pasted),re=ge.some(z=>!!z.initial);return this.runSingleSearch({query:ge,pasted:Q,initial:re})}const be=ge.map(Q=>{let{query:re,queryId:z,pasted:Y,initial:ve}=Q;return this.runSingleSearch({query:re,queryId:z,pasted:Y,initial:ve})});return t.a.all(be)}runSingleSearch(ce){let{query:ge,queryId:be,pasted:Q,initial:re}=ce;const{onSearch:z,onSearchError:Y,processOptions:ve,searcherOptions:Z,selectId:$,useSearcherSessions:te,teamId:J,useBulkSearch:k}=this.props;let ae,Ee,_e=!1;const je=be||this.getQueryId(),Ue=new Map;if(Object(p.a)(ge)&&k?(ae=ge.map(Qe=>(Ue.set(Qe.queryId,Qe.query),{query:Object(C.b)(Qe.query,Z),queryId:Qe.queryId})),_e=!0):Ee=Object(C.b)(ge,Z),Ee&&z(ge)===!1)return ve([],Ee).then(Qe=>({queryId:je,options:Qe,searcher:this.lastShownSearchDetails}));let Ke;te&&(!Q||_e)?Ke=Object(R.a)({teamId:J,key:re?je:$}).search({query:_e?ae:Ee,options:{...Z,sort:{source:$,...Z.sort},returnMetadata:!0}}):Ke=this.props.search({query:_e?ae:Ee,options:{...Z,sort:{source:$,...Z.sort},returnMetadata:!0}});var ke=this;return Ke.then(function(){var Qe=Object(s.coroutine)(function*(Ze){ke.lastShownSearchDetails={query:_e?ae:Ee,results:Ze};const De=(Ze||[]).map((Je,Ot)=>{var ht;return{key:_e?Je.queryId:`${je}_${Ot}`,value:Je.item.id,label:Je.name||((ht=Je.item)===null||ht===void 0?void 0:ht.name)||(_e?Ue.get(Je.queryId):ge),entity:Je.item,matchData:Je.subqueryScoresByMember}}),{selectedOption:Fe}=ke.state;Ee===""&&Fe&&(Object(E.a)(De,["value",Fe.value])||De.unshift(Fe));const Ve=yield ve(De,ge,{pasted:Q});return{queryId:je,options:Ve,searcher:{...ke.lastShownSearchDetails,pasted:Q}}});return function(Ze){return Qe.apply(this,arguments)}}()).catch(Qe=>{X.error(`Error when searching for select id: ${$}, error: ${Qe}`),Y(Qe);const Ze=[];return{queryId:je,options:Ze,searcher:{query:_e?ae:Ee,results:Ze,pasted:Q,isError:!0}}})}searchQuery(ce){this._isMounted&&this.searchQueryObjects([{query:ce}])}searchQueryObjects(ce){if(Object(i.a)(ce))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:be,queryId:Q}=ce[0];this.searchPromise=this.runSingleSearch({query:be,queryId:Q}).then(re=>{let{options:z}=re;this.setSelectState(()=>({options:z})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(ce).then(be=>{let Q=be;this.props.useBulkSearch&&(Q=this.generateBulkSearchResultsArray(Q)),this.processSearchResults(Q);const re=Q.map(z=>{let{queryId:Y}=z;return Y});this.setState(z=>({pendingQueries:z.pendingQueries.filter(ve=>{let{queryId:Z}=ve;return!re.includes(Z)}),isLoading:!1}))});const ge=me.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:ce.length});this.updateAriaTextThrottled(ge)}updateAriaText(ce){this.setState(ge=>ge.ariaText===ce?null:{ariaText:ce})}updateDisabled(ce){this.setState(ge=>ge.isDisabled===ce?null:{isDisabled:ce})}generateBulkSearchResultsArray(ce){var ge;if(!(!(ce==null||(ge=ce.options)===null||ge===void 0)&&ge.length))return ce.splice(0);const{options:be,searcher:Q}=ce,{pasted:re,query:z,results:Y}=Q;return z.map(Z=>({options:be.filter($=>$.key===Z.queryId),queryId:Z.queryId,searcher:{pasted:re,query:Z.query,results:Y.filter($=>$.queryId===Z.queryId)}}))}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,ee({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),r.a.createElement(w.b,{message:this.state.ariaText}))}constructor(ce){super(ce),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:ge,searchOnPaste:be}=ce,Q=Object(b.a)(ge,z=>Object(N.e)(z));let re=[];be&&(re=Object(m.a)(Object(T.a)(Q,z=>!z.label||!z.queryId?null:{query:z.label,queryId:z.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:ce.isExpanded,selectId:ce.selectId,selectedOptions:ce.selectedOptions||[],selectedOption:ce.selectedOption||null,isRequired:ce.isRequired,isLoading:!1,isDisabled:ce.isDisabled,isInvalid:ce.isInvalid,pendingQueries:re||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!ce.showConfirmDialog,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:ce.restrictedSelectedTokenIndexes||[]},this.searchQuery=Object(v.a)(this.searchQuery,ce.debounceWaitPeriod),this.updateAriaTextThrottled=Object(S.a)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=ce.inputRef||r.a.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");ie.displayName="SearcherSelectWrapper",ie.propTypes=le,ie.defaultProps=de;const pe=h(q=>({clogger:Object(U.a)({state:q}),teamId:Object(D.h)(q),useSearcherSessions:Object(L.c)(q)}),"mapStateToProps"),ne={search:function(){for(var q=arguments.length,ce=new Array(q),ge=0;ge<q;ge++)ce[ge]=arguments[ge];return Object(B.F)(...ce)}};return Object(I.a)(pe,ne)(ie)}h(Oe,"withSearcher")},yuD6:function(H,n,e){"use strict";e.d(n,"d",function(){return t}),e.d(n,"a",function(){return a}),e.d(n,"c",function(){return r}),e.d(n,"b",function(){return l}),e.d(n,"e",function(){return o});var s=e("DwFS");const t=Object(s.a)("Sets the current loading state for a channel");t.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const a=Object(s.a)("Adds pinned item identifiers for files and messages to list of pinned items");a.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=Object(s.a)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const l=Object(s.a)("Clears the existing pinned items for a channel and sets the loading state");l.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const o=Object(s.a)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");o.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},yz5U:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("zxER"),r=e("/qcS"),l=e("FlEr"),o=e("DQKV"),i=e("Q755");function u(d){let{memberId:m,className:c,emojiSize:E,showTooltips:f,stopAnimations:O,text:p}=d;const b=Object(a.c)(T=>m?Object(l.a)(T,m):void 0);return p?t.a.createElement("span",{className:c,"data-qa":"custom_status_text"},t.a.createElement(o.a,{text:p,inputIsEscaped:!0,emojiSize:E||r.a.MEDIUM,showTooltips:!!f,stopAnimations:!!O,emojiDisplayInfo:b})):null}h(u,"CustomStatusText"),u.displayName="CustomStatusText",n.a=t.a.memo(u)},yzO5:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("/MKj"),r=e("zxER"),l=e("nNoG"),o=e("ktUG"),i=e("RVJP"),u=e("+kJ4"),d=e("Trx9"),m=e("PFo8"),c=e("vDCl"),E=e("WAPM");const f=new l.b("msg_input"),O={elementName:"learn_more",onClick:{enableClogAction:!0}},p=h(I=>{let{isScheduledMessage:_}=I;const M=Object(a.useDispatch)(),y=Object(s.useCallback)(()=>{M(Object(u.a)())},[M]);if(!Object(r.d)(N=>Object(i.d)(N,"upgrd_5684")==="on"))return null;const C=_?f.t("Message not scheduled"):f.t("Message not sent"),D=f.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":N=>{let{text:B}=N;return t.a.createElement(E.a,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:O,forceOpenInBrowser:!0},B)}});return t.a.createElement(d.a,{eventId:o.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:o.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.a.createElement(m.a,{"data-qa":"message-limit-error-modal",title:C,titleIcon:"warning",bodyContent:D,onRequestClose:y,theme:c.b.ERROR}))},"MessageLimitErrorModal");p.displayName="MessageLimitErrorModal";var b=p,T=e("SQ0V"),v=e("3l96");const S=Object(T.c)("Open modal when a message send fails due to team having hit the message limit",function(I,_){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I(Object(v.a)({element:t.a.createElement(b,M)}))});S.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};var A=n.a=S},"z/sp":function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("ZKjC"),t=e("UOL+"),a;const r=Object(s.b)(o=>{var i;return(a=(i=Object(t.a)(o))===null||i===void 0?void 0:i.messagePlaceholders)!==null&&a!==void 0?a:o==null?void 0:o.messagePlaceholders});var l;r.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:o=>{var i;return(l=(i=Object(t.a)(o))===null||i===void 0?void 0:i.messagePlaceholders)!==null&&l!==void 0?l:o==null?void 0:o.messagePlaceholders}}},zEKE:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("nNoG"),l=e("ktUG"),o=e("jWAO"),i=e("nFQW"),u=e("j/0O"),d=e("vDCl");const m=new r.b("upgrades_kit"),c={action:l.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:l.ElementType.X},E=h(O=>{let{className:p,iconType:b,customIcon:T,image:v,heading:S,children:A,onDismiss:I,useRoundedCorners:_=!0,showBorder:M=!0,size:y=d.a.MEDIUM,theme:j=d.b.PURPLE,"data-qa":C="",primaryCTA:D,secondaryCTA:N}=O;const B=h(()=>{let x;const G="p-upgrades_alert_banner__icon";return T?x=t.a.createElement("div",{className:G},T):v?x=t.a.createElement("div",{className:Object(a.default)(G,"p-upgrades_alert_banner__icon--image")},v):b&&(x=t.a.createElement(u.a,{className:G,size:y,theme:j,type:b})),x},"renderIcon");B.displayName="renderIcon";const L=h(()=>t.a.createElement(i.a,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":m.t("Dismiss",{fallbackHash:"70afe9eff3f2888493d9b5169fec8331af1810de",fallbackHashNs:"trials_highlight_paid_features"}),onClick:I,autoClogProps:c}),"renderCloseIcon");L.displayName="renderCloseIcon";const R=h(()=>!D&&!N?null:t.a.createElement("div",{className:"p-upgrades_alert_banner__button_container"},D,N),"renderButtons");R.displayName="renderButtons";const U=B(),W=Object(a.default)("p-upgrades_alert_banner",`p-upgrades_alert_banner--${y}`,`p-upgrades_alert_banner--${j}`,p,{"p-upgrades_alert_banner--with_close_icon":!!I,"p-upgrades_alert_banner--rounded_corners":_,"p-upgrades_alert_banner--no_border":!M,"p-upgrades_alert_banner--with_image":!!v});return t.a.createElement("div",{className:"full_width"},t.a.createElement(o.d,{className:W,"data-qa":C,customIcon:U,heading:S,type:U?o.c.boxed:o.c.custom},t.a.createElement("div",{className:"p-upgrades_alert_banner__body"},A),R(),I&&L()))},"AlertBanner");E.displayName="AlertBanner";var f=n.a=E},zIak:function(H,n,e){"use strict";e.d(n,"a",function(){return s});function s(t){const a=h(()=>{window.Cypress||t()},"unloadHandler");window.addEventListener("beforeunload",a)}h(s,"addUnloadHandler")},zKNY:function(H,n,e){H.exports=e.p+"slackbot_fancy_24-e726b64.png"},zMr6:function(H,n,e){"use strict";e.d(n,"d",function(){return I}),e.d(n,"a",function(){return M}),e.d(n,"c",function(){return L}),e.d(n,"b",function(){return R});var s=e("ISSR"),t=e("vfvl"),a=e("Yauy"),r=e("pZC0"),l=e("E97Y"),o=e("G0eX"),i=e("beVI"),u=e("hjzp"),d=e("dmdh"),m=e("P9LH"),c=e("E3dU"),E=e("nHh1"),f=e("2jZb");const O={name:"archive"},p={name:"archive",variation:"filled"},b={name:"edit"},T={name:"edit",variation:"filled"},v={name:"file"},S={name:"lists"},A={name:"lock"},I={name:"lock",variation:"filled"},_={name:"channel"},M={name:"channel",variation:"filled"},y={name:"canvas"},j={name:"sf-opportunity",variation:"filled"},C={name:"sf-account",variation:"filled"},D={name:"sf-case",variation:"filled"},N={name:"sf-lead",variation:"filled"},B={name:"sf-cloud",variation:"filled"};function L(U){switch(U){case E.b.Opportunity:return j;case E.b.Account:return C;case E.b.Lead:return N;case E.b.Case:return D;default:return B}}h(L,"getIconPropsFromRecordType");function R(U,W){let{filled:x,bold:G,disableArchived:w,showDraftIcon:se}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const ee=Object(i.g)(U)||Object(i.o)(U),X=Object(o.n)(ee);if(!Object(t.b)(X,W)&&(Object(s.a)(W)&&!w||Object(t.a)(W)))return x?p:O;if(se&&Object(a.v)(U,W.id))return x?T:b;if(Object(r.a)(W)){const me=Object(d.e)(U,Object(u.b)(W.id));if(Object(m.u)(me))return y;if(Object(m.h)(me)){const Oe=Object(c.f)(U,me.id),Ce=Object(c.d)(U,Oe);return Object(l.k)(Ce)||Object(l.h)(Ce)?x?I:A:y}return Object(m.o)(me)?S:v}if(Object(l.n)(W)){const me=Object(f.c)(W);return L(me)}return Object(l.k)(W)?x?I:A:G?M:_}h(R,"getChannelIconType")},zNRp:function(H,n,e){"use strict";e.d(n,"a",function(){return o});var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("Tsh7");function l(){return l=Object.assign||function(m){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var f in E)Object.prototype.hasOwnProperty.call(E,f)&&(m[f]=E[f])}return m},l.apply(this,arguments)}h(l,"_extends");const o={transparent:"transparent",black:"black",red:"red",white:"white",blue:"blue",minGray:"min_gray",minGrayDarken:"min_gray_darken",themed:"themed"},i=h((m,c)=>m>c?`${c}+`:String(m),"getCountText"),u=h(m=>{let{className:c,count:E,maxCount:f=9,style:O="black",toolTipText:p=""}=m;if(!E||E<0)return null;const b=p?r.d:t.a.Fragment,T=p?{tip:p}:{};return t.a.createElement(b,l({},T),t.a.createElement("span",{"aria-hidden":"true",className:Object(a.default)(c,"c-mention_badge",`c-mention_badge--${O}`,{"c-mention_badge--max":E>f},p&&"c-mention_badge--default"),"data-qa":"mention_badge"},i(E,f)))},"MentionBadge");u.displayName="MentionBadge";var d=n.b=t.a.memo(u)},zUbs:function(H,n,e){"use strict";var s=e("q1tI"),t=e.n(s),a=e("BHdc"),r=e("ww7Y"),l=e("CD4m"),o=e("i2F6"),i=e("BJra"),u=e("zxER"),d=e("K2b1"),m=e("RVJP");function c(){return c=Object.assign||function(p){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var v in T)Object.prototype.hasOwnProperty.call(T,v)&&(p[v]=T[v])}return p},c.apply(this,arguments)}h(c,"_extends");const E=new d.b("inline_member");function f(p){const{className:b,multiline:T=!1,inline:v=!1,invert:S=!1,name:A,isSelf:I=!1,isAppOrBot:_=!1,isWorkflowBot:M=!1,showAppOrBotBadge:y=!0,isDeleted:j=!1,isUnknown:C=!1,isNonExistent:D=!1,withTruncationTooltip:N=!1,isBold:B=!0,isUserHidden:L=!1,isChannelFiles:R=!1,showMemberNameIfHidden:U=!1}=p,W=Object(u.d)(se=>Object(m.d)(se,"member_name_channel_files_view_two")==="on");let x;C||D?x=t.a.createElement(o.a,{type:D?"non-existent":"unknown","data-qa":"member_name__missing"}):L&&!U?x=E.t("Name hidden"):R?x=W?E.rt("Shared by {name}",{name:A}):"":x=A;const G=Object(a.default)(b,"c-member_name",{"c-member_name--deactivated":j,"c-member_name--inverted":S}),w=B?"strong":"span";return t.a.createElement(l.c,c({className:G,multiline:T,inline:v,withTruncationTooltip:N},Object(i.a)(p)),t.a.createElement(w,{"data-qa":"member_name"},x,I&&t.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},E.t("(you)")),j&&t.a.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},E.t("(deactivated)")),(_||M)&&y&&t.a.createElement(r.a,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:S,isWorkflow:M})))}h(f,"MemberName"),f.displayName="MemberName";var O=n.a=f},zwKj:function(H,n,e){"use strict";e.d(n,"a",function(){return r});var s=e("zmn3"),t=e("C3vN"),a=e("52Wj");const r=h((l,o,i)=>{const{app_card_color:u,app_user_id:d,auth:m,bot_user:c,config:E,commands:f,config_url:O,enterprise_id:p,desc:b,icons:T,id:v,is_directory_published:S,is_directory_approved:A,is_slack_integration:I,is_distributed:_,is_xoxa_app:M,is_workflow_app:y,long_desc:j,long_desc_formatted:C,org_status:D,name:N,support_url:B,team_id:L,screenshots:R,url:U,youtube_url:W,is_installed:x,sales_home_workflow_app_type:G}=o;let w="xoxp";M?w="xoxa":E&&E.is_custom_integration?w="custom_integration":I&&(w="slack");let se=!0,ee=!1;E?(parseInt(E.date_deleted,10)!==0&&(ee=!0,se=!1),parseInt(E.date_deleted,10)!==0&&(se=!1),E.is_active<1&&(se=!1)):m?m.revoked&&(se=!1):se=!1;let X=null;E&&E.created_by&&(X=E.created_by),m&&m.created_by&&(X=m.created_by);const me=f?Object(s.a)(f,q=>({name:q.name,usage:q.usage,description:q.desc})):null;let Oe=null;M?Oe={id:d,username:N}:c?Oe={id:c.id,username:c.username}:Object(t.fb)(i)||(Oe={id:i.id,username:Object(a.b)(i)});let Ce=N;E&&(E.real_name?Ce=E.real_name:E.username&&(Ce=E.username));let le=b;E&&E.descriptive_label&&(le=E.descriptive_label);let de=T;E&&E.icons&&(de=E.icons);const ie=c&&c.memberships_count||null,pe=E&&E.custom_integration_type||null,ne=E&&E.date_created||null;return{app_id:v,home_workspace_id:L,home_enterprise_id:p,service_id:l,config_url:O,app_type:w,is_workflow_app:y,sales_home_workflow_app_type:G,org_status:D,profile:{name:Ce,color:u||void 0,description:j,formattedDescription:C,tagline:le,icons:de,custom_integration_type:pe},directory_profile:{screenshots:R,youtube_url:W,home_url:U,support_url:B,is_distributed:_,is_published:S,is_approved:A},installation:{installer_user_id:X,is_active:se,is_deleted:ee,memberships_count:ie,date_created:ne,is_installed:x},app_user:Oe,commands:me,legacy_app:o}},"buildAppProfileFromLegacyEndpoint")}},[["edAB","gantry-v2-manifest","gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"]]]);})();
