(()=>{var Vi=Object.defineProperty;var s=(w,p)=>Vi(w,"name",{value:p,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-channel-view"],{"+ZQ6":function(w,p,e){"use strict";e.d(p,"a",function(){return t});const a=/^@?V[A-Z0-9]{8,}$/;function t(m){return m?a.test(m):!1}s(t,"looksLikeViewId")},"+l1W":function(w,p,e){w.exports=e.p+"nfx-welcome-modal-ko-KR-36126cb.gif"},"0AcQ":function(w,p,e){"use strict";e.d(p,"a",function(){return f}),e.d(p,"c",function(){return l}),e.d(p,"d",function(){return g}),e.d(p,"b",function(){return j});var a=e("Lgge"),t=e("n3tL"),m=e("2XU3"),O=e("WCk1"),i=e("zFGr"),v=e("417x"),T=e("6Rx/"),I=e("s4P+"),r=e("RVJP");const E=1e4,y=15e3,f={internalError:"internal_error",validationFailed:"validation_failed"},l=Object(O.a)("get the contents of an app view",(_,A,Y)=>{if(!Y)return a.a.reject();const N=_(Object(m.apiCall)({method:"views.get",reason:"fetchView",args:{view_id:Y}})).then(S=>{let{view:V}=S;return Object(v.b)(V)});return Object(T.b)(N,E)});l.meta={name:"createFetcher",key:"createFetcherfetchView",description:"get the contents of an app view"},l.propTypes=t.default.string;const g=Object(O.a)("submit an app view dialog",function(_,A){let{viewId:Y,state:N}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Y||!N)return a.a.reject();const S=i.a.generateAndEnqueue(A()),J=Object(r.d)(A(),"views_submit_increased_timeout")==="on"?y:E;let G={};try{G={client_token:S,view_id:Y,state:JSON.stringify(N)}}catch(u){Object(I.b)().error(`Unable to stringify state for views submit payload. ${u}`)}const C=_(Object(m.apiCall)({method:"views.submit",reason:"submit-view",args:G})).then(u=>{let{view:d,response_action:h}=u;return{updatedView:Object(v.b)(d),responseAction:h}});return Object(T.b)(C,J)});g.meta={name:"createFetcher",key:"createFetchersubmitView",description:"submit an app view dialog"},g.propTypes={viewId:t.default.string.isRequired,state:t.default.object.isRequired};const j=Object(O.a)("delete an app view",(_,A,Y)=>{let{viewId:N,rootViewId:S}=Y;if(!N)return a.a.reject();const J={client_token:i.a.generateAndEnqueue(A()),view_id:N,root_view_id:S},G=_(Object(m.apiCall)({method:"views.close",reason:"close-view",args:J}));return Object(T.b)(G,E)});j.meta={name:"createFetcher",key:"createFetcherdeleteView",description:"delete an app view"},j.propTypes={viewId:t.default.string.isRequired,rootViewId:t.default.string}},"0Dj7":function(w,p,e){w.exports=e.p+"sidebar-profile-pictures-hide-90fff6b.png"},"0KGW":function(w,p,e){w.exports=e.p+"animation-show-47e578a.png"},"17wV":function(w,p,e){w.exports=e.p+"nfx-welcome-modal-ja-JP-fe83200.gif"},"1ILc":function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("Cfcg"),O=e("ifKl"),i=e("BHdc"),v=e("WIr4"),T=e("vSIF"),I=e("ktUG"),r=e("gq0b"),E=e("2vQQ"),y=e("fLNI"),f=e("n3tL"),l=e("1Mid"),g=e("G7Ae"),j=e("kBpe"),_=e("nNoG"),A=e("nWdO"),Y=e("Te+D"),N=e("6R8Z"),S=e("oEDn"),V=e("HKlo"),J=e("GJt6"),G=e("y8m0"),C=e("zlyu"),u=e("RUo5"),d=e("DPHH"),h=e("spq4"),D=e("SQ0V"),F=e("JoR1"),x=e("T1zM"),te=e("vya+");const H=new te.a("seen_floating_sidebar_coachmark"),X=Object(D.c)("Mark the floating sidebar coachmark as seen via pref and localStorage",(M,L)=>{const B=L();Object(F.t)(B,"seen_floating_sidebar_coachmark")||M(Object(x.f)({pref:"seen_floating_sidebar_coachmark",value:!0})),H.get()!=="true"&&H.set("true")});X.meta={name:"createThunk",key:"createThunksetCoachmarkSeen",description:"Mark the floating sidebar coachmark as seen via pref and localStorage"};const re=s(M=>{const L=Object(F.t)(M,"seen_floating_sidebar_coachmark"),B=H.get()==="true";return L||B},"getCoachmarkSeen"),je={resetLS:()=>{H.remove()}},ie=new _.b("classic_nav"),ve={children:f.default.node,isSidebarVisible:f.default.bool,seenCoachmark:f.default.bool,featureIaLayout:f.default.bool,dispatch:f.default.func.isRequired},ne={children:void 0,isSidebarVisible:!0,seenCoachmark:!1,featureIaLayout:!1},Z=s(M=>{let{children:L,dispatch:B,isSidebarVisible:ue,seenCoachmark:xe,featureIaLayout:$e}=M;const Ue=Object(a.useCallback)(()=>{B(X())},[B]);if(Object(a.useEffect)(()=>{(!ue||xe)&&B(X())},[B,ue,xe]),!$e||!ue||xe)return L;const et=ie.t("Your sidebar has been minimized"),lt=ie.rt('This will give you a bit more room on your screen when your window is small. Click the <span class="no_wrap">sidebar icon {icon}</span> or <span class="no_wrap">hit {shortcut}</span> to open the sidebar when you need it. Or, just make your window a bit bigger.',{icon:t.a.createElement(S.a,{type:"side-panel",size:"inherit",className:"p-ia__view_header__sidebar_toggle_button_icon nudge_top_1"}),shortcut:t.a.createElement(t.a.Fragment,null,t.a.createElement(d.a,{label:d.b.CmdOrCtrl,slim:!0}),t.a.createElement(d.a,{label:"Shift",slim:!0}),t.a.createElement(d.a,{label:"D",slim:!0}))}),ht=t.a.createElement(C.a,{coachmarkClassNames:"p-floating_sidebar_coachmark",primaryCallToActionText:ie.t("Got it"),arrowPosition:null,offsetX:-10,isOpen:!0,closeCoachmark:Ue,onClickPrimaryButton:Ue,isMegaphoneCoachmark:!1},t.a.createElement("h3",{className:"p-floating_sidebar_coachmark__title"},et),t.a.createElement("p",{className:"p-floating_sidebar_coachmark__body"},lt));return t.a.createElement(u.b,{orientation:"bottom",coachmarkElement:ht},L)},"FloatingSidebarCoachmark");Z.displayName="FloatingSidebarCoachmark",Z.propTypes=ve,Z.defaultProps=ne;const ae=s(M=>({seenCoachmark:re(M),isSidebarVisible:Object(G.c)(M),featureIaLayout:Object(h.a)(M)}),"mapStateToProps");var se=Object(m.a)(ae)(Z);const fe=new _.b("classic_nav"),Ie={uiStep:I.UiStep.VIEW_HEADER_SIDEBAR_TOGGLE,onClick:{enableClogAction:!0}},ye={hasUnreads:f.default.bool,totalUnreadHighlights:f.default.number,isSidebarOpen:f.default.bool.isRequired,onSidebarToggle:f.default.func.isRequired,hideBadge:f.default.bool},De={hasUnreads:!1,totalUnreadHighlights:0,hideBadge:!1};function Ae(M){let{hasUnreads:L,totalUnreadHighlights:B,isSidebarOpen:ue,onSidebarToggle:xe,hideBadge:$e}=M;const Ue=Object(a.useRef)(null);let et=null;const lt=Object(a.useCallback)(()=>{var Ca;(Ca=Ue.current)===null||Ca===void 0||Ca.focus()},[Ue]);Object(J.a)(V.c.VIEW_HEADER_SIDEBAR_TOGGLE,lt),!$e&&(L||B>0)&&(et=t.a.createElement("div",{className:Object(i.default)("p-team_sidebar__unread_dot p-ia__view_header__sidebar_toggle_dot",{"p-ia__view_header__sidebar_toggle_dot--mentions":B>0})}));const ht=Object(a.useMemo)(()=>[Object(j.p)()?"\u2318":"Ctrl","Shift"],[]);let Ot;return ue?Ot=fe.t("Close workspace navigation"):Ot=fe.t("Open workspace navigation"),t.a.createElement(se,null,t.a.createElement(A.c,{tip:t.a.createElement(Y.a,{title:Ot,mainKey:"D",modifiers:ht})},t.a.createElement(N.a,{ref:Ue,className:"p-ia__view_header__sidebar_toggle_button",onClick:xe,autoClogProps:Ie,"aria-label":Ot},t.a.createElement(S.a,{type:"side-panel",className:"p-ia__view_header__sidebar_toggle_button_icon"}),et)))}s(Ae,"SidebarToggleButton"),Ae.displayName="SidebarToggleButton",Ae.propTypes=ye,Ae.defaultProps=De;const qe=s(M=>({totalUnreadHighlights:Object(g.a)(M),hasUnreads:Object(l.m)(M)}),"sidebar_toggle_button_mapStateToProps");var Et=Object(m.a)(qe)(Ae),Ne=e("TUDT"),tt=e("RVJP"),ta=e("uZL6"),ct=e("E3dU"),kt=e("ISSR"),xt=e("IXzp"),Be=e("FVdo"),Bt=e("Yv4i"),Zt=e("9MPI"),Ut=e("Yauy"),Da=e("XXd4"),ia=e("QcWC"),Xt=Object(ta.a)(M=>Object(tt.d)(M,"adoption_instant_slack")==="treatment",M=>Object(tt.d)(M,"adoption_instant_slack_move_session")==="on",M=>Object(ia.a)(M),(M,L)=>{const B=Object(Zt.a)(M,L==null?void 0:L.id,Bt.a);return B==null?void 0:B.enabled},(M,L)=>!Object(Da.a)(M,L),(M,L)=>Object(Ut.db)(L),(M,L,B,ue,xe,$e)=>({experimentAdoptionInstantSlackGroupTreatment:M,experimentAdoptionInstantSlackMoveSessionGroupOn:L,isInstantSlackInviteeSession:B,isInstantSlackChannel:ue,isHostTeam:xe,isChannelMember:$e})),Ka=e("3vtZ"),aa=e("rZ8V"),vt=e("PX9a"),Ge=e("AxFX"),He=e("EAKl"),me;(function(M){M.AvatarStack="avatar_stack",M.ShareQuip="share_quip",M.QuipDivider="quip_divider",M.CloseQuip="close_quip",M.CloseTile="close_tile",M.Call="call",M.RefreshAllUnreads="refresh_all_unreads",M.DetachedWindow="detached_window",M.ChannelSpace="channel_space",M.InstantSlackEndConversation="instant_slack_end_conversation",M.InstantSlackSaveConversation="instant_slack_save_conversation",M.Huddle="huddle",M.RecordChannel="record_channel",M.SummarizeChannel="summarize_channel"})(me||(me={}));var zt=Object(ta.a)((M,L)=>{let{id:B}=L;return Object(Be.b)(M,B)},(M,L)=>{let{id:B}=L;return Object(kt.a)(Object(ct.d)(M,B))},(M,L)=>{let{id:B}=L;return Object(xt.h)(M,Object(ct.d)(M,B))},(M,L)=>{let{id:B}=L;return Xt(M,Object(ct.d)(M,B)||void 0)},(M,L)=>{let{id:B}=L;return Object(aa.o)(M)&&Object(Ka.e)(M,Object(ct.d)(M,B))},M=>Object(xt.f)(M),M=>Object(aa.o)(M),(M,L)=>{let{id:B}=L;return Object(vt.a)(M)&&Object(Ge.a)(B)},M=>Object(He.c)(M),(M,L,B,ue,xe,$e,Ue,et,lt)=>{const ht=[],Ca=[Be.a.Channel,Be.a.MPDM,Be.a.DM].includes(M);if(M===Be.a.Unknown)return[];const{isChannelMember:fa,isHostTeam:ra,experimentAdoptionInstantSlackGroupTreatment:Ta,experimentAdoptionInstantSlackMoveSessionGroupOn:an,isInstantSlackChannel:on,isInstantSlackInviteeSession:xa}=ue;(M===Be.a.Channel||M===Be.a.MPDM)&&!L&&!xa&&Ue&&ht.push(me.AvatarStack),xe&&ht.push(me.Huddle);const Pn=B&&(Ue||M!==Be.a.Channel)&&$e&&!xe;!Ca&&Pn&&ht.push(me.Call),M===Be.a.Channel&&Ta&&fa&&ra&&on&&ht.push(me.InstantSlackEndConversation);const An=M===Be.a.Channel&&xa&&on;return an&&An&&ht.push(me.InstantSlackSaveConversation),(M===Be.a.Channel||M===Be.a.MPDM)&&!L&&!xa&&!Ue&&ht.push(me.AvatarStack),lt&&(M===Be.a.Channel||M===Be.a.MPDM||M===Be.a.DM)&&ht.push(me.SummarizeChannel),Ca&&(Pn&&ht.push(me.Call),ht.push(me.ChannelSpace)),M===Be.a.Doc&&ht.push(me.ShareQuip),M===Be.a.Channel&&et&&ht.push(me.RecordChannel),ht[ht.length-1]===me.QuipDivider&&ht.pop(),ht}),It=e("orxu"),_t=e("Wn1n"),jt=e("Trx9"),nt=e("zheW"),Ea=e("6OGp"),dt=e("HkGY"),Je=e("nFQW"),we=e("CnKg"),ot=e("IlkI"),Yt=e("iLjr"),Ee=e("c+5m"),Dt=e("ohbk"),St=e("4KfL"),W=e("zxER"),ee=e("/MKj"),le=e("tYiI"),We=e("t0jf"),Ze=e("gVOt"),Pt=e("P9LH"),bt=e("gWIG"),la=e("Bz4R"),Ia=e("lpXb"),Fa=e("NK7x"),_a=e("dmdh"),ja=e("ZobM"),Sa=e("Tsh7"),ga=e("AwEi"),Qt=e("/qcS"),nn=e("9WTs"),Va=e("yz5U"),Ye=e("ItXa"),Jt=e("1DMY"),q=e("sgFo"),ma=e("LRQ2"),cn=e("W7ht"),Ga=e("5BbJ"),wa=e("wY8X"),At=e("ApMV"),qa=e("ZlCs"),Nn=e("RcBX"),fn=e("pFNT"),ka=e("g/kD"),za=e("rYD8");function In(M){let{id:L}=M;const B=Object(W.d)($e=>Object(ct.d)($e,L)),ue=Object(Ze.a)(B),xe=Object(Nn.a)(B);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-view_header__avatar"},t.a.createElement(fn.c,{userId:ue,size:fn.a.small,showBadge:!1,isInteractive:!1,showPresence:!0})),t.a.createElement("span",{className:"p-view_header__truncated_text"},t.a.createElement(za.a,{className:"p-view_header__member_name",id:ue,showMemberNameIfHidden:!0})),xe&&t.a.createElement(S.a,{inline:!0,type:"hourglass","data-qa":"view_header_pending_icon"}),t.a.createElement(ka.a,{memberId:ue,className:"p-view_header__custom_status",noText:!0,tooltip:!1}))}s(In,"DMTitle"),In.displayName="DMTitle";var Xa=In,Ya=e("KuM7"),Oa=e("cd9r"),Os=e("vJtL"),Dn=e("fujP");const bn=new _.b("classic_nav"),_n=s(()=>t.a.createElement("div",{className:"p-ia__view_header__title","data-qa":"ia_view_header_threads"},bn.t("Threads")),"AllThreadsHeader");_n.displayName="AllThreadsHeader";var mn=_n;function un(M){let{id:L}=M;const B=Object(r.b)(L),ue=Object(W.d)(xe=>Object(Os.a)(B==null?void 0:B.label)?B==null?void 0:B.label(xe):void 0);return L==="Vall_threads"?t.a.createElement(mn,null):Object(Dn.a)(B)?null:B.header?t.a.createElement(t.a.Fragment,null,B.header({className:"p-ia__view_header__page_header"})):t.a.createElement("span",{className:"p-view_header__truncated_text"},ue)}s(un,"PageTitle"),un.displayName="PageTitle";var Un=un,ze=e("qDEp"),ce=e("c+dP"),Le=e("oHyA"),Ke=e("G0eX"),at=e("Skui"),ua=e("Atq3");const Pa=new _.b("menu"),Ba=s(M=>{let{item:L,dispatch:B,externalWorkspace:ue,canCurrentUserOpenCommunityAdminDashboard:xe,canUserCreateSlackConnectWorkspaceInvites:$e,communityAdminDashboardUrl:Ue,window:et,dataQa:lt}=M;const ht=Object(_.k)(Object(Ke.h)(ue));switch(L){case"manage_external_workspace":return xe?Ue?[{label:Pa.t("{workspaceName} settings",{workspaceName:ht,fallbackHash:"9c220124d82344bb7bf9174a734cea9ed4c874c8",fallbackHashNs:"channel_browser_coachmark"}),click:()=>et.open(Ue,"_blank"),dataQa:lt}]:[]:[];case"invite_to_slack_connect_workspace":return $e?[{label:Pa.t("Invite to {workspaceName}",{workspaceName:ht,fallbackHash:"043411a603bd482314a747b007288b6f05b02133"}),click:()=>B(Object(Le.a)({id:ue.id})),dataQa:lt}]:[];case"leave_slack_connect_workspace":return[{label:Pa.t("Leave {workspaceName}",{workspaceName:ht,fallbackHash:"e2e431541ff5e3b1cc21bc4723ae1c7ebf65e2e5"}),click:()=>B(Object(at.a)({id:ue.id})),danger:!0,dataQa:lt}];default:return Object(ua.a)(L)}},"getExternalWorkspaceActionMenuItems");var Mt=e("i2Y+"),$t=e("3S9f"),Rt=e("beVI"),Cn=e("WSQ4");function Qn(){return Qn=Object.assign||function(M){for(var L=1;L<arguments.length;L++){var B=arguments[L];for(var ue in B)Object.prototype.hasOwnProperty.call(B,ue)&&(M[ue]=B[ue])}return M},Qn.apply(this,arguments)}s(Qn,"_extends");const gn=["manage_external_workspace","invite_to_slack_connect_workspace","leave_slack_connect_workspace"],cs=s(M=>{let{workspaceId:L,...B}=M;const ue=Object(ee.useDispatch)(),xe=Object(W.d)(Ot=>Object(Mt.a)(Ot,L)),$e=Object(W.d)(Ot=>Object($t.a)(Ot,L)),Ue=Object(W.d)(Ot=>Object(Rt.e)(Ot,L)),et=Object(W.d)(Ot=>Object(Rt.s)(Ot,L)),{window:lt}=Object(a.useContext)(Cn.a);if(!et)return null;const ht=gn.map(Ot=>Ba({item:Ot,dispatch:ue,externalWorkspace:et,canCurrentUserOpenCommunityAdminDashboard:xe,canUserCreateSlackConnectWorkspaceInvites:$e,communityAdminDashboardUrl:Ue,window:lt})).flat();return t.a.createElement(ce.a,Qn({},B,{template:ht}))},"ExternalWorkspaceActionsMenu");cs.displayName="ExternalWorkspaceActionsMenu";var Es={actionsIcon:"actionsIcon__GwRx7"};function ds(){return ds=Object.assign||function(M){for(var L=1;L<arguments.length;L++){var B=arguments[L];for(var ue in B)Object.prototype.hasOwnProperty.call(B,ue)&&(M[ue]=B[ue])}return M},ds.apply(this,arguments)}s(ds,"workspace_title_extends");const bs=new _.b("view-header"),es=s(M=>{let{id:L}=M;const B=Object(a.useCallback)(ue=>t.a.createElement(cs,ds({workspaceId:L},ue)),[L]);return t.a.createElement(t.a.Fragment,null,bs.rt("Welcome",{fallbackHash:"ca4f9dcf204e2037bfe5884867bead98bd9cbaf8",fallbackHashNs:"enterprise_dashboard"}),t.a.createElement("div",{className:"p-ia__view_header__spacer"}),t.a.createElement(ce.e,{renderMenu:B,position:"bottom-left"},t.a.createElement(ze.d,{className:Es.actionsIcon},t.a.createElement(ja.a,{name:"ellipsis-vertical",size:"20"}))))},"WorkspaceTitle");es.displayName="WorkspaceTitle";var Fn=e("+gmx");const Jn={CHANNEL_NAME_BUTTON:"channel_name_button",CHANNEL_NAME:"channel_name"},rn=new _.b("channel_details"),Wn={uiStep:I.UiStep.VIEW_HEADER_BIG_BUTTON_CLICK,onClick:{enableClogAction:!0}};function en(M){let{id:L,displayName:B,teamName:ue,topic:xe,customStatusText:$e,customStatusEmoji:Ue,huddleChannelId:et,viewType:lt,isMuted:ht,memberIdFromIm:Ot,file:Ca,isTemplate:fa,shoutyWorkspaceNameIsEnabled:ra,experimentShoutyWorkspaceNamePrefGroupOn:Ta}=M;const an=Object(W.d)(q.R),on=Object(ee.useDispatch)(),xa=Object(a.useCallback)(()=>{on(Object(nn.a)({id:L}))},[on,L]),[Pn,Vn]=Object(a.useState)(!1),An=Object(a.useCallback)(yn=>{Vn(yn)},[Vn]),Ms=Object(W.d)(yn=>Object(He.m)(yn)?Object(Fn.E)(yn,{channelId:L}):!1);let is=null;Ms?is=t.a.createElement("span",{className:"p-view_header__digest_icon"},t.a.createElement(ja.a,{size:"inherit",inline:!0,name:"sparkles"})):ht&&(is=t.a.createElement(S.a,{className:"p-view_header__bell",type:"bell-slash",size:"inherit"}));let hn,Ns=B;switch(lt){case Be.a.Channel:hn=t.a.createElement(qa.a,{id:L,onTruncate:An,hideTitleSuffix:!0,inViewHeader:!0});break;case Be.a.DM:hn=t.a.createElement(Xa,{id:L,statusEmoji:Ue}),$e&&(Ns=`${B} ${Ue} ${$e}`);break;case Be.a.MPDM:hn=t.a.createElement(Ya.a,{id:L,shouldTruncate:!0,showTooltip:!0});break;case Be.a.App:hn=t.a.createElement(Oa.a,{id:L});break;case Be.a.Page:hn=t.a.createElement(Un,{id:L});break;case Be.a.Doc:hn=t.a.createElement(At.a,{id:L,showFallbackView:!0});break;case Be.a.AboutWorkspace:hn=t.a.createElement(es,{id:L});break;case Be.a.Unknown:default:hn=t.a.createElement("span",{className:"p-view_header__unknown"});break}const En=lt===Be.a.Channel||lt===Be.a.DM||lt===Be.a.MPDM||lt===Be.a.App&&!Object(le.a)(L),$n=Object(a.useCallback)(yn=>{let{children:qn}=yn;return En?t.a.createElement(Jt.a,{header:!0,id:L},qn):qn},[En,L]);if(lt===Be.a.Doc&&!Object(Pt.Yb)(Ca,{includeTempQuipDocs:!0}))return null;if(En){const yn=t.a.createElement(N.a,{"aria-label":Ns,onClick:xa,className:Object(i.default)("p-view_header__big_button",`p-view_header__big_button--${lt}`),autoClogProps:Wn,"data-qa":Jn.CHANNEL_NAME_BUTTON},t.a.createElement("div",{className:"p-view_header__title","data-qa":Jn.CHANNEL_NAME},hn,is,t.a.createElement("div",{className:"align_self_center margin_right_25_negative"},t.a.createElement(ja.a,{name:"caret-down"}))));if($e||Ue||et){let ls;return($e||Ue)&&(ls=t.a.createElement(t.a.Fragment,null,Ue&&Ot&&t.a.createElement(wa.a,{emoji:Ue,memberId:Ot,emojiSize:Qt.a.SMALL,showTooltips:!1}),$e&&Ot&&t.a.createElement(Va.a,{memberId:Ot,className:"c-custom_status__tooltip margin_left_25",emojiSize:Qt.a.SMALL,text:$e}),t.a.createElement(Ye.a,{className:"c-custom_status__expiration",memberId:Ot}))),an&&et&&(ls=t.a.createElement(t.a.Fragment,null,t.a.createElement(cn.a,{channelId:et}),t.a.createElement(ma.a,{channelId:et,className:"c-custom_status__tooltip margin_left_25"}))),t.a.createElement($n,null,t.a.createElement(Sa.d,{tip:ls,position:"top",maxWidth:"large",delay:0},yn))}let qn=null;const Za=Ta&&ra;if(Ta&&ra&&(qn=rn.rt("{channelName} is in<br></br>{workspaceName}",{channelName:B,workspaceName:ue})),lt===Be.a.Channel&&B){const ls=t.a.createElement("div",{className:Object(i.default)("p-view_header__big_button__tooltip",{"p-view_header__big_button__tooltip--centered":Za})},t.a.createElement("div",{className:"p-view_header__big_button__tooltip_header"},rn.t("Get channel details",{fallbackHash:"c24b99e67159d5644446fa5eefb7b4f48c179889",fallbackHashNs:"menu"})),Za&&t.a.createElement("span",{className:"p-view_header__big_button__tooltip_subheader"},qn),Pn&&!Za&&t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-view_header__big_button__tooltip_name"},B),xe&&t.a.createElement("div",{className:"p-view_header__big_button__tooltip_topic"},t.a.createElement(ga.a,{noSpecials:!0,noLinking:!0,text:xe}))));return t.a.createElement($n,null,t.a.createElement(Sa.d,{tip:ls,position:"bottom",maxWidth:"large",delay:Sa.a},yn))}return t.a.createElement($n,null,yn)}return t.a.createElement("div",{className:Object(i.default)("p-view_header__big_button--inactive",`p-view_header__big_button--${lt}`,"p-view_header__big_button",{"p-view_header__big_button--template":fa})},t.a.createElement("div",{className:"p-view_header__title","data-qa":Jn.CHANNEL_NAME},hn))}s(en,"ViewHeaderBigButton"),en.displayName="ViewHeaderBigButton";const Zn=s((M,L)=>{let{id:B}=L;var ue;const xe=Object(ct.d)(M,B),$e=Object(Be.b)(M,B),Ue=$e===Be.a.Channel||$e===Be.a.DM||$e===Be.a.MPDM;let et,lt,ht,Ot;$e===Be.a.DM&&(et=Object(Ze.a)(xe),lt=et?Object(la.a)(M,et):void 0,ht=et?Object(bt.a)(M,et):void 0,Ot=et?Object(Ia.a)(M,et):void 0);let Ca,fa;if($e===Be.a.Doc){const on=Object(we.i)(B).fileIdOrQuipThreadId;Ca=on?Object(_a.e)(M,on):void 0,fa=Object(Pt.wb)(Ca,M)}const ra=Object(We.a)(M,{channel:xe}),Ta=Object(Ga.a)(M,{channel:xe,xwsAlpha:!0});var an;return{displayName:Ue&&(an=Object(Ut.t)(M,xe,{imIncludeAtSign:!1}))!==null&&an!==void 0?an:"",teamName:Ta,topic:xe==null||(ue=xe.topic)===null||ue===void 0?void 0:ue.value,customStatusText:lt,customStatusEmoji:ht,huddleChannelId:Ot,viewType:$e,isMuted:Object(Fa.b)(M,B),memberIdFromIm:et,file:Ca,isTemplate:fa,shoutyWorkspaceNameIsEnabled:ra,experimentShoutyWorkspaceNamePrefGroupOn:Object(tt.d)(M,"shouty_workspace_name_pref")==="on"}},"view_header_big_button_mapStateToProps");var ms=Object(m.a)(Zn)(en),Tn=e("CMvH"),xs=e("pzLM"),us=e("5IZy"),ts=e("9C2q"),Cs=e("E97Y"),ge=e("8Ioz");const be=new _.b("classic_nav");let Se=s(class extends a.Component{onClick(L){const B=L.target;B&&B.tagName==="A"||this.props.readOnly||this.containerRef.current&&B&&!this.containerRef.current.contains(B)||(this.props.openChannelTopicDialog({channelId:this.props.channelId}),this.props.clogger.track(I.EventId.CLASSIC_NAV,{contexts:{ui_context:{action:"CLICK",ui_component:"CHANNEL_HEADER",ui_element:"NAV_CHANNEL_TOPIC"}}}))}render(){const{topic:L,readOnly:B,hasKeyboardFocus:ue,hasKeyboardFocusWithin:xe,isImOrMpim:$e}=this.props;if(B&&!L)return null;const Ue=$e?be.t("Edit topic"):be.t("Edit channel topic",{fallbackHash:"5301648dcf6b53cefc9ed52999aaa92d4603cae0"}),et=L?t.a.createElement(ga.a,{text:L,className:"p-classic_nav__model__title__info__topic__content",emojiSize:Qt.a.SMALL,noJumbomoji:!0,noHighlights:!0}):t.a.createElement("div",{className:"p-classic_nav__model__title__info__topic__content"},be.t("Add a topic")),lt=Object(i.default)({"p-classic_nav__model__title__info__item":!0,"p-classic_nav__model__title__info__topic":!0,"p-classic_nav__model__title__info__topic--empty":!L,"p-classic_nav__model__title__info__topic--readonly":B,"p-classic_nav__model__title__info__topic--focus-within":xe||ue},this.props.className),ht=B?null:t.a.createElement(ze.d,{"aria-label":Ue,className:"p-classic_nav__model__title__info__topic__edit",onClick:this.onClick},be.t("Edit"));return t.a.createElement(t.a.Fragment,null,t.a.createElement(ze.d,{className:lt,onClick:this.onClick,onFocus:this.props.onFocus,onBlur:this.props.onBlur},t.a.createElement("div",{className:"p-classic_nav__model__title__info__topic__text",ref:this.props.textRef},et)),ht)}constructor(L){super(L),this.onClick=this.onClick.bind(this),this.containerRef=t.a.createRef()}},"ModelInfoTopic");Se.displayName="ModelInfoTopic";const he=s((M,L)=>{let{channelId:B}=L;const ue=Object(ct.d)(M,B);return{topic:ue&&ue.topic&&ue.topic.value,readOnly:!Object(xs.a)(M,B),clogger:Object(us.a)({state:M}),isImOrMpim:Object(Cs.h)(ue)}},"model_info_topic_mapStateToProps"),mt=s(M=>({openChannelTopicDialog:function(){for(var L=arguments.length,B=new Array(L),ue=0;ue<L;ue++)B[ue]=arguments[ue];return M(Object(ge.a)(...B))}}),"mapDispatchToProps");var rt=Object(ts.a)(Object(m.a)(he,mt)(Se));function Ct(M){let{id:L}=M;const B=Object(W.d)(fa=>Object(Be.b)(fa,L)),ue=Object(W.d)(fa=>{var ra;const Ta=Object(ct.d)(fa,L);return Ta==null||(ra=Ta.topic)===null||ra===void 0?void 0:ra.value}),[xe,$e]=Object(a.useState)(),[Ue,et]=Object(a.useState)(),[lt,ht]=Object(a.useState)(!1),Ot=Object(a.useCallback)(fa=>{let{offset:ra}=fa;$e({width:ra.width,height:ra.height})},[]),Ca=Object(a.useCallback)(fa=>{let{scroll:ra}=fa;et({width:ra.width,height:ra.height})},[]);return Object(a.useEffect)(()=>{!xe||!Ue||ht(Ue.width>xe.width||Ue.height>xe.height)},[xe,Ue]),ue?t.a.createElement(Tn.a,{offset:!0,onResize:Ot},fa=>{let{measureRef:ra}=fa;return t.a.createElement("div",{className:Object(i.default)("p-view_header__topic_container",{"p-view_header__topic_container--truncated":lt,"p-view_header__topic_container--dm_topic":B===Be.a.DM||B===Be.a.MPDM}),ref:ra},t.a.createElement(Tn.a,{scroll:!0,onResize:Ca},Ta=>{let{measureRef:an}=Ta;return t.a.createElement(rt,{channelId:L,className:"p-view_header__topic",textRef:an})}))}):null}s(Ct,"ViewHeaderTopic");var Tt=e("fuYn"),ft=e("kFoU"),gt=e("iUFw"),na=e("ZJyv"),Xe=e("SSy4");const it=new _.b("app_home");function ut(M){let{channelId:L}=M;const B=Object(ee.useDispatch)(),ue=Object(W.d)(Ue=>Object(Tt.a)(Ue,{channelId:L})),xe=Object(W.g)(Ue=>{const et=Object(Tt.b)(Ue,{channelId:L});return Object(Rt.u)(Ue,et)}),$e=Object(a.useCallback)(Ue=>{B(Object(na.a)({channelId:L,teamId:Ue}))},[B,L]);return!ue||!xe||xe.length<=1?null:t.a.createElement("div",{className:"p-view_header__app_home_context_container justify_content_end"},t.a.createElement(Xe.a,{teamsList:xe,handleTeamSelected:$e,selectedTeamId:ue,label:it.t("Use app with settings from\u2026")},t.a.createElement(gt.d,{type:"outline"},t.a.createElement(ft.a,{id:ue}),t.a.createElement(ja.a,{name:"caret-down",inline:!0}))))}s(ut,"ViewHeaderAppHomeContextTeam"),ut.displayName="ViewHeaderAppHomeContextTeam";var Te=ut,qt=e("RzYE"),z=e("vdkW"),K=e("LaoO"),$=e("kpbN"),pe=e("n7UZ"),Ce=e("7lBi"),Pe=e("a5bm"),Me=e("2IFS"),Lt=e("iODX");function Wt(){return t.a.createElement("div",{className:"p-quip_title__actions__divider"})}s(Wt,"QuipDividerAction");var ya=e("uSwR"),sa=e("8BPc"),pa=e("9zMb"),Aa=e("kBd7"),ea=e("Dn5J"),ba=e("+VYA"),Rn=e("WEtB"),$a=e("v7mh"),ha=e("2VFn"),Ln=e("/JQq"),Js=e("m5HF"),Zs=e("mzZe"),Xs=e("JoNs"),jn=e("tWSa"),ps=e("CkE0"),Ts=e("Ki3U"),Bs=e("S8fn"),Ko=e("mNn7"),ko=e("5pIt"),$s=e("y/e0"),bo=e("azFB"),cr=e("Ekwm"),Zo=e("9Gfp"),dr=e("Y1K6"),mr=e("yRgB"),ur=e("4eGI"),Mo=e("Z6bF"),oo=e("5NQM");function Xo(M,L){const B=Object(mr.a)(),ue=Object(ur.a)(L==null?void 0:L.id),xe=M&&!Object(Mo.a)(M).isEmpty;Object(a.useEffect)(()=>{let $e;return xe&&ue&&($e=Object(oo.c)(()=>B==null?void 0:B.docs.loadData(ue,"channel-canvas-prefetch"),{timeout:2e3})),()=>{$e&&Object(oo.b)($e)}},[xe,ue,B])}s(Xo,"useChannelSpacePrefetch");var pr=e("tG8E"),hr=e("by1H"),Ho=e("TdVx"),Co=e("i9jZ"),No=e("oUrV"),ro=e("bKzG"),Tr=e("jQ/K");function Vo(){return Vo=Object.assign||function(M){for(var L=1;L<arguments.length;L++){var B=arguments[L];for(var ue in B)Object.prototype.hasOwnProperty.call(B,ue)&&(M[ue]=B[ue])}return M},Vo.apply(this,arguments)}s(Vo,"toggle_channel_canvas_action_extends");const Go=new _.b("slack-docs"),To=3400,ys=5,Us=t.a.memo(s(function(L){let{id:B,transitionFocusTo:ue}=L;var xe,$e;const Ue=Object(a.useRef)(I.EventId.QUIP_CHANNEL_SPACE_OPEN),et=Object(ee.useDispatch)(),lt=Object(W.d)(Kt=>Object(ct.d)(Kt,B)),ht=Object(Cs.h)(lt),Ot=Object($s.a)(lt),Ca=Object(W.d)(Kt=>Object(Ln.a)(Kt,lt)),fa=Object(a.useRef)(null),ra=Object(W.d)(Kt=>Object(ko.b)(Kt,B)),Ta=Object(W.d)(Kt=>Object(Yt.a)(Kt,B)),an=Object(W.d)(Js.c);var on;const xa=Object(W.d)(Kt=>(on=Object(F.t)(Kt,"num_clicked_channel_canvas_label"))!==null&&on!==void 0?on:0);var Pn;const Vn=Object(W.d)(Kt=>(Pn=Object(F.t)(Kt,"clicked_badged_channel_canvas"))!==null&&Pn!==void 0?Pn:!1),An=Object(W.d)(Kt=>Object(tt.d)(Kt,"channel_canvas_header_button")==="on"),Ms=Object(W.d)(Kt=>Object(tt.d)(Kt,"channel_canvas_updates_m2")==="on"||Object(tt.d)(Kt,"channel_canvas_highlights_badging")==="on"),is=Object(W.d)(Kt=>Object(tt.d)(Kt,"show_badge_standalone")==="on"),hn=Object(W.d)(Kt=>Object(tt.d)(Kt,"use_webapp_supplied_highlight_sections")==="on"),Ns=Object(W.d)(Kt=>Object(tt.d)(Kt,"canvas_badging_highlighting")==="on"),En=Object(W.d)(aa.o),$n=Object(W.d)(aa.H),yn=En&&$n,qn=Object(W.d)(Co.a),{spaceFileId:Za,isLinkedCanvasDeleted:ls}=Object(ba.a)({channelId:B}),Bo=Object(W.d)(Ho.a),{window:Wa,windowId:Ds}=Object(a.useContext)(Cn.a),wo=Wa!==bo.a,Rs=Object(W.d)(Kt=>Object($a.d)(Kt,{windowId:Ds,container:ha.h.Secondary})),{channelCanvasHasContent:Fe,doc:So}=Object(Rn.a)({channelId:B});Xo(lt,So);const zs=Za?Object(we.h)({id:Za}):null,Br=Object(W.d)(Kt=>zs&&Object(ea.d)(Kt)),Ls=Object(W.d)(Kt=>zs&&Object(ea.c)(Kt,zs,B,wo,Rs)),Uo=Ls||Br,Ur=Object(Ut.db)(lt),Fr=Object(W.d)(Kt=>Ur&&Object(Zs.b)(Kt,B)),Wr=Object(a.useRef)();Object(a.useEffect)(()=>{Wr.current=Ta},[Ta]);const gs=(xe=Object(pr.a)(Za))===null||xe===void 0?void 0:xe.getTime(),Kr=Object(hr.a)(Za),[Fo,fr]=Object(a.useState)({lastAvatarShownTime:gs??0,displayAvatar:!1}),{lastReadByUser:Ys}=Object(W.g)(Kt=>Object(cr.b)(Kt,Za||"")),Oo=Object(W.d)(Kt=>Object(_a.e)(Kt,Za??"")),_r=Object(dr.a)(Za);var gr;const jr=(gr=($e=Oo.editors)===null||$e===void 0?void 0:$e[0])!==null&&gr!==void 0?gr:_r,qr=Object(W.d)(Zo.a),Or=is&&hn?Oo.show_badge:Fe&&Kr,Qs=Ms&&Or&&!Ls,Sr=!Fr&&!Fe;Object(a.useEffect)(()=>{const Kt=Za||Oo.id;hn&&gs!==void 0&&Ys!==void 0&&Ys<gs&&Kt&&!Ls&&et(Object(ro.a)({fileId:Kt,lastReadTs:Ys}))},[hn,et,gs,Za,Ys,Oo,Ls]),Object(a.useEffect)(()=>{Or&&gs&&Fo.lastAvatarShownTime&&gs>Fo.lastAvatarShownTime?(setTimeout(()=>{fr(Kt=>({...Kt,displayAvatar:!1}))},To),fr({lastAvatarShownTime:gs,displayAvatar:!0})):gs&&!Fo.lastAvatarShownTime&&fr(Kt=>({...Kt,lastAvatarShownTime:gs}))},[Fo,gs,Or]);const $o=Object(a.useCallback)(function(){let Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var ar;let Wo="";Ca&&(Wo="SELF_DM"),ht&&(Wo="DM_OR_MPDM"),Ot&&(Wo="CHANNEL"),(ar=fa.current)===null||ar===void 0||ar.track({action:Kt?I.UiAction.CHANNEL_SPACE_AUTO_OPEN:I.UiAction.CLICK,fileId:Za,entryPoint:Wo,canvasNewNotificationBadge:Qs})},[Za,Ca,ht,Ot,Qs]),Er=Object(a.useCallback)(Kt=>{(zs||ls)&&qn&&Object(Co.d)(Kt)?et(Object(Ts.a)({channelId:B,forceNewWindow:!0,source:No.a.CHANNEL_CANVAS_TOGGLE_BUTTON,lastReadTs:Ys})):Uo?(Ue.current=I.EventId.QUIP_CHANNEL_SPACE_CLOSE,ue({focusKey:V.c.MESSAGE_PANE_MESSAGE_INPUT,forceFocus:!0}),et(Object(Bs.a)({channelId:B}))):zs||ls?(Ue.current=I.EventId.QUIP_CHANNEL_SPACE_OPEN,et(Object(Ts.a)({channelId:B,lastReadTs:Ys,source:No.a.CHANNEL_CANVAS_TOGGLE_BUTTON})),$o()):(Ue.current=I.EventId.QUIP_CHANNEL_SPACE_OPEN,et(Object(sa.a)({channelId:B,forceNewWindow:Object(Co.d)(Kt)})).then($o)),An&&!Uo&&xa<ys&&et(Object(x.f)({pref:"num_clicked_channel_canvas_label",value:xa+1})),Qs&&!Vn&&et(Object(x.f)({pref:"clicked_badged_channel_canvas",value:!0}))},[zs,ls,qn,Uo,An,xa,Qs,Vn,et,B,ue,Ys,$o]);Object(a.useEffect)(()=>{ra&&zs&&($o(),et(Object(Ko.b)({channelId:B,waitingForLock:!1})),et(Object(Ts.a)({channelId:B,source:No.a.CHANNEL_CANVAS_TOGGLE_BUTTON})))},[ra,B,zs,et,$o]);const kr=Object(a.useCallback)(()=>Za&&Fe?t.a.createElement(jn.a,{fileId:Za,channelId:B,onOpen:Er,lastReadTs:Ys}):t.a.createElement(ps.a,{channelId:B}),[Za,Fe,B,Er,Ys]);if(!Bo)return null;const Hr=s(()=>!Za||!Fe?{icon:"add-channel-canvas",className:"p-toggle_channel_space_action_overlay_icon"}:{icon:"canvas-content",className:Object(i.default)("p-toggle_channel_space_action_overlay_icon",{"p-toggle_channel_space_action_overlay_icon--badged":Qs,"p-toggle_channel_space_action_overlay_icon--badged_blue":Qs&&Ns,"p-toggle_channel_space_action_overaly_icon--ia3-colors":!yn,"p-toggle_channel_space_action_overlay_icon--ia3_aubergine_override":!yn&&an===pa.b.defaultTheme}),variation:Qs?"filled":void 0},"iconSrcToDisplay");let br=Go.t("Open channel canvas");Qs?br=Go.t("Toggle channel canvas, has new edits"):Fe&&(br=Go.t("Toggle channel canvas"));const ei={"aria-expanded":Fe?!!Uo:void 0,"aria-controls":Object(ya.a)(B,Ds),"aria-label":br},qo=Hr(),Pr=!Ls&&Fo.displayAvatar&&Ms&&jr!==qr,er=Pr&&t.a.createElement("div",{className:"p-toggle_channel_space_action__avatar_toast"},t.a.createElement(fn.c,{userId:jr,size:20,isInteractive:!1})),Vr=t.a.createElement("div",{className:Object(i.default)("p-toggle_channel_space_action__icon",{"p-toggle_channel_space_action__icon--toasting":Pr})},t.a.createElement(ja.a,{name:qo.icon,size:"20",variation:qo.variation})),tr=t.a.createElement("span",{className:qo.className,"data-qa":"channel_canvas_toggle_button_icon"},er,Vr);let Ar;(!Za||Za&&!Fe)&&(Ar=400);const Mr=An&&!Ls&&xa<ys,Gr=t.a.createElement(Xs.a,{shouldShowContent:!Ls&&!Sr,customWidth:Ar,renderContent:kr},t.a.createElement(Je.a,Vo({"data-qa":Ls?"channel_canvas_toggle_active_button":"channel_canvas_toggle_button",className:Object(i.default)("p-toggle_channel_space_action_button display_flex align_items_center",{"p-toggle_channel_space_action_button--active":Ls,"p-toggle_channel_space_action--overlay":!0,"p-toggle_channel_space_action_button--text":An}),onClick:Er,disabled:ra||Sr,size:"medium"},ei),tr,Qs&&t.a.createElement("div",{className:Object(i.default)("p-toggle_channel_space_action__unread_badge",{"p-toggle_channel_space_action__unread_badge--blue":Ns,"p-toggle_channel_space_action__unread_badge--ia3-colors":!yn,"p-toggle_channel_space_action__unread_badge--ia3_aubergine_override":!yn&&an===pa.b.defaultTheme})}),Mr&&t.a.createElement("span",{className:"margin_left_25 margin_right_25 p-toggle_channel_space_action__label"},Go.t("Canvas"))));return t.a.createElement(jt.a,{eventId:Ue.current,clogImpression:!0,channelId:B,trackClogRef:Kt=>{fa.current={track:Kt}},fileId:Za,elementName:Mr?"channel_canvas_toggle_with_label":"channel_canvas_toggle",canvasNewNotificationBadge:Qs},Gr)},"ToggleChannelCanvasAction"));var Is=Object(Aa.a)(Us),yo=e("Icre");const yr=new _.b("slack-docs"),_e=s(M=>{let{onClose:L}=M;const B=yr.t("Close");return t.a.createElement(Sa.d,{tip:B,position:"bottom"},t.a.createElement(Je.a,{icon:"times",onClick:L,"aria-label":B}))},"CloseQuipAction");_e.displayName="CloseQuipAction";const k={onClose:()=>Object(yo.a)({})};var ke=Object(m.a)(null,k)(_e),Re=e("YxAP"),Qe=e("7+Lm"),pt=e("uVZW"),st=e("rq2v"),yt=e("q6Tz"),ca=e("VUud");const Ht=Object(D.c)("Mark the current in-product coachmark as seen",(M,L,B)=>{const ue=L();if(!Object(Qe.c)(ue,pt.g.IN_PRODUCT_COACHMARK,B.channelId))return;const xe={notification:B.notification,action:B.action,reason:"set-coachmark-as-seen"};B.step&&(xe.step=B.step),B.channelId&&(xe.channelId=B.channelId),M(Object(ca.a)(xe))});Ht.meta={name:"createThunk",key:"createThunksetInProductCoachmarkAsSeen",description:"Mark the current in-product coachmark as seen"};var Ra=Ht,Ua=e("UXvI");const tn=1e3,Ha=["keydown","pointerdown","pointermove","scroll"],dn={passive:!0};function oa(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:tn,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ha,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const[ue,xe]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{const $e=s(()=>setTimeout(xe,M,!0),"scheduleInactive");let Ue=$e();const et=Object(Ua.a)(()=>{Ue&&(xe(!1),clearTimeout(Ue)),Ue=$e()},M*.1);return L.forEach(lt=>B.addEventListener(lt,et,dn)),()=>{et.cancel(),L.forEach(lt=>B.removeEventListener(lt,et)),Ue&&clearTimeout(Ue)}},[M,B,L]),ue}s(oa,"useSetUserInactivity");var Vt=e("ZKjC"),sn=e("thso"),Xn=e("xXk5");const{getObjectById:Sn}=Xn.c,qs=Object(Vt.b)(M=>Object(sn.b)(M.recentlyJoinedChannels));qs.meta={name:"createSelector",key:"createSelectorgetRecentlyJoinedChannels",description:M=>Object(sn.b)(M.recentlyJoinedChannels)};var _s=e("stxl"),Fs=e("1lBt"),Gn=e("7LcW"),eo=e("sjOx");function wn(){return wn=Object.assign||function(M){for(var L=1;L<arguments.length;L++){var B=arguments[L];for(var ue in B)Object.prototype.hasOwnProperty.call(B,ue)&&(M[ue]=B[ue])}return M},wn.apply(this,arguments)}s(wn,"channel_invite_suggestions_coachmark_container_extends");const{IN_PRODUCT_COACHMARK:xn}=pt.g,hs={spaceName:xn,notifications:{[pt.h.CHANNEL_INVITE_SUGGESTIONS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"ElD4")))}}};var Qa;(function(M){M[M.ValidateClientSide=0]="ValidateClientSide",M[M.Prerender=1]="Prerender",M[M.Ineligible=2]="Ineligible",M[M.Render=3]="Render",M[M.Dismiss=4]="Dismiss"})(Qa||(Qa={}));const{CHANNEL_INVITE_SUGGESTIONS_COACHMARK:Kn}=pt.h,{CLICK:zn,DISMISS:On}=pt.f,kn=36e5,Ws=1728e5,as=new Map,ns=s(M=>{const L=as.get(M);return!L||Date.now()-L>kn},"isCacheInvalid");let js=0;const vs=s(M=>{let{channelId:L,offsetY:B=15}=M;const ue=Object(ee.useDispatch)(),xe=Object(a.useRef)(L),[$e,Ue]=Object(a.useState)(Qa.ValidateClientSide);xe.current!==L&&(xe.current=L,Ue(Qa.ValidateClientSide));const et=oa(2e3),lt=Object(W.d)(_s.c),ht=Object(W.d)(Fs.b),Ot=Object(W.d)(xa=>Object(Gn.b)(xa,eo.x.OMNISWITCHER)),Ca=Object(W.d)(xa=>!!Sn(xa,L)),fa=Object(W.d)(xa=>Object(Qe.d)(xa,xn,L)),ra=Object(W.d)(xa=>Object(Qe.c)(xa,xn,L)===Kn),Ta=Object(a.useCallback)(()=>{Ue(Qa.Dismiss),ue(Object(nn.a)({id:L,defaultTab:Re.a.Members})),ue(Ra({notification:Kn,action:zn,channelId:L}))},[ue,L]),an=Object(a.useCallback)(()=>{Ue(Qa.Dismiss),ue(Ra({notification:Kn,action:On,channelId:L}))},[ue,L]);Object(a.useEffect)(()=>{if($e===Qa.ValidateClientSide){const xa=Date.now()-js>Ws;!Ca||!xa?Ue(Qa.Ineligible):ns(L)?(as.set(L,Date.now()),ue(Object(yt.b)({event:{type:pt.e.REQUEST_SPACES,spaces:[xn]},channelId:L})),Ue(Qa.Prerender)):Ue(ra?Qa.Prerender:Qa.Ineligible)}else if($e===Qa.Prerender){if(!fa)return;ra?et&&!lt&&!ht&&!Ot&&(js=Date.now(),Ue(Qa.Ineligible)):Ue(Qa.Ineligible)}},[ue,L,$e,Ca,lt,ht,Ot,et,ra,fa]);const on=$e===Qa.Render;return t.a.createElement(st.c,wn({},hs,{showCoachmark:on,offsetY:B,onPrimaryClick:Ta,onClose:an,channelScopedId:L}))},"ChannelInviteSuggestionsCoachmarkContainer");vs.displayName="ChannelInviteSuggestionsCoachmarkContainer",vs.clearTimestamps=()=>{as.clear(),js=0};var io=t.a.memo(vs),Ks=e("hC3S"),Ss=e("9oTK"),ss=e("zjLW"),La=e("ksz/");const os=Object(D.c)("Ends an Instant Slack channel",function(){var M=Object(Ss.coroutine)(function*(L,B,ue){let{channelId:xe}=ue;const $e=B(),Ue=Bt.a,{invite_url:et}=Object(Zt.a)($e,xe,Ue);if(!(yield L(Object(ss.a)({channel:xe,reason:"instant-slack"}))).ok)return!1;const ht={enabled:!1,invite_url:et};return L(Object(La.b)({channelId:xe,pref:Ue,value:ht})),!0});return function(L,B,ue){return M.apply(this,arguments)}}());os.meta={name:"createThunk",key:"createThunkendInstantSlack",description:"Ends an Instant Slack channel"};var Ja=os,Bn=e("ZvM9"),lo=e("mpbA"),pn=e("dz36"),rs=e("HFwV"),Hn=e("ueJG"),co=e("Ey9B"),mo=e("2jZb"),to=e("Pk/n"),Do=e("NEBT");const Ro=new _.b("recordchannels"),uo=s(M=>{let{channelId:L}=M;const B=Object(ee.useDispatch)(),ue=Object(W.d)(lt=>Object(ct.d)(lt,L));var xe;const $e=(xe=Object(mo.a)(ue))!==null&&xe!==void 0?xe:"",Ue=Object(W.d)(vt.a),et=Object(a.useCallback)(()=>{B(Object(to.a)({recordId:$e}))},[B,$e]);return Ue?t.a.createElement("div",{className:"p-record_channel_header__button"},t.a.createElement(ze.d,{onClick:et,"aria-label":Ro.t("Open record channel info")},t.a.createElement(ja.a,{size:"16",name:"info",inline:!0}))):null},"RecordChannelHeaderButton");uo.displayName="RecordChannelHeaderButton";var ao=uo,Io=e("cvlP"),po=e("v5z3"),va=e("IaLB");const ks=new _.b("classic_nav"),_o=10;function Ps(M){let{id:L,viewActions:B,experimentAdoptionInstantSlackGroupTreatment:ue,experimentDesktopIa4GroupOn:xe,experimentAdoptionInstantSlackInviteeGroupOn:$e,instantSlackChannelPrefs:Ue,showFiveAvatarsInstack:et,showPresenceInAvatarStack:lt,shouldHideChannelCanvas:ht,teamId:Ot,userId:Ca,experimentNativeAiGlobalEntrypointGroupOn:fa}=M;var ra;const Ta=Object(a.useContext)(Me.a);var an;const on=(an=Object(Pe.a)(Ta==null||(ra=Ta.layout)===null||ra===void 0?void 0:ra.width,Ce.q))!==null&&an!==void 0?an:"",xa=Object(ee.useDispatch)(),Pn=Object(a.useCallback)(()=>{xa(Ja({channelId:L}))},[xa,L]),Vn=Object(a.useCallback)(()=>{if(!Ot)return;const En=new URL(Ue.invite_url).pathname.split("/")[2];xa(Object(lo.a)({sig:En,context:"shared_invite_accept",reason:"instant-slack-move-session"})).then($n=>{Object(pn.f)({userId:Ca,teamId:Ot,channelId:L}),Object(Bn.a)({inviteId:$n.invite.id,inviteSig:En,isDm:!1,openInNewWindow:!1,redirectQueryParams:`${pn.a}=1`})})},[xa,Ca,Ot,L,Ue]),An=Object(W.d)(En=>Object(va.rb)(En,{tip:po.f.Huddles})),Ms=Object(W.d)(va.l),is=[po.f.Huddles],hn=Object(j.i)()?I.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_DESKTOP:I.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_WEB;if(!B.length)return null;const Ns=B.map(En=>{switch(En){case me.Call:return t.a.createElement(z.a,{key:me.Call,channelId:L});case me.AvatarStack:return t.a.createElement(jt.a,{clogImpression:!0,eventId:I.EventId.AVATAR_STACK,key:me.AvatarStack},t.a.createElement(qt.a,{key:me.AvatarStack,channelId:L,hideOutline:!xe,showFiveAvatars:et,showPresence:lt,showIconOnly:fa}),t.a.createElement(io,{channelId:L}));case me.RefreshAllUnreads:return t.a.createElement($.a,{key:me.RefreshAllUnreads,shouldIncludeLabel:!1});case me.ShareQuip:return t.a.createElement(Lt.a,{key:me.ShareQuip,id:L,fromPrimaryView:!0});case me.CloseQuip:return t.a.createElement(ke,{key:me.CloseQuip});case me.QuipDivider:return t.a.createElement(Wt,{key:me.QuipDivider});case me.DetachedWindow:return t.a.createElement(K.a,{key:me.DetachedWindow,view:L,className:"p-ia__view_header__button p-ia__view_header__button--detach_window margin_left_50",containerOrigin:"secondary"});case me.ChannelSpace:return ht?null:t.a.createElement(Is,{id:L,key:me.ChannelSpace});case me.InstantSlackEndConversation:return ue?t.a.createElement(A.c,{tip:ks.t("Ending a conversation will remove all external people and archive the channel.",{fallbackHash:"df497a5fa1060b88488cee92045e7f70cddba9d6"}),key:me.InstantSlackEndConversation},t.a.createElement(gt.d,{type:gt.c.danger,size:gt.b.small,onClick:Pn,className:"margin_right_100"},ks.t("End Instant Conversation"))):null;case me.InstantSlackSaveConversation:return $e?t.a.createElement(gt.d,{type:gt.c.primary,size:gt.b.small,key:"save-conversation",onClick:Vn},ks.t("Save Conversation")):null;case me.Huddle:{const $n=t.a.createElement(rs.a,{key:me.Huddle,channelId:L,subtype:Hn.a.ChannelHeader});return xe&&An?t.a.createElement(Io.c,{tips:is,uiComponentVariant:Ms?po.e.SomeoneJoins:po.e.NobodyJoins,uiComponentName:hn},$n):xe?$n:null}case me.RecordChannel:return t.a.createElement(ao,{key:me.RecordChannel,channelId:L});case me.SummarizeChannel:return t.a.createElement(Ks.a,{channelId:L,key:me.SummarizeChannel});default:return null}});return t.a.createElement("div",{className:`p-view_header__actions ${on}`},Ns)}s(Ps,"view_header_actions_ViewHeaderBigButton"),Ps.displayName="ViewHeaderBigButton";const Hs=s((M,L)=>{let{id:B}=L;var ue;const xe=(ue=Object(ct.d)(M,B))!==null&&ue!==void 0?ue:void 0,$e=xe?Object(pe.b)(M,xe):!1,Ue=Object(Rt.g)(M),et=Object(Zo.a)(M),lt=Object(co.a)(M),ht=!!(lt&&lt<_o),Ot=Object(tt.d)(M,"channel_header_avatar_online"),Ca=Object(tt.d)(M,"channel_header_avatar_online_rollout")==="on",fa=ht&&(Ot==="treatment5"||Ot==="treatment"||Ca),ra=ht&&(Ot==="treatment5"||Ca);return{channel:xe,isUserExternalLimited:$e,viewActions:zt(M,{id:B}),experimentAdoptionInstantSlackGroupTreatment:Object(tt.d)(M,"adoption_instant_slack")==="treatment",experimentAdoptionInstantSlackInviteeGroupOn:Object(tt.d)(M,"adoption_instant_slack_invitee")==="on",instantSlackChannelPrefs:Object(Zt.a)(M,B,Bt.a),teamId:(Ue==null?void 0:Ue.id)||null,userId:et,showPresenceInAvatarStack:fa,showFiveAvatarsInstack:ra,experimentDesktopIa4GroupOn:Object(aa.o)(M),experimentNativeAiGlobalEntrypointGroupOn:Object(He.c)(M)}},"view_header_actions_mapStateToProps");var Lo=Object(m.a)(Hs)(Ps),Vs=e("UmHn"),xo=e("XWEI"),Gs=e("somW"),jo=e("BQ/v"),ho=e("l1I1"),vo=e("tfcd"),fo=e("uNaj"),go=e("BfA7"),no=e("NFkq"),ws=e("6dQg");const Nt=new _.b("view-header");let fs=s(class extends t.a.Component{componentDidMount(){const{isSidebarOpen:L,isUserEligibleForA11yCoachmark:B}=this.props;B&&!L&&setTimeout(()=>this.setState(()=>({shouldRenderA11yPrefsSetupCoachmark:!0})),1e3)}componentDidUpdate(L){const{isSidebarOpen:B}=this.props;L.isSidebarOpen!==B&&this.state.shouldRenderA11yPrefsSetupCoachmark&&this.closeA11yPrefsSetupCoachmark()}closeA11yPrefsSetupCoachmark(){this.setState(()=>({shouldRenderA11yPrefsSetupCoachmark:!1}))}renderContent(){const{id:L,hideActions:B,hideTopic:ue,shouldShowSidebarToggle:xe=!1,onSidebarToggle:$e=O.a,isInstantSlackInviteeSession:Ue=!1,viewType:et,isSidebarOpen:lt,onBackButtonClick:ht,showQuipActivityHistoryHeader:Ot,shouldHideChannelCanvas:Ca,canvasReturnId:fa,experimentDesktopIa4GroupOn:ra,activeTab:Ta,container:an,view:on,hasSecondaryView:xa,isChildWindow:Pn,fileId:Vn,shouldShowSidebarToggleButton:An}=this.props,Ms=t.a.createElement(Et,{isSidebarOpen:lt,onSidebarToggle:$e});let is=this.state.shouldRenderA11yPrefsSetupCoachmark?t.a.createElement(nt.a,{closeCoachmark:this.closeA11yPrefsSetupCoachmark,offsetX:-15},Ms):Ms;ra&&(is=t.a.createElement(Ne.a,null));const hn=!ra&&et===Be.a.Doc&&fa;if(Ot){const ls=Object(fo.a)().params.entityId,{versionId:Bo}=Object(we.i)(ls);return t.a.createElement(ot.a,{versionId:Bo,showBackButton:!!hn,canvasReturnId:fa,onBackToChannelClick:ht})}const Ns=Ta===ha.d.Later||Ta===ha.d.Activity||Ta===ha.d.Huddles||Ta===ha.d.ExternalConnections||Ta===ha.d.ExternalConnectionsTemp||Ta===ha.d.ExternalWorkspace||Ta===ha.d.DMs||Ta===ha.d.Home,En=ra&&an===ha.h.Primary&&!xa&&!Ns&&(on==null?void 0:on.id)!==Vs.a.Empty&&!Pn,$n=an===ha.h.Secondary,yn=En||$n,qn=an===ha.h.Primary?Nt.t("Close Primary View",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a"}):Nt.t("Close Secondary View",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a"});return t.a.createElement(t.a.Fragment,null,(An||xe)&&is,t.a.createElement("div",{className:"p-view_header__text"},!Ue&&t.a.createElement(t.a.Fragment,null,hn&&t.a.createElement(Je.a,{icon:"chevron-large-left",onClick:()=>ht(fa),"aria-label":Nt.t("Back to channel",{fallbackHash:"40f60e104b8e9e3ad3405a2fc7bca685d1601f2e",fallbackHashNs:"browsers"}),className:"margin_right_50"}),t.a.createElement(ms,{id:L}),t.a.createElement(no.a,{id:Vn})),!Ue&&!ue&&t.a.createElement(Ct,{id:L}),et===Be.a.App&&t.a.createElement(Te,{channelId:L})),!B&&t.a.createElement(Lo,{id:L,shouldHideChannelCanvas:Ca}),yn&&t.a.createElement(A.c,{key:me.CloseTile,tip:qn,position:"bottom-right",delay:A.a,hideFromScreenReader:!0},t.a.createElement(Je.a,{icon:"times",onClick:this.closeViewHeader,"aria-label":ra?qn:"",className:"p-ia__view_header__button p-ia__view_header__button--close"})))}render(){const{bookmarksEnabled:L,hideHeader:B,id:ue,viewType:xe,channelSpaceLayout:$e,experimentInsetDesignGroupOn:Ue,isSecondaryShowing:et,container:lt,columnWidth:ht,experimentViewHeaderOverflowBordersGroupOn:Ot,isMessageListOverflowing:Ca}=this.props;if(B||ue===Vs.a.Empty)return null;const fa=!L,ra=ht&&ht<T.j*1.6,Ta=Object(i.default)("p-view_header","p-view_header--tiles",{"p-view_header--with-bookmarks-bar":L,"p-view_header--without-bookmarks-bar":fa,"p-view_header--solid":Be.a.Doc===xe||fa,"p-view_header--with-channel-canvas":$e===Ee.a.PRIMARY,"p-view_header--inset":Ue,"p-view_header--inset--secondary_showing":Ue&&et,"p-view_header--narrow":ra,"p-view_header--list_isnt_overflowing":Ot&&!Ca}),on=Nt.t("Primary view actions"),xa=t.a.createElement(dt.b,{key:ue,"aria-label":on,ref:this.containerRef,className:Ta,"data-qa":"view_header"},this.renderContent());let Pn=t.a.createElement(jt.a,{eventId:I.EventId.VIEW_HEADER,clogImpression:!1,disableAutoReferringUiContext:!0},t.a.createElement(It.a,{listeners:this.focusTransitionListeners},xa));if(Object(xo.a)(ue)){const Vn=Object(ho.a)(ue)?"QuipHeaderView":void 0,An=lt?Object(jo.a)({viewContainer:lt}):Object(jo.a)({});Vn&&(Pn=t.a.createElement(Gs.a,{id:Vn,index:An},Pn))}return Pn}constructor(L){super(L),this.containerRef=t.a.createRef(),this.focus=B=>{var ue;return(B==null?void 0:B.container)===ha.h.Sidebar?!1:((ue=this.containerRef.current)===null||ue===void 0||ue.focus(),!0)},this.closeViewHeader=()=>{const{onBackButtonClick:B,shouldUseNavigate:ue,closeView:xe}=this.props;ue&&xe?xe():B("Pempty")},this.state={shouldRenderA11yPrefsSetupCoachmark:!1},Object(v.a)(this,["closeA11yPrefsSetupCoachmark","focus"]),this.focusTransitionListeners={[V.c.VIEW_HEADER]:this.focus}}},"ViewHeader");fs.displayName="ViewHeader";const As=s((M,L)=>{let{id:B,getSiblingView:ue}=L;const xe=B||Object(_t.a)(M),$e=Object(r.b)(xe);let Ue=!1;$e!=null&&$e.isChannelHeaderHidden&&(Ue=$e.isChannelHeaderHidden(M));const et=xe===E.a,lt=Object(fo.a)(),ht=lt.params.entityId,{fileIdOrQuipThreadId:Ot}=Object(we.i)(B),Ca=Object(ws.a)(Ot)?Ot:void 0,fa=!!ue(M,{container:ha.h.Secondary});return{bookmarksEnabled:Object(y.c)(M,B),isAllUnreadsPage:et,showQuipActivityHistoryHeader:!!Object(St.a)(M)&&Object(vo.a)(ht),hideHeader:Ue,isUserEligibleForA11yCoachmark:Object(Ea.a)(M),viewType:Object(Be.b)(M,B),isInstantSlackInviteeSession:Object(ia.a)(M),channelSpaceLayout:Object(Yt.a)(M,B)||void 0,canvasReturnId:lt.params.canvasOpenedFromId,experimentInsetDesignGroupOn:Object(tt.d)(M,"inset_design")==="on",experimentDesktopIa4GroupOn:Object(aa.o)(M),hasSecondaryView:fa,fileId:Ca,experimentViewHeaderOverflowBordersGroupOn:Object(tt.d)(M,"view_header_overflow_borders")==="on"}},"view_header_mapStateToProps"),vr=s(M=>({onBackButtonClick:L=>M(Object(Dt.a)({id:L}))}),"view_header_mapDispatchToProps");var Ir=p.a=Object(Me.b)(Object(go.a)(Object(m.a)(As,vr)(fs)))},"1Mwh":function(w,p,e){"use strict";e.d(p,"i",function(){return t}),e.d(p,"e",function(){return m}),e.d(p,"a",function(){return O}),e.d(p,"b",function(){return i}),e.d(p,"g",function(){return v}),e.d(p,"h",function(){return T}),e.d(p,"f",function(){return I}),e.d(p,"d",function(){return r}),e.d(p,"c",function(){return E});var a=e("DwFS");const t=Object(a.a)("Set tile");t.meta={name:"createAction",key:"createActionsetTileInternal",description:"Set tile"};const m=Object(a.a)("Open tile");m.meta={name:"createAction",key:"createActionopenTileInternal",description:"Open tile"};const O=Object(a.a)("Close the active tile");O.meta={name:"createAction",key:"createActioncloseActiveTileInternal",description:"Close the active tile"};const i=Object(a.a)("Closes the specified tile");i.meta={name:"createAction",key:"createActioncloseTileInternal",description:"Closes the specified tile"};const v=Object(a.a)("Set active tile key");v.meta={name:"createAction",key:"createActionsetActiveTileKeyInternal",description:"Set active tile key"};const T=Object(a.a)("Set docked view to restore");T.meta={name:"createAction",key:"createActionsetDockedViewToRestore",description:"Set docked view to restore"};const I=Object(a.a)("Replace entire tile state");I.meta={name:"createAction",key:"createActionreplaceTileStateInternal",description:"Replace entire tile state"};const r=Object(a.a)("Minimize a tile");r.meta={name:"createAction",key:"createActionminimizeTileInternal",description:"Minimize a tile"};const E=Object(a.a)("Maximize a tile");E.meta={name:"createAction",key:"createActionmaximizeTileInternal",description:"Maximize a tile"}},"3K9K":function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("tZQI"),O=e("ZIxB"),i=e("fcWg"),v=e("nNoG");function T(){return T=Object.assign||function(y){for(var f=1;f<arguments.length;f++){var l=arguments[f];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(y[g]=l[g])}return y},T.apply(this,arguments)}s(T,"_extends");const I=new v.b("shared_workspaces"),r=s(y=>{let{option:f,isActive:l}=y;var g,j;const _={id:f==null||(g=f.entity)===null||g===void 0?void 0:g.id,isActive:l,isDisabled:!!(f!=null&&f.inviteExceptionReason),secondaryContent:t.a.createElement("span",null,(f==null?void 0:f.inviteExceptionReason)||f.secondaryContent||"")};if(!(f==null||(j=f.entity)===null||j===void 0)&&j.isEmail){const A="label"in f?f.label:f.entity.id;return t.a.createElement(i.a,T({},_,{email:A}))}return t.a.createElement(O.a,T({},_,{showPresence:!0,showAvatar:!0}))},"UserMultiSelectRow");r.displayName="UserMultiSelectRow";const E=s(y=>{let{selectedEntities:f,onSelectedItemsChange:l}=y;const g=Object(a.useCallback)((_,A)=>t.a.createElement("div",{className:"display_flex full_width"},t.a.createElement(r,{option:_,isActive:A.isActive})),[]),j=Object(a.useMemo)(()=>({allowEmptyQuery:!0,allowEmptyQueryRemoteSearch:!0,tiered:!0,limit:12,returnMetadata:!1,entities:{members:{includeSlackbot:!1,includeSelf:!1,includeDeleted:!1,matchEmailField:!0,includeFromAnotherTeam:!0,onlyExternal:!1,includeExternal:!0,includeAllExternal:!0},emails:!0},sort:{frecency:!0,explain:!1,source:"user-multi-select"}}),[]);return t.a.createElement(m.e,{focusOnMount:!0,selectId:"user-select-invite-to-shared-workspace",selectedOptions:f,renderOption:g,onSelectedItemsChange:l,searcherOptions:j,size:"large",width:"100%",optionsRowHeight:32,placeholderText:I.t("Search for members"),emptyStateMessage:()=>I.t("No matches found"),ariaLabel:I.t("Members from external workspaces to invite")})},"UserMultiSelect");E.displayName="UserMultiSelect",p.a=E},"3iY/":function(w,p,e){"use strict";e.d(p,"a",function(){return H});var a=e("q1tI"),t=e.n(a),m=e("hbEN"),O=e("Trx9"),i=e("ktUG"),v=e("nNoG"),T=e("ZobM"),I=e("E97Y"),r=e("LK2A"),E=e("d/xU"),y=e("zxER"),f=e("ZMRP"),l=e("khnw"),g=e("7ibc"),j=e("NV6F"),_=e("/MKj"),A=e("BHdc"),Y=e("WSQ4"),N=e("2IFS"),S=e("oSkh"),V=e("rZ8V"),J=e("GWPn"),G=e("JoR1"),C=e("T1zM"),u=e("+o5h"),d=e("s9Q6"),h=e("4eGI"),D=e("i5Ig"),F=e("AArn");const x=new v.b("slack-docs");var te;(function(ae){ae.LINK="help_center_link"})(te||(te={}));var H;(function(ae){ae.CANNED_CHANNEL_OVERVIEW="ChannelOverviewTemplate",ae.CANNED_WEEKLY_SYNC="WeeklySyncTemplate",ae.CANNED_EMPLOYEE_ONBOARDING="EmployeeOnboardingTemplate",ae.CANNED_MONTHLY_NEWSLETTER="MonthlyNewsletterTemplate",ae.CANNED_AGENDA="AgendaTemplate",ae.CANNED_SHARED_RESOURCES="SharedResourcesTemplate",ae.CANNED_OOO_COVERAGE="OOOCoveragePlanTemplate"})(H||(H={}));const X=38,re=20,je=150,ie=[r.TemplateTriggerType.MEETING_NOTES,r.TemplateTriggerType.LINKS_N_RESOURCES,r.TemplateTriggerType.TODO_LISTS,r.TemplateTriggerType.BLANK_PAGE,"smart-cards",...Object.values(H)],ve=s(ae=>ie.includes(ae),"isAllowedTemplateTrigger"),ne=s(ae=>{let{onTemplateSelection:se,channel:fe,fileId:Ie,isStandaloneCanvas:ye,onTemplateFromGallerySelection:De,docEmbed:Ae}=ae;const qe=Object(_.useDispatch)(),Et=Object(a.useRef)(null),Ne=Object(I.h)(fe),tt=Object(y.d)(g.l),{files:ta}=Object(u.a)(),ct=19470130744595,kt=`https://${Object(E.n)()}/help/articles/${ct}`,{window:xt}=Object(a.useContext)(Y.a),Be=Object(a.useContext)(F.a),[Bt,Zt]=Object(a.useState)(null),[Ut,Da]=Object(a.useState)(null),[ia,da]=Object(a.useState)(null),Xt=Object(y.d)(V.o),Ka=Object(y.d)(d.i);var aa;const vt=Object(y.d)(Ee=>(aa=Object(G.t)(Ee,"seen_canvas_template_new_badge_channel_canvas"))!==null&&aa!==void 0?aa:!1);var Ge;const He=(Ge=Object(h.a)(Ae==null?void 0:Ae.hasHeaderImage))!==null&&Ge!==void 0?Ge:!1,me=Object(a.useCallback)(Ee=>!!(ta!=null&&ta.find(Dt=>Dt.template_name===Ee)),[ta]),wt=Object(a.useCallback)(()=>{qe(Object(j.n)({source:"CanvasTemplateOptions",channelId:(fe==null?void 0:fe.id)||"",fileId:ye?Ie:"",onTemplateFromGallerySelection:De})),!ye&&!vt&&qe(Object(C.f)({pref:"seen_canvas_template_new_badge_channel_canvas",value:!0}))},[qe,fe==null?void 0:fe.id,ye,Ie,De,vt]),zt=Object(a.useCallback)(Ee=>{se(Ee,{exampleUrl:kt}),!ye&&!vt&&Object.values(H).includes(Ee)&&qe(Object(C.f)({pref:"seen_canvas_template_new_badge_channel_canvas",value:!0}))},[se,kt,ye,vt,qe]),It=Object(a.useRef)(null),_t=Object(a.useCallback)(Ee=>{var Dt;let St;if(ye||(St=Ne?"dm":"channel"),(Dt=Et.current)===null||Dt===void 0||Dt.track({action:i.UiAction.CLICK,label:Ee,canvasType:ye?"standalone":"channel-canvas",canvasTemplateType:"canned",canvasTemplateLabel:Ee,uiComponentVariant:St}),ve(Ee))zt(Ee);else if(Ee==="help_center_link"){var W;(W=Et.current)===null||W===void 0||W.track({action:i.UiAction.CLICK,label:Ee}),wt()}},[ye,zt,wt,Ne]),jt=Object(a.useCallback)(Ee=>{_t(Ee.id)},[_t]),nt=Object(a.useCallback)(Ee=>{Ee.keyCode===l.e&&(Ee.preventDefault(),Ee.id&&_t(Ee.id))},[_t]),Ea=Object(a.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"ellipsis-horizontal",variation:"filled",size:"20"}),x.t("More"),!vt&&!ye&&t.a.createElement(J.a,{className:"p-canvas_template_options__callout"},x.t("NEW"))),[vt,ye]),dt=Object(a.useCallback)((Ee,Dt)=>{let{key:St}=Dt,W;return St==="help_center_link"?W=Ea():St===r.TemplateTriggerType.BLANK_PAGE?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"canvas-content",size:"20"}),x.t("Blank canvas")):St==="smart-cards"?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"magic-wand",size:"20"}),tt?x.t("Make me one!"):"Make me one!"):St===r.TemplateTriggerType.MEETING_NOTES?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"list-view",size:"20"}),x.t("Meeting notes")):St===H.CANNED_EMPLOYEE_ONBOARDING?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"heart",size:"20"}),x.t("Employee onboarding")):St===H.CANNED_MONTHLY_NEWSLETTER?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"megaphone",size:"20"}),x.t("Newsletter")):St===r.TemplateTriggerType.LINKS_N_RESOURCES?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"link",size:"20"}),x.t("Resources")):St===r.TemplateTriggerType.TODO_LISTS?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"checkbox",size:"20"}),x.t("To-do list")):St===H.CANNED_CHANNEL_OVERVIEW?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"rocket",size:"20"}),x.t("Channel overview")):St===H.CANNED_WEEKLY_SYNC?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"calendar",size:"20"}),x.t("Weekly sync")):St===H.CANNED_AGENDA?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"checkbox",size:"20"}),x.t("Agenda")):St===H.CANNED_SHARED_RESOURCES?W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"link",size:"20"}),x.t("Shared resources")):St===H.CANNED_OOO_COVERAGE&&(W=t.a.createElement(t.a.Fragment,null,t.a.createElement(T.a,{name:"notifications-off",size:"20"}),x.t("Out of office coverage"))),t.a.createElement("div",{className:"p-canvas_template_options__buttons__button"},W)},[Ea,tt]);Object(a.useEffect)(()=>{if(Be){var Ee;It==null||(Ee=It.current)===null||Ee===void 0||Ee.focus()}},[]);const Je=Object(a.useMemo)(()=>{const Ee=[r.TemplateTriggerType.BLANK_PAGE,...tt?["smart-cards"]:[]];return ye?(me(H.CANNED_EMPLOYEE_ONBOARDING)&&Ee.push(H.CANNED_EMPLOYEE_ONBOARDING),me(H.CANNED_MONTHLY_NEWSLETTER)&&Ee.push(H.CANNED_MONTHLY_NEWSLETTER),me(H.CANNED_WEEKLY_SYNC)&&Ee.push(H.CANNED_WEEKLY_SYNC),me(H.CANNED_OOO_COVERAGE)&&Ee.push(H.CANNED_OOO_COVERAGE)):Ne?(me(H.CANNED_AGENDA)&&Ee.push(H.CANNED_AGENDA),me(H.CANNED_SHARED_RESOURCES)&&Ee.push(H.CANNED_SHARED_RESOURCES),me(H.CANNED_WEEKLY_SYNC)&&Ee.push(H.CANNED_WEEKLY_SYNC)):(me(H.CANNED_CHANNEL_OVERVIEW)&&Ee.push(H.CANNED_CHANNEL_OVERVIEW),me(H.CANNED_WEEKLY_SYNC)&&Ee.push(H.CANNED_WEEKLY_SYNC),me(H.CANNED_SHARED_RESOURCES)&&Ee.push(H.CANNED_SHARED_RESOURCES)),Ee.push("help_center_link"),Ee},[tt,Ne,me,ye]),we=Object(a.useCallback)(()=>{if(!Bt||!Ut)return D.b;var Ee;return{display:"block",marginLeft:0,marginTop:re,left:Bt.left-Ut.left,top:Bt.top-Ut.top+Bt.height+((Ee=ia==null?void 0:ia.height)!==null&&Ee!==void 0?Ee:0)}},[Bt,Ut,ia]),ot=Object(a.useMemo)(()=>Object(m.a)(()=>{var Ee,Dt,St,W;const ee=(Dt=xt==null||(Ee=xt.document)===null||Ee===void 0?void 0:Ee.querySelector(".editor-default-section-text-overlay.text-section"))===null||Dt===void 0?void 0:Dt.getBoundingClientRect();ee&&Zt(ee);const le=(W=xt==null||(St=xt.document)===null||St===void 0?void 0:St.querySelector(".document.parts-screen"))===null||W===void 0?void 0:W.getBoundingClientRect();le&&Da(le);let We=null;if(Ka&&ye){var Ze,Pt,bt;We=(bt=(Pt=xt==null||(Ze=xt.document)===null||Ze===void 0?void 0:Ze.querySelector(".p-upgrades_alert_banner"))===null||Pt===void 0?void 0:Pt.getBoundingClientRect())!==null&&bt!==void 0?bt:null}da(We)},je),[ye,Ka,xt==null?void 0:xt.document]);Object(a.useEffect)(()=>(xt.addEventListener("resize",ot),()=>{xt.removeEventListener("resize",ot),ot.cancel()}),[ot,xt]);const Yt=Object(a.useContext)(N.a);return Object(a.useEffect)(()=>{ot()},[ot,Yt,He]),t.a.createElement(O.a,{eventId:i.EventId.QUIP_CHANNEL_CANVAS_TEMPLATES,fileId:Ie,clogImpression:!0,channelId:(fe==null?void 0:fe.id)||"",trackClogRef:Ee=>{Et.current={track:Ee}}},t.a.createElement("div",{className:Object(A.default)("p-canvas_template_options","p-canvas_template_options--absolute"),style:we(),role:"group","aria-label":x.t("New Canvas")},t.a.createElement("div",{className:"p-canvas_template_options__header"},x.t("Get Started")),t.a.createElement("div",{className:Object(A.default)("p-canvas_template_options__buttons",{"p-canvas_template_options__buttons--ia4":Xt})},t.a.createElement(S.a,{disableHeight:!0},Ee=>{let{width:Dt}=Ee;return t.a.createElement(f.b,{keys:Je,ref:It,height:Je.length*X,width:Dt,rowRenderer:dt,onItemKeyDown:nt,onItemClick:jt,"aria-label":x.t("Templates")})}))))},"CanvasTemplateOptions");ne.displayName="CanvasTemplateOptions";var Z=p.b=ne},"59uo":function(w,p,e){"use strict";e.d(p,"a",function(){return i}),e.d(p,"c",function(){return I}),e.d(p,"d",function(){return y}),e.d(p,"b",function(){return G});var a=e("ZKjC"),t=e("Zbwg"),m=e("i9jZ"),O;const i=Object(a.b)(u=>{var d;return(O=(d=u.tiles)===null||d===void 0?void 0:d.activeTile)!==null&&O!==void 0?O:null});var v;i.meta={name:"createSelector",key:"createSelectorgetActiveTileKey",description:u=>{var d;return(v=(d=u.tiles)===null||d===void 0?void 0:d.activeTile)!==null&&v!==void 0?v:null}};var T;const I=Object(a.b)(u=>{var d;return(T=(d=u.tiles)===null||d===void 0?void 0:d.tiles)!==null&&T!==void 0?T:{}});var r;I.meta={name:"createSelector",key:"createSelectorgetTiles",description:u=>{var d;return(r=(d=u.tiles)===null||d===void 0?void 0:d.tiles)!==null&&r!==void 0?r:{}}};var E;const y=Object(a.b)(u=>{var d;return(E=(d=u.tiles)===null||d===void 0?void 0:d.layout)!==null&&E!==void 0?E:[]});var f;y.meta={name:"createSelector",key:"createSelectorgetTilesLayout",description:u=>{var d;return(f=(d=u.tiles)===null||d===void 0?void 0:d.layout)!==null&&f!==void 0?f:[]}};const l=Object(a.b)((u,d)=>{var h;return((h=u.tiles)===null||h===void 0?void 0:h.tiles)&&u.tiles.tiles[d]});l.meta={name:"createSelector",key:"createSelectorgetTileByKey",description:(u,d)=>{var h;return((h=u.tiles)===null||h===void 0?void 0:h.tiles)&&u.tiles.tiles[d]}};const g=Object(a.b)(u=>{var d,h;return!!(!((d=u.tiles)===null||d===void 0||(h=d.layout)===null||h===void 0)&&h.length)&&!Object(m.a)(u)});g.meta={name:"createSelector",key:"createSelectorisTileOpen",description:u=>{var d,h;return!!(!((d=u.tiles)===null||d===void 0||(h=d.layout)===null||h===void 0)&&h.length)&&!Object(m.a)(u)}};var j;const _=Object(a.b)(u=>{var d;return(j=(d=u.tiles)===null||d===void 0?void 0:d.minimizedLayout)!==null&&j!==void 0?j:[]});var A;_.meta={name:"createSelector",key:"createSelectorgetMinimizedLayout",description:u=>{var d;return(A=(d=u.tiles)===null||d===void 0?void 0:d.minimizedLayout)!==null&&A!==void 0?A:[]}};const Y=Object(a.b)(u=>{var d;if(!((d=u.tiles)===null||d===void 0)&&d.activeTile)return u.tiles.tiles[u.tiles.activeTile]});Y.meta={name:"createSelector",key:"createSelectorgetActiveTile",description:u=>{var d;if(!((d=u.tiles)===null||d===void 0)&&d.activeTile)return u.tiles.tiles[u.tiles.activeTile]}};const N=Object(a.b)((u,d)=>{var h;if(!g(u))return!1;const D=I(u);return!!(!((h=y(u))===null||h===void 0)&&h.some(F=>{var x;return(D==null||(x=D[F])===null||x===void 0?void 0:x.view)===d}))});N.meta={name:"createSelector",key:"createSelectorisViewOpenInTile",description:(u,d)=>{var h;if(!g(u))return!1;const D=I(u);return!!(!((h=y(u))===null||h===void 0)&&h.some(F=>{var x;return(D==null||(x=D[F])===null||x===void 0?void 0:x.view)===d}))}};const S=Object(a.b)((u,d)=>{var h;if(!g(u)||!N(u,d))return null;const D=I(u);return(h=y(u))===null||h===void 0?void 0:h.find(F=>{var x;return(D==null||(x=D[F])===null||x===void 0?void 0:x.view)===d})});S.meta={name:"createSelector",key:"createSelectorgetTileKeyByView",description:(u,d)=>{var h;if(!g(u)||!N(u,d))return null;const D=I(u);return(h=y(u))===null||h===void 0?void 0:h.find(F=>{var x;return(D==null||(x=D[F])===null||x===void 0?void 0:x.view)===d})}};const V=Object(a.b)(u=>{var d;if(!g(u))return!1;const h=I(u);return!!(!((d=y(u))===null||d===void 0)&&d.some(D=>{var F,x;return(h==null||(F=h[D])===null||F===void 0?void 0:F.view)==="thread"||Object(t.a)(h==null||(x=h[D])===null||x===void 0?void 0:x.view)}))});V.meta={name:"createSelector",key:"createSelectorisChannelOrThreadOpenInTile",description:u=>{var d;if(!g(u))return!1;const h=I(u);return!!(!((d=y(u))===null||d===void 0)&&d.some(D=>{var F,x;return(h==null||(F=h[D])===null||F===void 0?void 0:F.view)==="thread"||Object(t.a)(h==null||(x=h[D])===null||x===void 0?void 0:x.view)}))}};const J=Object(a.b)(u=>{let d=Y(u);if(!d&&g(u)){var h;const x=I(u),te=(h=y(u))===null||h===void 0?void 0:h.find(H=>{var X,re;return(x==null||(X=x[H])===null||X===void 0?void 0:X.view)==="thread"||Object(t.a)(x==null||(re=x[H])===null||re===void 0?void 0:re.view)});te&&(d=x==null?void 0:x[te])}if(!d)return{};const{view:D,params:F}=d;return D==="thread"?{threadId:F==null?void 0:F.threadId}:Object(t.a)(D)?{channelId:D}:{}});J.meta={name:"createSelector",key:"createSelectorinferChannelOrThreadIdInOpenTile",description:u=>{let d=Y(u);if(!d&&g(u)){var h;const x=I(u),te=(h=y(u))===null||h===void 0?void 0:h.find(H=>{var X,re;return(x==null||(X=x[H])===null||X===void 0?void 0:X.view)==="thread"||Object(t.a)(x==null||(re=x[H])===null||re===void 0?void 0:re.view)});te&&(d=x==null?void 0:x[te])}if(!d)return{};const{view:D,params:F}=d;return D==="thread"?{threadId:F==null?void 0:F.threadId}:Object(t.a)(D)?{channelId:D}:{}}};const G=Object(a.b)(u=>{var d;return(d=u.tiles)===null||d===void 0?void 0:d.dockedViewToRestore});G.meta={name:"createSelector",key:"createSelectorgetDockedViewToRestore",description:u=>{var d;return(d=u.tiles)===null||d===void 0?void 0:d.dockedViewToRestore}};const C=Object(a.b)(u=>Object.values(I(u)||[]).filter(d=>{var h;return(h=d.params)===null||h===void 0?void 0:h.draftId}).map(d=>{var h;return(h=d.params)===null||h===void 0?void 0:h.draftId}));C.meta={name:"createSelector",key:"createSelectorgetDraftIdsInTiles",description:u=>Object.values(I(u)||[]).filter(d=>{var h;return(h=d.params)===null||h===void 0?void 0:h.draftId}).map(d=>{var h;return(h=d.params)===null||h===void 0?void 0:h.draftId})}},"6I59":function(w,p,e){w.exports=e.p+"nfx-welcome-modal-9897cea.png"},"6OGp":function(w,p,e){"use strict";e.d(p,"a",function(){return O});var a=e("JoR1"),t=e("SpKr"),m=e("RVJP");function O(i){const v=Object(a.t)(i,"seen_a11y_pref_setup_coachmark"),T=Object(t.a)(i)>=30;return Object(m.d)(i,"exp_a11y_education_coachmark")==="on"&&!v&&T}s(O,"isUserEligibleForA11yPrefsSetupCoachmark")},"75t7":function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("Cfcg"),O=e("bPB8"),i=e("nNoG"),v=e("Jahv"),T=e("RYr5"),I=e("kme9"),r=e("XZo2"),E=e("SQ0V"),y=e("Wn1n"),f=e("s4P+"),l=e("mLC8"),g=e("Aqju"),j=e("RV0M"),_=e("2VFn");const A=Object(E.c)("Resets a pending channel switch for tracing purposes",(ne,Z,ae,se)=>{let{channelId:fe}=ae;var Ie;const ye=Z(),{shouldUseNavigate:De,getSiblingView:Ae}=se(j.a),qe=De?(Ie=Ae(ye,{container:_.h.Primary}))===null||Ie===void 0?void 0:Ie.id:Object(y.a)(ye),Et=Object(f.a)({getState:Z,label:"SWITCH-TO-CHANNEL"});try{l.d.remove({label:l.a.ChannelSwitch}),Object(g.a)({state:ye,channelId:fe})}catch(Ne){Et.warn(Ne,`Could not reset channel switch from ${qe} to ${fe}`)}});A.meta={name:"createThunk",key:"createThunkresetPendingChannelSwitch",description:"Resets a pending channel switch for tracing purposes"};var Y=e("iodP"),N=e("YCgu"),S=e("IrZ5"),V=e("E3dU"),J=e("rwY5"),G=e("fuYn"),C=e("Yauy"),u=e("HKlo"),d=e("zNRp"),h=e("VkPA"),D=e("kBd7"),F=e("BfA7"),x=e("j0Mw"),te=e("tF1a"),H=e("rZ8V");const X=new i.b("app_space");let re=s(class extends a.PureComponent{componentDidMount(){this.maybeRedirectToNewTab()}componentDidUpdate(Z){if(!this.props.isAppHomeStateLoading&&Z.isAppHomeStateLoading||this.props.channelId!==Z.channelId)this.maybeRedirectToNewTab();else if(Z.tab!==this.props.tab){const ae=this.currentTabIsValid()?this.props.tab:void 0;this.dispatchAppHomeOpenEvent(ae)}else if(Z.appHomeContextTeamId&&this.props.appHomeContextTeamId&&Z.appHomeContextTeamId!==this.props.appHomeContextTeamId){const ae=this.currentTabIsValid()?this.props.tab:void 0;this.dispatchAppHomeOpenEvent(ae)}this.currentTabIsValid()&&Z.channelId!==this.props.channelId&&(this.props.tab===te.a.App?this.props.transitionFocusTo({focusKey:u.c.APP_HOME_TAB}):this.props.tab===te.a.About&&this.props.transitionFocusTo({focusKey:u.c.APP_ABOUT_TAB}))}getValidTabs(){const{badgeCount:Z}=this.props;return Object(O.a)([this.props.isHomeEnabled?{id:te.a.App,title:X.t("Home"),content:t.a.createElement(t.a.Fragment,null),"data-qa":te.a.Home}:null,this.props.isMessagesEnabled?{id:te.a.Messages,title:t.a.createElement("span",null,X.t("Messages"),Z?t.a.createElement(d.b,{className:"p-classic_nav__model__title__name__tabs__badge",count:Z,style:d.a.red}):null),content:t.a.createElement(t.a.Fragment,null),"data-qa":te.a.Messages,"aria-label":X.t("Messages")}:null,{id:te.a.About,title:X.t("About"),content:t.a.createElement(t.a.Fragment,null),"data-qa":te.a.About}])}setTabId(Z){let{shouldReplaceState:ae}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{tab:se,channelId:fe,experimentIA4GroupOn:Ie}=this.props;se!==Z&&(Z!==te.a.Messages?this.props.setTab({tabId:Z,channelId:fe,shouldReplaceState:ae}):(this.props.resetPendingChannelSwitch({channelId:fe}),this.props.setTab({tabId:Ie?Z:void 0,channelId:fe,shouldReplaceState:ae})))}currentTabIsValid(){const{tab:Z}=this.props;return!!this.getValidTabs().find(ae=>ae.id===Z)}dispatchAppHomeOpenEvent(Z){const{channelId:ae,appHomeContextTeamId:se}=this.props;let fe=Z||te.a.Messages;fe===te.a.App&&(fe=te.a.Home);const Ie={channelId:ae,appHomeSection:fe};return se&&(Ie.serviceTeamId=se),this.props.callAppHomeOpenEventByChannelId(Ie)}focus(){if(this.tabsRef){var Z;(Z=this.tabsRef.current)===null||Z===void 0||Z.focus()}}handleTabChange(Z){this.setTabId(Z)}maybeRedirectToNewTab(){const{channelId:Z,isEnabled:ae,isAppHomeStateLoading:se}=this.props;if(!ae||se)return;let fe=this.props.tab;this.currentTabIsValid()?this.dispatchAppHomeOpenEvent(fe):(fe=this.getValidTabs()[0].id,this.setTabId(fe,{shouldReplaceState:!0})),this.props.clogDMOpen({channelId:Z,tabId:fe})}render(){const{tab:Z,isEnabled:ae,isAppHomeStateLoading:se,channelId:fe}=this.props;if(!ae||se)return null;const Ie=this.getValidTabs(),ye=this.currentTabIsValid()?Z:void 0,De=Ie.map(Ae=>Ae.id).join(",");return t.a.createElement("div",{className:"p-classic_nav__model__title__name__tabs__workspace p-classic_nav__model__title__name__tabs__workspace_ia"},t.a.createElement(x.a,{remove:ye!==te.a.Messages}),t.a.createElement(h.a,{key:De,currentTabId:ye,defaultTabId:Ie[0].id,tabs:Ie,onTabChange:this.handleTabChange,ref:this.tabsRef}),t.a.createElement(v.b,{channelId:fe,canAddBookmarks:!0}))}constructor(Z){super(Z),this.handleTabChange=this.handleTabChange.bind(this),this.focus=this.focus.bind(this),this.tabsRef=t.a.createRef()}},"ModelInfoAppImTabs");re.displayName="ModelInfoAppImTabs";const je=s((ne,Z)=>{const ae=Object(H.o)(ne),se=Z.channelId||Object(y.a)(ne),fe=Object(N.a)(ne,{windowId:Z.windowId,container:Z.container})||(ae?te.a.App:te.a.Messages),Ie=Object(C.Y)(ne,se),{isLoading:ye,isHomeEnabled:De,isMessagesEnabled:Ae}=Object(J.b)(ne,se),qe=Object(V.d)(ne,se),Et=Ae||Object(r.l)(ne)&&fe===te.a.Messages||qe&&Object(C.R)(qe)||Object(C.v)(ne,se),Ne=qe?Object(V.c)(ne,qe):0,tt=Object(G.a)(ne,{channelId:se});var ta;const ct=(ta=Object(C.L)(qe))!==null&&ta!==void 0?ta:0;return{channelId:se,tab:fe,badgeCount:Ne,isEnabled:Ie,isAppHomeStateLoading:ye,isHomeEnabled:De,isMessagesEnabled:Et,pinnedItemsCount:ct,appHomeContextTeamId:tt,experimentIA4GroupOn:ae}},"mapStateToProps"),ie=s(ne=>({setTab:function(){for(var Z=arguments.length,ae=new Array(Z),se=0;se<Z;se++)ae[se]=arguments[se];return ne(Object(S.a)(...ae))},callAppHomeOpenEventByChannelId:function(){for(var Z=arguments.length,ae=new Array(Z),se=0;se<Z;se++)ae[se]=arguments[se];return ne(Object(T.b)(...ae))},clogDMOpen:function(){for(var Z=arguments.length,ae=new Array(Z),se=0;se<Z;se++)ae[se]=arguments[se];return ne(Object(I.a)(...ae))},resetPendingChannelSwitch:function(){for(var Z=arguments.length,ae=new Array(Z),se=0;se<Z;se++)ae[se]=arguments[se];return ne(A(...ae))},updateTabForWindowAndViewContainer:function(){for(var Z=arguments.length,ae=new Array(Z),se=0;se<Z;se++)ae[se]=arguments[se];return ne(Object(Y.a)(...ae))}}),"mapDispatchToProps");var ve=p.a=Object(F.a)(Object(m.a)(je,ie)(Object(D.a)(re)))},"7jQe":function(w,p,e){w.exports=e.p+"calendar-1@2x-a0d0550.png"},"7njD":function(w,p,e){"use strict";e.r(p);var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("zxER"),i=e("Trx9"),v=e("zEKE"),T=e("Qy8E"),I=e("eJPC"),r=e("PAox"),E=e("GiOu"),y=e("ktUG"),f=e("ZobM"),l=e("69o4"),g=e("uVZW"),j=e("i9jZ"),_=e("/0Xg"),A=e("iUFw"),Y=e("s9Q6"),N=e("nNoG");const S=new N.b("trials_highlight_paid_features"),V={elementName:"create_canvas",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},J={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},G={elementName:"upgrade",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},C=s(d=>{let{isEligibleForTrial:h}=d;const D=Object(m.useDispatch)(),F=Object(O.d)(Y.i),x=Object(a.useCallback)(ne=>{D(Object(T.a)({source:I.a.CANVAS_PAGE_EMPTY_STATE_FREEMIUM,inTile:Object(j.d)(ne)}))},[D]),te=Object(a.useCallback)(()=>{D(Object(l.a)({spaceName:g.g.CHANNEL_CANVAS_FOOTER,action:g.f.DISMISS}))},[D]),H=Object(a.useCallback)(()=>{D(Object(r.a)({uiComponentVariant:y.UiComponentVariant.CANVAS_NUX_COACHMARK}))},[D]),X=F?t.a.createElement(f.a,{name:"sparkles",variation:"filled","data-qa":"canvas_nux_coachmark_sparkles"}):t.a.createElement(E.b,{className:"p-canvas_nux_coachmark__header_pro_badge","data-qa":"canvas_nux_coachmark_pro_badge"}),re=t.a.createElement("div",{className:"p-canvas_nux_coachmark__header"},t.a.createElement("span",{className:"p-canvas_nux_coachmark__header_icon"},X),S.t("Create unlimited canvases")),je=t.a.createElement("div",{className:"p-canvas_nux_coachmark__content"},S.t("Every conversation has a built-in canvas, but you can also create your own. Jot down ideas, or collaborate on proposals\u2014the sky is the limit.")),ie=s(()=>{const ne=Object(_.u)({entryPoint:"canvas_nux_coachmark",feature:_.h.UNLIMITED_CANVAS});return F?t.a.createElement(A.a,{"data-qa":"canvas_nux_coachmark_trial_cta",type:"primary",onClick:x,autoClogProps:V},S.t("Create Canvas")):h?t.a.createElement(A.a,{className:"p-canvas_nux_coachmark__cta","data-qa":"canvas_nux_coachmark_trial_eligible_cta",type:"primary",onClick:H,autoClogProps:J},S.t("Try It")):t.a.createElement(A.a,{"data-qa":"canvas_nux_coachmark_trial_ineligible_cta",href:ne,type:"outline",autoClogProps:G},S.t("See Upgrade Options"))},"getPrimaryCTA");ie.displayName="getPrimaryCTA";const ve=s(()=>F?y.UiComponentVariant.TRIAL_TEAM:h?y.UiComponentVariant.TRIAL_ELIGIBLE:y.UiComponentVariant.TRIAL_INELIGIBLE,"getUiComponentVariant");return t.a.createElement(i.a,{eventId:y.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:y.UiComponentName.CANVAS_NUX_COACHMARK,uiComponentVariant:ve(),clogImpression:!0},t.a.createElement(v.a,{heading:re,primaryCTA:ie(),customIcon:t.a.createElement(t.a.Fragment,null),useRoundedCorners:!1,onDismiss:te},je))},"CanvasNUXCoachmark");C.displayName="CanvasNUXCoachmark";var u=p.default=C},"7s2w":function(w,p,e){"use strict";e.d(p,"a",function(){return i});var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("GNR7");const i=s(v=>{const T=Object(m.d)(y=>Object(O.a)(y,v)!==null),I=Object(m.d)(y=>Object(O.E)(y,v)),[r,E]=Object(a.useState)(I);return Object(a.useEffect)(()=>{T?I&&E(!0):E(!1)},[T,I]),I||r},"useWasUserEverInActiveHuddleInChannel")},"82u4":function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("/MKj"),i=e("GjPs"),v=e("nNoG"),T=e("hwN2"),I=e("A/mR"),r=e("4KfL"),E=e("BHdc"),y=e("1SRd"),f=e("qDEp"),l=e("Tsh7"),g=e("Y1K6"),j=e("d4KS"),_=e("xwCZ"),A=e("dmdh"),Y=e("+tZp");const N=new v.b("quip");function S(fe){let{fileId:Ie,hideTimeAgo:ye,isMenuItem:De}=fe;var Ae;Object(j.a)(30*1e3);const qe=Object(m.d)(Ut=>Object(A.e)(Ut,Ie,!1)),Et=Object(i.a)(Ie),Ne=Object(g.a)(Ie);var tt;const ta=(tt=(Ae=qe.editors)===null||Ae===void 0?void 0:Ae[0])!==null&&tt!==void 0?tt:Ne,ct=Object(m.d)(Ut=>Object(_.g)(Ut,ta)),kt=Object(m.d)(Ut=>Object(Y.a)(Ut,ct)),xt=qe.user,Be=Object(m.d)(Ut=>Object(_.g)(Ut,xt)),Bt=Object(m.d)(Ut=>Object(Y.a)(Ut,Be));if(!Et)return null;const Zt=Object(T.a)(Et,{alwaysAgo:!0});return De?t.a.createElement(t.a.Fragment,null,N.t("Last edited by"),t.a.createElement("div",{className:"c-menu_item__description"},N.rt("{creatorName}, {timeAgo}",{creatorName:kt||Bt,timeAgo:Zt}))):ye?t.a.createElement("span",null,t.a.createElement("p",{className:"p-quip_popout__info_block_label"},N.rt("Last edited by {creatorName}",{creatorName:kt||Bt}))):t.a.createElement("span",null,t.a.createElement("p",{className:"p-quip_popout__info_block_label"},N.t("Last edited by")),t.a.createElement("p",{className:"p-quip_popout__info_block_data"},N.rt("{creatorName}, {timeAgo}",{creatorName:kt||Bt,timeAgo:Zt})))}s(S,"QuipLastUpdated");var V=e("ARYk"),J=e("Cfcg");const G=new v.b("quip");function C(fe){let{fileId:Ie,hideTimeAgo:ye,creatorName:De,creationTs:Ae}=fe;if(!Object(V.a)(Ie))return null;const Et=Object(T.a)(Ae,{alwaysAgo:!0});return ye?t.a.createElement("span",null,t.a.createElement("p",{className:"p-quip_popout__info_block_label"},G.rt("Created by {creatorName}",{creatorName:De}))):t.a.createElement("span",null,t.a.createElement("p",{className:"p-quip_popout__info_block_label"},G.t("Created by")),t.a.createElement("p",{className:"p-quip_popout__info_block_data"},G.rt("{creatorName}, {timeAgo}",{creatorName:De,timeAgo:Et})))}s(C,"QuipCreatedBy"),C.displayName="QuipCreatedBy";const u=s((fe,Ie)=>{let{fileId:ye}=Ie;const De=Object(A.e)(fe,ye,!1),Ae=De==null?void 0:De.user,qe=Object(_.g)(fe,Ae),Et=Object(Y.a)(fe,qe),Ne=De&&De.created;return{creatorName:Et,creationTs:Ne}},"mapStateToProps");var d=Object(J.a)(u)(C),h=e("aBhT"),D=e("P9LH"),F=e("0HzJ"),x=e("RVJP"),te=e("pFNT");function H(){return H=Object.assign||function(fe){for(var Ie=1;Ie<arguments.length;Ie++){var ye=arguments[Ie];for(var De in ye)Object.prototype.hasOwnProperty.call(ye,De)&&(fe[De]=ye[De])}return fe},H.apply(this,arguments)}s(H,"_extends");const X={isInteractive:!1},re=s(fe=>{let{memberId:Ie,avatarSize:ye}=fe;const De=Object(m.d)(qe=>Object(_.g)(qe,Ie)),Ae=Object(m.d)(qe=>Object(Y.a)(qe,De));return t.a.createElement(l.d,{tip:Ae},t.a.createElement("div",{className:"p-canvas_recent_editors__avatar"},t.a.createElement(te.c,H({userId:Ie,size:ye},X))))},"EditorAvatar");re.displayName="EditorAvatar";const je=s(fe=>{let{memberIds:Ie,maxNumAvatars:ye,avatarSize:De=20}=fe;if(!Ie.length)return null;const Ae=Ie.slice(0,ye);return t.a.createElement("div",{className:"p-canvas_recent_editors__avatar_stack"},Ae.map(qe=>t.a.createElement(re,{key:qe,memberId:qe,avatarSize:De})))},"AvatarStack");je.displayName="AvatarStack";var ie=e("K5hs");const ve=new v.b("quip"),ne=60*1e3,Z=30,ae=s(fe=>{let{className:Ie,fileId:ye,showEditors:De=!1,editorAvatarSize:Ae=20,shouldOpenVersionHistory:qe=!0,shouldTruncate:Et=!1,onlyShowIfRecent:Ne=!1}=fe;const tt=Object(m.d)(Ge=>Object(A.e)(Ge,ye)),ta=!!Object(m.d)(r.a),ct=Object(m.d)(Ge=>Object(x.d)(Ge,"channel_canvas_updates_m2")==="on"||Object(x.d)(Ge,"channel_canvas_highlights_badging")==="on"),kt=Object(i.a)(ye),[xt,Be]=Object(a.useState)(Date.now()),{isChannelSpace:Bt}=Object(ie.a)({fileId:ye}),Zt=Object(O.useDispatch)(),Ut=Object(g.a)(ye),Da=Object(a.useMemo)(()=>{var Ge;if(!(tt==null||(Ge=tt.editors)===null||Ge===void 0)&&Ge.length)return tt.editors;if(Ut)return[Ut]},[tt.editors,Ut]);let ia=Object(T.a)(kt,{alwaysAgo:!0,currentTime:xt});ia=ia.replace("< 1 minute ago",ve.t("just now")).replace(/minutes?/,"min"),Object(y.a)(()=>{Be(Date.now())},ne);const da=ve.t("View version history"),Xt=ve.rt("Edited {timeStr}",{timeStr:ia}),Ka=s(()=>Object(D.Wb)(tt)?t.a.createElement("div",{className:"p-quip_flexpane__last_updated_reminder_tooltip_block_data"},t.a.createElement("span",{className:"p-quip_flexpane__last_updated_reminder_tooltip_label"},da),t.a.createElement(S,{fileId:ye,hideTimeAgo:!0}),!Bt&&t.a.createElement(d,{fileId:ye,hideTimeAgo:!0})):ct?t.a.createElement("div",{className:"p-quip_flexpane__last_updated_reminder_tooltip_block_data"},t.a.createElement("span",{className:"p-quip_flexpane__last_updated_reminder_tooltip_label"},t.a.createElement(S,{fileId:ye,hideTimeAgo:!0})),!Bt&&t.a.createElement(d,{fileId:ye,hideTimeAgo:!0})):null,"getTooltip");Ka.displayName="getTooltip";const aa=s(()=>{Zt(Object(F.a)({fileId:ye}))},"viewVersionHistory");if(!kt)return null;const vt=Object(I.e)(new Date,kt);return ct&&Ne&&vt>Z?null:qe?ta&&Object(D.Wb)(tt)?t.a.createElement(l.d,{tip:Ka,position:"bottom",maxWidth:"large"},t.a.createElement(f.a,{type:"outline",size:"small",className:Object(E.default)("p-quip_flexpane__last_updated_reminder_button",Ie),onClick:aa},ct&&De&&Da&&t.a.createElement(je,{memberIds:Da,maxNumAvatars:2,avatarSize:Ae}),Et?t.a.createElement("div",{className:"p-quip_flexpane__last_updated_reminder_button_text"},Xt):Xt)):t.a.createElement(l.d,{tip:Ka,position:"bottom",maxWidth:"large"},t.a.createElement("div",{className:Object(E.default)("p-quip_flexpane__last_updated_reminder",Ie)},Et?t.a.createElement(h.a,{lines:1,breakWords:!1},Xt):Xt)):t.a.createElement("div",{className:Object(E.default)("p-quip_flexpane__last_updated_reminder",Ie)},De&&Da&&t.a.createElement(je,{memberIds:Da,maxNumAvatars:2}),Et?t.a.createElement(h.a,{lines:1,breakWords:!1,withTooltip:!0},Xt):Xt)},"QuipLastUpdatedReminder");ae.displayName="QuipLastUpdatedReminder";var se=p.a=ae},"8Rho":function(w,p,e){w.exports=e.p+"calendar-1-71560bc.png"},"8Wv3":function(w,p,e){"use strict";var a=e("/MKj"),t=e("q1tI"),m=e.n(t),O=e("nNoG"),i=e("7JUD"),v=e("UQe9"),T=e.n(v),I=e("+kJ4"),r=e("YUBf"),E=e("9oTK"),y=e("0FX9"),f=e.n(y),l=e("Lgge"),g=e("zxER"),j=e("9Gfp"),_=e("O86Y");const A=new O.b("mobile_app_promos"),Y=s(u=>{let{eventId:d}=u;const h=Object(O.m)(),[D,F]=Object(t.useState)(),x=Object(g.d)(j.a),te=Object(g.d)(_.g);let H="www.slack.com/download";h!=="en-US"&&(H=H.replace("/download",`/intl/${h}/downloads`));const X=Object(t.useCallback)(function(){var ie=Object(E.coroutine)(function*(ve){return new l.a(ne=>{ne(f.a.toDataURL(`${ve}?src=qr_code&event_id=${d}&user_id=${x}&team_id=${te}`))})});return function(ve){return ie.apply(this,arguments)}}(),[d,x,te]),re=Object(t.useCallback)(Object(E.coroutine)(function*(){const ie=yield X(H);F(ie)}),[H,X]);Object(t.useEffect)(()=>{re()},[re]);const je=A.t("Scan the code below with your mobile device and we\u2019ll take you to where you need to go to download the app.",{fallbackHash:"81faf152a5d90c4d186098bc214e5dfbc8795218"});return m.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action"},m.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action_copy--wrapper"},je),m.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action--wrapper"},D&&m.a.createElement("img",{alt:A.t("Quick Response (QR) code to download the Slack mobile app"),className:"p-mobile_download_modal__qr_code_action--image","data-qa":"qr-download-link-image",src:D})))},"QrCodeAction");Y.displayName="QrCodeAction";var N=Y,S=e("Trx9"),V=e("ktUG");const J=new O.b("mobile_app_promos"),G=s(u=>{let{eventId:d}=u;const h=Object(a.useDispatch)(),D=Object(t.useCallback)(()=>h(Object(I.a)()),[h]),F=J.t("Download the Slack mobile app"),x=J.t("Hands holding a mobile phone");let te=null;const H=Object(t.useCallback)(()=>{D(),te==null||te({action:V.UiAction.CLOSE,elementName:"close_download_mobile_modal"})},[D,te]);return m.a.createElement(S.a,{eventId:d,uiStep:V.UiStep.QR_CODE_DOWNLOAD_MODAL,trackClogRef:X=>{te=X}},m.a.createElement(i.a,{contentLabel:F,closeModal:H,isOpen:!0,centered:!0,dataQa:"mobile-download-modal",className:"p-mobile_download_modal",describedby:"mobile-download-modal-described-by-label"},m.a.createElement(r.i,null,m.a.createElement("div",{className:"p-mobile_download_modal__img_wrapper"},m.a.createElement("img",{className:"p-mobile_download_modal__header_img",alt:x,src:T.a}))),m.a.createElement(r.d,null,m.a.createElement(r.l,{title:F}),m.a.createElement(r.e,{className:"p-mobile_download_modal__content_section"},m.a.createElement("span",{hidden:!0,id:"mobile-download-modal-described-by-label"},J.t("Scan QR code")),m.a.createElement(N,{eventId:d})))))},"MobileDownloadModal");G.displayName="MobileDownloadModal";var C=p.a=G},"9+Yh":function(w,p,e){"use strict";e.d(p,"a",function(){return r});var a=e("9oTK"),t=e.n(a),m=e("m8R6"),O=e("2XU3"),i=e("WCk1"),v=e("s4P+"),T=e("pjW8");const I={FeatureNotEnabled:"feature_not_enabled",WorkspaceNotFound:"workspace_not_found",EmailInvalid:"email_invalid",OperationNotAllowed:"operation_not_allowed",CouldNotCreateInvite:"could_not_create_invite",ActiveInvite:"active_invite",AlreadyInWorkspace:"already_in_workspace",RestrictedAction:"restricted_action"},r=Object(i.a)("externalWorkspaces.invites.sendByEmail generated fetcher",function(){var E=Object(a.coroutine)(function*(y,f,l){try{const g=["reason"],j=Object(m.a)(l,g),_=Object(T.b)(j);return yield y(Object(O.apiCall)({method:"externalWorkspaces.invites.sendByEmail",args:_,reason:l.reason}))}catch(g){throw Object(v.a)({getState:f}).error(`API call to externalWorkspaces.invites.sendByEmail
				with reason ${l.reason} failed, initiated by generated fetcher`),g}});return function(y,f,l){return E.apply(this,arguments)}}());r.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesSendByEmailFetcher",description:"externalWorkspaces.invites.sendByEmail generated fetcher"}},AHcl:function(w,p,e){"use strict";e.d(p,"a",function(){return Xt});var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("hbEN"),i=e("BHdc"),v=e("LK2A"),T=e("zrD9"),I=e("WSQ4"),r=e("+9Uj"),E=e("Gn4m"),y=e("ApMV"),f=e("iODX"),l=e("zxER"),g=e("ojBQ"),j=e("P9LH"),_=e("dmdh"),A=e("wKGu"),Y=e("HpvR"),N=e("hisJ"),S=e("mQiU"),V=e("BcBz"),J=e("NFkq"),G=e("AQdx"),C=e("4KfL"),u=e("somW"),d=e("HYuG"),h=e("SwdH"),D=e("UH+u"),F=e("I0j/"),x=e("37+L"),te=e("2VFn"),H=e("uiBO"),X=e("IlkI"),re=e("HkGY"),je=e("nNoG"),ie=e("aCsE"),ve=e("qbnm"),ne=e("PxW5"),Z=e("Lgge"),se=s(class{setDelegate(vt){this.delegate=vt}openInlineCommentsThread(vt){return this.openCommentsThread(vt.commentThreadId,vt)}tearDown(){}closeCommentsThread(){}openCommentsThread(vt,Ge){return this.onOpenCommentsThread(vt,Ge),Z.a.resolve(!0)}delegateCommentsThreadDidClose(vt,Ge){var He;(He=this.delegate)===null||He===void 0||He.commentsThreadDidClose(vt,Ge)}constructor(vt){this.onOpenCommentsThread=vt.onCommentThreadOpened}},"SimpleCommentsUiProvider"),fe=e("D1k6"),Ie=e("YpG3"),ye=e("u0bz"),De=e("wXOV"),Ae=e("G98/"),qe=e("Kcy5"),Ne=s((aa,vt,Ge)=>{const He=Object(a.useRef)(null),{currentlyOpenSlackThreadId:me}=Object(Ae.b)({fileId:aa,initialScrollPosition:void 0}),wt=Object(qe.a)(me);var zt;const It=Object(l.d)(Je=>(zt=Object(De.a)(Je,aa))!==null&&zt!==void 0?zt:""),_t=Object(m.useStore)(),{dispatch:jt}=_t,nt=Object(a.useCallback)((Je,we)=>{let{focusTarget:ot}=we;jt(Object(fe.a)({focusTarget:ot,entityId:vt,quipCommentThreadId:Je}))},[jt,vt]),Ea=Object(a.useCallback)(Je=>{var we;const ot=_t.dispatch(Object(Ie.a)({commentThreadId:Je,fileId:aa}));if((we=He.current)===null||we===void 0||we.delegateCommentsThreadDidClose(Je,ot),ot){var Yt;(Yt=ye.b.get(_t.getState()))===null||Yt===void 0||Yt.onCommentThreadDeleted(It,Je)}},[It,_t,aa]),dt=Object(a.useCallback)(()=>{const Je=s(function(we){let ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};jt(Object(F.a)(Object(x.S)({entityId:vt,commentThreadId:we}))),nt(we,ot)},"setThreadId");return He.current=new se({onCommentThreadOpened:Je}),He.current},[jt,vt,nt]);return Object(a.useEffect)(()=>{wt&&wt!==me&&(Ea(wt),Ge())},[me,Ea,Ge,wt]),dt},"useCommentsUiProvider"),tt=e("gast"),ta=e("3iY/"),ct=e("Zw6N"),kt=e("4eGI"),xt=e("l1I1"),Be=e("NV6F"),Bt=e("lIpX"),Zt=e("/46j"),Ut=e("PVw+");const Da=new je.b("quip_view"),ia={COMMENT_STREAM:"comment_stream",COMMENT_THREAD:"comment_thread",ACTIVITY_HISTORY:"activity_history"};function da(aa){let{id:vt}=aa;var Ge,He,me,wt;const{window:zt,windowId:It}=Object(a.useContext)(I.a),_t=Object(m.useDispatch)(),{view:jt,windowId:nt,getSiblingView:Ea}=Object(a.useContext)(S.a),dt=Object(l.d)(Mt=>Ea(Mt,{container:te.h.Secondary})),Je=vt||Object(ne.e)(jt),we=jt==null||(Ge=jt.params)===null||Ge===void 0?void 0:Ge.versionId,ot=jt==null||(He=jt.params)===null||He===void 0?void 0:He.sequence,Yt=Object(h.a)(),Ee=(dt==null?void 0:dt.id)===ia.COMMENT_THREAD||(dt==null?void 0:dt.id)===ia.COMMENT_STREAM,Dt=Object(A.a)(),St=!!Object(l.d)(C.a),W=Object(l.g)(Mt=>Object(N.b)(Mt,It)),ee=Object(l.d)(tt.a),We=Object(l.d)(Mt=>Object(g.a)(Mt,Je))||Je,{fileId:Ze}=Object(Y.b)(We),Pt=Object(l.d)(Mt=>Ze?Object(_.e)(Mt,Ze):null);var bt;const la=Object(l.d)(Mt=>(bt=Object(Zt.b)(Mt,Ze))!==null&&bt!==void 0?bt:!0),[Ia,Fa]=Object(a.useState)(),[_a,ja]=Object(a.useState)(!1),[Sa,ga]=Object(a.useState)(!1),[Qt,nn]=Object(a.useState)(!1),[Va,Ye]=Object(a.useState)(!1),[Jt,q]=Object(a.useState)(null),[ma,cn]=Object(a.useState)(!1),Ga=Object(a.useRef)(null),wa=Object(a.useRef)(null);var At;const qa=(At=Object(kt.a)((me=Ga.current)===null||me===void 0?void 0:me.textSectionOverlayShowing))!==null&&At!==void 0?At:!0,Nn=Object(Be.H)(Ze),fn=Nn!==void 0,ka=!!Object(kt.a)(Nn==null?void 0:Nn.deleted),za=Object(a.useCallback)(()=>{(dt==null?void 0:dt.viewType)===H.b.QuipCommentThread&&we&&ot&&_t(Object(F.a)(Object(x.Q)(Je)))},[dt==null?void 0:dt.viewType,we,ot,Je,_t]),In=Ne(Ze,Je,za),Xa=Object(a.useCallback)(()=>{Object(D.a)({clogger:Dt,fileId:Je,open:Ee}),_t(Object(F.a)(Object(x.R)(Je,W)))},[Dt,Je,Ee,W,_t]),Ya=Object(a.useCallback)((Mt,$t)=>{const Rt=s(Cn=>Object.values(ta.a).includes(Cn),"isCannedTemplateTriggerType");if(Mt===v.TemplateTriggerType.BLANK_PAGE&&ga(!0),Rt(Mt)){const Cn=ee.find(Qn=>Qn.template_name===Mt);if(Cn){if(Ye(!0),nn(!0),Object(xt.b)(Ze)){q({templateTriggerType:Mt,templateTriggerOptions:$t});return}_t(Object(ct.a)({templateFileId:Cn.id,targetFileId:Ze,title:Cn.title,isStandaloneCanvas:!0})).finally(()=>{nn(!1)})}}},[Ze,ee,_t]);Object(a.useEffect)(()=>{!Object(xt.b)(Ze)&&Jt&&(Ya(Jt.templateTriggerType,Jt.templateTriggerOptions),q(null))},[Ze,Ya,Jt]),Object(a.useEffect)(()=>{!qa&&Va&&Ye(!1)},[qa,Va]);const Oa=Object(a.useMemo)(()=>({fileId:Ze,focus:()=>{var Mt,$t;return(Mt=Ga.current)===null||Mt===void 0||($t=Mt.docEditor)===null||$t===void 0?void 0:$t.focusEditor()},focusSection:Mt=>{var $t,Rt;return($t=Ga.current)===null||$t===void 0||(Rt=$t.docEditor)===null||Rt===void 0?void 0:Rt.focusSection(Mt)}}),[Ze,Ga]),Os=Object(a.useCallback)(Mt=>{var $t;const Rt=Mt.target.getAttribute("data-format");Rt==="start-thread"||Rt==="open-thread"||Rt==="link"||($t=Oa.focus)===null||$t===void 0||$t.call(Oa)},[Oa]),Dn=Object(a.useCallback)(()=>{var Mt,$t,Rt;Fa((Rt=wa==null||(Mt=wa.current)===null||Mt===void 0||($t=Mt.parentElement)===null||$t===void 0?void 0:$t.getBoundingClientRect())===null||Rt===void 0?void 0:Rt.width)},[]);Object(a.useEffect)(()=>{const Mt=Object(O.a)(Dn,150);return zt.addEventListener("resize",Mt),()=>zt.removeEventListener("resize",Mt)},[Dn,zt]),Object(a.useEffect)(()=>{we&&ot&&(ja(!1),_t(Object(V.c)({windowId:nt,versionId:we})))},[_t,we,ot,ja,nt]);const bn=Object(l.d)(Mt=>Object(j.wb)(Pt,Mt)),_n=bn?500:400,mn=St&&we&&ot,{enableSectionNavigation:un,sectionIndex:Un}=Object(d.c)(d.b.Header,!1),{sectionIndex:ze,enableSectionNavigation:ce}=Object(d.c)(d.b.EmptyCanvasTemplateOptions,!1),[Le,Ke]=Object(a.useState)(!bn),at=Object(a.useCallback)(()=>{Ke(!Le)},[Le]),ua=s(()=>{if(!Pt||!Object(j.Yb)(Pt)||_a)return t.a.createElement(ie.b,{isLoadingHistory:_a,fileId:Pt==null?void 0:Pt.id});let Mt;return mn?Mt=t.a.createElement(X.a,{className:"p-quip_popout__header",versionId:we}):Mt=t.a.createElement(re.b,{"aria-label":Da.t("Canvas Actions"),className:"p-quip_popout__header"},t.a.createElement("div",{className:"p-quip_popout__title"},t.a.createElement(y.a,{id:We}),t.a.createElement(J.a,{id:Ze})),!ma&&t.a.createElement(f.a,{id:We,titleRef:wa,onCommentStreamClick:Xa,shouldTruncate:Ia?Ia<_n:!1,onEditTemplate:at,isTemplateInEditMode:Le,setIsTemplateInEditMode:Ke,docEmbed:Ga.current,setIsLoadingUseTemplate:cn})),t.a.createElement(u.a,{id:"QuipHeaderView",index:Un,enableSectionNavigation:un},Mt)},"headerContents");if(ua.displayName="headerContents",Object(j.h)(Pt)&&!(ot||we)){var Pa;return Yt.warn("QUIP","QuipView was incorrectly used to render a channel canvas. Render a QuipChannelSpaceView instead."),t.a.createElement(Bt.a,{id:Je,isTile:!0,lastReadTs:jt==null||(Pa=jt.params)===null||Pa===void 0?void 0:Pa.lastReadTs})}const Ba=!bn&&qa&&!Sa&&!Qt&&!Va&&fn&&!ka&&la;return t.a.createElement(r.a.Provider,{value:Oa},t.a.createElement(T.a,{onFocusedElementRemoved:Os},t.a.createElement("div",{role:"presentation",className:"p-quip_popout"},(Qt||ma)&&t.a.createElement(G.a,null),!Qt&&t.a.createElement("div",{className:Object(i.default)("p-quip_popout__doc",{"p-quip_popout__doc--has-thread":Ee})},t.a.createElement(E.a,{id:We,variant:"short"},ua()),t.a.createElement(E.a,{id:We},t.a.createElement("div",{className:Object(i.default)("p-quip_popout__embed",{hidden:ma})},Ba&&t.a.createElement(u.a,{id:d.a.EmptyCanvasTemplateOptions,index:ze,enableSectionNavigation:ce},t.a.createElement(ta.b,{onTemplateSelection:Ya,channel:null,fileId:Ze,isStandaloneCanvas:!0,docEmbed:Ga.current})),t.a.createElement(ve.a,{ref:Ga,entityId:We,versionId:we,sequence:ot,getCommentsUiProvider:In,isTemplateOverlayShowing:Ba,lastReadTs:jt==null||(wt=jt.params)===null||wt===void 0?void 0:wt.lastReadTs})))))))}s(da,"QuipView"),da.displayName="QuipView";function Xt(aa){let{id:vt}=aa;const{view:Ge}=Object(a.useContext)(S.a);return t.a.createElement(E.a,{id:vt||Ge.id},t.a.createElement(da,{id:vt}))}s(Xt,"QuipViewWithErrorBoundary");function Ka(){return t.a.createElement(Xt,null)}s(Ka,"renderQuipView"),Ka.displayName="renderQuipView"},ALk5:function(w,p,e){"use strict";e.r(p);var a=e("q1tI"),t=e.n(a),m=e("nNoG"),O=e("ktUG"),i=e("/0Xg"),v=e("uVZW"),T=e("AKIH"),I=e("Trx9"),r=e("Sid4"),E=e("vDCl"),y=e("Tevt"),f=e("8Rho"),l=e.n(f),g=e("7jQe"),j=e.n(g);const _=new m.b("repackaging_announcement"),A={notification:v.h.REPACKAGING_ANNOUNCEMENT_BANNER},Y=s(S=>{let{repackagingStartDate:V}=S;const J=Object(T.a)(V,!1,{shortenDay:!0}),G=_.t("Messages older than {limitInDays} days will be hidden",{limitInDays:i.f}),C=t.a.createElement(t.a.Fragment,null,_.rt("Starting <strong>{priceLockInDate}</strong>, instead of separate limits for messages and file size, you\u2019ll be able to access all of your messages and files from the most recent {limitInDays} days.",{limitInDays:i.f,priceLockInDate:J,fallbackHash:"0f5737e1672f3b4b7a9ba43389c232d5c08586fb"}),t.a.createElement("span",{className:"p-repackaging_announcement_banner__body_line_two"},_.rt("<a>Read about this change</a>, and about new features coming your way.",{"<a>":d=>{let{text:h}=d;return t.a.createElement(y.a,{"data-qa":"repackaging_announcement_banner_link",href:"https://slack.com/blog/news/pricing-and-plan-updates"},h)}}))),u=t.a.createElement("img",{alt:_.t("calendar"),srcSet:`${l.a} 1x, ${j.a} 2x`});return t.a.createElement(I.a,{clogImpression:!0,eventId:O.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:O.UiComponentName.REPACKAGING_ANNOUNCEMENT_BANNER},t.a.createElement(r.b,{headingText:G,icon:u,theme:E.b.NONE,bodyText:C,notificationPrefs:A}))},"RepackagingAnnouncementBanner");Y.displayName="RepackagingAnnouncementBanner";var N=p.default=Y},AO5M:function(w,p,e){"use strict";e.d(p,"a",function(){return t}),e.d(p,"e",function(){return m}),e.d(p,"c",function(){return O}),e.d(p,"d",function(){return i}),e.d(p,"b",function(){return v});var a=e("DwFS");const t=Object(a.a)("Push a fresh tile history entry");t.meta={name:"createAction",key:"createActionpushHistoryEntryInternal",description:"Push a fresh tile history entry"};const m=Object(a.a)("Update history index when moving through a tile\u2019s history");m.meta={name:"createAction",key:"createActionupdateHistoryIndex",description:"Update history index when moving through a tile\u2019s history"};const O=Object(a.a)("Replace the current history entry");O.meta={name:"createAction",key:"createActionreplaceHistoryEntry",description:"Replace the current history entry"};const i=Object(a.a)("Replace the entire tile history state");i.meta={name:"createAction",key:"createActionreplaceHistoryStateInternal",description:"Replace the entire tile history state"};const v=Object(a.a)("Remove history for a tile when it\u2019s closed");v.meta={name:"createAction",key:"createActionremoveHistoryForTile",description:"Remove history for a tile when it\u2019s closed"}},As5R:function(w,p,e){"use strict";e.d(p,"a",function(){return l});var a=e("ifKl"),t=e("q1tI"),m=e.n(t),O=e("/MKj"),i=e("BHdc"),v=e("nNoG"),T=e("T1zM"),I=e("ktUG"),r=e("Trx9"),E=e("Tevt");const y=new v.b("setup_page"),f={action:I.UiAction.CLICK,elementName:"opt_out_dismiss_all",onClick:{enableClogAction:!0}},l=s(g=>{let{linkClassName:j,onSkipAllTips:_=a.a}=g;const A=Object(O.useDispatch)(),Y=Object(t.useCallback)(()=>{_(),A(Object(T.f)({pref:"onboarding_tip_opt_out",value:!0}))},[A,_]);return m.a.createElement(r.a,{stepVariant:"opt-out",clogImpression:!0},m.a.createElement(E.a,{autoClogProps:f,className:Object(i.default)("p-skip_all_tips__link",j),"data-qa":"skip_all_tips",onClick:Y},y.t("Skip all tips")))},"SkipAllTipsLink");l.displayName="SkipAllTipsLink"},BZp1:function(w,p,e){"use strict";e.d(p,"a",function(){return Y}),e.d(p,"b",function(){return N});var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("zxER"),i=e("Z0Cl"),v=e("+l5E"),T=e("d/FZ"),I=e("Yauy"),r=e("G0eX"),E=e("beVI"),y=e("MRve"),f=e("Cyb+"),l=e("u0LO"),g=e("UIhb"),j=e("E3dU");const _=15,A=3,Y=s(V=>{const J=Object(m.useDispatch)();return Object(a.useCallback)(()=>{J(Object(y.b)({component:V,type:l.a.Dismiss,reason:"slack-connect-dm-banner"}))},[J,V])},"useDismissBanner"),N=s((V,J)=>{const G=Object(m.useDispatch)(),[C,u]=Object(a.useState)(!0),d=Object(O.d)(E.g),h=Object(O.d)(X=>Object(g.a)(X,V)),D=Object(O.d)(X=>Object(f.a)(X,J,l.a.Dismiss)),F=Object(O.d)(X=>Object(f.c)(X,J,l.a.Dismiss)),x=Object(O.d)(X=>{const re=Object(j.d)(X,V);return Object(I.f)(re)});if(Object(a.useEffect)(()=>{G(Object(y.a)({interactions:[{component:J,type:l.a.Dismiss}],reason:"slack-connect-dm-banner"})).then(()=>{u(!1)})},[G,J]),Object(r.L)(d)||C||D>=A||x<F)return!1;const te=Object(i.a)(h,X=>!Object(T.a)(X));let H=0;return te.forEach(X=>{H+=1+Object(v.J)(X)}),!(H<_)},"useShouldRenderBanner"),S={MIN_CHANNEL_MESSAGES_COUNT:_,MAX_SCDM_BANNER_DISMISSALS:A}},CWUM:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("Cfcg"),O=e("YCgu"),i=e("Wn1n"),v=e("Kmpi"),T=e("wE+N"),I=e("ifKl"),r=e("FWtP"),E=e("x/ke"),y=e("WIr4"),f=e("9C2q"),l=e("orxu"),g=e("HKlo"),j=e("BfA7"),_=e("2VFn");function A(){return A=Object.assign||function(ze){for(var ce=1;ce<arguments.length;ce++){var Le=arguments[ce];for(var Ke in Le)Object.prototype.hasOwnProperty.call(Le,Ke)&&(ze[Ke]=Le[Ke])}return ze},A.apply(this,arguments)}s(A,"_extends");var Y;let N=s(class extends(Y=t.a.Component){getFocusTransitionListeners(ce){return{[g.c.APP_ABOUT_TAB]:()=>ce?(this.focus(),!0):!1}}focus(){var ce,Le;(ce=this.appSpaceRef)===null||ce===void 0||(Le=ce.current)===null||Le===void 0||Le.focus()}render(){return t.a.createElement(l.a,{listeners:this.getFocusTransitionListeners(this.props.appId)},t.a.createElement(T.a,A({},this.props,{tabIndex:0,role:"tabpanel",ref:this.appSpaceRef})))}constructor(ce){super(ce),this.appSpaceRef=t.a.createRef(),Object(y.a)(this,["getFocusTransitionListeners"]),this.getFocusTransitionListeners=Object(r.a)(this.getFocusTransitionListeners)}},"AppSpaceWrapper");N.displayName="AppSpaceWrapper",N.defaultProps={appId:null,hasKeyboardFocus:!1,onFocus:I.a,onBlur:I.a};const S=s((ze,ce)=>{var Le;const{shouldUseNavigate:Ke,getSiblingView:at}=ce,ua=Ke?(Le=at(ze,{container:_.h.Primary}))===null||Le===void 0?void 0:Le.id:Object(i.a)(ze),Pa=ce.channelId||ua,Ba=Object(E.b)(ze,Pa);return{appId:Object(v.b)(Ba)?Ba.app_id:null}},"mapStateToProps");var V=Object(j.a)(Object(m.a)(S)(Object(f.a)(N))),J=e("BHdc"),G=e("zrD9"),C=e("B2cQ"),u=e("iBeP"),d=e("nNoG"),h=e("4Ky9"),D=e("rwY5"),F=e("M4HD"),x=e("RFPF"),te=e("hiuC"),H=e("ktUG"),X=e("L4J1"),re=e("i9y5"),je=e("jK/K"),ie=e("5IZy"),ve=e("VvJB"),ne=e("jHZ5"),Z=e("Trx9"),ae=e("oEDn"),se=e("qDEp"),fe=e("IrZ5"),Ie=e("qdZb"),ye=e("hgYl");const De=new d.b("app_home"),Ae=s(ze=>{let{app:ce,setTab:Le,channelId:Ke}=ze;const at=Object(a.useCallback)(()=>{Le({tabId:ye.b.ABOUT,channelId:Ke})},[Ke,Le]),ua=De.rt("In the meantime, learn more about {app} and what it can do by visiting the About tab.",{app:Object(F.r)(ce)||t.a.createElement(Ie.a,null)});return t.a.createElement("div",{className:"p-app_home__blockkit_loading_error","data-qa":"app-home-timeout"},t.a.createElement("h2",null,t.a.createElement(ae.a,{type:"life-ring",inline:!0})," ",De.t("This is still a work in progress")),t.a.createElement("p",{className:"p-app_home__blockkit_loading_error__content"},ua),t.a.createElement(se.f,{type:"primary",onClick:at},De.t("Learn More")))},"AppHomeTimeout");Ae.displayName="AppHomeTimeout";const qe=s((ze,ce)=>{let{getSiblingView:Le,shouldUseNavigate:Ke}=ce;var at;return{channelId:Ke?(at=Le(ze,{container:_.h.Primary}))===null||at===void 0?void 0:at.id:Object(i.a)(ze)}},"app_home_timeout_mapStateToProps"),Et=s(ze=>({setTab:ce=>ze(Object(fe.a)(ce))}),"mapDispatchToProps");var Ne=Object(j.a)(Object(m.a)(qe,Et)(Ae)),tt=e("/MKj"),ta=e("sKvQ");const ct=new d.b("app_home"),kt=s(ze=>{const ce=Object(tt.useDispatch)(),Le=Object(a.useCallback)(()=>{ce(Object(ta.a)({id:ze.viewId}))},[ce,ze]);return t.a.createElement("div",{className:"p-app_home__blockkit_loading_error","data-qa":"app_home_error_view"},t.a.createElement("h2",null,t.a.createElement(ae.a,{type:"life-ring",inline:!0})," ",ct.t("Hmm \u2014 something went wrong")),t.a.createElement("p",null,ct.t("There was an error loading this content. Mind trying again?")),t.a.createElement(se.f,{type:"primary",onClick:Le},ct.t("Reload")))},"AppHomeError");kt.displayName="AppHomeError";var xt=kt;function Be(){return Be=Object.assign||function(ze){for(var ce=1;ce<arguments.length;ce++){var Le=arguments[ce];for(var Ke in Le)Object.prototype.hasOwnProperty.call(Le,Ke)&&(ze[Ke]=Le[Ke])}return ze},Be.apply(this,arguments)}s(Be,"app_home_blockkit_extends");const Bt=10*1e3;var Zt;let Ut=s(class extends(Zt=t.a.PureComponent){componentDidMount(){this.updateTimer()}componentDidUpdate(){this.updateTimer()}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}showLoadingSpinner(){return this.props.appHomeIsLoading||this.props.viewIsLoading}updateTimedOut(){this.setState(()=>({timedOut:!0}));const{appId:ce,botId:Le,clogger:Ke}=this.props;Ke.track(H.EventId.APP_HOME_LOAD_ERROR,{app_id:ce,bot_id:Le,timeout:Bt})}updateTimer(){this.state.timedOut||(this.timer&&(clearTimeout(this.timer),delete this.timer),this.showLoadingSpinner()&&(this.timer=setTimeout(this.updateTimedOut,Bt)))}renderLoadingSpinner(){return t.a.createElement(re.a,{className:"p-app_home_spinner",size:"jumbo","data-qa":"app_home_bk_spinner"})}render(){const{view:ce,appId:Le,botId:Ke}=this.props;if(this.props.viewIsNonExistentOrUnknown){var at;return this.state.timedOut?t.a.createElement(Ne,{app:this.props.app}):this.showLoadingSpinner()?this.renderLoadingSpinner():t.a.createElement(xt,{viewId:(at=this.props.view)===null||at===void 0?void 0:at.id})}const ua=Object(J.default)("p-app_home__blockkit_container",{"p-app_home__blockkit_container--stale":this.props.viewIsStale}),Pa={blockKitAppId:Le,blockKitBotId:Ke,surfaceType:H.SurfaceType.HOME,surfaceId:ce.id,uuid:Object(ne.q)(H.SurfaceType.HOME,{viewId:ce.id,viewHash:ce.hash})};return t.a.createElement(Z.a,Be({eventId:H.EventId.BK_USER_IMPRESSION},Pa,{clogImpression:!0,enableClogImpressionOffScreen:!0,disableAutoReferringUiContext:!0}),t.a.createElement("div",{className:"p-app_home__blockkit","data-qa":"app_home_bk_app_view"},t.a.createElement("div",{className:ua},t.a.createElement(X.a,{view:this.props.view,viewContextTeamId:this.props.viewContextTeamId,containerContext:ve.a.app_home,renderBlockWrapper:this.props.renderBlockWrapper,containerId:this.props.containerId,blockKitLogPayload:Pa})),this.props.viewIsStale&&this.renderLoadingSpinner()))}constructor(ce){super(ce),this.updateTimedOut=this.updateTimedOut.bind(this),this.state={timedOut:!1}}},"AppHomeBlockkit");Ut.displayName="AppHomeBlockkit",Ut.defaultProps={botId:void 0,appHomeIsLoading:!0,view:!1,viewIsLoading:!1,viewIsStale:!1,viewIsNonExistentOrUnknown:!1,viewContextTeamId:void 0};const Da=s((ze,ce)=>{let{appId:Le,view:Ke}=ce;return{app:Object(h.a)(ze,Le),viewIsLoading:Object(v.d)(Ke),viewIsStale:Object(je.a)(Ke),viewIsNonExistentOrUnknown:Object(v.c)(Ke)||Object(v.d)(Ke),clogger:Object(ie.a)({state:ze})}},"app_home_blockkit_mapStateToProps");var ia=Object(m.a)(Da)(Ut);const da=s((ze,ce)=>{let{viewId:Le}=ce;return{view:Object(te.b)(ze,Le)}},"connected_app_home_blockkit_mapStateToProps");var Xt=Object(m.a)(da)(ia),Ka=e("fuYn"),aa=e("Dcvo");const vt=new d.b("app_home");var Ge;let He=s(class extends(Ge=t.a.Component){componentWillUnmount(){const{viewId:ce,dispatchRemoveBlockState:Le}=this.props;ce&&Le(ce)}getFocusTransitionListeners(ce){return{[g.c.APP_HOME_TAB]:()=>ce?(this.focus(),!0):!1}}focus(){var ce,Le;(ce=this.appHomeRef)===null||ce===void 0||(Le=ce.current)===null||Le===void 0||Le.focus()}render(){const{isLoading:ce,appId:Le,botId:Ke,viewId:at,viewContextTeamId:ua,appName:Pa,hasKeyboardFocus:Ba,onFocus:Mt,onBlur:$t}=this.props,Rt=Object(J.default)("p-app_home",{"p-app_home--focus":Ba}),Cn=vt.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"app_space"}),Qn=`${Pa} ${Cn}`;return t.a.createElement(l.a,{listeners:this.getFocusTransitionListeners(Le)},t.a.createElement(G.a,{onFocusedElementRemoved:this.focus},t.a.createElement("div",{"aria-label":Qn,className:Rt,"data-qa":"app_home",onFocus:Mt,onBlur:$t,tabIndex:0,ref:this.appHomeRef,role:"tabpanel"},t.a.createElement(C.a,null,gn=>{let{width:cs,height:Es}=gn;return t.a.createElement(u.a,{height:Es,width:cs},t.a.createElement(Xt,{appId:Le,botId:Ke,viewId:at,viewContextTeamId:ua,appHomeIsLoading:ce}))}))))}constructor(ce){super(ce),Object(y.a)(this,["focus","getFocusTransitionListeners"]),this.getFocusTransitionListeners=Object(r.a)(this.getFocusTransitionListeners),this.appHomeRef=t.a.createRef()}},"BaseAppHome");He.displayName="BaseAppHome",He.defaultProps={botId:void 0,isLoading:void 0,viewId:void 0,viewContextTeamId:void 0,appName:"",hasKeyboardFocus:!1,onFocus:I.a,onBlur:I.a,dispatchRemoveBlockState:I.a};const me=s((ze,ce)=>{const{shouldUseNavigate:Le,getSiblingView:Ke}=ce,at=ce.channelId?Object(D.b)(ze,ce.channelId):Object(D.c)(ze,{shouldUseNavigate:Le,getSiblingView:Ke}),{appId:ua}=at,Pa=Object(h.a)(ze,ua),Ba=Object(Ka.a)(ze,{channelId:ce.channelId});return{appName:Object(F.r)(Pa)||"",viewContextTeamId:Ba,...at}},"app_home_mapStateToProps"),wt=s(ze=>({dispatchRemoveBlockState:ce=>ze(Object(x.b)(ce))}),"app_home_mapDispatchToProps");var zt=Object(j.a)(Object(f.a)(Object(m.a)(me,wt)(He))),It=e("PPXB"),_t=e("Yauy"),jt=e("9oTK"),nt=e("Yk7g"),Ea=e("1myf"),dt=e("zxER"),Je=e("FVdo"),we=e("E3dU"),ot=e("ISSR"),Yt=e("G0eX"),Ee=e("gVOt"),Dt=e("beVI"),St=e("y/Pn"),W=e("E97Y"),ee=e("mW+0"),le=e("ByMX"),We=e("6/uB"),Ze=e("9Gfp"),Pt=e("RVJP"),bt=e("xk6m"),la=e("AcWU"),Ia=e("OWym"),Fa=e("1fia"),_a=e("P9LH"),ja=e("sp7N"),Sa=e("YFy4"),ga=e("0Xjs"),Qt=e("eBnG"),nn=e("av2v"),Va=e("DEbe"),Ye=e("2J8J"),Jt=e("jGE+"),q=e("p0Ab"),ma=e("vdkW"),cn=e("xJV6"),Ga=e("Wc5b"),wa=e("3McJ"),At=e("UaRM"),qa=e("1j+H"),Nn=e("KahQ"),fn=e("p2PQ"),ka=e("tGCl"),za=e("jYsG"),In=e("rScm"),Xa=e("3956");function Ya(){return Ya=Object.assign||function(ze){for(var ce=1;ce<arguments.length;ce++){var Le=arguments[ce];for(var Ke in Le)Object.prototype.hasOwnProperty.call(Le,Ke)&&(ze[Ke]=Le[Ke])}return ze},Ya.apply(this,arguments)}s(Ya,"about_tab_extends");const Oa=new d.b("channel_tabs"),Os={offsetX:-4,offsetY:-2},Dn={uiStep:H.UiStep.CHANNEL_DETAILS_JOIN,onClick:{enableClogAction:!0}};function bn(ze){let{channelId:ce}=ze;const Le=Object(tt.useDispatch)(),Ke=Object(dt.d)(Xe=>!Object(Yt.K)(Object(Dt.g)(Xe))),at=Object(dt.d)(Xe=>Object(we.d)(Xe,ce)),ua=Object(dt.d)(Xe=>Object(Je.b)(Xe,ce)),Pa=Object(dt.d)(Ze.a),Ba=Object(Ee.a)(at),Mt=Pa===Ba,$t=Object(dt.d)(Dt.g),Rt=Object(dt.d)(Xe=>Object(Pt.d)(Xe,"channel_manager_pilot")==="on"),Cn=Object(dt.d)(Xe=>Object(ee.a)(Xe,at)),Qn=Object(dt.d)(Xe=>Object(bt.b)(Xe,ce).length>0),gn=Object(dt.d)(le.a),cs=Object(dt.d)(Xe=>Object(We.a)(Xe,at)),Es=!Object(_t.db)(at)&&cs;var ds;const bs=(ds=Object(dt.d)(Xe=>Object(_t.t)(Xe,at)))!==null&&ds!==void 0?ds:"",es=Object(wa.a)($t),Fn=Object(W.h)(at),Jn=ua===Je.a.App,rn=!Ke&&!Fn,[Wn,en]=Object(a.useState)(!0),Zn=Object(a.useCallback)(Object(jt.coroutine)(function*(){rn&&(en(!0),Le(Object(Qt.a)({channelId:ce,shouldFetchMemberObjects:!0})).then(()=>en(!1)))}),[Le,ce,rn]);Object(a.useEffect)(()=>{Rt&&Zn()},[Zn,Rt]);const ms=Object(a.useCallback)(()=>{Le(Object(Xa.a)({memberId:Ba}))},[Ba,Le]),Tn=Object(a.useCallback)(()=>{Le(Object(Ia.a)({channelId:ce,entryPoint:"about-tab"}))},[Le,ce]),xs=Object(a.useCallback)(()=>{Le(Object(la.a)({channelId:ce}))},[Le,ce]),[us,ts]=Object(a.useState)({isLoading:!0,fileIds:[],hasMore:!1});Object(a.useEffect)(()=>{Le(Object(Fa.a)({channelId:ce,count:5,reason:"about-tab/sharedFiles"})).then(Xe=>{let{files:it,paging:ut}=Xe;const Te=it==null?void 0:it.filter(K=>!Object(ja.a)(K)),z=Object(nt.a)(Object(Ea.a)(Te,K=>Object(_a.O)(K))).map(K=>K.id);ts({isLoading:!1,fileIds:z,hasMore:ut&&(ut==null?void 0:ut.pages)>1||!1})}).catch(()=>{ts({isLoading:!1,fileIds:[],hasMore:!1})})},[Le,ce]);const Cs=Object(a.useCallback)(()=>{const Xe=ga.r.CHANNEL_FILES,it=Xe===ga.r.CHANNEL_FILES?{channelFilesId:`files-${ce}`}:{};Le(Object(Sa.a)({entity:Xe,initialFilter:{filter:"in",value:[ce]},routeParams:it}))},[Le,ce]),ge=Object(a.useCallback)(Xe=>t.a.createElement(ae.a,Ya({},Xe,{type:"add-user"})),[]),be=Object(a.useCallback)(()=>Le(Object(Ga.a)({channelId:ce,openModalProps:{isStackable:!0}})),[ce,Le]),Se=Object(a.useCallback)(()=>ua===Je.a.DM&&!Jn&&!Object(ot.a)(at)&&!Mt&&!Object(_t.pb)(at)&&(!Ke||!Object(St.a)(at)),[at,Jn,Ke,Mt,ua]);let he,mt="";switch(ua){case Je.a.Channel:he=t.a.createElement(nn.a,{id:ce,isLoadingChannelManagers:Wn,experimentChannelManagerPilotGroupOn:Rt}),mt=Oa.t("View more files shared in {channelDisplayName}",{channelDisplayName:bs});break;case Je.a.DM:he=null,mt=Oa.t("View more files shared in this conversation");break;case Je.a.MPDM:he=null,mt=Oa.t("View more files shared in this group DM");break;case Je.a.App:he=t.a.createElement(Va.a,{channelId:ce});break;default:he=null;break}const rt=Object(_t.U)(at)&&!Ke,Ct=ua===Je.a.Channel&&Object(St.a)(at),Tt=ua===Je.a.DM,ft=Se(),gt=t.a.createElement(t.a.Fragment,null,he,Tt&&(Object(_t.pb)(at)?t.a.createElement(qa.a,{channelId:ce,onOpenHelpCenter:I.a}):t.a.createElement(At.a,{memberId:Ba,onOpenProfile:ms,hidePhone:es})),ft&&t.a.createElement(za.a,null,t.a.createElement(In.a,{ariaLabel:Oa.t("Add people to this conversation"),onClick:be,renderTitleIcon:ge,title:Oa.t("Add people to this conversation"),dataQa:"invite-members"})),Ct&&t.a.createElement(za.a,null,t.a.createElement(Jt.a,{id:ce})),Cn&&t.a.createElement(za.a,null,t.a.createElement(In.a,{ariaLabel:Oa.t("Remove connection"),className:"sk_raspberry_red",onClick:Tn,renderTitleIcon:Xe=>t.a.createElement(ae.a,Ya({},Xe,{type:"times-circle"})),title:Oa.t("Remove connection")}))),na=t.a.createElement(Ye.a,{id:ce});return t.a.createElement("div",{className:"p-tabs__about_tab"},t.a.createElement("div",{className:"p-about_modal__title_controls"},Object(_t.db)(at)&&t.a.createElement(t.a.Fragment,null,t.a.createElement(cn.a,{channelId:ce,renderButton:Xe=>{let{buttonProps:it,sectionIcon:ut}=Xe;return t.a.createElement(se.f,Ya({},it,{className:Object(J.default)("p-about_modal__section_picker",{"p-about_modal__section_picker--star_only":!rt}),size:"small",type:"outline"}),ut,rt&&t.a.createElement(ae.a,{"aria-hidden":!0,className:"p-about_modal__action_icon_suffix",inline:!0,size:"inherit",type:"chevron-medium-down"}))},triggerProps:Os}),t.a.createElement(Nn.a,{channel:at})),Es&&t.a.createElement(se.f,{className:"p-about_modal__join",onClick:xs,type:"primary",size:"small",autoClogProps:Dn},Oa.t("Join Channel")),t.a.createElement(ma.a,{channelId:ce,useIaDetailsStyle:!0})),gt,Qn&&!gn&&na,t.a.createElement(q.a,{id:ce,onClose:I.a}),!Jn&&!Object(_t.pb)(at)&&t.a.createElement(fn.a,{channel:at,isLoading:us.isLoading,fileIds:us.fileIds,hasMore:us.hasMore,moreButtonAriaLabel:mt,onShowMoreClick:Cs,onFileClick:I.a}),t.a.createElement(ka.a,{copyText:ce,copyTooltip:Oa.t("Copy channel id")},Oa.t("Channel ID: {channelId}",{channelId:ce})))}s(bn,"AboutTab");const _n=s(ze=>{let{tab:ce,primaryView:Le,isAppIm:Ke}=ze;if(!ce)return null;const at=`${Le}${ce}`,ua="p-tab_view__error_boundary";switch(ce){case"about":return Ke?t.a.createElement(It.b,{subtype:"app_space",key:at,className:ua},t.a.createElement(V,{channelId:Le})):t.a.createElement(It.b,{subtype:"about_tab",key:at,className:ua},t.a.createElement(bn,{channelId:Le}));case"app":return t.a.createElement(It.b,{subtype:"app_home",key:at,className:ua},t.a.createElement(zt,{channelId:Le}));default:return t.a.createElement(t.a.Fragment,null,ce)}},"TabView");_n.displayName="TabView";const mn=s((ze,ce)=>{const Le=ce.primaryView||Object(i.a)(ze);return{tab:ce.tab||Object(O.a)(ze,{windowId:ce.windowId,container:ce.container}),primaryView:Le,isAppIm:Object(_t.Y)(ze,Le)}},"tab_view_mapStateToProps"),un=Object(m.a)(mn);var Un=p.a=Object(j.a)(un(_n))},CkE0:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("nNoG"),O=e("ktUG"),i=e("Trx9");const v=new m.b("slack_docs"),T=s(r=>{let{channelId:E}=r;const y=v.t("Now every conversation has a canvas, a place to keep the information you don\u2019t want to lose in threads.",{fallbackHash:"9d91ee5b89728b2f0d35aec77cdb7cf168ee7f35",fallbackHashNs:"slack_docs"});return t.a.createElement(i.a,{eventId:O.EventId.QUIP_CHANNEL_CANVAS_EMPTY_STATE,clogImpression:!0,enableClogImpressionOffScreen:!0,channelId:E},t.a.createElement("div",{className:"p-toggle_channel_space_preview_empty_state"},t.a.createElement("div",{className:"p-toggle_channel_space_preview_empty_state__subtitle"},v.t("Notes, to-do\u2019s, resources, and more",{fallbackHash:"8123c9d5d8a26bda7209cb02127249325848e9c2",fallbackHashNs:"slack_docs"})),t.a.createElement("div",{className:"p-toggle_channel_space_preview_empty_state__body"},y)))},"ChannelCanvasPreviewEmptyState");T.displayName="ChannelCanvasPreviewEmptyState";var I=p.a=T},CopC:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("BfA7"),i=e("tF1a"),v=e("hLOS"),T=e("CWUM"),I=e("1ILc"),r=e("75t7"),E=e("YCgu"),y=e("rZ8V");const f=s(l=>{let{container:g,view:j,windowId:_}=l;var A,Y,N,S;const V=Object(m.d)(y.o),J=Object(m.d)(C=>Object(E.a)(C,{windowId:_,container:g})||(V?i.a.App:i.a.Messages));if(!j)return null;const G=J===i.a.Messages?t.a.createElement(v.a,{channelId:j.id,startTs:(A=j.params)===null||A===void 0?void 0:A.startTs,startTsOffset:(Y=j.params)===null||Y===void 0?void 0:Y.startTsOffset,highlightTs:(N=j.params)===null||N===void 0?void 0:N.highlightTs,highlightLazy:(S=j.params)===null||S===void 0?void 0:S.highlightLazy,omitViewHeader:!0}):t.a.createElement(T.a,{tab:J,primaryView:j.id});return t.a.createElement(t.a.Fragment,null,t.a.createElement(I.a,{id:j.id,shouldShowSidebarToggle:!1}),t.a.createElement(r.a,{channelId:j.id}),G)},"AppView");f.displayName="AppView",p.a=t.a.memo(Object(O.a)(f))},"D+av":function(w,p,e){"use strict";e.d(p,"a",function(){return O});var a=e("SQ0V"),t=e("YbH7"),m=e("A26L");const O=Object(a.c)("Calls quip.getCanvasCollection and gets all the collections and sets the redux store",(i,v)=>i(Object(t.a)({reason:"canvas_organization_prototype_3"})).then(T=>{i(Object(m.a)({fileIds:T.file_ids}))}));O.meta={name:"createThunk",key:"createThunkgetAndSetCollections",description:"Calls quip.getCanvasCollection and gets all the collections and sets the redux store"}},Dcvo:function(w,p,e){"use strict"},EN2b:function(w,p,e){"use strict";e.d(p,"a",function(){return d});var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("/MKj"),i=e("9Gfp"),v=e("SQ0V"),T=e("nNoG"),I=e("3l96"),r=e("beVI"),E=e("YUBf"),y=e("hUMe"),f=e("TUw0"),l=e("CD4m"),g=e("fNJk"),j=e("gYGr"),_=e("lx3m"),A=e("+kJ4"),Y=e("ZUnK"),N=e("ZobM"),S=e("Tsh7"),V=e("sGEr"),J=e.n(V);function G(){return G=Object.assign||function(h){for(var D=1;D<arguments.length;D++){var F=arguments[D];for(var x in F)Object.prototype.hasOwnProperty.call(F,x)&&(h[x]=F[x])}return h},G.apply(this,arguments)}s(G,"_extends");const C=new T.b("slack_connect_hub"),u=s(h=>{let{workspaceId:D,entities:F}=h;const x=Object(O.useDispatch)(),te=Object(m.d)(i.h),H=Object(m.d)(ne=>Object(r.e)(ne,D)),X=Object(a.useCallback)(()=>x(Object(A.a)()),[x]),re=Object(a.useCallback)(()=>{te?x(Object(Y.a)({invitationsTabId:_.c.sent})):window.open(`${H}/invitations`)},[H,x,te]),je=Object(a.useCallback)(()=>t.a.createElement("div",{className:"margin_50"},t.a.createElement(N.a,{name:"paper-plane",variation:"large",size:"24"})),[]),ie=s(ne=>t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_75"},t.a.createElement("div",{className:"p-shared_workspace_sent_invitation_success_modal__entity"},ne.entity.isEmail?t.a.createElement(l.d,{avatar:je,size:"medium",text:t.a.createElement(l.c,{className:"bold margin_left_50"},ne.entity.value)}):t.a.createElement(f.b,{id:ne.entity.id,useShortMode:!0,showPresence:!1,isDraftContext:!1,showStatus:!1,showSubtext:!1})),t.a.createElement(S.d,{tip:ne.entity.isEmail?C.t("They\u2019re not on Slack yet, but you can still message them (they\u2019ll be able to see all direct messages sent to them once they\u2019ve joined)."):C.t("An admin may need to review this invitation.")},t.a.createElement(N.a,{name:"info"}))),"renderEntity"),ve=F.length>1;return t.a.createElement(E.b,{"data-qa":g.d.Modal},t.a.createElement(E.j,{alt:"Slack Connect Workspace Sent Invitation Illustration",src:J.a,height:196,width:520}),t.a.createElement(E.i,{"data-qa":g.d.Header},t.a.createElement(E.l,{title:ve?C.t("Your invitations are on the way"):C.t("An invitation is on the way"),className:"break_word","data-qa":g.d.TitleBar})),t.a.createElement(E.d,{className:"margin_0","data-qa":g.d.Content},t.a.createElement(E.e,null,t.a.createElement("div",{className:"margin_0 margin_bottom_150 break_word"},ve?C.rt("These people will receive an invitation to join {workspace}.",{workspace:t.a.createElement(y.a,{id:D})}):C.rt("This person will receive an invitation to join {workspace}.",{workspace:t.a.createElement(y.a,{id:D})})),t.a.createElement("div",{className:"margin_bottom_75"},t.a.createElement("strong",null,C.t("Invitations pending acceptance",{fallbackHash:"4382f4e32034cbad8acca35fbab132b3b711a961"}))),F.map(ne=>ie(ne)),t.a.createElement(j.a,{onClick:re,text:C.t("Manage Invitations"),className:"margin_top_100"}))),t.a.createElement(E.g,{"data-qa":g.d.Footer},t.a.createElement(E.h,{"data-qa":g.d.FooterActions},t.a.createElement(E.c,{"data-qa":g.d.CloseButton,type:"primary",onClick:X},C.t("OK")))))},"SharedWorkspaceSentInvitationSuccessModal");u.displayName="SharedWorkspaceSentInvitationSuccessModal";const d=Object(v.c)("Opens the Slack Connect Workspace Leave Confirmation Modal",(h,D,F)=>{h(Object(I.a)({element:t.a.createElement(u,G({},F)),isStackable:!1}))});d.meta={name:"createThunk",key:"createThunkopenSharedWorkspaceSentInvitationSuccessModal",description:"Opens the Slack Connect Workspace Leave Confirmation Modal"}},Ei7s:function(w,p,e){"use strict";var a=e("SQ0V"),t=e("VUud"),m=e("u4cD"),O=e("uVZW");const i=Object(a.c)("Close the message pane banner",(v,T,I)=>{v(Object(t.a)({action:O.f.DISMISS,reason:"close-banner",...I})),v(Object(m.d)({spaceName:O.g.MESSAGE_PANE}))});i.meta={name:"createThunk",key:"createThunkcloseBanner",description:"Close the message pane banner"},p.a=i},ElD4:function(w,p,e){"use strict";e.r(p),e.d(p,"ChannelInviteSuggestionsCoachmark",function(){return r});var a=e("q1tI"),t=e.n(a),m=e("nNoG"),O=e("zlyu"),i=e("RUo5"),v=e("ktUG");const T=new m.b("channel_header"),I={elementName:v.UiComponentName.CHANNEL_INVITE_SUGGESTIONS_COACHMARK,uiComponentName:v.UiComponentName.CHANNEL_INVITE_SUGGESTIONS_COACHMARK,onClick:{enableClogAction:!0}},r=s(E=>{let{offsetY:y=15,showCoachmark:f,onPrimaryClick:l,onClose:g,UNSAFE_parentSelector:j}=E;const _=t.a.createElement(O.a,{isOpen:f,primaryCallToActionText:T.t("Add People"),onClickPrimaryButton:l,closeCoachmark:g,offsetY:y,arrowPosition:90,orientation:"bottom-left",autoClogProps:I,isMegaphoneCoachmark:!1,UNSAFE_parentSelector:j},t.a.createElement("h3",null,T.t("Is anyone missing from the conversation?")),t.a.createElement("p",null,T.t("You can add more people to the channel to make sure no one misses a beat.")));return f?t.a.createElement(i.b,{coachmarkElement:_,orientation:"bottom-left"}):null},"ChannelInviteSuggestionsCoachmark");r.displayName="ChannelInviteSuggestionsCoachmark",p.default=r},G6BK:function(w,p,e){"use strict";e.d(p,"b",function(){return O}),e.d(p,"a",function(){return i}),e.d(p,"c",function(){return v});var a=e("hbEN"),t=e("Lgge");function m(T){return T.document.querySelector(".backdrop.active")}s(m,"getQuipPopoverBackdrop");function O(T){return!!m(T)}s(O,"isQuipPopoverOpen");function i(T){return!!T.closest(".popover")}s(i,"isInQuipPopover");function v(T){return new t.a(I=>{let r;const E=Object(a.a)(()=>{O(T)||(r.disconnect(),I())},120);r=new MutationObserver(E),r.observe(T.document.body,{childList:!0,subtree:!1})})}s(v,"waitForQuipPopoversToClose")},GVvR:function(w,p,e){"use strict";e.d(p,"a",function(){return F});var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("zxER"),i=e("nNoG"),v=e("ktUG"),T=e("u0LO"),I=e("G0eX"),r=e("7cRW"),E=e("beVI"),y=e("cyVs"),f=e("Cy/8"),l=e("Trx9"),g=e("qDEp"),j=e("iUFw"),_=e("eIwF"),A=e.n(_),Y=e("fX6G"),N=e.n(Y),S=e("cj00"),V=e.n(S),J=e("PA8C"),G=e.n(J),C=e("BZp1"),u=e("tVK8");const d=new i.b("trial_slack_connect_awareness"),h={onClick:{enableClogAction:!0},elementName:"create_channel",isPrimaryCTA:!0},D={onClick:{enableClogAction:!0},elementName:"learn_more"},F=s(te=>{let{showTrialStartedVersion:H,currentTeamName:X,onCreateASharedChannelClick:re}=te,je=`${A.a} 1x, ${N.a} 2x`;H||(je=`${V.a} 1x, ${G.a} 2x`);const ie=t.a.createElement("img",{alt:"",srcSet:je}),ve=H?d.t("Ta-da! Your trial\u2019s started"):d.t("Work with entire teams outside {teamName}",{teamName:X}),ne=H?d.t("You\u2019re all set to start working with teams at other companies in channels. Want to do this later? Just go to Slack Connect in your sidebar to get started."):d.t("Use Slack Connect for channels and loop everyone in to the conversation, no matter where they work. Give it a try while your team is on a trial."),Z=t.a.createElement(g.f,{"data-qa":"slack_connect_dm_trial_banner-create_channel",onClick:re,autoClogProps:h},d.t("Create Slack Connect Channel")),ae=t.a.createElement(j.a,{type:"outline","data-qa":"slack_connect_dm_trial_banner-learn_more",href:"/connect",autoClogProps:D},d.t("Learn More"));return t.a.createElement(l.a,{eventId:v.EventId.UPGRDEXP_TRIAL,uiComponentName:v.UiComponentName.SLACK_CONNECT_DM_TRIAL_BANNER,clogImpression:!0},t.a.createElement(u.a,{uiComponent:T.c.SlackConnectDmTrialBanner,heading:ve,image:ie,bodyContent:ne,"data-qa":"slack_connect_dm_trial_banner",primaryCTA:Z,secondaryCTA:ae}))},"SlackConnectDMTrialBanner");F.displayName="SlackConnectDMTrialBanner";const x=s(te=>{let{channelId:H,showTrialStartedVersion:X}=te;const re=Object(m.useDispatch)(),je=Object(C.a)(T.c.SlackConnectDmTrialBanner),ie=Object(a.useCallback)(()=>{re(Object(f.a)({createSharedChannel:!0,entryPoint:r.a.SlackConnectDmTrialBanner})),je()},[re,je]),ve=Object(O.d)(E.g),ne=Object(I.h)(ve),Z=Object(C.b)(H,T.c.SlackConnectDmTrialBanner);return!Object(y.a)()||!Z?null:t.a.createElement(F,{channelId:H,showTrialStartedVersion:X,currentTeamName:ne,onCreateASharedChannelClick:ie})},"ConnectedSlackConnectDmTrialBanner");x.displayName="ConnectedSlackConnectDmTrialBanner",p.b=x},HDM2:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("BHdc"),O=e("Cfcg"),i=e("zxER"),v=e("RVJP"),T=e("QP4N"),I=e("npde"),r=e("+kJ4"),E=e("HJ1R"),y=e("nNoG"),f=e("kBpe"),l=e("HRnQ"),g=e("ktUG"),j=e("Trx9"),_=e("ifKl");const A={setCurrentStep:_.a,isWideModal:!1,setWideModal:_.a,speedBumpState:{isVisible:!1,onCancel:_.a,onContinue:_.a},setStepTitle:_.a};var N=t.a.createContext(A),S=e("YUBf"),V=e("1Qjs"),J=e("zKrX"),G=e("iUFw"),C=e("rlyZ"),u=e.n(C);const d={SOUND:"sound",KEYBOARD:"keyboard",VISION:"vision",GENERAL:"general"},h={HOME:"home",SUCCESS:"success",ZOOM:"zoom",ANIMATION:"animation",SIDEBAR:"sidebar",THEME:"theme",PLAY_SOUND_INCOMING_DM:"playSoundIncomingDM",PLAY_SOUND_SENT_DM:"playSoundSentDM",READ_INCOMING_DM:"readIncomingDM",MESSAGE_ANNOUNCEMENT_FORMAT:"messageAnnouncementFormat",UP_ARROW_KEY:"upArrowKey"},D={[h.HOME]:d.GENERAL,[h.SUCCESS]:d.GENERAL,[h.ZOOM]:d.VISION,[h.ANIMATION]:d.VISION,[h.SIDEBAR]:d.VISION,[h.THEME]:d.VISION,[h.PLAY_SOUND_INCOMING_DM]:d.SOUND,[h.PLAY_SOUND_SENT_DM]:d.SOUND,[h.READ_INCOMING_DM]:d.SOUND,[h.MESSAGE_ANNOUNCEMENT_FORMAT]:d.SOUND,[h.UP_ARROW_KEY]:d.KEYBOARD},F={width:520,height:290};function x(){return x=Object.assign||function(ge){for(var be=1;be<arguments.length;be++){var Se=arguments[be];for(var he in Se)Object.prototype.hasOwnProperty.call(Se,he)&&(ge[he]=Se[he])}return ge},x.apply(this,arguments)}s(x,"_extends");const te=new y.b("a11y_prefs_setup"),H=s(ge=>{const{id:be,switchPane:Se,nextStepId:he,primaryCtaText:mt,closeModal:rt}=ge,Ct=Object(a.useContext)(N),{setCurrentStep:Tt,setStepTitle:ft}=Ct;Object(a.useEffect)(()=>{Tt(be),ft(te.t("Customize how you use Slack"))},[be,Tt,ft]);const gt=te.t("Customize how you use Slack"),na=te.rt("Let\u2019s go through some accessibility preferences related to vision, sound, and your keyboard to make sure everything\u2019s right for you. It\u2019ll just take a few minutes and you can change them later in <strong>Preferences</strong>.");return t.a.createElement(S.d,null,t.a.createElement(V.a,x({"aria-hidden":!0,src:u.a,alt:""},F)),t.a.createElement(S.l,{title:gt}),t.a.createElement(S.e,{id:"a11y_prefs_setup_step_description"},na),t.a.createElement(J.a,null,t.a.createElement(S.h,{className:"categories_footer_actions"},t.a.createElement(G.d,{type:"outline",onClick:rt,className:"margin_right_100"},te.t("No Thanks")),t.a.createElement(G.d,{"data-qa":"a11y_prefs_setup_next_button",onClick:()=>he&&Se(he),"aria-describedby":"a11y_prefs_setup_step_description",autoFocus:!0},mt))))},"Home");H.displayName="Home";var X=H,re=e("qDEp"),je=e("dq9a"),ie=e("w+5y"),ve=e("IyQz"),ne=e("brFB"),Z=e.n(ne),ae=e("LrWZ"),se=e("vfQU"),fe=e("4tnk"),Ie=e("YaEA"),ye=e("G7vT");const De=new y.b("zoom_slider"),Ae={position:"relative"},qe=s(ge=>{let{currentZoomLevel:be,maxZoomLevel:Se}=ge;const he=t.a.useRef(),mt=0;let rt=6;const Ct=[70,80,90,100,110,125,150],Tt=[-3,-2,-1,0,1,2,3],ft=3,gt=[De.t("70%"),De.t("80%"),De.t("90%"),De.t("100%"),De.t("110%"),De.t("125%"),De.t("150%")];Se&&Se>3&&(rt=8,Ct.push(175),Ct.push(200),gt.push(De.t("175%")),gt.push(De.t("200%")),Tt.push(4),Tt.push(5));const na={};Ct.forEach((Me,Lt)=>{na[Lt]=Me.toString()});let Xe=ft;Object(ae.a)(be)||(Xe=Tt.indexOf(parseInt(be,10)));const[it,ut]=Object(a.useState)(Xe),[Te,qt]=Object(a.useState)("");if(Object(a.useEffect)(()=>{var Me;he==null||(Me=he.current)===null||Me===void 0||Me.focus()},[]),!Object(f.i)())return null;const z=100/Ct.length*it,K=s(()=>{let Me=gt[it];return it===ft&&(Me+=` ${De.t("(default)")}`),t.a.createElement("div",{style:Ae},t.a.createElement("div",{className:"c-zoom_slider__current_value",style:{position:"absolute",left:`${z}%`}},t.a.createElement("span",null,Me)))},"getDisplayLabel");K.displayName="getDisplayLabel";const $=s(()=>{if(it===Ct.length-1){qt(De.t("Reached maximum zoom level"));return}Object(se.tc)(Tt[it+1]),qt(gt[it+1]),ut(it+1)},"onClickPlus"),pe=s(()=>{if(it===0){qt(De.t("Reached minimum zoom level"));return}Object(se.tc)(Tt[it-1]),qt(gt[it-1]),ut(it-1)},"onClickMinus"),Ce=s(()=>t.a.createElement("datalist",{id:"tickmarks",className:"c-zoom_slider__datalist"},Ct.map((Me,Lt)=>t.a.createElement("option",{key:Me,value:Lt,className:`c-zoom_slider__option ${it===Lt?"":"c-zoom_slider__ticker"}`}))),"getTickmarks"),Pe=s(Me=>{var Lt;const Wt=Me==null||(Lt=Me.target)===null||Lt===void 0?void 0:Lt.value,ya=parseInt(Wt,10);ut(ya),Object(se.tc)(Tt[ya])},"onChangeZoom");return t.a.createElement("div",{className:"c-zoom_slider padding_top_50"},t.a.createElement(ye.b,{message:Te,assertive:!0}),t.a.createElement(re.d,{className:"c-zoom_slider__minus_button",onClick:pe,"aria-label":De.t("Decrease zoom level"),"aria-controls":"zoom-slider","data-qa":"a11y_prefs_setup_zoom_slider_minus"},"\u2212"),t.a.createElement("div",{className:"c-zoom_slider__inner_container"},t.a.createElement("input",{ref:he,className:"c-zoom_slider__slider",name:"zoomSlider",type:"range",min:mt,max:rt,step:1,value:it,onChange:Pe,list:"tickmarks","aria-valuetext":`${na[it]}%`,"aria-orientation":"horizontal",id:"zoom-slider","data-qa":"a11y_prefs_setup_zoom_slider_input"}),K(),Ce()),t.a.createElement(re.d,{className:"c-zoom_slider__plus_button",onClick:$,"aria-label":De.t("Increase zoom level"),"aria-controls":"zoom-slider","data-qa":"a11y_prefs_setup_zoom_slider_plus"},"+"))},"ZoomSlider");qe.displayName="ZoomSlider";const Et=s(ge=>({currentZoomLevel:Object(fe.b)(ge,"zoomLevel"),maxZoomLevel:Object(Ie.a)(ge)}),"mapStateToProps");var Ne=Object(O.a)(Et,null)(qe);const tt=new y.b("a11y_prefs_setup"),ta=s(()=>{const ge=Object(a.useContext)(N),{isWideModal:be,speedBumpState:Se}=ge,he=tt.t("Exit setup?"),mt=t.a.createElement("div",null,tt.rt("We\u2019ll save what you\u2019ve done so far. Go to <strong>Preferences</strong> whenever you\u2019d like to adjust how Slack works."));return t.a.createElement(S.k,{heading:he,description:mt,continueButtonLabel:tt.t("Exit"),cancelButtonLabel:tt.t("Keep Going"),onCancel:Se.onCancel,onContinue:Se.onContinue,className:Object(m.default)({"p-a11y_prefs_setup_modal_speedbump":!0,"p-a11y_prefs_setup_modal_speedbump--wide":be})})},"A11YPrefsSetupModalSpeedBump");ta.displayName="A11YPrefsSetupModalSpeedBump";var ct=ta;const kt=new y.b("a11y_prefs_setup"),xt=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,primaryCtaText:rt,closeModal:Ct,stepCountLabel:Tt}=ge,ft=Object(a.useContext)(N),{setCurrentStep:gt,setStepTitle:na,speedBumpState:Xe}=ft;Object(a.useEffect)(()=>{gt(be),na(kt.t("Vision preferences"))},[be,gt,na]);const it=kt.t("We\u2019re so glad you\u2019re here"),ut=kt.t("Slackbot \u{1F44D}"),Te=t.a.createElement(ve.a,{name:ut,message:it,avatar:Z.a}),qt=kt.t("Vision preferences"),z=kt.t("Set zoom level:"),K=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},qt," ",Tt),z):z;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:qt}),t.a.createElement(S.e,null,t.a.createElement(ie.a,{className:"margin_bottom_50"},t.a.createElement(je.a,{className:"margin_bottom_50"},K),t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__message_pillow p-a11y_prefs_setup_modal__message_pillow__background margin_bottom_250"},Te),t.a.createElement(Ne,null))),Xe.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},Tt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},kt.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt?Se(mt):Ct()},rt)))))},"Zoom");xt.displayName="Zoom";var Be=xt,Bt=e("JoR1"),Zt=e("T1zM"),Ut=e("o5x5"),Da=e.n(Ut),ia=e("0KGW"),da=e.n(ia),Xt=e("3V+Q"),Ka=e("la4u");const aa=s(ge=>{let{primaryText:be,secondaryText:Se,image:he,htmlFor:mt,name:rt,value:Ct,checked:Tt=!1,onChange:ft=_.a,autoFocus:gt=!1,className:na="",radioClassName:Xe="",disabled:it=!1,disabledFooterText:ut}=ge;const Te=Object(m.default)(na,"c-radio_button_card",{"c-radio_button_card--checked":Tt});return t.a.createElement(Xt.b,{text:"",htmlFor:mt,className:Te,isDisabled:it},he,t.a.createElement("span",{className:"c-radio_button_card__content"},t.a.createElement(Ka.a,{className:Xe,name:rt,value:Ct,checked:Tt,onChange:ft,autoFocus:gt,disabled:it}),t.a.createElement("span",{className:"c-radio_button_card__text"},t.a.createElement("span",{className:"c-radio_button_card__primary_text"},be),t.a.createElement("span",{className:"c-radio_button_card__secondary_text"},Se))),it&&!!ut&&t.a.createElement("span",{className:"c-radio_button_card__disabled_footer_text padding_125"},ut))},"RadioButtonCard");aa.displayName="RadioButtonCard";const vt=s(ge=>{let{src:be,height:Se=void 0,width:he=225,className:mt}=ge;const rt=Object(m.default)(mt,"c-radio_button_card__image_container"),Ct=Object(a.useMemo)(()=>({height:Se,width:he}),[Se,he]);return t.a.createElement("span",{className:rt,style:Ct},t.a.isValidElement(be)?t.a.createElement("span",{className:"c-radio_button_card__image c-radio_button_card__image--node","aria-hidden":!0},be):t.a.createElement("img",{src:be,className:"c-radio_button_card__image","aria-hidden":!0,alt:""}))},"RadioButtonCardImage");vt.displayName="RadioButtonCardImage";var Ge=aa,He=e("CpuT");const me=new y.b("a11y_prefs_setup"),wt=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,animationsPref:rt,setUserPrefByApi:Ct,primaryCtaText:Tt,closeModal:ft,stepCountLabel:gt}=ge,na=Object(a.useContext)(N),{setCurrentStep:Xe,setStepTitle:it,speedBumpState:ut}=na;Object(a.useEffect)(()=>{Xe(be),it(me.t("Vision preferences"))},[be,Xe,it]);const Te=Object(a.useCallback)(Ce=>{var Pe;const Me=Ce==null||(Pe=Ce.target)===null||Pe===void 0?void 0:Pe.value;Ct({pref:"a11y_animations",value:Me==="true"})},[Ct]),qt=s(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(Ge,{primaryText:me.t("Yes, play them"),image:t.a.createElement(vt,{src:da.a}),name:"a11y_animations",value:"true",key:"a11y_animations_option_1",checked:rt,onChange:Te,autoFocus:rt}),t.a.createElement(Ge,{primaryText:me.t("No thanks"),image:t.a.createElement(vt,{src:Da.a}),name:"a11y_animations",value:"false",key:"a11y_animations_option_2",checked:!rt,onChange:Te,autoFocus:!rt})),"renderAnimationRadio");qt.displayName="renderAnimationRadio";const z=me.t("Vision preferences"),K=me.t("Automatically play animated GIFs and emojis:"),$=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},z," ",gt),K):K,pe=s(()=>{const Ce=me.rt('<span className="offscreen">{title} {stepCountLabel}</span>{radioGroupLabel}',{title:z,stepCountLabel:gt,radioGroupLabel:K})},"tempMethodForTranslations");return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:z}),t.a.createElement(S.e,null,t.a.createElement(He.a,{legendClassNames:"margin_bottom_75",legendText:$},t.a.createElement("div",{className:"display_flex"},qt()))),ut.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},me.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt?Se(mt):ft()},Tt)))))},"Animation");wt.displayName="Animation";const zt=s(ge=>({animationsPref:Object(Bt.t)(ge,"a11y_animations")}),"animation_mapStateToProps"),It=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"mapDispatchToProps");var _t=Object(O.a)(zt,It)(wt),jt=e("0Dj7"),nt=e.n(jt),Ea=e("STAs"),dt=e.n(Ea);const Je=new y.b("a11y_prefs_setup"),we=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,showSidebarAvatars:rt,setUserPrefByApi:Ct,primaryCtaText:Tt,closeModal:ft,stepCountLabel:gt}=ge,na=Object(a.useContext)(N),{setCurrentStep:Xe,setStepTitle:it,speedBumpState:ut}=na;Object(a.useEffect)(()=>{Xe(be),it(Je.t("Vision preferences"))},[be,Xe,it]);const Te=Object(a.useCallback)(pe=>{const Ce=pe&&pe.target&&pe.target.value==="true";Ct({pref:"show_sidebar_avatars",value:Ce})},[Ct]),qt=s(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(Ge,{primaryText:Je.t("Show profile pictures"),image:t.a.createElement(vt,{src:dt.a}),name:"show_sidebar_avatars",value:"true",key:"show_sidebar_avatars_option_1",checked:rt,onChange:Te,autoFocus:rt}),t.a.createElement(Ge,{primaryText:Je.t("Hide profile pictures"),image:t.a.createElement(vt,{src:nt.a}),name:"show_sidebar_avatars",value:"false",key:"show_sidebar_avatars_option_2",checked:!rt,onChange:Te,autoFocus:!rt})),"renderSidebarPrefsRadio");qt.displayName="renderSidebarPrefsRadio";const z=Je.t("Vision preferences"),K=Je.t("Show profile pictures in the sidebar:"),$=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},z," ",gt),K):K;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:z}),t.a.createElement(S.e,null,t.a.createElement(He.a,{legendClassNames:"margin_bottom_75",legendText:$},t.a.createElement("div",{className:"display_flex"},qt()))),ut.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},Je.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt?Se(mt):ft()},Tt)))))},"Sidebar");we.displayName="Sidebar";const ot=s(ge=>({showSidebarAvatars:Object(Bt.t)(ge,"show_sidebar_avatars")}),"sidebar_mapStateToProps"),Yt=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"sidebar_mapDispatchToProps");var Ee=Object(O.a)(ot,Yt)(we),Dt=e("9zMb"),St=e("lURg"),W=e("x0Hm"),ee=e("M+Lk"),le=e("0VB0"),We=e("+ltV"),Ze=e("oEDn"),Pt=e("a61h");const bt={width:"47px"},la=s(ge=>{let{rawIaTheme:be,customTheme:Se}=ge;const he=Object(Dt.e)(Se,Object(Dt.p)(be)?be:void 0);return t.a.createElement("div",{className:"p-ia_builtin_theme_preview"},t.a.createElement("div",{className:"p-ia_builtin_theme_preview__nav",style:{backgroundColor:he.top_nav_bg,boxShadow:`0 1px 0 0 ${Object(le.r)(he.text_color,.1)}`}},t.a.createElement("div",{className:"p-ia_builtin_theme_preview__search",style:{background:Object(le.l)(he.top_nav_bg,he.top_nav_text,.9)}})),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar",style:{backgroundColor:he.column_bg,color:he.text_color}},t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__row"},t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__placeholder",style:bt})),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__row"},t.a.createElement(Ze.a,{type:"hash-small",size:"inherit",className:"p-ia_builtin_theme_preview__sidebar__icon"}),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__placeholder"})),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__row",style:{backgroundColor:he.active_item,color:he.active_item_text}},t.a.createElement(Ze.a,{type:"hash-small",size:"inherit",className:"p-ia_builtin_theme_preview__sidebar__icon"}),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__placeholder"})),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__row"},t.a.createElement(Ze.a,{type:"presence-online",size:"inherit",className:"p-ia_builtin_theme_preview__sidebar__icon p-ia_builtin_theme_preview__sidebar__presence",style:{color:he.active_presence}}),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__placeholder"}),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__sidebar__badge",style:{backgroundColor:he.badge}}))),t.a.createElement("div",{className:"p-ia_builtin_theme_preview__compose",style:{backgroundColor:he.text_color,boxShadow:`0 0 0 4px ${he.column_bg}`}}))},"IACustomThemePreview");la.displayName="IACustomThemePreview";const Ia=s(ge=>({rawIaTheme:Object(We.a)(ge)}),"ia_custom_theme_preview_mapStateToProps");var Fa=Object(O.a)(Ia)(la),_a=e("ct/k"),ja=e("zm5I"),Sa=e("k6tF"),ga=e("m5HF");const Qt=new y.b("a11y_prefs_setup"),nn=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,currentTheme:rt,setSidebarCustomTheme:Ct,setSidebarBuiltinTheme:Tt,saveColorsToLocalConfigForAllWorkspaces:ft,primaryCtaText:gt,closeModal:na,stepCountLabel:Xe,customTheme:it}=ge,ut=Object(a.useRef)(rt),Te=Object(a.useRef)(it),qt=Object(a.useContext)(N),{setCurrentStep:z,isWideModal:K,setWideModal:$,speedBumpState:pe}=qt;Object(a.useEffect)(()=>{z(be)},[be,z]);const Ce=Object(a.useMemo)(()=>{const Aa=[...Sa.c,...Sa.a,...Sa.b],ea=[],ba=[],Rn=Aa.find(ha=>ha.name===(ut==null?void 0:ut.current)),$a=Rn==null?void 0:Rn.label();if(ba.push({name:ut==null?void 0:ut.current,label:()=>$a||Qt.t("Your custom theme")}),ea.push(ut==null?void 0:ut.current),(ut==null?void 0:ut.current)!=="brinjal_theme"){const ha=Aa.find(Ln=>Ln.name==="brinjal_theme");ba.push({name:"brinjal_theme",label:()=>ha==null?void 0:ha.label()}),ea.push("brinjal_theme")}if((ut==null?void 0:ut.current)!=="solanum_theme"){const ha=Aa.find(Ln=>Ln.name==="solanum_theme");ba.push({name:"solanum_theme",label:()=>ha==null?void 0:ha.label()}),ea.push("solanum_theme")}return{themeNames:ea,themeConfig:ba}},[]),{themeConfig:Pe,themeNames:Me}=Ce;Object(a.useEffect)(()=>(Me.length>2&&!K&&$(!0),()=>{K&&$(!1)}),[Me,qt,K,$]);const Lt=Object(a.useCallback)(Aa=>{const ea=Aa.target.value;ea==="custom_theme"?Ct({newCustomTheme:Te.current}):Tt({themeName:Object(Dt.q)(ea)?ea:"default_theme"}),ft()},[ft,Tt,Ct]),Wt=s(Aa=>{const ea=Pe.find(ba=>ba.name===Aa);return ea?t.a.createElement(Ge,{primaryText:ea.label()||"",image:ea.name==="custom_theme"?t.a.createElement(Fa,{customTheme:Te.current}):t.a.createElement(ee.a,{theme:Object(Dt.q)(ea.name)?ea.name:"default_theme"}),name:"builtin_theme",value:ea.name,key:ea.name,checked:ea.name===rt,onChange:Lt,autoFocus:ea.name===rt}):null},"renderThemeRadio");Wt.displayName="renderThemeRadio";const ya=Qt.t("Vision preferences"),sa=Qt.t("Choose a theme:"),pa=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},ya," ",Xe),sa):sa;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:ya}),t.a.createElement(S.e,null,t.a.createElement(He.a,{legendClassNames:"margin_bottom_75",legendText:pa},t.a.createElement("div",{className:"display_flex"},Me.map(Aa=>Wt(Aa))))),pe.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},Xe),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},Qt.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt?Se(mt):na()},gt)))))},"Theme");nn.displayName="Theme";const Va=s(ge=>({currentTheme:Object(ga.c)(ge)||"default_theme",customTheme:Object(ga.d)(ge)||Object(ga.a)(ge,"default_theme"),clientTheme:Object(ja.a)(ge)}),"theme_mapStateToProps"),Ye=s(ge=>({saveColorsToLocalConfigForAllWorkspaces:()=>ge(Object(_a.a)()),setSidebarCustomTheme:function(){for(var be=arguments.length,Se=new Array(be),he=0;he<be;he++)Se[he]=arguments[he];return ge(Object(St.a)(...Se))},setSidebarBuiltinTheme:function(){for(var be=arguments.length,Se=new Array(be),he=0;he<be;he++)Se[he]=arguments[he];return ge(Object(W.a)(...Se))}}),"theme_mapDispatchToProps");var Jt=Object(O.a)(Va,Ye)(nn),q=e("DPHH");const ma=new y.b("a11y_prefs_setup"),cn=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,upToBrowseKbShortcutPref:rt,contextualMessageShortcutsModalWasSeen:Ct,setUserPrefByApi:Tt,primaryCtaText:ft,stepCountLabel:gt}=ge,na=Object(a.useContext)(N),{setCurrentStep:Xe,setStepTitle:it,speedBumpState:ut}=na;Object(a.useEffect)(()=>{Xe(be),it(ma.t("Keyboard preferences"))},[be,Xe,it]);const Te=Object(a.useCallback)(Lt=>{const Wt=Lt&&Lt.target&&Lt.target.value==="true";Tt({pref:"up_to_browse_kb_shortcut",value:Wt}),Ct&&Tt({pref:"contextual_message_shortcuts_modal_was_seen",value:!0})},[Ct,Tt]),qt=ma.t("We\u2019re so glad you\u2019re here"),z=ma.t("Slackbot \u{1F44D}"),K=t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__up_arrow__option p-a11y_prefs_setup_modal__message_pillow__background"},t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__message_pillow__bordered margin_left_100"},t.a.createElement(ve.a,{name:z,message:qt,avatar:Z.a}))),$=t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__up_arrow__option p-a11y_prefs_setup_modal__up_arrow__option--edit display_flex justify_content_start full_width"},t.a.createElement("div",{className:"display_flex flex_direction_column margin_left_100 full_width"},t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__up_arrow__input"},t.a.createElement("div",null,ma.t("Hey team!"),t.a.createElement("span",{className:"cursor"}))),t.a.createElement("div",{className:"display_flex"},t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__up_arrow__cancel_button"},ma.t("Cancel")),t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__up_arrow__save_button"},ma.t("Save"))))),pe=s(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(Ge,{primaryText:ma.t("Move focus to the most recent message"),image:t.a.createElement(vt,{src:K}),name:"up_shortcut_preference",value:"true",key:"up_shortcut_preference_option_1",checked:rt,onChange:Te,autoFocus:rt}),t.a.createElement(Ge,{primaryText:ma.t("Edit your last message"),image:t.a.createElement(vt,{src:$}),name:"up_shortcut_preference",value:"false",key:"up_shortcut_preference_option_2",checked:!rt,onChange:Te,autoFocus:!rt})),"renderUpArrowRadio");pe.displayName="renderUpArrowRadio";const Ce=ma.t("Keyboard preferences"),Pe=ma.rt("Press {up_arrow_key} in an empty message to:",{up_arrow_key:t.a.createElement(q.a,{label:"\u2191",slim:!0})}),Me=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},Ce," ",gt),Pe):Pe;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:Ce}),t.a.createElement(S.e,null,t.a.createElement(He.a,{legendClassNames:"margin_bottom_75",legendText:Me},t.a.createElement("div",{className:"display_flex"},pe()))),ut.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},ma.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt&&Se(mt)},ft)))))},"UpArrow");cn.displayName="UpArrow";const Ga=s(ge=>({upToBrowseKbShortcutPref:Object(Bt.t)(ge,"up_to_browse_kb_shortcut"),contextualMessageShortcutsModalWasSeen:Object(Bt.t)(ge,"contextual_message_shortcuts_modal_was_seen")}),"up_arrow_mapStateToProps"),wa=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"up_arrow_mapDispatchToProps");var At=Object(O.a)(Ga,wa)(cn),qa=e("Ws5+"),Nn=e("ctiz"),fn=e("jUSB"),ka=e("W5SZ");function za(ge,be){let Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const[he,mt]=Object(a.useState)(!1);return{isPlaying:he,onPlayButtonClick:s(()=>{he||(mt(!0),Se&&setTimeout(()=>{ge()},500),setTimeout(()=>{mt(!1)},be))},"onPlayButtonClick")}}s(za,"usePlayButtonWithMessageFadeIn");var In=za;const Xa=new y.b("a11y_prefs_setup"),Ya=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,userCurrentPrefForIncomingDM:rt,setUserPrefByApi:Ct,primaryCtaText:Tt,closeModal:ft,stepCountLabel:gt}=ge,na=Object(a.useContext)(N),{setCurrentStep:Xe,setStepTitle:it,speedBumpState:ut}=na,{isPlaying:Te,onPlayButtonClick:qt}=In(()=>{const Wt=rt===ka.e?ka.b:rt;Object(fn.c)(Object(Nn.m)(Wt))},1100);Object(a.useEffect)(()=>{Xe(be),it(Xa.t("Sound preferences"))},[be,Xe,it]);const z=s(Wt=>{const sa=Wt.target.checked?ka.b:ka.e;Ct({pref:ka.a,value:sa})},"onChangeA11yPlaySoundForIncomingDM"),K=s(()=>t.a.createElement(Xt.b,{type:"inline",cursor:"pointer",text:Xa.t("Play a sound when you receive a direct message"),className:"margin_top_150"},t.a.createElement(qa.a,{onChange:z,name:"a11y_dm_received_sound",checked:rt!==ka.e})),"renderAnnounceMessages");K.displayName="renderAnnounceMessages";const $=Xa.t("We\u2019re so glad you\u2019re here"),pe=Xa.t("Slackbot \u{1F44D}"),Ce=t.a.createElement(ve.a,{name:pe,message:$,avatar:Z.a}),Pe=Xa.t("Sound preferences"),Me=Xa.t("Direct message sounds:"),Lt=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},Pe," ",gt),Me):Me;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:Pe}),t.a.createElement(S.e,null,t.a.createElement(ie.a,null,t.a.createElement(je.a,{className:"margin_bottom_50"},Lt),t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__message_pillow p-a11y_prefs_setup_modal__message_pillow__background c-sound_prefs__container margin_bottom_50"},t.a.createElement("div",{className:Object(m.default)({"c-sound_prefs__sample_message":!0,"c-sound_prefs__sample_message--transition":Te}),"aria-hidden":!0},Ce),t.a.createElement(re.d,{className:Object(m.default)({"c-sound_prefs__play_button":!0,"c-sound_prefs__play_button--disabled":Te}),onClick:qt,"aria-label":Xa.t("Play incoming DM sound"),autoFocus:!0},t.a.createElement(Ze.a,{className:Object(m.default)({"c-sound_prefs__play_button__icon":!0,"c-sound_prefs__play_button__icon--disabled":Te}),type:"play-filled"}))),K())),ut.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},Xa.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt&&Se?Se(mt):ft()},Tt)))))},"PlaySoundIncomingDM");Ya.displayName="PlaySoundIncomingDM";const Oa=s(ge=>({userCurrentPrefForIncomingDM:Object(ka.f)(ge)}),"play_sound_incoming_dm_mapStateToProps"),Os=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"play_sound_incoming_dm_mapDispatchToProps");var Dn=Object(O.a)(Oa,Os)(Ya),bn=e("w1Np"),_n=e.n(bn);const mn=new y.b("a11y_prefs_setup"),un=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,userCurrentPrefForSentDM:rt,setUserPrefByApi:Ct,primaryCtaText:Tt,closeModal:ft,stepCountLabel:gt}=ge,na=Object(a.useContext)(N),{setCurrentStep:Xe,setStepTitle:it,speedBumpState:ut}=na,{isPlaying:Te,onPlayButtonClick:qt}=In(()=>{const Wt=rt===ka.e?ka.d:rt;Object(fn.c)(Object(Nn.n)(Wt))},1100);Object(a.useEffect)(()=>{Xe(be),it(mn.t("Sound preferences"))},[be,Xe,it]);const z=s(Wt=>{const sa=Wt.target.checked?ka.d:ka.e;Ct({pref:ka.c,value:sa})},"onChangeA11yPlaySoundForSentDM"),K=s(()=>t.a.createElement(Xt.b,{type:"inline",cursor:"pointer",text:mn.t("Play a sound when you send a direct message"),className:"margin_top_150"},t.a.createElement(qa.a,{onChange:z,name:"a11y_dm_sent_sound",checked:rt!==ka.e})),"renderAnnounceMessages");K.displayName="renderAnnounceMessages";const $=mn.t("Good morning!"),pe=mn.t("You \u{1F44D}"),Ce=t.a.createElement(ve.a,{name:pe,message:$,avatar:_n.a}),Pe=mn.t("Sound preferences"),Me=mn.t("Direct message sounds:"),Lt=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},Pe," ",gt),Me):Me;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:Pe}),t.a.createElement(S.e,null,t.a.createElement(ie.a,null,t.a.createElement(je.a,{className:"margin_bottom_50"},Lt),t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__message_pillow p-a11y_prefs_setup_modal__message_pillow__background c-sound_prefs__container margin_bottom_50"},t.a.createElement("div",{className:Object(m.default)({"c-sound_prefs__sample_message":!0,"c-sound_prefs__sample_message--transition":Te}),"aria-hidden":!0},Ce),t.a.createElement(re.d,{className:Object(m.default)({"c-sound_prefs__play_button":!0,"c-sound_prefs__play_button--disabled":Te}),onClick:qt,"aria-label":mn.t("Play sent DM sound"),autoFocus:!0},t.a.createElement(Ze.a,{className:Object(m.default)({"c-sound_prefs__play_button__icon":!0,"c-sound_prefs__play_button__icon--disabled":Te}),type:"play-filled"}))),K())),ut.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},mn.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt?Se(mt):ft()},Tt)))))},"PlaySoundSentDM");un.displayName="PlaySoundSentDM";const Un=s(ge=>({userCurrentPrefForSentDM:Object(ka.g)(ge)}),"play_sound_sent_dm_mapStateToProps"),ze=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"play_sound_sent_dm_mapDispatchToProps");var ce=Object(O.a)(Un,ze)(un);const Le=s(ge=>{let{name:be,message:Se,avatar:he,screenreaderText:mt,screenreaderTextClasses:rt,className:Ct}=ge;const Tt=Object(m.default)("c-message_with_screenreader_example",Ct),ft=Object(m.default)("c-message_with_screenreader_example__caption_text",rt);return t.a.createElement("div",{className:Tt},t.a.createElement(ve.a,{name:be,message:Se,avatar:he}),t.a.createElement("div",{className:ft},mt))},"MessageWithScreenreaderExample");Le.displayName="MessageWithScreenreaderExample";var Ke=Le;const at=new y.b("a11y_prefs_setup"),ua=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,readOutIncomingDM:rt,setUserPrefByApi:Ct,primaryCtaText:Tt,closeModal:ft,stepCountLabel:gt}=ge,{setCurrentStep:na,setStepTitle:Xe,speedBumpState:it}=Object(a.useContext)(N),ut=at.t("We\u2019re so glad you\u2019re here"),Te=at.t("Slackbot \u{1F44D}"),qt=at.t("Slackbot: We\u2019re so glad you\u2019re here"),z=t.a.createElement(Ke,{name:Te,message:ut,avatar:Z.a,screenreaderText:qt,className:"margin_left_75"}),{isPlaying:K,onPlayButtonClick:$}=In(()=>{},1200,!1);Object(a.useEffect)(()=>{na(be),Xe(at.t("Sound preferences"))},[be,na,Xe]);const pe=s(Wt=>{const ya=Wt.target.checked;Ct({pref:"a11y_read_out_incoming_dm",value:ya})},"onChangeA11yReadOutIncomingDM"),Ce=s(()=>t.a.createElement(Xt.b,{type:"inline",cursor:"pointer",text:at.t("Announce incoming messages with your screen reader"),className:"margin_top_150"},t.a.createElement(qa.a,{onChange:pe,name:"a11y_dm_read_out",checked:rt})),"renderAnnounceMessages");Ce.displayName="renderAnnounceMessages";const Pe=at.t("Sound preferences"),Me=at.t("Direct message announcements:"),Lt=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},Pe," ",gt),Me):Me;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:Pe}),t.a.createElement(S.e,null,t.a.createElement(ie.a,null,t.a.createElement(je.a,{className:"margin_bottom_50"},Lt),t.a.createElement("div",{className:"p-a11y_prefs_setup_modal__message_pillow p-a11y_prefs_setup_modal__message_pillow__background c-sound_prefs__container margin_bottom_50"},t.a.createElement("div",{"aria-hidden":!0,className:Object(m.default)({"c-sound_prefs__sample_message":!0,"c-sound_prefs__sample_message--transition":K})},z),t.a.createElement(re.d,{className:Object(m.default)({"c-sound_prefs__play_button":!0,"c-sound_prefs__play_button--disabled":K}),onClick:$,"aria-label":at.t("Play example direct message announcement"),autoFocus:!0},t.a.createElement(Ze.a,{className:Object(m.default)({"c-sound_prefs__play_button__icon":!0,"c-sound_prefs__play_button__icon--disabled":K}),type:"play-filled"})),t.a.createElement("div",{className:"c-sound_prefs__direct_message_announcement__live_region",role:"alert"},K?qt:"")),Ce())),it.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},at.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt&&Se?Se(mt):ft()},Tt)))))},"ReadIncomingDM");ua.displayName="ReadIncomingDM";const Pa=s(ge=>({readOutIncomingDM:Object(Bt.t)(ge,"a11y_read_out_incoming_dm")}),"read_incoming_dm_mapStateToProps"),Ba=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"read_incoming_dm_mapDispatchToProps");var Mt=Object(O.a)(Pa,Ba)(ua),$t=e("JoAr");const Rt=new y.b("a11y_prefs_setup"),Cn=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,screenReaderMessageLabelDateTimeFirst:rt,setUserPrefByApi:Ct,primaryCtaText:Tt,closeModal:ft,stepCountLabel:gt}=ge,na=Object(a.useContext)(N),{setCurrentStep:Xe,setStepTitle:it,speedBumpState:ut}=na;Object(a.useEffect)(()=>{Xe(be),it(Rt.t("Sound preferences"))},[be,Xe,it]);const Te=Object(a.useCallback)(pa=>{var Aa;const ea=pa==null||(Aa=pa.target)===null||Aa===void 0?void 0:Aa.value;Ct({pref:"a11y_screen_reader_message_label_date_time_first",value:ea==="true"})},[Ct]),qt=Date.now(),z=Math.floor(qt/1e3),K=Rt.t("We\u2019re so glad you\u2019re here"),$=Rt.t("Slackbot \u{1F44D}"),pe=Rt.t("Slackbot: Today at {currentDateTime}\u2026",{currentDateTime:Object($t.a)(z,"{time}")}),Ce=Rt.t("Slackbot: We\u2019re so glad you\u2019re here"),Pe=t.a.createElement(Ke,{name:$,message:K,avatar:Z.a,screenreaderText:pe,screenreaderTextClasses:"no_wrap",className:"margin_left_75"}),Me=t.a.createElement(Ke,{name:$,message:K,avatar:Z.a,screenreaderText:Ce,screenreaderTextClasses:"no_wrap",className:"margin_left_75"}),Lt=s(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(Ge,{primaryText:Rt.t("Sender, message, and then date and time"),image:t.a.createElement(vt,{className:"p-a11y_prefs_setup_modal__message_pillow__background",src:Me}),name:"a11y_dm_read_out",value:"false",key:"a11y_dm_read_out_option_2",checked:!rt,onChange:Te,autoFocus:!rt}),t.a.createElement(Ge,{primaryText:Rt.t("Sender, date and time, and then message"),image:t.a.createElement(vt,{className:"p-a11y_prefs_setup_modal__message_pillow__background",src:Pe}),name:"a11y_dm_read_out",value:"true",key:"a11y_dm_read_out_option_1",checked:rt,onChange:Te,autoFocus:rt})),"renderMessageAnnouncementFormatRadio");Lt.displayName="renderMessageAnnouncementFormatRadio";const Wt=Rt.t("Sound preferences"),ya=Rt.t("Choose a screen reader message format:"),sa=Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},Wt," ",gt),ya):ya;return t.a.createElement(S.d,null,t.a.createElement(S.l,{title:Wt}),t.a.createElement(S.e,null,t.a.createElement(He.a,{legendClassNames:"margin_bottom_75",legendText:sa},t.a.createElement("div",{className:"display_flex"},Lt()))),ut.isVisible?t.a.createElement(ct,null):null,t.a.createElement(J.a,null,t.a.createElement(S.h,null,t.a.createElement("div",{className:"caption sk_foreground_max_solid"},gt),t.a.createElement("div",null,he&&t.a.createElement(re.f,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},Rt.t("Go Back")),t.a.createElement(re.f,{onClick:()=>mt?Se(mt):ft()},Tt)))))},"MessageAnnouncementFormat");Cn.displayName="MessageAnnouncementFormat";const Qn=s(ge=>({screenReaderMessageLabelDateTimeFirst:Object(Bt.t)(ge,"a11y_screen_reader_message_label_date_time_first")}),"message_announcement_format_mapStateToProps"),gn=s(ge=>({setUserPrefByApi:be=>ge(Object(Zt.f)(be))}),"message_announcement_format_mapDispatchToProps");var cs=Object(O.a)(Qn,gn)(Cn),Es=e("Tevt"),ds=e("ogsn"),bs=e.n(ds);function es(){return es=Object.assign||function(ge){for(var be=1;be<arguments.length;be++){var Se=arguments[be];for(var he in Se)Object.prototype.hasOwnProperty.call(Se,he)&&(ge[he]=Se[he])}return ge},es.apply(this,arguments)}s(es,"success_extends");const Fn=new y.b("a11y_prefs_setup"),Jn=s(ge=>{const{id:be,switchPane:Se,prevStepId:he,nextStepId:mt,primaryCtaText:rt,closeModal:Ct,openPrefsDialog:Tt}=ge,ft=Object(a.useContext)(N),{setCurrentStep:gt,setStepTitle:na}=ft;Object(a.useEffect)(()=>{gt(be),na(Fn.t("You\u2019re all set!"))},[be,gt,na]);const Xe=Fn.t("You\u2019re all set!"),it=Fn.rt("Give these preferences a try and make sure they work for you. You can always go to {preferences} to adjust them, and find other options to explore.",{preferences:t.a.createElement(Es.a,{onClick:Tt},Fn.t("Preferences"))}),ut=s(()=>{const Te=Fn.rt('<span className="offscreen">{title}</span>{description}',{title:Xe,description:it})},"tempMethodForTranslations");return t.a.createElement(S.d,null,t.a.createElement(V.a,es({src:bs.a,"aria-hidden":!0,alt:""},F)),t.a.createElement(S.l,{title:Xe}),t.a.createElement(S.e,{id:"a11y_prefs_setup_step_description"},Object(f.x)()?t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"offscreen"},Xe),it):it),t.a.createElement(J.a,null,t.a.createElement(S.h,{className:"categories_footer_actions"},he&&t.a.createElement(G.d,{type:"outline",onClick:()=>Se&&Se(he),className:"margin_right_100"},Fn.t("Go Back")),t.a.createElement(G.d,{onClick:()=>mt?Se(mt):Ct(),"aria-describedby":"a11y_prefs_setup_step_description",autoFocus:!0},rt))))},"Success");Jn.displayName="Success";var rn=Jn;function Wn(){return Wn=Object.assign||function(ge){for(var be=1;be<arguments.length;be++){var Se=arguments[be];for(var he in Se)Object.prototype.hasOwnProperty.call(Se,he)&&(ge[he]=Se[he])}return ge},Wn.apply(this,arguments)}s(Wn,"a11y_prefs_setup_modal_extends");const en=new y.b("a11y_prefs_setup"),Zn=s(ge=>{const{Component:be}=ge;return t.a.createElement(be,Wn({},ge))},"renderStep");Zn.displayName="renderStep";const ms=[h.HOME,h.ZOOM,h.ANIMATION,h.SIDEBAR,h.THEME,h.MESSAGE_ANNOUNCEMENT_FORMAT,h.READ_INCOMING_DM,h.PLAY_SOUND_INCOMING_DM,h.PLAY_SOUND_SENT_DM,h.UP_ARROW_KEY,h.SUCCESS],Tn=s(ge=>{let{closeModal:be,openPrefsDialog:Se}=ge;const he=Object(i.d)($a=>Object(v.d)($a,"aria_label_required_translation")==="on"),mt=he?en.t("Home"):"",rt=he?en.t("Zoom"):"",Ct=he?en.t("Animation"):"",Tt=he?en.t("Sidebar"):"",ft=he?en.t("Theme"):"",gt=he?en.t("Up Arrow Key"):"",na=he?en.t("Play Sound Incoming DM"):"",Xe=he?en.t("Play Sound Sent DM"):"",it=he?en.t("Read Incoming DM"):"",ut=he?en.t("Message Announcement Format"):"",Te=he?en.t("Success"):"",qt=Object(a.useMemo)(()=>{let $a=[...ms];return Object(f.i)()||($a=$a.filter(ha=>ha!==h.ZOOM)),$a=$a.filter(ha=>ha!==h.UP_ARROW_KEY),$a},[]),z=qt.filter($a=>$a!==h.HOME&&$a!==h.SUCCESS),K=Object(a.useCallback)($a=>en.t("Step {stepCount} of {totalSteps}",{stepCount:$a,totalSteps:z.length}),[z]),$=Object(a.useMemo)(()=>{const $a={[h.HOME]:{id:h.HOME,Component:X,title:mt},[h.ZOOM]:{id:h.ZOOM,Component:Be,title:rt},[h.ANIMATION]:{id:h.ANIMATION,Component:_t,title:Ct},[h.SIDEBAR]:{id:h.SIDEBAR,Component:Ee,title:Tt},[h.THEME]:{id:h.THEME,Component:Jt,title:ft},[h.UP_ARROW_KEY]:{id:h.UP_ARROW_KEY,Component:At,title:gt},[h.PLAY_SOUND_INCOMING_DM]:{id:h.PLAY_SOUND_INCOMING_DM,Component:Dn,title:na},[h.PLAY_SOUND_SENT_DM]:{id:h.PLAY_SOUND_SENT_DM,Component:ce,title:Xe},[h.READ_INCOMING_DM]:{id:h.READ_INCOMING_DM,Component:Mt,title:it},[h.MESSAGE_ANNOUNCEMENT_FORMAT]:{id:h.MESSAGE_ANNOUNCEMENT_FORMAT,Component:cs,title:ut},[h.SUCCESS]:{id:h.SUCCESS,Component:rn,title:Te}},ha=en.t("Done"),Ln=en.t("Get Started"),Js=en.t("Next");return s(()=>{if(!qt||!qt.length)return{};const Xs={};return qt.forEach((jn,ps)=>{let Ts=Js,Bs;ps>0&&(Bs=qt[ps-1]);const Ko=ps===qt.length-1?void 0:qt[ps+1];jn===h.HOME?Ts=Ln:ps===qt.length-1&&(Ts=ha);const ko={...$a[jn],prevStepId:Bs,nextStepId:Ko,primaryCtaText:Ts,stepCountLabel:K(ps),openPrefsDialog:Se};Xs[jn]={render:$s=>Zn({...ko,...$s,closeModal:be}),modalProps:{contentLabel:$a[jn].title}}}),Xs},"buildSteps")()},[qt,K,Se,be,mt,rt,Ct,Tt,ft,gt,na,Xe,it,ut,Te]),[pe,Ce]=Object(a.useState)(""),[Pe,Me]=Object(a.useState)(!1),[Lt,Wt]=Object(a.useState)(""),{speedBumpState:ya,closeSpeedBump:sa,openSpeedBump:pa}=Object(E.a)(),Aa=Object(a.useCallback)(()=>{if(pe===h.SUCCESS||pe===h.HOME){be();return}pa({onCancel:sa,onContinue:()=>be()})},[pe,be,pa,sa]),ea=pe===h.THEME,ba=z.indexOf(pe),Rn=ba!==-1?K(ba+1):"";return t.a.createElement(N.Provider,{value:{setCurrentStep:Ce,isWideModal:Pe,setWideModal:Me,speedBumpState:ya,setStepTitle:Wt}},t.a.createElement(j.a,{eventId:g.EventId.A11Y_PREFS_SETUP,uiComponentName:g.UiComponentName.A11Y_PREFS_SETUP_MODAL,clogImpression:!0},t.a.createElement("div",{id:"a11y_prefs_setup_modal_description",className:"offscreen"},Rn),t.a.createElement(T.b,{describedby:"a11y_prefs_setup_modal_description",className:Object(m.default)({"p-a11y_prefs_setup_modal":!0,"p-a11y_prefs_setup_modal--wide":Pe}),dataQa:"a11y_prefs_setup_modal",closeModal:Aa,defaultPane:Object.keys($)[0],panes:$,overlayClassName:ea?"p-a11y_prefs_setup_modal__hide_overlay":"",showCloseButton:pe!==h.HOME,contentLabel:Lt,autoClogProps:{uiComponentName:g.UiComponentName.A11Y_PREFS_SETUP_MODAL,uiStep:`${g.UiComponentName.A11Y_PREFS_SETUP_MODAL}__${pe}`}})))},"A11yPrefsSetupModal");Tn.displayName="A11yPrefsSetupModal";const xs=s(ge=>({closeModal:()=>ge(Object(r.a)()),openPrefsDialog:()=>ge(Object(l.a)())}),"a11y_prefs_setup_modal_mapDispatchToProps"),us=Object(O.a)(null,xs)(Tn),ts=Object(I.a)(us);var Cs=p.a=ts},HMe0:function(w,p,e){"use strict";e.d(p,"a",function(){return T});var a=e("Bw5p"),t=e("G4qV"),m=e("ZKjC"),O=e("59uo"),i=e("O86Y"),v=e("G5NC");const T=Object(m.b)(l=>{if(!Object(v.a)())return{};const g=Object(O.d)(l);return g?Object(a.a)(l.tileHistory,g):{}});T.meta={name:"createSelector",key:"createSelectorgetHistoryStateForSerialization",description:l=>{if(!Object(v.a)())return{};const g=Object(O.d)(l);return g?Object(a.a)(l.tileHistory,g):{}}};const I=Object(m.b)(l=>{var g,j;const _=Object(O.a)(l);if(!_)return null;var A;return(A=(g=l.tileHistory)===null||g===void 0||(j=g[_])===null||j===void 0?void 0:j.historyStack)!==null&&A!==void 0?A:null});I.meta={name:"createSelector",key:"createSelectorgetHistoryStackForActiveTile",description:l=>{var g,j;const _=Object(O.a)(l);if(!_)return null;var A;return(A=(g=l.tileHistory)===null||g===void 0||(j=g[_])===null||j===void 0?void 0:j.historyStack)!==null&&A!==void 0?A:null}};const r=Object(m.b)(l=>{var g,j;const _=Object(O.a)(l);if(!_)return null;var A;return(A=(g=l.tileHistory)===null||g===void 0||(j=g[_])===null||j===void 0?void 0:j.historyIndex)!==null&&A!==void 0?A:null});r.meta={name:"createSelector",key:"createSelectorgetHistoryIndexForActiveTile",description:l=>{var g,j;const _=Object(O.a)(l);if(!_)return null;var A;return(A=(g=l.tileHistory)===null||g===void 0||(j=g[_])===null||j===void 0?void 0:j.historyIndex)!==null&&A!==void 0?A:null}};const E=Object(m.b)((l,g)=>{let{tileKey:j}=g;var _,A;return(_=l.tileHistory)===null||_===void 0||(A=_[j])===null||A===void 0?void 0:A.historyStack});E.meta={name:"createSelector",key:"createSelectorgetHistoryForTile",description:(l,g)=>{let{tileKey:j}=g;var _,A;return(_=l.tileHistory)===null||_===void 0||(A=_[j])===null||A===void 0?void 0:A.historyStack}};const y=Object(m.b)((l,g)=>{let{tileKey:j}=g;var _,A,Y,N;const S=(_=l.tileHistory)===null||_===void 0||(A=_[j])===null||A===void 0?void 0:A.historyStack,V=(Y=l.tileHistory)===null||Y===void 0||(N=Y[j])===null||N===void 0?void 0:N.historyIndex;return S&&(V??0)+1===S.length});y.meta={name:"createSelector",key:"createSelectorisBackDisabledForTile",description:(l,g)=>{let{tileKey:j}=g;var _,A,Y,N;const S=(_=l.tileHistory)===null||_===void 0||(A=_[j])===null||A===void 0?void 0:A.historyStack,V=(Y=l.tileHistory)===null||Y===void 0||(N=Y[j])===null||N===void 0?void 0:N.historyIndex;return S&&(V??0)+1===S.length}};const f=Object(t.a)(l=>I(l),l=>r(l),l=>Object(i.g)(l),(l,g,j)=>(l||[]).slice(g??0).map(_=>({primaryView:_.view,teamId:j})))},HPr9:function(w,p,e){"use strict";e.r(p);var a=e("q1tI"),t=e.n(a),m=e("BHdc"),O=e("nNoG"),i=e("vMmh"),v=e("ktUG"),T=e("/0Xg"),I=e("uVZW"),r=e("Trx9"),E=e("Sid4");const y=new O.b("notification_banner"),f={elementName:"pricing"},l={elementName:"skip_for_now"},g={notification:I.h.LOCAL_DISCOUNT_AWARENESS,step:"hide"};let j=s(class extends a.PureComponent{getContent(){const{discountPercent:A,country:Y}=this.props,N=Object(m.default)("p-message_pane_banner__header_icon",`p-message_pane_banner__header_icon--${Y.toLowerCase()}`);return{headingText:t.a.createElement("div",null,t.a.createElement("div",{className:N}),y.rt("Get a {discountPercent}% discount on a paid plan",{discountPercent:A})),bodyText:y.rt("For a limited time, teams in {country} can get {discountPercent}% off when upgrading to a paid plan. Once you upgrade, your team will be able to see and search all past messages and files, add guests to your workspace, and more.",{country:i.a[Y].name,discountPercent:A}),primaryCTAText:y.t("See Upgrade Options")}}render(){const{headingText:A,bodyText:Y,primaryCTAText:N}=this.getContent();return t.a.createElement(r.a,{clogImpression:!0,eventId:v.EventId.GROWTH_LOCAL_DISCOUNT,uiComponentName:v.UiComponentName.LOCAL_DISCOUNT_AWARENESS_BANNER},t.a.createElement(E.b,{headingText:A,bodyText:Y,primaryCTAText:N,primaryCTAHref:Object(T.u)(),primaryCTAClogProps:f,secondaryCTAText:y.t("Not Now"),secondaryCTAClogProps:l,notificationPrefs:g}))}},"LocalDiscountAwarenessBanner");j.displayName="LocalDiscountAwarenessBanner",p.default=j},IYUO:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-en-GB-c479ba7.gif"},Icre:function(w,p,e){"use strict";var a=e("SQ0V"),t=e("ohbk"),m=e("a/vO"),O=e("lhZz"),i=e("l1I1"),v=e("XZo2"),T=e("Z9Nv"),I=e("Wn1n"),r=e("RV0M");const E=Object(a.c)("Go back from the document, usually happens when it is closed",(y,f,l,g)=>{if(!Object(i.a)(Object(I.a)(f())))return;const j=Object(m.a)(Object(O.getStateForClientStore)()),_=j&&j.find(A=>!!(A!=null&&A.primaryView)&&!Object(i.a)(A.primaryView));if(!_||!_.primaryView){const{shouldUseNavigate:A,getSiblingView:Y}=g(r.a),N=Object(v.p)(f(),{shouldUseNavigate:A,getSiblingView:Y});return y(Object(T.a)({id:N,replace_history_state:!0}))}return y(Object(t.a)({id:_.primaryView,teamId:_.teamId,routeParams:_.routeParams||{},replaceHistoryState:!0}))});E.meta={name:"createThunk",key:"createThunkgoBackFromDoc",description:"Go back from the document, usually happens when it is closed"},p.a=E},IlkI:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("wd/R"),O=e.n(m),i=e("zxER"),v=e("4KfL"),T=e("UbkG"),I=e("Enx8"),r=e("TDLY"),E=e("mQiU"),y=e("BHdc"),f=e("nFQW"),l=e("nNoG"),g=e("/4YX");const j=new l.b("slack-docs"),_=s(A=>{let{versionId:Y,className:N,showBackButton:S,canvasReturnId:V,onBackToChannelClick:J}=A;const G=!!Object(i.d)(v.a),{windowId:C}=Object(a.useContext)(E.a),u=Object(i.d)(te=>Object(T.b)(te,C,Y)),d=Object(i.d)(te=>u!=null&&u.author?Object(I.a)(te,u==null?void 0:u.author):void 0),h=Object(a.useCallback)(()=>{J&&V&&J(V)},[V,J]);if(!G||!Y)return null;const D=O()(u==null?void 0:u.createdMs),F=j.rt("{author}, {date} at {time}",{author:d,date:Object(r.a)(D,G),time:D.format("h:mm A")}),x=Object(y.default)("p-activity_history_header",N);return t.a.createElement("div",{className:x},!!S&&J&&t.a.createElement(f.a,{icon:"chevron-large-left",onClick:h,"aria-label":j.t("Back to channel"),className:"margin_right_50"}),t.a.createElement("div",{className:"p-activity_history_header__right"},u&&t.a.createElement("div",{className:"p-activity_history_header__info"},F)))},"QuipActivityHistoryHeader");_.displayName="QuipActivityHistoryHeader",p.a=_},InNx:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("/MKj"),i=e("nNoG"),v=e("zm5I"),T=e("gJbv"),I=e("d/xU"),r=e("/0Xg"),E=e("ktUG"),y=e("Trx9"),f=e("dHXs"),l=e("Sid4"),g=e("GR6R"),j=e("UAcp"),_=e("vDCl");const A=new i.b("trials_highlight_paid_features"),Y={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},N={elementName:"learn_more"},S={elementName:"pricing"},V=s(G=>{let{headingText:C,bodyText:u,clientTheme:d,imgDark:h,imgLight:D,isEligibleForMessageLimitTrial:F,notificationPrefs:x,openTrialModal:te,showUpgradeOptions:H,trialStartCTAProps:X,uiComponentVariant:re,uiStep:je}=G;const ie=Object(r.u)({feature:r.h.UNLIMITED_MESSAGES});let ve,ne,Z,ae,se,fe,Ie;return F?(ve=A.t("Start Free Trial"),ae=f.a,ne=Y,se=A.t("Learn more"),fe=N,Ie=te):H?(ve=A.t("See Upgrade Options"),ne=S,Z=ie):(ve=A.t("Learn More"),ne=N,Z=`https://${Object(I.n)()}/help/articles/115002422943`),t.a.createElement(y.a,{clogImpression:!0,eventId:E.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:E.UiComponentName.LIMITED_HISTORY_FLOATING_TRIAL_OFFER_BANNER,uiComponentVariant:re,uiStep:je},t.a.createElement(l.b,{bodyText:u,closeOnPrimaryCTAClick:!1,closeOnSecondaryCTAClick:!1,customPrimaryCTA:ae,customPrimaryCTAProps:X,headingText:Object(j.b)(C),imgSrc:d==="light"?D:h,notificationPrefs:x,primaryCTAText:ve,primaryCTAClogProps:ne,primaryCTAHref:Z,onSecondaryCTAClick:Ie,secondaryCTAClogProps:fe,secondaryCTAText:se,secondaryCTAUseLink:!0,theme:_.b.HORCHATA}))},"LimitedHistoryFloatingTrialOfferBanner");V.displayName="LimitedHistoryFloatingTrialOfferBanner";const J=s(G=>{let{bodyText:C,headingText:u,imgDark:d,imgLight:h,isEligibleForMessageLimitTrial:D,notificationName:F,onTrialStart:x,showUpgradeOptions:te,uiStep:H}=G;const X=Object(O.useDispatch)(),re=Object(m.d)(T.a),je=Object(m.d)(v.a);let ie;D?ie=E.UiComponentVariant.TRIAL_ELIGIBLE:te?ie=E.UiComponentVariant.TRIAL_INELIGIBLE:ie=E.UiComponentVariant.USER_NON_ADMIN;const ve=Object(a.useCallback)(()=>X(Object(g.a)({uiComponentVariant:ie,uiStep:H})),[X,ie,H]),ne=Object(a.useCallback)(()=>x({showFloatingTrialStartBanner:!0,unlockMessages:!0}),[x]),Z=Object(a.useMemo)(()=>({onRequestComplete:ne,reason:"limited_history_floating_trial_offer_banner",promoType:r.o.PaidFeatureTrial,promoSubtype:r.n.MessageLimit}),[ne]),ae=Object(a.useMemo)(()=>({notification:F}),[F]);return t.a.createElement(V,{bodyText:C,clientTheme:je,experimentBestInClassTrialsMessageLimitTrialGroupTreatment:re,headingText:u,imgDark:d,imgLight:h,isEligibleForMessageLimitTrial:D,notificationName:F,notificationPrefs:ae,onTrialStart:x,openTrialModal:ve,showUpgradeOptions:te,trialStartCTAProps:Z,uiStep:H,uiComponentVariant:ie})},"ConnectedLimitedHistoryFloatingTrialOfferBanner");J.displayName="ConnectedLimitedHistoryFloatingTrialOfferBanner",p.a=t.a.memo(J)},J17o:function(w,p,e){"use strict";e.r(p),e.d(p,"BaseApproachingMsgLimitBanner",function(){return x});var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("/MKj"),i=e("ifKl"),v=e("ktUG"),T=e("nNoG"),I=e("/0Xg"),r=e("Trx9"),E=e("GR6R"),y=e("vDCl"),f=e("Sid4"),l=e("d/xU"),g=e("uVZW"),j=e("gJbv"),_=e("o1uv"),A=e.n(_),Y=e("WSvh"),N=e.n(Y),S=e("InNx");const V=new T.b("trials_highlight_paid_features"),J=s(H=>{let{isEligibleForMessageLimitTrial:X,daysUntilMessageLimit:re,notificationName:je,onTrialStart:ie,showUpgradeOptions:ve}=H;const ne=I.q.PAID_FEATURE_TRIAL;let Z;const ae=V.t("{daysUntilMessageLimit, plural, =1 {# day} other {# days}} left until some messages and files are hidden",{daysUntilMessageLimit:re});return X?Z=V.t("Start a free, {trialDuration}-day trial to maintain a record of every conversation and decision.",{trialDuration:ne}):ve?Z=V.t("Upgrade to a paid plan to maintain a record of every conversation and decision.",{fallbackHash:"ea0f9a8bd37b4be6fa8972dacbed86b30dc167a2"}):Z=V.t("Upgrade to a paid plan for unlimited access to past decisions and discussions.",{fallbackHash:"ea0f9a8bd37b4be6fa8972dacbed86b30dc167a2"}),t.a.createElement(S.a,{bodyText:Z,headingText:ae,isEligibleForMessageLimitTrial:X,imgDark:N.a,imgLight:A.a,notificationName:je,onTrialStart:ie,showUpgradeOptions:ve,uiStep:v.UiStep.LIMITED_HISTORY_APPROACHING_LIMIT})},"ApproachingMsgLimitBannerV2");J.displayName="ApproachingMsgLimitBannerV2";var G=t.a.memo(J);const C=new T.b("trials_highlight_paid_features"),u={elementName:"learn_more"},d={elementName:"trial_start"},h={elementName:"pricing"},D={elementName:"learn_more"},F={notification:g.h.MESSAGE_LIMIT_APPROACHING},x=s(H=>{let{isEligibleForMessageLimitTrial:X,daysUntilMessageLimit:re,notificationName:je,onTrialStart:ie,showUpgradeOptions:ve}=H;const ne=Object(O.useDispatch)(),Z=Object(I.u)({feature:I.h.UNLIMITED_MESSAGES}),ae=Object(m.d)(j.a),se=30,fe=Object(a.useCallback)(()=>ne(Object(E.a)({uiComponentVariant:v.UiComponentVariant.APPROACHING_MSG_FILE_LIMIT_DATE})),[ne]);if(ae)return t.a.createElement(G,{isEligibleForMessageLimitTrial:X,daysUntilMessageLimit:re,notificationName:je,onTrialStart:ie,showUpgradeOptions:ve});const Ie=`https://${Object(l.l)()}/help/articles/115002422943#message-and-file-visibility-limit`,ye=s(()=>X?{text:C.t("Start Free Trial"),clogProps:d}:ve?{text:C.t("See Upgrade Options"),clogProps:h,href:Z}:{text:C.t("Learn More"),clogProps:D,href:Ie},"getPrimaryCTA"),De=C.t("{daysUntilMessageLimit, plural, =1 {# day} other {# days}} left until some messages and files are hidden",{daysUntilMessageLimit:re}),Ae=s(()=>X?C.t("Start a free, {trialDuration}-day trial to keep access to your team\u2019s full message and file history, plus get all the premium features of the Pro plan.",{trialDuration:se}):ve?C.t("Upgrade to a paid plan to keep access to your team\u2019s full message and file history, plus get all the premium features of the Pro plan."):C.t("On the free version of Slack, you can only access messages and files sent in the past {limitInDays} days.",{limitInDays:I.f}),"getBodyText"),qe=v.UiComponentName.APPROACHING_MSG_LIMIT_BANNER,Et=X?v.UiComponentVariant.TRIAL_ELIGIBLE:v.UiComponentVariant.TRIAL_INELIGIBLE,Ne=ye();return t.a.createElement(r.a,{clogImpression:!0,eventId:v.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:qe,uiComponentVariant:Et},t.a.createElement(f.b,{notificationPrefs:F,closeOnSecondaryCTAClick:!1,primaryCTAText:Ne.text,primaryCTAClogProps:Ne.clogProps,primaryCTAHref:Ne.href,onPrimaryCTAClick:X?fe:i.a,iconType:"clock-o",theme:y.b.LIGHT_PURPLE,headingText:De,bodyText:Ae(),secondaryCTAText:ve||X?C.t("Learn More"):void 0,secondaryCTAHref:Ie,secondaryCTAClogProps:u}))},"ApproachingMsgLimitBanner");x.displayName="ApproachingMsgLimitBanner";var te=p.default=x},JEWL:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-pt-BR-e75fa5a.gif"},JoNs:function(w,p,e){"use strict";var a=e("9oTK"),t=e("q1tI"),m=e.n(t),O=e("wSSu"),i=e("ifKl"),v=e("2SCj"),T=e("Dp5f"),I=e("WSQ4"),r=e("C3Bw"),E=e("G6BK");function y(){return y=Object.assign||function(N){for(var S=1;S<arguments.length;S++){var V=arguments[S];for(var J in V)Object.prototype.hasOwnProperty.call(V,J)&&(N[J]=V[J])}return N},y.apply(this,arguments)}s(y,"_extends");const f=80,l=250,g=380,j=90,_=s(N=>{let{children:S,renderContent:V,shouldShowContent:J,customWidth:G,customTop:C,customLeft:u,forceShow:d=!1,showArrow:h=!1,handleOnRequestClose:D}=N;const{window:F}=Object(t.useContext)(I.a),[x,te]=Object(t.useState)(!1),[H,X]=Object(t.useState)(!1),re=Object(t.useRef)(null),je=Object(t.useCallback)(()=>{const Ae=Object(O.findDOMNode)(re.current).getBoundingClientRect();return{left:u??Ae.right-(G||g),width:G||g,top:C||j}},[u,G,C]),ie=Object(t.useCallback)(()=>{X(!0),te(!0)},[]),ve=Object(t.useCallback)(()=>{d||(X(!1),te(!1),Object(T.b)(),D&&D())},[d,D]);Object(t.useEffect)(()=>{d&&ie()},[d,ie]);const[ne,Z]=Object(v.a)(ie),[ae,se]=Object(v.a)(ve),fe=Object(t.useRef)(null),Ie=Object(t.useCallback)(()=>{var Ae;!((Ae=fe.current)===null||Ae===void 0)&&Ae.isPending()&&(fe.current.cancel(),fe.current=null)},[]),ye=Object(t.useCallback)(()=>{if(se(),H){Z();return}return te(!0),ne(f)},[se,ne,Z,H]),De=Object(t.useCallback)(Object(a.coroutine)(function*(){if(Z(),Object(E.b)(F)){fe.current=Object(E.c)(F).then(()=>{ae(l)});return}ae(l)}),[Z,ae,F]);return m.a.createElement("span",{"data-qa":"channel_canvas_hover_preview_trigger",className:"p-view_header_hover_card__container",onFocus:i.a,onMouseOver:Ie,onMouseEnter:ye,onMouseLeave:De,onClick:ve,role:"presentation",ref:re},S,x&&J&&m.a.createElement(r.a,{isOpen:!0,className:"shortcut_hover_modal",shouldFocusAfterRender:!1,overlayClassName:"p-view_header_hover_card__overlay"},m.a.createElement("div",{className:"p-view_header_hover_card__popover",style:{...je(),...H?{opacity:1}:{opacity:0,pointerEvents:"none"}}},h&&m.a.createElement("div",{className:"p-view_header_hover_card__popover_arrow"}),m.a.createElement("div",null,V()))))},"ChannelCanvasPreviewHoverTrigger");_.displayName="ChannelCanvasPreviewHoverTrigger";const A=s(N=>m.a.createElement(_,y({},N),N.children),"renderChannelCanvasPreviewHoverTrigger");var Y=p.a=_},KtMe:function(w,p,e){"use strict";e.d(p,"c",function(){return a}),e.d(p,"a",function(){return t}),e.d(p,"b",function(){return m});const a="summaryDetailListener",t="channelCanvasAutoOpen",m=10},L4J1:function(w,p,e){"use strict";var a=e("Lgge"),t=e("q1tI"),m=e.n(t),O=e("TGBA"),i=e("ifKl"),v=e("fujP"),T=e("Cfcg"),I=e("WIr4"),r=e("n3tL"),E=e("yPgC"),y=e("FWtP"),f=e("Ma6+"),l=e("VvJB"),g=e("jHZ5"),j=e("forh"),_=e("D5yd");const A={view:r.default.oneOfType([E.a.maybeUnknown(E.a.AppView),r.default.bool]),containerContext:r.default.oneOf(Object(O.a)(l.a)).isRequired,renderBlockWrapper:r.default.func,containerId:r.default.string,onAction:r.default.func,showConfirmDialog:r.default.func,openFileViewer:r.default.func,dispatchSendActions:r.default.func.isRequired,blockKitLogPayload:r.default.object,viewContextTeamId:r.default.string},Y={view:!1,renderBlockWrapper:void 0,containerId:void 0,onAction:i.a,showConfirmDialog:void 0,openFileViewer:void 0,blockKitLogPayload:void 0,viewContextTeamId:void 0};let N=s(class extends t.Component{handleAction(G){const{view:C,onAction:u,viewContextTeamId:d}=this.props,h={serviceId:C.botId,serviceTeamId:d||C.appInstalledTeamId,container:{type:l.a.view,view_id:C.id},actions:[G],isProfileAppView:C.type==="profile"};return u(G),Object(g.t)(C.blocks,G.blockId)?a.a.resolve():this.props.dispatchSendActions(h)}renderBlockWrapper(G,C,u){return this.props.renderBlockWrapper?this.props.renderBlockWrapper(G,C,u):m.a.createElement("div",{key:C.blockId,className:`p-block_wrapper--${this.props.containerContext}_view p-${C.type}_block_wrapper--${this.props.containerContext}_view`},G)}render(){const{view:G,containerContext:C,containerId:u,showConfirmDialog:d,openFileViewer:h,blockKitLogPayload:D}=this.props;if(Object(v.a)(G.blocks))return null;const F=this.getContainerActionsPayload(G);return m.a.createElement(_.a,{blocks:G.blocks,containerIdKey:Object(g.k)({...F==null?void 0:F.container})},m.a.createElement(j.a,{serviceId:G.botId,isInAppView:!0,showConfirmDialog:d,openFileViewer:h,blocks:G.blocks,blocksContainerContext:C,container:l.a.view,containerActionsPayload:F,onAction:this.handleAction,renderBlock:this.renderBlockWrapper,containerId:u,blockKitLogPayload:D,remountOnUpdate:!0}))}constructor(G){super(G),this.getContainerActionsPayload=Object(y.a)(C=>({serviceId:C.botId,serviceTeamId:C.appInstalledTeamId,container:{type:l.a.view,view_id:C.id}})),Object(I.a)(this,["handleAction","renderBlockWrapper"])}},"AppView");N.displayName="AppView";const S=s(J=>({dispatchSendActions:G=>J(Object(f.b)(G))}),"mapDispatchToProps");N.propTypes=A,N.defaultProps=Y;var V=p.a=Object(T.a)(null,S)(N)},L99M:function(w,p,e){"use strict";e.d(p,"a",function(){return a});const a={LATEST_REPLY:"latest_reply",ARCHIVED:"archived",UNREAD:"unread"}},Mp1l:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-zh-CN-77f3f96.gif"},NEBT:function(w,p,e){"use strict"},PWAB:function(w,p,e){"use strict";e.d(p,"a",function(){return a});const a={TILES:"tilesPersistTiles",LAYOUT:"tilesPersistLayout",ACTIVE_TILE:"tilesPersistActiveTile",MINIMIZED_LAYOUT:"tilesPersistMinimizedLayout",HISTORY:"tilesPersistHistory"},t="tile"},QKxg:function(w,p,e){"use strict";var a=e("mLC8"),t=e("q1tI"),m=e.n(t),O=e("zxER"),i=e("GlHf"),v=e("1ufr");function T(I){let{label:r,id:E,visible:y,upToDate:f,remove:l,viewName:g,requiredSync:j,window:_}=I;const A=Object(O.d)(i.j),Y=Object(t.useRef)(A||-1),N=!!a.d.get({label:r,id:E});return Object(t.useEffect)(()=>{const S=s(V=>{N&&(V.type==="blur"?a.d.remove({label:r,id:E,reason:"refocused"}):V.type==="offline"&&a.d.remove({label:r,id:E,reason:"not_online"}))},"cancel");return _.addEventListener("offline",S),_.addEventListener("blur",S),()=>{_.removeEventListener("offline",S),_.removeEventListener("blur",S)}},[r,E,N]),N&&A!==Y.current&&a.d.remove({label:r,id:E,reason:"refocused"}),Y.current=A||-1,Object(t.useEffect)(()=>{N&&(g&&a.d.addTags({label:r,id:E,tags:{view_name:g}}),j&&a.d.addTags({label:r,id:E,tags:{required_sync:!0}}))},[E,r,N,g,j]),Object(t.useEffect)(()=>{!l||!N||a.d.remove({label:r,id:E,reason:"manual"})},[l,N,r,E]),Object(t.useEffect)(()=>{!y||!N||(_.document.hasFocus()?a.d.markPhase({label:r,id:E,phase:a.b.Visible}):a.d.remove({label:r,id:E,reason:"refocused"}))},[y,N,r,E]),Object(t.useEffect)(()=>{!f||!N||(_.document.hasFocus()?a.d.markPhase({label:r,id:E,phase:a.b.UpToDate}):a.d.remove({label:r,id:E,reason:"refocused"}))},[f,N,r,E]),null}s(T,"TraceView"),p.a=Object(v.a)(T)},R2CY:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-es-ES-90341f7.gif"},S8Va:function(w,p,e){"use strict";e.d(p,"b",function(){return g}),e.d(p,"a",function(){return j});var a=e("oTSI"),t=e("zmn3"),m=e("Lgge"),O=e("uAML"),i=e("Kmpi"),v=e("lhZz"),T=e("0AcQ"),I=e("s4P+"),r=e("SQ0V"),E=e("gybj"),y=e("vfYG");const f=Object(r.c)("Bulk upsert views to store, with logging",(N,S,V)=>{const J=Object(I.a)({getState:S});V.forEach(G=>{J.debug("APP VIEWS",`bulkUpsertViews: upserting view "${G.id}"`),G.blocks&&Object(E.a)(N,S,G.blocks)}),N(Object(y.a)(V))});f.meta={name:"createThunk",key:"createThunkbulkUpsertViews",description:"Bulk upsert views to store, with logging"};var l=f;const g=Object(a.a)(()=>new i.a({fetch:_,upsertKnown:A,upsertNonExistent:A})),j=Object(a.a)(()=>new O.b({fetch:Y,isEnabled:()=>!0}));function _(N,S){return m.a.all(S.map(V=>Object(v.dispatchForTeamId)(N,Object(T.c)(V))))}s(_,"fetchViewsForTeamId");function A(N,S){j().markObjectsAsFresh(N,Object(t.a)(S,"id")),Object(v.dispatchForTeamId)(N,l(S))}s(A,"upsertViewsAndMarkAsFreshForTeamId");function Y(N,S){return _(N,S).then(V=>{A(N,V)})}s(Y,"fetchAndUpsertViewsForTeamId")},STAs:function(w,p,e){w.exports=e.p+"sidebar-profile-pictures-show-b08dfa6.png"},Sid4:function(w,p,e){"use strict";e.d(p,"a",function(){return S});var a=e("q1tI"),t=e.n(a),m=e("Cfcg"),O=e("ifKl"),i=e("BHdc"),v=e("ktUG"),T=e("nNoG"),I=e("WIr4"),r=e("Ei7s"),E=e("nFQW"),y=e("qDEp"),f=e("Tevt"),l=e("zEKE"),g=e("j/0O"),j=e("vDCl"),_=e("k7gI");function A(){return A=Object.assign||function(G){for(var C=1;C<arguments.length;C++){var u=arguments[C];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(G[d]=u[d])}return G},A.apply(this,arguments)}s(A,"_extends");const Y=new T.b("notification_banner"),N={elementType:v.ElementType.X,elementName:"close",action:v.UiAction.CLOSE,onClick:{enableClogAction:!0}};var S;(function(G){G.default="default",G.alert="alert"})(S||(S={}));let V=s(class extends a.PureComponent{focus(){var C,u,d;const h=((C=this.primaryCTAButtonRef)===null||C===void 0?void 0:C.current)||((u=this.secondaryCTARef)===null||u===void 0?void 0:u.current)||((d=this.closeButtonRef)===null||d===void 0?void 0:d.current);h==null||h.focus()}closeBanner(){const{onCloseBanner:C,notificationPrefs:u}=this.props;u&&this.props.closeBanner(u),C&&C()}handlePrimaryCTA(){const{onPrimaryCTAClick:C,closeOnPrimaryCTAClick:u}=this.props;u&&this.closeBanner(),C&&C()}handleSecondaryCTA(){const{onSecondaryCTAClick:C,closeOnSecondaryCTAClick:u}=this.props;u&&this.closeBanner(),C&&C()}handleCloseIcon(){const{onCloseIcon:C}=this.props;this.closeBanner(),C&&C()}renderBody(){const{bodyText:C,theme:u}=this.props;return t.a.createElement("div",{className:`p-message_pane_banner__body--${u}`,"data-qa":"message_pane_banner_body"},C)}renderSecondaryCTA(){const{secondaryCTAHref:C,secondaryCTAText:u,secondaryCTAClogProps:d,secondaryCTAUseLink:h}=this.props,D={autoClogProps:{onClick:{enableClogAction:!0},...d},"data-qa":"message_pane_banner_secondaryCTA",ref:this.secondaryCTARef};return h?t.a.createElement(f.a,A({className:"p-message_pane_banner__link",onClick:this.handleSecondaryCTA,href:C},D),u):t.a.createElement(y.f,A({className:"p-message_pane_banner__button",onClick:this.handleSecondaryCTA,href:C,size:"medium",type:"outline"},D),u)}renderCloseIcon(){return t.a.createElement(E.a,{icon:"times",onClick:this.handleCloseIcon,"aria-label":Y.t("Close"),className:"p-message_pane_banner__close_icon","data-qa":"message_pane_banner_close_icon",autoClogProps:N,ref:this.closeButtonRef})}renderPrimaryCTAButton(){const{primaryCTAText:C,primaryCTAHref:u,primaryCTAClogProps:d,customPrimaryCTA:h,customPrimaryCTAProps:D}=this.props,F={className:"p-message_pane_banner__button",onClick:this.handlePrimaryCTA,href:u,size:"medium","data-qa":"message_pane_banner_primaryCTA_button",autoClogProps:{isPrimaryCTA:!0,onClick:{enableClogAction:!0},...d},ref:this.primaryCTAButtonRef,...h?D:{}},x=h||y.f;return t.a.createElement(x,A({},F),C)}renderCTAButtons(){const{primaryCTAText:C,secondaryCTAText:u,theme:d}=this.props;return!C&&!u?null:t.a.createElement("div",{className:Object(i.default)("p-message_pane_banner__buttons",`p-message_pane_banner__buttons--${d}`)},C&&this.renderPrimaryCTAButton(),u&&this.renderSecondaryCTA())}renderIcon(){const{icon:C,iconType:u,theme:d}=this.props;return u?t.a.createElement("div",{className:"p-message_pane_banner__banner_icon"},t.a.createElement(g.a,{hasBorder:!0,type:u,theme:d})):C?t.a.createElement("div",{className:"p-message_pane_banner__banner_icon"},C):null}renderHeading(){const{headingText:C,theme:u}=this.props;return C?t.a.createElement("h1",{className:Object(i.default)("p-message_pane_banner__heading",`p-message_pane_banner__heading--${u}`),"data-qa":"message_pane_banner_heading_text"},C):null}renderBanner(){const{type:C,bannerAriaLabel:u,bannerContainerClass:d,iconType:h,theme:D,imgSrc:F,imgAlt:x}=this.props,te=Object(i.default)("p-message_pane_banner",`p-message_pane_banner--${C}`,`p-message_pane_banner--${D}`,d,{"p-message_pane_banner--ephemeral":C!==S.alert});return C===S.alert?t.a.createElement("div",{className:te},t.a.createElement(l.a,{size:j.a.SMALL,heading:this.renderHeading(),iconType:h,useRoundedCorners:!1,"data-qa":"message_pane_banner"},this.renderBody())):t.a.createElement("div",{className:te,"data-qa":"message_pane_banner",role:"banner","aria-label":u},this.renderIcon(),F?t.a.createElement("div",{className:"p-message_pane_banner__content_with_image"},t.a.createElement("div",{className:"p-message_pane_banner__content_with_image_text"},this.renderHeading(),this.renderBody(),this.renderCTAButtons()),t.a.createElement("div",{className:"display_flex"},this.renderCloseIcon(),t.a.createElement("img",{className:"p-message_pane_banner__image",src:F,alt:x}))):t.a.createElement("div",null,this.renderHeading(),this.renderBody(),this.renderCTAButtons(),this.renderCloseIcon()))}render(){return t.a.createElement("div",{className:"p-message_pane_banner__container"},this.renderBanner())}constructor(C){super(C),this.primaryCTAButtonRef=t.a.createRef(),this.secondaryCTARef=t.a.createRef(),this.closeButtonRef=t.a.createRef(),Object(I.a)(this,["focus","handlePrimaryCTA","handleSecondaryCTA","handleCloseIcon"])}},"MessagePaneBanner");V.displayName="MessagePaneBanner",V.defaultProps={type:S.default,onPrimaryCTAClick:O.a,closeOnPrimaryCTAClick:!0,onSecondaryCTAClick:O.a,closeOnSecondaryCTAClick:!0,secondaryCTAUseLink:!1,onCloseIcon:O.a,onCloseBanner:O.a,theme:j.b.PURPLE,imgAlt:""};const J=s(G=>({closeBanner:C=>G(Object(r.a)(C))}),"mapDispatchToProps");p.b=Object(m.a)(null,J)(V)},Skui:function(w,p,e){"use strict";e.d(p,"a",function(){return J});var a=e("9oTK"),t=e.n(a),m=e("q1tI"),O=e.n(m),i=e("/MKj"),v=e("+kJ4"),T=e("SQ0V"),I=e("nNoG"),r=e("3l96"),E=e("bdSe"),y=e("YUBf"),f=e("qDEp"),l=e("fNJk"),g=e("hUMe"),j=e("i454"),_=e("2VFn"),A=e("Zrm2"),Y=e("eG/v");function N(){return N=Object.assign||function(G){for(var C=1;C<arguments.length;C++){var u=arguments[C];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(G[d]=u[d])}return G},N.apply(this,arguments)}s(N,"_extends");const S=new I.b("slack_connect_hub"),V=s(G=>{let{id:C}=G;const u=Object(i.useDispatch)(),[d,h]=Object(m.useState)(!1),[D,F]=Object(m.useState)(null),x=Object(m.useCallback)(()=>u(Object(v.a)()),[u]),te=Object(m.useCallback)(Object(a.coroutine)(function*(){h(!0),F(null);try{yield u(Object(E.a)({reason:"channel_section_menu__leave_sc_workspace",externalTeamId:C})),u(Object(A.b)({tab:_.d.Home,reason:A.a.Click}))}catch(H){F({name:(H==null?void 0:H.name)||null,method:(H==null?void 0:H.method)||null})}h(!1)}),[u,C]);return O.a.createElement(y.b,{"data-qa":l.d.Modal},O.a.createElement(y.i,{"data-qa":l.d.Header},O.a.createElement(y.l,{title:S.t("Leave workspace"),"data-qa":l.d.TitleBar,className:"break_word"})),O.a.createElement(y.d,{className:"margin_0","data-qa":l.d.Content},O.a.createElement(y.e,null,D&&O.a.createElement(j.b,{error:D}),O.a.createElement("ul",{className:"p-slack_connect_workspace_confirmation_modal--content margin_0"},O.a.createElement("li",{className:"break_word"},S.rt("Are you sure you want to leave {workspace}?",{workspace:O.a.createElement(g.a,{id:C})}))))),O.a.createElement(y.g,{"data-qa":l.d.Footer},O.a.createElement(y.h,{"data-qa":l.d.FooterActions},O.a.createElement(y.c,{"data-qa":l.d.CloseButton,type:"outline",onClick:x},S.t("Cancel")),O.a.createElement(f.c,{type:"danger",loading:d,onClick:te,disabled:!!D},S.t("Leave Workspace")))))},"SharedWorkspaceLeaveConfirmationModal");V.displayName="SharedWorkspaceLeaveConfirmationModal";const J=Object(T.c)("Opens the Slack Connect Workspace Leave Confirmation Modal",(G,C,u)=>{G(Object(r.a)({element:O.a.createElement(V,N({},u)),isStackable:!1}))});J.meta={name:"createThunk",key:"createThunkopenSharedWorkspaceLeaveConfirmationModal",description:"Opens the Slack Connect Workspace Leave Confirmation Modal"}},SpyO:function(w,p,e){"use strict";e.d(p,"a",function(){return t}),e.d(p,"d",function(){return m}),e.d(p,"b",function(){return O}),e.d(p,"c",function(){return i});var a=e("ZKjC");const t=Object(a.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogAppBootMetrics);t.meta={name:"createSelector",key:"createSelectorshouldLogAppBootMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogAppBootMetrics};const m=Object(a.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogTeamSwitchMetrics);m.meta={name:"createSelector",key:"createSelectorshouldLogTeamSwitchMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogTeamSwitchMetrics};const O=Object(a.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogTTUMetrics);O.meta={name:"createSelector",key:"createSelectorshouldLogTTUMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogTTUMetrics};const i=Object(a.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogTTVMetrics);i.meta={name:"createSelector",key:"createSelectorshouldLogTTVMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogTTVMetrics}},Tb7l:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-home-more-37251a0.gif"},TxyK:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-zh-TW-f46d163.gif"},"UH+u":function(w,p,e){"use strict";e.d(p,"a",function(){return t});var a=e("ktUG");const t=s(m=>{let{clogger:O,fileId:i,open:v,filter:T}=m;O.track(a.EventId.QUIP_COMMENT_STREAM,{contexts:{ui_context:{isOpen:v,filter:T},core:{quip_file_id:i,file_id:i}}})},"clogToggleCommentStream")},UQe9:function(w,p,e){w.exports=e.p+"hand-holding-phone-74cfcd7.svg"},UYKR:function(w,p,e){"use strict";e.d(p,"b",function(){return T}),e.d(p,"a",function(){return I});var a=e("ZKjC"),t=e("FUEd"),m=e("g3FH"),O=e("i5Ig"),i=e("rdha");const v=Object(a.b)((r,E)=>r.quipPresence[E]);v.meta={name:"createSelector",key:"createSelectorgetLastPresenceByFileId",description:(r,E)=>r.quipPresence[E]};const T=Object(i.a)((r,E)=>{var y,f,l,g;const j=((y=r.quipPresence)===null||y===void 0||(f=y[E])===null||f===void 0?void 0:f.presenceInfo)||O.b;return(((l=r.quipPresence)===null||l===void 0||(g=l[E])===null||g===void 0?void 0:g.memberIds)||O.a).filter(Y=>{const N=j[Y];return N.isEditing||N.isFocused?!0:Object(t.c)(r,Y)===m.a})}),I=Object(a.b)((r,E,y)=>{var f,l,g;return!!(!((g=(f=r.quipPresence)===null||f===void 0||(l=f[y])===null||l===void 0?void 0:l.presenceInfo[E])===null||g===void 0)&&g.isEditing)});I.meta={name:"createSelector",key:"createSelectorgetIsPresentMemberEditingByFileId",description:(r,E,y)=>{var f,l,g;return!!(!((g=(f=r.quipPresence)===null||f===void 0||(l=f[y])===null||l===void 0?void 0:l.presenceInfo[E])===null||g===void 0)&&g.isEditing)}}},VijU:function(w,p,e){"use strict";e.d(p,"a",function(){return N});var a=e("BHdc"),t=e("q1tI"),m=e.n(t),O=e("/MKj"),i=e("zxER"),v=e("nNoG"),T=e("ktUG"),I=e("Trx9"),r=e("v5z3"),E=e("7ip2"),y=e("IaLB"),f=e("qDEp"),l=e("eWGC"),g=e("uVZW"),j=e("zonX"),_=e("4YJR"),A=e("rZ8V");const Y=new v.b("setup_page"),N=s(J=>{let{experimentDesktopIa4GroupOn:G,showProgressiveDisclosureFirstMessageTipExplainer:C,progressiveDisclosureFirstMessageTipFlagVisible:u,onProgDiscTipClick:d,autoClogProps:h}=J;return u?m.a.createElement(I.a,{eventId:T.EventId.NEWXP_TEAM_CREATE,uiStep:T.UiStep.PROG_DISC_TIP,stepVariant:r.f.FirstMessage,elementName:r.g.Flag,clogImpression:!0},m.a.createElement(f.d,{className:"p-context_bar__prog_disc_tip","data-qa":"flag_tip--first_message",onClick:d,autoClogProps:h},m.a.createElement("div",{className:Object(a.default)("p-context_bar__prog_disc_tip_flag",{"p-context_bar__prog_disc_tip_flag--exiting":C,"p-context_bar__prog_disc_tip_flag--ia4":G})},Y.rt("\u{1F447} <strong>Start here</strong>")))):null},"ContextBarFirstMessageProgressiveDisclosure");N.displayName="ContextBarFirstMessageProgressiveDisclosure";const S=s(()=>{const J=Object(i.d)(A.o),G=Object(i.d)(te=>Object(y.pb)(te,{tip:r.f.FirstMessage})),C=Object(i.d)(te=>Object(y.ob)(te,{tip:r.f.FirstMessage})),u=Object(O.useDispatch)(),d=Object(t.useCallback)(te=>{u(Object(l.a)(te))},[u]),[h,D]=Object(t.useState)(G);Object(j.a)(r.f.FirstMessage,r.g.Flag),Object(t.useEffect)(()=>{u(Object(_.p)(!0))},[u]),Object(t.useEffect)(()=>{let te;return h&&!G&&(C?te=window.setTimeout(()=>{D(!1)},E.g):D(!1)),()=>{te&&clearTimeout(te)}},[h,C,G]);const F=Object(t.useCallback)(()=>{d({notificationName:g.h.PD_FIRST_MESSAGE,action:g.f.CLICK,step:r.g.Flag}),D(!1)},[d]),x=Object(t.useMemo)(()=>({onClick:{enableClogAction:!0}}),[]);return m.a.createElement(N,{experimentDesktopIa4GroupOn:J,showProgressiveDisclosureFirstMessageTipExplainer:C,progressiveDisclosureFirstMessageTipFlagVisible:h,onProgDiscTipClick:F,autoClogProps:x})},"ConnectedContextBarFirstMessageProgressiveDisclosure");S.displayName="ConnectedContextBarFirstMessageProgressiveDisclosure";var V=p.b=Object(t.memo)(S)},WEtB:function(w,p,e){"use strict";e.d(p,"a",function(){return l});var a=e("q1tI"),t=e.n(a),m=e("LK2A"),O=e("/MKj"),i=e("iLjr"),v=e("5pIt"),T=e("zxER"),I=e("SDEs"),r=e("NV6F"),E=e("+VYA"),y=e("D9/R"),f=e("Kcy5");function l(g){let{channelId:j}=g;const _=Object(O.useDispatch)(),{spaceFileId:A,spaceIsEmpty:Y}=Object(E.a)({channelId:j}),N=Object(T.d)(h=>j?Object(v.a)(h,j):void 0),S=N??A,V=Object(r.H)(S),J=Object(I.a)(V,V==null?void 0:V.isEmpty),G=typeof J=="boolean"||typeof Y=="boolean",C=Y!==void 0?Y===!1:J===!1,u=Object(f.a)(C),d=Object(T.d)(h=>j?Object(i.c)(h,j):void 0);return Object(a.useEffect)(()=>{j&&d&&u&&!C&&_(Object(y.b)({channelId:j,template:void 0}))},[j,d,C,u,_]),{channelCanvasHasContent:C||!!d&&d!==m.TemplateTriggerType.BLANK_PAGE,isLoaded:G,doc:V,templateSelected:d}}s(l,"useChannelCanvasContent")},WSvh:function(w,p,e){w.exports=e.p+"best-in-class-msg-limit-day-83-banner-illo-dark-ff0cad2.png"},Y40X:function(w,p,e){"use strict";e.r(p),e.d(p,"localeToGifMap",function(){return It});var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("fMmd"),i=e("SQ0V"),v=e("uiBO"),T=e("I0j/"),I=e("37+L"),r=e("lhZz"),E=e("E3dU"),y=e("mHfD"),f=e("beVI"),l=e("2VFn"),g=e("v7mh"),j=e("Zrm2"),_=e("ovW4"),A=e("E97Y"),Y=e("3vtZ"),N=e("G0eX");const S=Object(i.c)("Navigate to a channel that supports Huddles",(nt,Ea)=>{const dt=Ea(),Je=Object(g.g)(dt,{container:l.h.Primary,tab:l.d.Home});if((Je==null?void 0:Je.viewType)===v.b.Channel){const W=Object(E.d)(dt,Je.id);if(nt(Object(j.b)({tab:l.d.Home,reason:j.a.Click})),Object(Y.e)(dt,W))return nt(Object(T.a)(Object(I.i)(Je.id)))}const we=Object(f.g)(dt),ot=Object(N.n)(we),Yt=Object(r.getStateForClientStore)(),Ee=Object(O.a)(Yt).find(W=>{if(!W||!Object(_.a)(W)||W.teamId!==ot)return!1;const ee=W[l.a],le=W[ee][l.h.Primary];if((le==null?void 0:le.viewType)!==v.b.Channel)return!1;const We=Object(E.d)(dt,le.id);return Object(Y.e)(dt,We)});if(Ee){nt(Object(j.b)({tab:l.d.Home,reason:j.a.Click}));const W=Ee[l.a],ee=Ee[W][l.h.Primary],le=Object(E.d)(dt,ee==null?void 0:ee.id);return nt(Object(T.a)(Object(I.i)(le.id)))}const Dt=nt(Object(y.a)());if(Dt&&Object(Y.e)(dt,Dt))return nt(Object(j.b)({tab:l.d.Home,reason:j.a.Click})),nt(Object(T.a)(Object(I.i)(Dt.id)));const St=Object.values(dt.channels).find(W=>Object(A.g)(W)&&Object(Y.e)(dt,W));return St?(nt(Object(j.b)({tab:l.d.Home,reason:j.a.Click})),nt(Object(T.a)(Object(I.i)(St.id)))):nt(Object(j.b)({tab:l.d.Home,reason:j.a.Click}))});S.meta={name:"createThunk",key:"createThunknavigateToChannelWithHuddle",description:"Navigate to a channel that supports Huddles"};var V=e("Tb7l"),J=e.n(V),G=e("gHTj"),C=e.n(G),u=e("IYUO"),d=e.n(u),h=e("o9mU"),D=e.n(h),F=e("R2CY"),x=e.n(F),te=e("u0IL"),H=e.n(te),X=e("nMOw"),re=e.n(X),je=e("c9G7"),ie=e.n(je),ve=e("i9fg"),ne=e.n(ve),Z=e("+l1W"),ae=e.n(Z),se=e("17wV"),fe=e.n(se),Ie=e("JEWL"),ye=e.n(Ie),De=e("Mp1l"),Ae=e.n(De),qe=e("TxyK"),Et=e.n(qe),Ne=e("6I59"),tt=e.n(Ne),ta=e("hHWo"),ct=e.n(ta),kt=e("Dfh+"),xt=e("zxER"),Be=e("JoR1"),Bt=e("4YJR"),Zt=e("sLRC"),Ut=e("uVZW"),Da=e("7+Lm"),ia=e("qDEp"),da=e("YUBf"),Xt=e("nNoG"),Ka=e("Trx9"),aa=e("ktUG"),vt=e("q0lC"),Ge=e("rZ8V"),He=e("usGY");const me=new Xt.b("ia4"),wt={elementName:"explore_on_my_own",onClick:{enableClogAction:!0}},zt={elementName:"see_whats_new",onClick:{enableClogAction:!0}},It={"en-US":C.a,"en-GB":d.a,"en-IN":D.a,"es-ES":x.a,"es-LA":H.a,"de-DE":re.a,"fr-FR":ie.a,"it-IT":ne.a,"ko-KR":ae.a,"ja-JP":fe.a,"pt-BR":ye.a,"zh-CN":Ae.a,"zh-TW":Et.a};function _t(){const nt=Object(m.useDispatch)(),Ea=Object(xt.d)(bt=>!!Object(Be.t)(bt,"a11y_animations")),{intro:dt}=Object(xt.d)(bt=>Object(Da.b)(bt,Ut.g.WELCOME_SPACE)),Je=dt===Zt.b.IntroModalHomeMore,we=Je?Zt.b.IntroModalHomeMore:Zt.b.IntroModal,{closure:ot,isOpen:Yt,nextStep:Ee}=Object(kt.a)(we),Dt=Object(xt.d)(vt.b),St=Object(xt.d)(Ge.s);Object(a.useEffect)(()=>{dt&&nt(Object(Bt.i)(we))},[nt,dt,we]);const W=Object(a.useCallback)(()=>{nt(Object(Bt.v)(!0)),nt(Object(Bt.i)(ot))},[ot,nt]),ee=Object(a.useCallback)(()=>{nt(S()),setTimeout(()=>nt(Object(Bt.i)(Ee)))},[nt,Ee]);if(!dt)return null;const le=Dt&&St?me.t("Your chance to try the new Slack design"):me.t("A fresh, more focused Slack!");var We;const Ze=Je?J.a:(We=It[Object(Xt.m)()])!==null&&We!==void 0?We:C.a,Pt=Je?ct.a:tt.a;return t.a.createElement(Ka.a,{eventId:aa.EventId.NEWXP_JOIN_TEAM,uiStep:Je?aa.UiStep.NFX_WELCOME_MODAL_HOME_MORE:aa.UiStep.NFX_WELCOME_MODAL,elementType:aa.ElementType.MODAL,clogImpression:!0},t.a.createElement(da.b,{className:"p-nfx_welcome_modal",isOpen:Yt,contentLabel:le,onClose:W,maxWidth:600},t.a.createElement(da.d,null,t.a.createElement(da.j,{"aria-hidden":!0,height:338,width:600,alt:"",src:Ea?Ze:Pt}),t.a.createElement("h1",{className:"p-nfx_welcome_modal__title"},le),t.a.createElement(da.e,{className:"p-nfx_welcome_modal__description"},Dt&&St?me.t("Only you and other Org Owners and Org Admins have the new design. Check your email for more info about the rollout to the rest of your organization."):me.t("We\u2019ve moved things around to make it easier to get work done."))),t.a.createElement(da.g,{className:"justify_content_center"},t.a.createElement(da.h,{className:"margin_left_0"},t.a.createElement(ia.f,{onClick:W,type:"outline",autoClogProps:wt},me.t("I\u2019ll Explore on My Own")),t.a.createElement(ia.f,{onClick:ee,autoClogProps:zt},me.t("See What\u2019s New"))))))}s(_t,"NFXWelcomeModal"),_t.displayName="NFXWelcomeModal";var jt=p.default=Object(a.memo)(_t)},YCgu:function(w,p,e){"use strict";var a=e("Ao/4"),t=e("rZ8V"),m=e("i9jZ"),O=e("v7mh"),i=e("2VFn"),v=e("bczA");const T=s(function(I){let{windowId:r=i.c,container:E=i.h.Primary}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(m.a)(I)&&r!==i.c||Object(t.o)(I)){var y,f;if(r===i.c){var l,g;return(l=Object(O.g)(I,{tab:Object(O.a)(I),container:E}))===null||l===void 0||(g=l.params)===null||g===void 0?void 0:g.tabId}return(y=Object(O.d)(I,{windowId:r,container:E}))===null||y===void 0||(f=y.params)===null||f===void 0?void 0:f.tabId}const j=v.b===null||v.b===void 0?void 0:Object(v.b)(I);if(!j)return;const _=j.entityId,A=j.tabId;if(_&&A&&Object(a.a)(I,A,_))return j&&j.tabId},"getTab");p.a=T},ZJyv:function(w,p,e){"use strict";e.d(p,"a",function(){return t});var a=e("DwFS");const t=Object(a.a)("upsert app team context to the store");t.meta={name:"createAction",key:"createActionupsertAppHomeContextTeam",description:"upsert app team context to the store"}},Zi3E:function(w,p,e){"use strict";e.r(p),e.d(p,"BaseJustReachedMsgLimitBanner",function(){return D});var a=e("Cfcg"),t=e("q1tI"),m=e.n(t),O=e("ifKl"),i=e("ktUG"),v=e("nNoG"),T=e("/0Xg"),I=e("Trx9"),r=e("ZwkN"),E=e.n(r),y=e("v4p4"),f=e.n(y),l=e("InNx");const g=new v.b("trials_highlight_paid_features"),j=s(H=>{let{isEligibleForMessageLimitTrial:X,notificationName:re,onTrialStart:je,showUpgradeOptions:ie}=H;const ve=T.q.PAID_FEATURE_TRIAL;let ne;const Z=g.t("Unlock your team\u2019s entire message and file history");return X?ne=g.t("Start a free, {trialDuration}-day trial for unlimited access to past decisions and discussions. On the free version of Slack, messages and files older than {limitInDays} days are hidden.",{trialDuration:ve,limitInDays:T.f}):ie?ne=g.t("On the free version of Slack, messages and files older than {limitInDays} days are hidden. Upgrade to a paid plan for unlimited access to past decisions and discussions.",{limitInDays:T.f,fallbackHash:"d57732265713540d48fdafb4a00fe5fa64ce6cdd"}):ne=g.t("Upgrade to a paid plan for unlimited access to past decisions and discussions.",{fallbackHash:"d57732265713540d48fdafb4a00fe5fa64ce6cdd"}),m.a.createElement(l.a,{bodyText:ne,headingText:Z,isEligibleForMessageLimitTrial:X,imgDark:f.a,imgLight:E.a,notificationName:re,onTrialStart:je,showUpgradeOptions:ie,uiStep:i.UiStep.LIMITED_HISTORY_JUST_REACHED_LIMIT})},"JustReachedMsgLimitBannerV2");j.displayName="JustReachedMsgLimitBannerV2";var _=m.a.memo(j),A=e("GR6R"),Y=e("Sid4"),N=e("d/xU"),S=e("uVZW"),V=e("gJbv");const J=new v.b("trials_highlight_paid_features"),G={elementName:"learn_more"},C={elementName:"trial_start"},u={elementName:"pricing"},d={elementName:"learn_more"},h={notification:S.h.MESSAGE_LIMIT_JUST_REACHED};let D=s(class extends t.PureComponent{render(){const{isEligibleForMessageLimitTrial:X,showUpgradeOptions:re,onTrialStart:je,openTrialModal:ie,experimentBestInClassTrialsMessageLimitTrialGroupTreatment:ve,notificationName:ne}=this.props,Z=`https://${Object(N.l)()}/help/articles/115002422943#message-and-file-visibility-limit`,ae=J.t("Messages and files older than {limitInDays} days are hidden",{limitInDays:T.f});let se,fe,Ie,ye,De,Ae;return ve?m.a.createElement(_,{isEligibleForMessageLimitTrial:X,notificationName:ne,onTrialStart:je,showUpgradeOptions:re}):(X?(se=i.UiComponentVariant.TRIAL_ELIGIBLE,fe=J.t("Start a free, {trialDuration}-day trial to unlock your team\u2019s full message and file history, plus get all the premium features of the Pro plan.",{trialDuration:this.trialDuration}),Ie=J.t("Start Free Trial"),ye=C,Ae=ie):re?(se=i.UiComponentVariant.TRIAL_INELIGIBLE,fe=J.t("On the free version of Slack, you can only access messages and files sent in the past {limitInDays} days. Upgrade to a paid plan to keep access to your team\u2019s full history.",{limitInDays:T.f}),Ie=J.t("See Upgrade Options"),ye=u,De=this.plansPageUrl,Ae=O.a):(se=i.UiComponentVariant.USER_NON_ADMIN,fe=J.t("On the free version of Slack, you can only access messages and files sent in the past {limitInDays} days.",{limitInDays:T.f}),Ie=J.t("Learn More"),ye=d,De=Z,Ae=O.a),m.a.createElement(I.a,{clogImpression:!0,eventId:i.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:i.UiComponentName.JUST_REACHED_MSG_LIMIT_BANNER,uiComponentVariant:se},m.a.createElement(Y.b,{headingText:ae,bodyText:fe,primaryCTAText:Ie,primaryCTAHref:De,primaryCTAClogProps:ye,onPrimaryCTAClick:Ae,secondaryCTAText:re||X?J.t("Learn More"):void 0,secondaryCTAHref:Z,closeOnSecondaryCTAClick:!1,secondaryCTAClogProps:G,notificationPrefs:h})))}constructor(X){super(X),this.trialDuration=30,this.plansPageUrl=Object(T.u)({feature:T.h.UNLIMITED_MESSAGES})}},"JustReachedMsgLimitBanner");D.displayName="JustReachedMsgLimitBanner";const F=s(H=>({openTrialModal:()=>H(Object(A.a)({uiComponentVariant:i.UiComponentVariant.JUST_REACHED_MSG_FILE_LIMIT_DATE}))}),"mapDispatchToProps"),x=s(H=>({experimentBestInClassTrialsMessageLimitTrialGroupTreatment:Object(V.a)(H)}),"mapStateToProps");var te=p.default=Object(a.a)(x,F)(D)},ZwkN:function(w,p,e){w.exports=e.p+"best-in-class-msg-limit-just-reached-banner-illo-light-9df179b.png"},a5bm:function(w,p,e){"use strict";e.d(p,"a",function(){return t});var a=e("RQuH");function t(m,O){if(!m||!O)return null;for(let i=0;i<O.length;i++)if(Object(a.a)(m,O[i].min,O[i].max+1))return O[i].className;return null}s(t,"getModifierClassForLayout")},aTkP:function(w,p,e){"use strict";e.d(p,"a",function(){return r});var a=e("9oTK"),t=e.n(a),m=e("m8R6"),O=e("2XU3"),i=e("WCk1"),v=e("s4P+"),T=e("pjW8");const I={ChannelNotFound:"channel_not_found"},r=Object(i.a)("recordChannels.open generated fetcher",function(){var E=Object(a.coroutine)(function*(y,f,l){try{const g=["reason"],j=Object(m.a)(l,g),_=Object(T.b)(j);return yield y(Object(O.apiCall)({method:"recordChannels.open",args:_,reason:l.reason}))}catch(g){throw Object(v.a)({getState:f}).error(`API call to recordChannels.open
				with reason ${l.reason} failed, initiated by generated fetcher`),g}});return function(y,f,l){return E.apply(this,arguments)}}());r.meta={name:"createFetcher",key:"createFetcherrecordChannelsOpenFetcher",description:"recordChannels.open generated fetcher"}},b3Gm:function(w,p,e){w.exports=e.p+"convert-to-template-cbd7ddd.gif"},b7PF:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("nNoG"),O=e("Ccc1"),i=e("Tsh7"),v=e("v7mh"),T=e("zxER"),I=e("+VYA"),r=e("mQiU"),E=e("E3dU"),y=e("E97Y"),f=e("P9LH"),l=e("Yauy"),g=e("/JQq"),j=e("Tevt"),_=e("dmdh"),A=e("aBhT"),Y=e("Oeqe"),N=e("RVJP"),S=e("6inW"),V=e("WSQ4"),J=e("rZ8V"),G=e("2VFn");const C=new m.b("slack-docs"),u=s(h=>{let{channelId:D}=h;const{container:F,isMainWindow:x}=Object(a.useContext)(r.a),{windowId:te}=Object(a.useContext)(V.a),H=Object(T.d)(J.o),X=Object(T.d)(Ae=>Object(N.d)(Ae,"canvas_new_channel_entity_strings")==="on"),re=Object(T.d)(v.a),{spaceFileId:je,spaceIsEmpty:ie,isChannelCanvasLocked:ve}=Object(I.a)({channelId:D}),ne=Object(T.d)(Ae=>Object(_.e)(Ae,je||"")),Z=Object(T.d)(Ae=>Object(E.d)(Ae,D)),ae=Z?Object(y.d)(Z):"",se=Object(l.C)(Z)||[],fe=Object(T.d)(Ae=>Object(l.t)(Ae,Z)),Ie=Object(T.d)(Ae=>Object(g.a)(Ae,Z)),ye=se.length-1;if(!H&&x||re!==G.d.Search&&ve)return null;let De=null;if(F===G.h.Primary||Object(S.b)(te)){if(Object(O.b)(Z))De=t.a.createElement(O.a,{channelId:D,truncate:!0});else if(X){let Ae="";ae==="mpim"&&ye&&(Ae=C.t("DM with {count} people",{count:ye})),ae==="im"&&(Ae=C.t("DM with {displayName}",{displayName:fe})),Ie&&(Ae=C.t("DM with yourself")),De=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(A.a,{lines:1,breakWords:!1},t.a.createElement("span",null,Ae)))}}if(!X&&ie){if(ae==="mpim"){const Ae=C.t("{count} people can edit",{count:ye});De=t.a.createElement(i.d,{tip:fe},t.a.createElement(A.a,{lines:1,breakWords:!1},t.a.createElement("span",null,Ae)))}if(ae==="im"){const Ae=C.t("2 people can edit");De=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(A.a,{lines:1,breakWords:!1},Ae))}Ie&&(De=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(A.a,{lines:1,breakWords:!1},C.t("For your eyes only"))))}if(De){let Ae=Object(Y.a)({channelId:D});return re===G.d.Search&&(Ae=ne?Object(f.M)(ne,void 0):Ae),t.a.createElement(j.a,{className:"p-canvas_inline_channel_entity--permalink",href:Ae},t.a.createElement(A.a,{lines:1,breakWords:!1},De))}return null},"CanvasInlineChannelEntity");u.displayName="CanvasInlineChannelEntity";var d=p.a=u},bdSe:function(w,p,e){"use strict";e.d(p,"a",function(){return r});var a=e("9oTK"),t=e.n(a),m=e("m8R6"),O=e("2XU3"),i=e("WCk1"),v=e("s4P+"),T=e("pjW8");const I={FeatureNotEnabled:"feature_not_enabled",Ratelimited:"ratelimited",TeamNotFound:"team_not_found",UserNotAMember:"user_not_a_member",UserNotFound:"user_not_found",UserNotEnabled:"user_not_enabled",WorkspaceNotEnabled:"workspace_not_enabled",WorkspaceNotFound:"workspace_not_found"},r=Object(i.a)("externalWorkspaces.leave generated fetcher",function(){var E=Object(a.coroutine)(function*(y,f,l){try{const g=["reason"],j=Object(m.a)(l,g),_=Object(T.b)(j);return yield y(Object(O.apiCall)({method:"externalWorkspaces.leave",args:_,reason:l.reason}))}catch(g){throw Object(v.a)({getState:f}).error(`API call to externalWorkspaces.leave
				with reason ${l.reason} failed, initiated by generated fetcher`),g}});return function(y,f,l){return E.apply(this,arguments)}}());r.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesLeaveFetcher",description:"externalWorkspaces.leave generated fetcher"}},c9G7:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-fr-FR-d1c0633.gif"},cuvd:function(w,p,e){"use strict";e.r(p),e.d(p,"BaseSharedChannelTrialBanner",function(){return C});var a=e("q1tI"),t=e.n(a),m=e("wd/R"),O=e.n(m),i=e("zxER"),v=e("nNoG"),T=e("ktUG"),I=e("AKIH"),r=e("E3dU"),E=e("j7fZ"),y=e("GkJf"),f=e("Trx9"),l=e("/cL/"),g=e("y/Pn"),j=e("FdVR"),_=e("G0eX"),A=e("beVI"),Y=e("/0Xg"),N=e("Sid4");function S(){return S=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var D=arguments[h];for(var F in D)Object.prototype.hasOwnProperty.call(D,F)&&(d[F]=D[F])}return d},S.apply(this,arguments)}s(S,"_extends");const V=new v.b("trial_expiration_banners"),J={isPrimaryCTA:!0,elementName:"upgrade",onClick:{enableClogAction:!0}},G={elementName:"learn_more",onClick:{enableClogAction:!0}},C=s(d=>{let{channelId:h="",connectedTeamName:D,connectedTeamsCount:F,excludeChannelIds:x=[],expirationTs:te,isSharedChannel:H,isExternalImChannel:X,productId:re=""}=d;const je=s(()=>{const ae=O()(te*1e3).format("YYYY-MM-DD");return Object(I.b)(ae)},"getNumDaysLeft"),ie=s(ae=>{let{text:se}=ae;return t.a.createElement(l.a,{"data-qa":"shared_channel_persistent_banner_upgrade_link",autoClogProps:J,useLink:!0,action:Y.r.CHECKOUT,productId:re},se)},"renderPlansPageCTA"),ve=s(ae=>{let{text:se}=ae;return t.a.createElement(y.a,{articleId:360059473613,"data-qa":"shared_channel_persistent_banner_learn_more_link",autoClogProps:G},se)},"renderLearnMoreLink"),ne=s(()=>{const ae=je();return D?V.rt("<strong>{numDaysLeft, plural, =1 {# day} other {# days}} left in your trial</strong> \u2014 <strong><upgradeLink>Upgrade</upgradeLink></strong> to keep working with {orgTeamName} in this channel. <learnMoreLink>Learn more</learnMoreLink>",{fallbackHash:"56d58bd38ab87b4c4b2604a11a8dc09712d8b751",numDaysLeft:ae,connectedTeamsCount:F,orgTeamName:D,"<upgradeLink>":ie,"<learnMoreLink>":ve}):V.rt("<strong>{numDaysLeft, plural, =1 {# day} other {# days}} left in your trial</strong> \u2014 <strong><upgradeLink>Upgrade</upgradeLink></strong> to keep working with {connectedTeamsCount, plural, =1 {# other organization} other {# other organizations}} in this channel. <learnMoreLink>Learn more</learnMoreLink>",{fallbackHash:"56d58bd38ab87b4c4b2604a11a8dc09712d8b751",numDaysLeft:ae,connectedTeamsCount:F,orgTeamName:D,"<upgradeLink>":ie,"<learnMoreLink>":ve})},"getCountdownBannerText");return s(()=>H&&!X&&F>0&&je()<=30&&(x==null?void 0:x.indexOf(h||""))===-1,"shouldShowBanner")()?t.a.createElement(f.a,{clogImpression:!0,eventId:T.EventId.UPGRDEXP_TRIAL,uiComponentName:T.UiComponentName.SHARED_CHANNEL_TRIAL_BANNER,uiComponentVariant:"persistent_countdown"},t.a.createElement(N.b,{type:N.a.alert,bodyText:ne(),iconType:"hourglass"})):null},"SharedChannelTrialBanner");C.displayName="SharedChannelTrialBanner";const u=s(d=>{const h=Object(i.d)(H=>Object(r.d)(H,d.channelId)),D=Object(i.d)(H=>Object(j.a)(H,h)),F=Object(i.d)(H=>D.length===1?Object(A.s)(H,D[0]):null),x=Object(g.a)(h);let te="";return F&&!Object(_.U)(F)&&(te=Object(_.z)(F)?Object(_.l)(F):Object(_.h)(F)),t.a.createElement(C,S({},d,{connectedTeamName:te,connectedTeamsCount:D.length,isExternalImChannel:Object(E.a)(h),isSharedChannel:x}))},"ConnectedSharedChannelTrialBanner");u.displayName="ConnectedSharedChannelTrialBanner",p.default=u},dELU:function(w,p,e){"use strict";e.r(p),e.d(p,"BaseEducationDiscountPromoBanner",function(){return A});var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("vfQU"),i=e("nNoG"),v=e("d/xU"),T=e("ktUG"),I=e("beVI"),r=e("G0eX"),E=e("uVZW"),y=e("Trx9"),f=e("Sid4");const l=new i.b("notification_banner"),g={elementName:"apply_now"},j={elementName:"learn_more"},_={notification:E.h.EDUCATION_TEAM_DISCOUNT},A=s(N=>{let{goToEducationPage:S}=N;const V=l.t("See if you qualify for an 85% discount on a paid plan"),J=l.t("The Slack for Education program offers qualifying teams a discount on paid plans. Once you upgrade, your team will get an unlimited message archive, guest accounts for your workspace, and more."),G=`https://${Object(v.l)()}/help/articles/206646877`;return t.a.createElement(y.a,{clogImpression:!0,eventId:T.EventId.UPGRDEXP_EDUCATION_DISCOUNT_PROMO_BANNER,uiComponentName:T.UiComponentName.EDUCATION_DISCOUNT_PROMO_BANNER},t.a.createElement(f.b,{headingText:V,bodyText:J,primaryCTAText:l.t("Apply Now"),secondaryCTAText:l.t("Learn More"),secondaryCTAHref:G,closeOnSecondaryCTAClick:!1,onPrimaryCTAClick:S,primaryCTAClogProps:g,secondaryCTAClogProps:j,notificationPrefs:_}))},"EducationDiscountPromoBanner");A.displayName="EducationDiscountPromoBanner";const Y=s(()=>{const N=Object(m.d)(I.g),S=Object(a.useCallback)(()=>{Object(r.X)(N,"education")},[N]);return Object(O.eb)()?null:t.a.createElement(A,{goToEducationPage:S})},"ConnectedEducationDiscountPromoBanner");Y.displayName="ConnectedEducationDiscountPromoBanner",p.default=Y},eIwF:function(w,p,e){w.exports=e.p+"trial-confirmation-2b10a44.png"},fX6G:function(w,p,e){w.exports=e.p+"trial-confirmation@2x-f828ebc.png"},gHTj:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-en-US-1e6e411.gif"},hHWo:function(w,p,e){w.exports=e.p+"nfx-welcome-home-more-modal-e34dee3.png"},hLOS:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("E3dU"),i=e("9068"),v=e("TsqY"),T=e("V4NK"),I=e("py4k"),r=e("sqfg"),E=e("1ILc"),y=e("PPXB"),f=e("A4Vb"),l=e("RcB+"),g=e("yCHU"),j=e("mcZN"),_=e("i9y5"),A=e("fLNI"),Y=e("qMw6"),N=e("/MKj"),S=e("9oTK"),V=e("SQ0V"),J=e("AO5M"),G=e("Wn1n"),C=e("cU/a"),u=e("sjEp"),d=e("Z66H"),h=e("s4P+"),D=e("5IZy"),F=e("ktUG"),x=e("JJ34"),te=e("mEzS"),H=e("O86Y"),X=e("tBN+"),re=e("2VFn"),je=e("BbyF"),ie=e("PWAB"),ve=e("i6Ao"),ne=e("HMe0"),Z=e("G5NC"),ae=e("j77i");const se=Object(V.c)("Push current tile history state into browser history",function(Ge,He){let{replaceHistory:me=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!Object(Z.a)())return;const wt=He(),zt=Object(H.g)(wt),It=Object(ne.a)(wt);Object(ae.x)(zt,ie.a.HISTORY,It),me?window.history.replaceState({tileState:He().tiles,tileHistoryState:It},document.title):(window.history.pushState({tileState:He().tiles,tileHistoryState:It},document.title),Object(ve.a)())});se.meta={name:"createThunk",key:"createThunkpushBrowserHistoryState",description:"Push current tile history state into browser history"};var fe=e("gpLM"),Ie=e("59uo"),ye=e("1Mwh"),De=e("PIf0");const Ae=Object(V.c)("Closes the active tile",function(){var Ge=Object(S.coroutine)(function*(He,me,wt,zt){const It=me(),_t=Object(Ie.c)(It),jt=Object(Ie.d)(It),nt=Object(Ie.a)(It),{windowId:Ea}=zt(De.a);if(!nt)return;Object(x.c)(It,{tileKey:nt,windowId:Ea})&&(yield He(Object(te.a)({})));const Je=jt.indexOf(nt),we=Math.max(0,Je-1),ot=[...jt];ot.splice(Je,1);const Yt=ot[we],Ee={..._t};delete Ee[nt],He(Object(J.b)({tileKey:nt}));const Dt=Object(H.g)(It);Object(ae.x)(Dt,ie.a.ACTIVE_TILE,Yt),Object(ae.x)(Dt,ie.a.TILES,Ee),Object(ae.x)(Dt,ie.a.LAYOUT,ot),He(Object(fe.d)({forceFocus:!0})),He(Object(ye.a)({activeTileKey:Yt,layout:ot,tiles:Ee})),He(se()),Object(d.a)(It)&&He(Object(je.a)({container:re.h.Tile,windowId:re.c}));const St=Object(Ie.b)(It),W=Object(G.a)(It);St?(He(Object(C.a)(St)),He(Object(ye.h)(null))):Object(u.a)(It)&&W&&He(Object(X.a)({entityId:W})),Object(D.a)({getState:me}).track(F.EventId.TILE_CLOSE),Object(h.a)({getState:me}).action("TILES","close",nt)});return function(He,me,wt,zt){return Ge.apply(this,arguments)}}());Ae.meta={name:"createThunk",key:"createThunkcloseActiveTile",description:"Closes the active tile"};var qe=Ae,Et=e("nNoG"),Ne=e("pmw5"),tt=e("nWdO"),ta=e("oEDn");const ct=new Et.b("flexpane");function kt(){const Ge=Object(N.useDispatch)(),He=Object(a.useCallback)(()=>Ge(qe({})),[Ge]);return t.a.createElement("div",{className:"p-tiles__nonexistent"},t.a.createElement(tt.c,{delay:tt.a,tip:ct.t("Close"),position:"bottom-right"},t.a.createElement(Ne.a,{icon:"times",className:"p-tiles__nonexistent__close_button",size:"medium",onClick:He,"aria-label":ct.t("Close")})),t.a.createElement("div",{className:"p-tiles__nonexistent__message"},t.a.createElement(ta.a,{className:"p-tiles__nonexistent__lock",type:"lock",size:"inherit"}),t.a.createElement("p",null,ct.t("You do not have access to this channel",{fallbackHash:"aa2a08d2afa23e5f0a3fbe6e6ed494979fd09160",fallbackHashNs:"workspace_apps_manage"}))))}s(kt,"NonExistentChannel");var xt=e("AHcl"),Be=e("CnKg"),Bt=e("RVJP"),Zt=e("2uWu"),Ut=e("E97Y"),Da=e("AxFX"),ia=e("hjzp"),da=e("xrKi"),Xt=e("Yauy");const Ka=s(Ge=>{const He=Object(N.useDispatch)();Object(a.useEffect)(()=>{Ge&&!Object(Xt.jb)(Ge)&&Object(Xt.db)(Ge)&&Object(Ut.n)(Ge)&&He(Object(da.a)({channel:Ge,reason:"viewed-record-channel"}))},[He,Ge])},"useEnsureRecordChannelIsOpen");function aa(Ge){const He=Object(m.d)(ot=>Object(Bt.d)(ot,"canvas_sidebar_mix")==="on"),me=Object(m.d)(ot=>Object(Bt.d)(ot,"shorter_guided_trials")==="treatment1"),wt=Object(m.d)(ot=>Object(Bt.d)(ot,"shorter_guided_trials")==="treatment2"),zt=me||wt,It=Ge.channelId,_t=Object(m.d)(ot=>It?Object(A.b)(ot,It):!1),jt=Object(m.d)(ot=>Object(O.d)(ot,It,!1)),nt=Object(m.d)(ot=>He&&jt?Object(Zt.a)(ot,jt):void 0),Ea=Object(m.d)(v.a),[dt,Je]=Object(a.useState)(!1),we=Object(a.useCallback)(ot=>{Je(ot)},[]);return Ka(jt),He&&nt?t.a.createElement(xt.a,{id:Object(Be.h)({id:Object(ia.b)(Ge.channelId)})}):Object(Ut.q)(jt)&&Object(Da.a)(Ge.channelId)?t.a.createElement("div",{className:"display_flex flex_direction_column justify_content_center full_height"},t.a.createElement(_.a,null)):Object(i.b)(jt)?t.a.createElement(kt,null):t.a.createElement(g.a,{id:Y.a.MESSAGE_PANE},!Ge.omitViewHeader&&t.a.createElement(E.a,{id:Ge.channelId,isMessageListOverflowing:dt}),_t&&t.a.createElement(y.b,{subtype:"bookmarks",id:Ge.channelId,variant:"short"},t.a.createElement(f.a,{channelId:Ge.channelId})),zt&&t.a.createElement(j.a,{shouldShow:Ea}),t.a.createElement(T.b,{location:T.a.MESSAGE_PANE,channelId:Ge.channelId},t.a.createElement(l.b,null,t.a.createElement("div",{className:"p-workspace__primary_view_body"},t.a.createElement(I.a,{channelId:Ge.channelId,startTs:Ge.startTs,startTsOffset:Ge.startTsOffset,highlightTs:Ge.highlightTs,highlightLazy:Ge.highlightLazy,serializationKey:"message-pane",onOverflow:we})),t.a.createElement("div",{className:"workspace__primary_view_footer p-workspace__primary_view_footer--float"},t.a.createElement(r.a,{channelId:Ge.channelId})))))}s(aa,"Channel"),aa.displayName="Channel";var vt=p.a=aa},hisJ:function(w,p,e){"use strict";e.d(p,"a",function(){return O}),e.d(p,"c",function(){return i}),e.d(p,"b",function(){return v}),e.d(p,"d",function(){return T});var a=e("ZKjC"),t=e("i5Ig"),m=e("L99M");const O=Object(a.b)((I,r)=>I.quipCommentStream[r]||t.b);O.meta={name:"createSelector",key:"createSelectorgetCommentStream",description:(I,r)=>I.quipCommentStream[r]||t.b};const i=Object(a.b)((I,r)=>{var E;return((E=I.quipCommentStream[r])===null||E===void 0?void 0:E.roots)||t.a});i.meta={name:"createSelector",key:"createSelectorgetCommentStreamRoots",description:(I,r)=>{var E;return((E=I.quipCommentStream[r])===null||E===void 0?void 0:E.roots)||t.a}};const v=Object(a.b)((I,r)=>{var E;return((E=I.quipCommentStream[r])===null||E===void 0?void 0:E.filter)||m.a.LATEST_REPLY});v.meta={name:"createSelector",key:"createSelectorgetCommentStreamFilter",description:(I,r)=>{var E;return((E=I.quipCommentStream[r])===null||E===void 0?void 0:E.filter)||m.a.LATEST_REPLY}};const T=Object(a.b)((I,r)=>I.quipCommentStream?Object.values(I.quipCommentStream).some(E=>E.fileId===r):!1);T.meta={name:"createSelector",key:"createSelectorisThisFileIdOpenInCommentStream",description:(I,r)=>I.quipCommentStream?Object.values(I.quipCommentStream).some(E=>E.fileId===r):!1}},hiuC:function(w,p,e){"use strict";e.d(p,"a",function(){return T}),e.d(p,"b",function(){return I});var a=e("ZKjC"),t=e("O86Y"),m=e("+ZQ6"),O=e("Z7Ay"),i=e("lhZz"),v=e("S8Va");const T=Object(a.b)(r=>r==null?void 0:r.appViews);T.meta={name:"createSelector",key:"createSelectorgetAppViewsState",description:r=>r==null?void 0:r.appViews};const I=Object(a.b)(function(r,E){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var f;const l=Object(t.g)(r),g=(f=T(r))===null||f===void 0?void 0:f[E];return g?(l&&Object(v.a)().maybeRefetch(l,E),g):y&&Object(m.a)(E)&&l?Object(v.b)().fetchObjectWithId(l,E):null});I.meta={name:"createSelector",key:"createSelectorgetViewById",description:function(r,E){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;var f;const l=Object(t.g)(r),g=(f=T(r))===null||f===void 0?void 0:f[E];return g?(l&&Object(v.a)().maybeRefetch(l,E),g):y&&Object(m.a)(E)&&l?Object(v.b)().fetchObjectWithId(l,E):null}},Object(O.a)("getViewsForTeam",r=>T(Object(i.getStateByTeamId)(r)))},"i2Y+":function(w,p,e){"use strict";e.d(p,"a",function(){return O});var a=e("dWJ4"),t=e("beVI");const m=s((i,v)=>Object(a.a)(i,v),"canUserOpenCommunityAdminDashboard"),O=s((i,v)=>v?m(i,Object(t.s)(i,v)):!1,"canUserOpenCommunityAdminDashboardById")},i9fg:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-it-IT-cb1f10d.gif"},iODX:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("BHdc"),i=e("zxER"),v=e("RVJP"),T=e("dmdh"),I=e("PhUj"),r=e("Kmpi"),E=e("O86Y"),y=e("6inW"),f=e("P9LH"),l=e("ZobM"),g=e("7ibc"),j=e("nNoG"),_=e("CnKg"),A=e("beVI"),Y=e("G0eX"),N=e("wKGu"),S=e("ktUG"),V=e("qDEp"),J=e("LaoO"),G=e("K5hs"),C=e("D1OJ"),u=e("stkM"),d=e("/0Xg"),h=e("c+dP"),D=e("GiOu"),F=e("FXMY"),x=e("APfK"),te=e("EyGR"),H=e("2Wdf"),X;(function(_e){_e[_e.FIRST_TIME_REQUEST=0]="FIRST_TIME_REQUEST",_e[_e.SUBSEQUENT_REQUEST=1]="SUBSEQUENT_REQUEST",_e[_e.SENT_SUCCESS=2]="SENT_SUCCESS",_e[_e.SENT_ERROR=3]="SENT_ERROR"})(X||(X={}));function re(_e,k,ke){const Re=Object(m.useDispatch)(),[Qe,pt]=Object(a.useState)(!1),[st,yt]=Object(a.useState)(k?X.SUBSEQUENT_REQUEST:X.FIRST_TIME_REQUEST),ca=Object(a.useRef)(),Ht=Object(a.useCallback)(()=>{pt(!0),ca.current||(ca.current=Re(Object(x.a)({fileId:_e,reason:"IndicatorRequestEditAccessButton",requestType:"upgrade"})).then(()=>ke?Re(Object(te.a)()):yt(X.SENT_SUCCESS)).catch(()=>ke?Re(Object(H.a)()):yt(X.SENT_ERROR)).finally(()=>pt(!1)))},[Re,_e,ke]),Ra=Object(a.useCallback)(()=>{ca.current&&(ca.current.cancel(),ca.current=void 0)},[]);return Object(a.useEffect)(()=>()=>{Ra()},[Ra]),{isLoading:Qe,status:st,requestQuipAccess:Ht}}s(re,"useQuipAccess");var je=e("s9Q6"),ie=e("PAox"),ve=e("daS4"),ne=e("E3dU"),Z=e("Yauy"),ae=e("mzZe"),se=e("WAPM"),fe=e("Ccc1"),Ie=e("I27i"),ye=e("THtN"),De=e("gpLM"),Ae=e("HKlo"),qe=e("Tsh7");function Et(){return Et=Object.assign||function(_e){for(var k=1;k<arguments.length;k++){var ke=arguments[k];for(var Re in ke)Object.prototype.hasOwnProperty.call(ke,Re)&&(_e[Re]=ke[Re])}return _e},Et.apply(this,arguments)}s(Et,"_extends");const Ne=new j.b("slack_docs");var ta=Object(a.forwardRef)((_e,k)=>{let{fileId:ke,className:Re}=_e;const Qe=Object(m.useDispatch)(),pt=!Object(i.d)(Ie.d),st=Object(i.d)(La=>Object(v.d)(La,"canvas_freemium_m3_p2")==="on"),yt=Object(i.d)(La=>Object(T.e)(La,ke)),ca=Object(i.d)(ve.a),Ht=!!yt.most_recent_access_request_ts,Ra=Object(O.default)("p-quip_title__access_indicator_button",Re),Ua="dialog-title",tn="dialog-description",{isLoading:Ha,status:dn,requestQuipAccess:oa}=re(ke,Ht),{isChannelSpace:Vt,channelId:sn,isChannelCanvasLocked:Xn,editsRestrictedToChannelManager:Sn}=Object(G.a)({fileId:ke}),qs=Object(i.d)(La=>Object(ne.d)(La,sn)),_s=Object(Z.db)(qs),Fs=Object(i.d)(La=>_s&&sn&&Object(ae.b)(La,sn)),Gn=Object(i.d)(La=>Object(v.d)(La,"channel_manager_chanvas_ui")==="on"),eo=Object(i.d)(A.g),wn=Object(Y.G)(eo),xn=d.o.PaidFeatureTrial,hs=d.n.Canvas,Qa=Object(i.d)(La=>wn&&Object(je.c)(La,xn,hs)),Kn=Object(i.d)(La=>Object(F.a)(La,{file:yt}));Object(a.useEffect)(()=>{wn&&Qe(Object(u.a)({campaignType:xn,campaignSubType:hs,reason:"canvas_view_only_button"}))},[Qe,hs,xn,wn]);const zn=s(La=>t.a.createElement(V.c,{"data-qa":"quip-request-edit-access-button",type:"outline",className:"margin_top_75 margin_bottom_25",loading:Ha,onClick:oa},La),"getButton"),On=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:Ua},Ne.t("You only have permission to view.")),t.a.createElement("div",{id:tn},Ne.t("To make changes, ask the owner for edit access.")),Kn?null:zn(Ne.t("Request Edit Access"))),"renderFirstTimeRequestContent");On.displayName="renderFirstTimeRequestContent";const kn=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:Ua},Ne.t("You\u2019ve already asked for access")),t.a.createElement("div",{id:tn},Ne.t("Still waiting for edit access? You can send the owner a reminder.")),zn(Ne.t("Remind The Owner"))),"renderSubsequentReminderContent");kn.displayName="renderSubsequentReminderContent";const Ws=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:Ua},Ne.t("Request sent")),t.a.createElement("div",{id:tn},Ne.t("You\u2019ll be notified once it\u2019s been shared with you."))),"renderRequestSentSuccessContent");Ws.displayName="renderRequestSentSuccessContent";const as=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:Ua},Ne.t("Error")),t.a.createElement("div",{id:tn},Ne.t("Something\u2019s gone wrong. Please try again later.")),zn(Ne.t("Try Again"))),"renderRequestSentErrorContent");as.displayName="renderRequestSentErrorContent";const ns=Object(a.useCallback)(()=>{Qe(Object(ie.a)({uiComponentVariant:S.UiComponentVariant.CANVAS_PAGE_VIEW_ONLY}))},[Qe]),js=Object(a.useCallback)(()=>{const La=st?Ne.rt("<strong>Create and edit canvases on their own</strong> and access other premium collaboration tools with a free, {trialDuration}-day trial of Slack Pro.",{trialDuration:30}):Ne.rt("<strong>Unlock canvases outside of channels</strong> and other premium collaboration tools with a free, {trialDuration}-day trial of Slack Pro.",{trialDuration:30}),os=st?Ne.rt("<strong>Create and edit canvases on their own</strong> and access other premium collaboration tools with an upgrade."):Ne.rt("<strong>Unlock unlimited canvases</strong> and other premium collaboration tools with an upgrade.");return t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:Ua},t.a.createElement(D.b,{className:"margin_bottom_50"})),t.a.createElement("div",{id:tn},Qa?La:os),Qa?t.a.createElement(V.f,{type:"outline",onClick:ns},Ne.t("Learn More")):t.a.createElement(V.b,{href:Object(d.u)({entryPoint:"canvas-view-only-button"}),type:"outline"},Ne.t("See Upgrade Options")))},[st,Qa,ns]),vs=new Map([[X.FIRST_TIME_REQUEST,On()],[X.SUBSEQUENT_REQUEST,kn()],[X.SENT_SUCCESS,Ws()],[X.SENT_ERROR,as()]]),io=s(()=>{Vt&&sn&&Qe(Object(ye.a)({channelId:sn,reason:"message_pane_input_preview"})).then(()=>{Object(De.c)({focusKey:Ae.c.QUIP_DOCS,forceFocus:!0})})},"onJoinButtonClicked"),Ks=s(()=>t.a.createElement(V.f,{className:Ra,type:"outline",size:"small",ref:k},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(l.a,{name:"eye-open",size:"16"})),Ne.t("View only")),"renderViewOnlyButton"),Ss={position:"bottom-left",offsetY:6,offsetX:-12,ariaRole:"dialog"};let ss=t.a.createElement(h.e,Et({renderMenu:La=>t.a.createElement(h.f,Et({},La,{menuClassNames:"p-quip_title__access_indicator_menu","aria-labelledby":Ua,"aria-describedby":tn}),vs.get(dn))},Ss),Ks());if(wn&&(ss=t.a.createElement(h.e,Et({renderMenu:La=>t.a.createElement(h.f,Et({},La,{menuClassNames:"p-quip_title__trial_access_menu","aria-labelledby":Ua,"aria-describedby":tn}),js())},Ss),Ks())),ca||(ss=t.a.createElement(V.f,{className:Ra,type:"outline",size:"small"},Ne.t("View only"))),Vt){let La="",os="",Ja,Bn=!1;if(Xn)return t.a.createElement(qe.d,{tip:Ne.t("Edits locked"),position:"bottom"},t.a.createElement("div",{className:"p-quip_title__access_indicator_locked_edits"},t.a.createElement(l.a,{name:"lock",size:"16"})));if(Gn&&Sn)La=Ne.rt("Only channel managers can edit this canvas. {link}",{channelName:t.a.createElement(fe.a,{channelId:sn,boldIcon:!0,className:"bold"}),link:t.a.createElement(se.a,{articleId:8328303095443},Ne.t("Learn more"))}),os=Ne.t("View Only");else if(_s&&!Fs)La=Ne.rt("Only people who can post in {channelName} can edit this canvas. {link}",{channelName:t.a.createElement(fe.a,{channelId:sn,boldIcon:!0,className:"bold"}),link:t.a.createElement(se.a,{articleId:360004635551},Ne.t("Learn more"))}),os=Ne.t("View Only");else if(!_s)La=Ne.rt("Join this channel to edit the canvas."),Ja=220,Bn=!0,os=Ne.t("View Only");else return null;ss=t.a.createElement(h.e,{renderMenu:lo=>t.a.createElement(h.f,Et({},lo,{width:Ja,menuClassNames:"p-quip_title__access_indicator_menu"}),t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{role:"group"},t.a.createElement("div",null,La)),Bn&&t.a.createElement(V.f,{onClick:io,type:"primary",size:"small",disabled:pt},Ne.t("Join Channel")))),position:"bottom-right",offsetY:6,ariaRole:"dialog"},t.a.createElement(V.f,{className:Ra,type:"outline",size:"small",ref:k},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(l.a,{name:"eye-open",size:"16"})),t.a.createElement("span",{className:"no_wrap"},os)))}return ss}),ct=e("9oTK"),kt=e("4KfL"),xt=e("nFQW"),Be=e("/K2e"),Bt=e("luMM"),Zt=e("drD8"),Ut=e("MBrv"),Da=e("FcR8"),ia=e("xy4D"),da=e("oUrV"),Xt=e("eJPC"),Ka=e("zb/F"),aa=e("RfUG"),vt=e("NNLN"),Ge=e("Icre"),He=e("kBpe"),me=e("zm5I"),wt=e("apAF"),zt=e("i1XD"),It=e("cTKW"),_t=e("UItK"),jt=e("3zNH"),nt=e("+VYA"),Ea=e("Ybt4");function dt(_e){let{channelId:k,docEmbed:ke}=_e;const Re=Object(m.useDispatch)(),Qe=Object(i.d)(Ht=>Object(Ea.b)({state:Ht,label:"use-channel-canvas-settings"})),{spaceFileId:pt}=Object(nt.a)({channelId:k}),st=Object(i.d)(Ht=>pt?Object(T.e)(Ht,pt):null),yt=!!Object(f.Cb)(st),ca=Object(a.useCallback)(Object(ct.coroutine)(function*(){const Ht=yt?It.a:_t.a;ke&&(yt||(yield ke.docEditor.forceSave()),Re(Ht({fileId:pt,reason:"quip-lock-channel-settings"})).then(Ra=>{let{file:Ua}=Ra;return Re(Object(jt.a)({files:[Ua],reason:"quip-lock-channel-settings-upsert"}))}).catch(Ra=>{Qe.error(Ra,"could not lock/unlock channel canvas")}))}),[yt,Re,pt,Qe,ke]);return{isLocked:yt,toggleLockState:ca}}s(dt,"useChannelCanvasSettings");var Je=e("bYrq"),we=e("tv4y"),ot=e("npde"),Yt=e("+kJ4"),Ee=e("YUBf"),Dt=e("9WS/"),St=e("jWAO");const W=new j.b("channel_details"),ee=s(_e=>{let{fileId:k}=_e;const ke=Object(m.useDispatch)(),Re=Object(a.useCallback)(()=>ke(Object(Yt.a)()),[ke]),[Qe,pt]=Object(a.useState)(!1),[st,yt]=Object(a.useState)(""),{channelId:ca,setSpaceIsOpenByDefault:Ht}=Object(G.a)({fileId:k}),Ra=Object(i.d)(oa=>Object(ne.d)(oa,ca)),Ua=Object(i.d)(g.o),tn=Object(a.useCallback)(()=>{pt(!0),yt(""),Ht(!0).then(()=>{Re()}).catch(()=>{yt(W.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"}))}).finally(()=>{pt(!1)})},[Ht,Re]);if(!Ua)return null;const Ha="show_channel_canvas_by_default_title",dn="show_channel_canvas_by_default_content";return t.a.createElement(Ee.a,{closeModal:Re,labelledby:Ha,describedby:dn},t.a.createElement(Ee.i,null,t.a.createElement(Ee.l,{id:Ha,title:W.t("Show this channel canvas by default?")})),t.a.createElement(Ee.d,null,t.a.createElement(Ee.e,null,!!st.length&&t.a.createElement(St.d,{level:"error",className:"margin_bottom_100"},st),t.a.createElement("p",{id:dn},W.rt("This channel canvas will be open by default for all members of {channel} until they close it.",{channel:t.a.createElement(Dt.a,{channel:Ra,includeChannelPrefix:!0,displayFormerNames:!1})})))),t.a.createElement(Ee.g,null,t.a.createElement(Ee.h,null,t.a.createElement(V.f,{onClick:Re,type:"outline"},W.t("Cancel")),t.a.createElement(Ee.c,{autoFocus:!0,type:"primary",onClick:tn,loading:Qe},W.t("Save")))))},"ShowChannelCanvasByDefaultModal");ee.displayName="ShowChannelCanvasByDefaultModal";var We=Object(ot.a)(ee),Ze=e("WSQ4"),Pt=e("azFB"),bt=e("G5NC"),la=e("4eGI"),Ia=e("5zqd"),Fa=e("sKeO"),_a=e("a/0V"),ja=e("4unc"),Sa=e("4iK2"),ga=e("ljyh"),Qt=e("I3z+"),nn=e("mQiU"),Va=e("I0j/"),Ye=e("37+L"),Jt=e("hisJ"),q=e("WwqK"),ma=e("VymY"),cn=e("gnJq"),Ga=e("TdVx"),At=s((_e,k)=>{if(!Object(g.q)(_e)||Object(Y.G)(Object(A.g)(_e))||!Object(Ga.a)(_e))return!1;const Re=Object(T.e)(_e,k);return!(!Re||Object(cn.a)(Re)||!Object(f.u)(Re)||Object(f.h)(Re)||Object(F.a)(_e,{file:Re}))},"canUserDuplicateCanvas"),qa=e("SQ0V"),Nn=e("Ag7o"),fn=e("Trx9"),ka=e("d/xU"),za=e("3l96"),In=e("KkHf"),Xa=e("Tevt");const Ya=new j.b("slack-docs"),Oa=s(_e=>{let{canvasFileId:k}=_e;const ke=Object(m.useDispatch)(),Re=Object(a.useCallback)(()=>{ke(Object(Yt.a)())},[ke]);return Object(i.d)(g.q)?t.a.createElement(fn.a,{eventId:S.EventId.QUIP_DUPLICATE_CANVAS,uiComponentName:"duplicate_canvas_error_modal",elementType:S.ElementType.MODAL,clogImpression:!0,fileId:k},t.a.createElement(In.a,{title:Ya.t("Error duplicating canvas"),onClose:Re,onSubmit:Re,submitButtonText:Ya.t("OK"),showCloseButton:!0,showCancelButton:!1},Ya.rt("Something went wrong. If the problem persists, please <a>drop us a line</a>.",null,pt=>{let{text:st,key:yt}=pt;return t.a.createElement(Xa.a,{href:`https://${Object(ka.l)()}/help/contact`,rel:"noopener noreferrer",key:yt},st)}))):null},"DuplicateCanvasErrorModal");Oa.displayName="DuplicateCanvasErrorModal";var Os=Oa;const Dn=s(_e=>{let{canvasFileId:k}=_e;return Object(za.a)({element:t.a.createElement(Oa,{canvasFileId:k}),name:"duplicate-canvas-error-modal"})},"openDuplicateCanvasErrorModal");Dn.displayName="openDuplicateCanvasErrorModal";const bn=Object(qa.c)("Duplicate a canvas and open new copy",(_e,k,ke)=>{let{canvasFileId:Re}=ke;const Qe=Object(Ea.b)();Qe.info(`Attempting to duplicate canvas with id: ${Re}`);const pt=s(st=>(Qe.error(st??Error(`Failed to duplicate canvas with id: ${Re}`)),_e(Dn({canvasFileId:Re}))),"onError");return _e(Object(Nn.a)({fileId:Re,reason:"duplicate-canvas"})).then(st=>{st.file?_e(Object(Da.a)({fileId:st.file.id,forceNewWindow:!0,source:da.a.DUPLICATE_CANVAS})):pt()}).catch(st=>{pt(st)})});bn.meta={name:"createThunk",key:"createThunkduplicateCanvas",description:"Duplicate a canvas and open new copy"};var _n=bn,mn=e("jU2U"),un=e("AutL"),Un=e("qY4A"),ze=e("bUGr"),ce=e("A26L"),Le=e("i9jZ"),Ke=e("g3a/"),at=e("YHfO"),ua=e("oY18"),Pa=e("Mqk2"),Ba=e("Lgge");const Mt=Object(qa.c)("Edit file canvas template mode",(_e,k,ke)=>{let{fileId:Re}=ke;return Object(T.e)(k(),Re)?_e(Object(Pa.c)({fileId:Re,isCanvasTemplate:!0})).then(pt=>{let{file:st}=pt;_e(Object(jt.a)({files:[st],reason:"create-canvas-template"}))}):Ba.a.reject(new Error("Missing file"))});Mt.meta={name:"createThunk",key:"createThunkcreateCanvasTemplate",description:"Edit file canvas template mode"};var $t=e("cBJ3");const Rt=Object(qa.c)("Edit file canvas template mode",(_e,k,ke)=>{let{fileId:Re}=ke;return Object(T.e)(k(),Re)?_e(Object(Pa.c)({fileId:Re,isCanvasTemplate:!1})).then(pt=>{let{file:st}=pt;_e(Object($t.g)({fileId:st==null?void 0:st.id}))}):Ba.a.reject(new Error("Missing file"))});Rt.meta={name:"createThunk",key:"createThunkrevertCanvasTemplate",description:"Edit file canvas template mode"};var Cn=e("vobO"),Qn=e("2yT+");const gn=new j.b("slack-docs"),cs=s(function(){return{continueButton:{elementName:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"revert_to_canvas":"convert_to_template",onClick:{enableClogAction:!0}},cancelButton:{elementName:"cancel",onClick:{enableClogAction:!0}}}},"speedBumpAutoClogProps");function Es(_e){const{fileId:k}=_e,ke=Object(i.d)(Sn=>Object(T.e)(Sn,k)),Re=Object(i.d)(Sn=>Object(f.wb)(ke,Sn)),Qe=Object(m.useDispatch)(),[pt,st]=Object(a.useState)(!1),[yt,ca]=Object(a.useState)(""),Ht=Object(i.d)(Sn=>Object(v.d)(Sn,"canvas_user_created_templates",!1)==="on"),Ra=Object(a.useCallback)(()=>{Qe(Object(Yt.a)())},[Qe]),Ua=Object(a.useCallback)(Sn=>{Qe(Object(ua.a)({element:t.a.createElement(Ke.a,{icon:"check-circle-o-large",duration:at.b,showCloseButton:!0,toastClasses:"p-canvas_templates_toast"},Sn)}))},[Qe]),tn=Object(a.useCallback)(()=>{st(!0),yt&&ca(""),Qe(Mt({fileId:k})).then(()=>{Object(f.hb)(ke)||Object(f.Ab)(ke)?Qe(Object(I.b)({fileId:k,viewContext:Cn.a,...!Object(f.hb)(ke)&&Object(f.Ab)(ke)?{initialShareDialogLocationsTab:Qn.a.Settings}:{}})):Ua(gn.t("You created a template.")),Ra()}).catch(()=>{ca(gn.t("There was a problem converting the canvas to template. Try again in a few minutes.")),st(!1)})},[yt,Qe,k,ke,Ra,Ua]),Ha=Object(a.useCallback)(()=>{st(!0),yt&&ca(""),Qe(Rt({fileId:k})).then(()=>{Ua(gn.t("You reverted a template to a canvas.")),Ra()}).catch(()=>{ca(gn.t("There was a problem reverting the template to canvas. Try again in a few minutes.")),st(!1)})},[yt,Qe,k,Ua,Ra]);if(!Ht)return null;const dn=Re?gn.t("Revert template to a canvas"):gn.t("Convert to a template"),oa=s(()=>t.a.createElement(Ee.i,null,t.a.createElement(Ee.l,{className:"padding_right_175 padding_bottom_50",title:dn,"data-qa":"canvas_templates_convert_title"})),"renderHeader");oa.displayName="renderHeader";const Vt=s(()=>{const Sn=Re?gn.t("People will no longer be able to use this template. Comments, version history, and permissions will be saved."):gn.t("Anyone with access to the template can create new canvases using the same formatting, layout, and contents.");return t.a.createElement(Ee.e,{id:"canvas_templates_convert_description"},Sn)},"renderDescription");Vt.displayName="renderDescription";const sn=s(()=>t.a.createElement(Ee.e,null,t.a.createElement(St.d,{className:"margin_top_100 margin_bottom_0",type:"inline",level:St.b.error},yt)),"renderError");sn.displayName="renderError";const Xn=s(()=>t.a.createElement(Ee.h,null,t.a.createElement(V.a,{className:"margin_right_50",type:"outline",onClick:Ra,autoClogProps:cs().cancelButton},gn.t("Cancel")),t.a.createElement(V.c,{onClick:Re?Ha:tn,"data-qa":"canvas_template_speedbump_convert_button",loading:pt,type:"primary",autoClogProps:cs(Re).continueButton},Re?gn.t("Revert to Canvas"):gn.t("Convert to Template"))),"renderFooter");return Xn.displayName="renderFooter",t.a.createElement(fn.a,{eventId:S.EventId.QUIP_CANVAS_TEMPLATES,elementType:S.ElementType.MODAL,clogImpression:!0,fileId:k},t.a.createElement(Ee.a,{isOpen:!0,centered:!0,closeModal:Ra,showCloseButton:!0,dataQa:Cn.a,contentLabel:dn,describedby:"canvas_templates_convert_description"},oa(),t.a.createElement(Ee.d,null,Vt(),yt&&sn()),t.a.createElement(Ee.g,null,Xn())))}s(Es,"CanvasTemplateConvertSpeedbump"),Es.displayName="CanvasTemplateConvertSpeedbump";var ds=Es;const bs=Object(qa.c)("Open the canvas template speedbump modal when converting to a template or back to a canvas",function(){var _e=Object(ct.coroutine)(function*(k,ke,Re){let{fileId:Qe}=Re;k(Object(za.a)({element:t.a.createElement(ds,{fileId:Qe})}))});return function(k,ke,Re){return _e.apply(this,arguments)}}());bs.meta={name:"createThunk",key:"createThunkopenCanvasTemplateConvertSpeedbumpModal",description:"Open the canvas template speedbump modal when converting to a template or back to a canvas"};var es=bs,Fn=e("9Gfp"),Jn=e("NjAx"),Wn=s((_e,k)=>{const ke=Object(v.d)(_e,"canvas_templates_admin",!1)==="on",Re=Object(Jn.u)(_e);if(!Object(Ga.a)(_e))return!1;const Qe=Object(T.e)(_e,k);if(!Qe||Object(cn.a)(Qe)||!Object(f.u)(Qe)||Object(f.h)(Qe)||Object(F.a)(_e,{file:Qe})||ke&&!Re)return!1;const pt=Object(Fn.a)(_e);return Qe.user&&pt===Qe.user?!0:Object(f.Wb)(Qe)},"canUserSaveCanvasAsTemplate"),en=e("XXd4"),Zn=e("Qy8E"),ms=e("/Rv1"),Tn=e("3VyW"),xs=e("tE27"),us=e("5ILa"),ts=e("uaYD"),Cs=e("Ofo0"),ge=e("yhuY"),be=e("3XPm"),Se=e("Bnq6"),he=e("Ls/Y"),mt=e("hjzp"),rt=e("rZ8V"),Ct=e("Iwbv"),Tt=e("T1zM"),ft=e("JoR1"),gt=e("gBoP"),na=e("bTgy"),Xe=e("NYta"),it=e("X1Cl");function ut(){return ut=Object.assign||function(_e){for(var k=1;k<arguments.length;k++){var ke=arguments[k];for(var Re in ke)Object.prototype.hasOwnProperty.call(ke,Re)&&(_e[Re]=ke[Re])}return _e},ut.apply(this,arguments)}s(ut,"quip_overflow_actions_extends");const Te=new j.b("slack-docs"),qt={QUIP_OVERFLOW_ACTIONS_DELETE_CANVAS_BUTTON:"quip_overflow_actions_delete_canvas_button"},z=s(_e=>{let{fileId:k,fromPrimaryView:ke,fromGantry:Re,trigger:Qe,triggerClassName:pt,truncatedActions:st,onCommentStreamClick:yt,onAddHeaderImage:ca,onReplaceHeaderImage:Ht,onRemoveHeaderImage:Ra,onRepositionHeaderImage:Ua,onPrint:tn,lastReadTs:Ha,docEmbed:dn}=_e;var oa;const Vt=Object(m.useDispatch)(),sn=Object(N.a)(),Xn=Object(i.d)(Qt.c),Sn=Object(i.d)(Le.a),qs=Object(i.d)(Fe=>Object(v.d)(Fe,"canvas_collection_prototype")==="on"&&Object(rt.o)(Fe)),_s=Object(i.d)(g.o),Fs=Object(i.d)(g.q),Gn=Object(i.d)(Fe=>Object(v.d)(Fe,"canvas_user_created_templates",!1)==="on"),eo=Object(i.d)(Fe=>Object(v.d)(Fe,"channel_canvas_share",!1)==="on"),wn=Object(i.d)(Fe=>Object(v.d)(Fe,"canvas_sidebar_mix",!1)==="on"),xn=Object(i.d)(Fe=>Object(v.d)(Fe,"channel_manager_chanvas_edits")==="on"),hs=Object(i.d)(Fe=>Object(v.d)(Fe,"channel_manager_chanvas_ui")==="on"),Qa=Object(i.d)(Fe=>Object(rt.o)(Fe)&&Object(g.e)(Fe)),Kn=Object(i.d)(ia.a),zn=Object(i.d)(Fe=>Object(v.d)(Fe,"canvas_header_image")==="on"),On=Object(i.d)(Fe=>Object(v.d)(Fe,"canvas_printing")==="on"),kn=Object(i.d)(Fe=>At(Fe,k)),Ws=Object(i.d)(Fe=>Wn(Fe,k)),as=Object(i.d)(Fe=>Object(kt.b)(Fe,k));var ns;const js=Object(i.d)(Fe=>(ns=Object(ft.t)(Fe,"seen_canvas_template_convert_action_new_badge"))!==null&&ns!==void 0?ns:!1);var vs;const io=Object(i.d)(Fe=>(vs=Object(ft.t)(Fe,"seen_canvas_header_image_new_badge"))!==null&&vs!==void 0?vs:!1),Ks=Object(i.d)(E.g),Ss=Object(i.d)(Fn.a),{featureTinyspeck:ss}=Object(mn.a)(),La=Object(i.d)(A.f),os=Object(i.d)(Ct.a),Ja=Object(i.d)(Fe=>Object(T.e)(Fe,k)),Bn=Object(i.d)(Fe=>Object(f.wb)(Ja,Fe)),lo=Object(Zt.b)(Ja),pn=Object(a.useContext)(vt.a),{isChildWindow:rs,isMainWindow:Hn}=Object(a.useContext)(nn.a),co=Object(f.M)(Ja,Ks);var mo;const to=(mo=Object(la.a)(dn==null?void 0:dn.hasHeaderImage))!==null&&mo!==void 0?mo:!1,Do=Object(i.d)(Fe=>Object(na.a)(Fe,Ja)),Ro=Object(a.useCallback)(()=>{Vt(Object(Ut.a)(!Object(f.Pb)(Ja),{file:Ja.id}))},[Vt,Ja]),uo=Object(a.useCallback)(Object(ct.coroutine)(function*(){Gn&&(sn.track(S.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:S.UiAction.CLICK,ui_step:"save_template_overflow_menu"}}}),js||Vt(Object(Tt.f)({pref:"seen_canvas_template_convert_action_new_badge",value:!0}))),Gn&&Vt(es({fileId:k}))}),[Gn,sn,js,Vt,k]),ao=Object(a.useCallback)(Object(ct.coroutine)(function*(){sn.track(S.EventId.CANVAS_VARIABLES,{contexts:{ui_context:{action:S.UiAction.CLICK,ui_step:"open_canvas_automation"}}}),Vt(Object(Va.a)(Object(Ye.U)({entityId:k,activeTab:Xe.a.DYNAMIC})))}),[sn,Vt,k]),Io=Object(a.useCallback)(Object(ct.coroutine)(function*(){Gn&&(sn.track(S.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:S.UiAction.CLICK,ui_step:"save_canvas_overflow_menu"}}}),Vt(es({fileId:k})))}),[Gn,sn,Vt,k]),po=Object(i.d)(me.a),{isChannelSpace:va,channelId:ks,spaceIsOpenByDefault:_o,setSpaceIsOpenByDefault:Ps}=Object(G.a)({fileId:k});let{canLockChannelSpace:Hs}=Object(zt.a)({fileId:k});xn&&hs&&(Hs=!!Ja.can_toggle_canvas_lock);const Lo=Object(i.d)(Fe=>Object(ne.d)(Fe,ks)),Vs=wn&&!va?Object(mt.a)(k):void 0,xo=Object(i.d)(Fe=>wn&&Vs?Object(ne.d)(Fe,Vs):void 0),Gs=Object(i.d)(Fe=>Object(A.s)(Fe,Ja.user_team)),jo=Object(i.d)(Fe=>Object(us.a)(Fe,k)),ho=Object(Y.D)(Gs),vo=Object(Y.h)(Gs);Object(be.a)(Gs?Gs.id:"");const fo=Object(i.d)(Fe=>Object(Se.a)(Fe,k)),go=Object(i.d)(Fe=>Object(en.a)(Fe,Lo)),{window:no,windowId:ws}=Object(a.useContext)(Ze.a),Nt=Object(i.d)(A.g),fs=Object(Y.G)(Nt),As=Object(Y.z)(Nt),{isLocked:vr,toggleLockState:Ir}=dt({channelId:ks,docEmbed:dn}),M=Object(y.b)(ws),L=(Hn||M)&&Sn&&va&&Object(Le.b)(),B=!!Ja.most_recent_access_request_ts,{requestQuipAccess:ue}=re(k,B,!0),xe=no!==Pt.a||!bt.a,$e=Te.t("More options",{fallbackHash:"a1e34f91579d0900384176f8a467bf688034f1ee"}),Ue=Object(la.a)(Object(q.a)(no,k)),et=Object(i.g)(Fe=>Object(Jt.b)(Fe,ws)),lt=Object(i.d)(Fe=>Object(un.b)(Fe,k)),ht=Object(i.g)(Fe=>Object(Fa.b)(Fe,k,_a.a.ephemeralMessage,!0)||void 0),Ot=ht&&ht[0],Ca=!!(!(Ot==null||(oa=Ot.ephemeralMessages)===null||oa===void 0)&&oa.length),fa=Gn&&Ws&&!Bn&&As,ra=Gn&&Ws&&Bn&&As&&!Do,Ta=zn&&!Ue&&Object(f.Wb)(Ja),an=s(()=>{var Fe,So;return Ca?t.a.createElement("div",{className:"p-quip_overflow_actions__app_notifications--container"},t.a.createElement("span",{className:"p-quip_overflow_actions__app_notifications--label"},Te.t("App notifications")),(Ot==null||(Fe=Ot.ephemeralMessages)===null||Fe===void 0?void 0:Fe.length)&&t.a.createElement(ja.b,{count:Ot==null||(So=Ot.ephemeralMessages)===null||So===void 0?void 0:So.length,style:ja.a.red,"data-qa":"app-notifications-badge"})):""},"appNotificationLabel"),on=s(()=>{Vt(Object(Ge.a)({}))},"closePrimaryView"),xa=s(()=>{if(ke)on();else if(no===Pt.a)Vt(Object(ms.a)({shouldReplaceState:!0}));else{var Fe;(Fe=Object(ma.d)(no.document.documentElement))===null||Fe===void 0||Fe.focus()}},"onDelete"),Pn=s(()=>{Object(q.d)(no,k)},"toggleA11yReadOnlyMode"),Vn=s(()=>{Vt(Object(wt.a)(po==="light"?"dark":"light"))},"onToggleDarkMode"),An=s(()=>{va&&eo&&k&&Vt(Object(Cs.a)({fileId:k,entryPoint:"quip-overflow-actions"}))},"onForwardChannelCanvas"),Ms=s(()=>{_o?Ps(!1):Vt(We({fileId:k}))},"onToggleShowByDefault"),is=s(Fe=>{let{shouldOpenActivityHistory:So=!1,shouldOpenCommentStream:zs=!1}=Fe;Vt(Object(Da.a)({fileId:k,forceNewWindow:!0,source:da.a.QUIP_FILE_ACTIONS,isChannelSpace:va,resetScroll:!1,shouldOpenActivityHistory:So,shouldOpenCommentStream:zs,lastReadTs:Ha}))},"openDocInNewWindow"),hn=s(()=>Vt(Object(ts.a)({fileId:k,isChannelSpace:va,isFromHuddle:M})),"onVersionHistoryClick"),Ns=s(()=>{if(kn)return Vt(_n({canvasFileId:k}))},"onDuplicateCanvas"),En=s(()=>B?t.a.createElement("div",null,t.a.createElement("div",null,Te.t("You\u2019ve already asked for edit access.")),t.a.createElement("div",null,Te.t("You can send the owner a reminder."))):t.a.createElement("div",null,t.a.createElement("div",null,Te.t("You only have permission to view.")),t.a.createElement("div",null,Te.t("To make changes, ask editors for edit access."))),"getAccessIndicatorLabel"),$n=s(()=>B?Te.t("Remind The Owner"):Te.t("Request Edit Access"),"getRequestEditAccessLabel"),yn=s(()=>Object(He.c)()===He.a.SAFARI?Te.t("Ctrl R"):Object(He.p)()?Te.t("\u2318 Option R"):Te.t("Ctrl Alt R"),"getA11yReadOnlyModeShortcut"),qn=s(()=>_s?go?Te.t("Only the organization that owns this channel can modify this setting."):Hs?null:Te.t("Only editors can modify this setting."):null,"getAutoOpenDescription"),Za=s(Fe=>{sn.track(S.EventId.QUIP_SIDEBAR_MOVE_TO_SECTION,{contexts:{ui_context:{action:S.UiAction.SELECT,ui_component_variant:Fe}}})},"trackSidebarSectionClog"),ls=Object(a.useCallback)(()=>{ca&&(io||Vt(Object(Tt.f)({pref:"seen_canvas_header_image_new_badge",value:!0})),ca())},[io,Vt,ca]),Bo=s(Fe=>t.a.createElement(he.b,ut({channel:xo,reason:"section-select-from-overflow-menu",ignoreEditMode:!1,showRemoveFromSection:!1,shouldTransitionFocusOnClose:!1,width:"auto",clogTrack:Za},Fe)),"renderSubmenuForSidebarMove");Bo.displayName="renderSubmenuForSidebarMove";const Wa=s(Fe=>({elementName:Fe,onClick:{enableClogAction:!0},fileId:k,isChannelCanvas:va}),"autoClogProps"),Ds=qs?Te.t("Add to starred"):"Add to starred",wo=[{label:En(),key:"quip-access-indicator",show:!va&&!!(st!=null&&st.hasAccessIndicator),type:we.b.header},{label:$n(),key:"request-edit-access-button",click:ue,show:!va&&!!(st!=null&&st.hasAccessIndicator)},{type:we.b.separator,key:"separator-main-menu",show:!va&&!!(st!=null&&st.hasAccessIndicator)},{label:Te.t("Copy link"),key:"copy",click:()=>Object(Ka.e)(co),show:!0,autoClogProps:Wa("copy_link")},{label:Object(f.Lb)(Ja)?Te.t("Remove from Later"):Te.t("Save for later"),key:"save",click:()=>{Object(f.Lb)(Ja)?Vt(Object(gt.h)({itemId:k})):Vt(Object(gt.b)({fileId:k}))},show:Xn&&!Object(f.Kb)(Ja)&&!Object(f.qb)(Ja),autoClogProps:Object(f.Lb)(Ja)?Wa("remove_from_later"):Wa("save_for_later")},{label:lt?Te.t("Unstar canvas",{fallbackHash:"e9480d430bbdfa84ffd7e0dc85bd961687e2a662",fallbackHashNs:"channel_sidebar"}):Ds,key:"canvas-collection",click:()=>{lt?(Vt(Object(ce.c)({fileId:k})),Vt(Object(ze.a)({fileId:k,userId:Ss}))):(Vt(Object(ce.b)({fileId:k})),Vt(Object(Un.a)({fileId:k,userId:Ss})))},show:qs,autoClogProps:Wa(lt?"unstar":"star")},{label:Object(f.Pb)(Ja)?Te.t("Remove from saved items"):Te.t("Add to saved items"),key:"save",click:Ro,show:!va&&!Xn&&!Bn},{type:we.b.separator,key:"separator-main-menu",show:!0},{label:Te.t("Open in new window"),icon:t.a.createElement(l.a,{name:"open-in-window",size:"16"}),className:"c-menu_item_action_button--with_icon_on_right",key:"open-in-new-window",click:()=>{is({shouldOpenActivityHistory:!1})},show:L,autoClogProps:Wa("open_in_new_window")},{type:we.b.separator,key:"separator-open-in-new-window",show:L},{label:Te.rt("Pin to {eventName}",{eventName:vo}),key:"pin-canvas-to-event",click:()=>{Object(ge.a)({dispatch:Vt,externalTeamId:Gs.id,externalWorkspaceName:vo,fileId:k,reason:"quip-overflow-actions-pin-canvas-to-external-workspace"})},show:jo&&!ho&&!fo},{label:Te.rt("Unpin from {eventName}",{eventName:vo}),key:"unpin-canvas-from-event",click:()=>{Object(ge.b)({dispatch:Vt,externalTeamId:Gs.id,externalWorkspaceName:vo,fileId:k,reason:"quip-overflow-actions-unpin-canvas-from-external-workspace"})},show:jo&&fo},{label:Te.t("Show all comments"),key:"comments",click:()=>{(Object(He.i)()||Object(ga.a)())&&va&&!rs||M?is({shouldOpenCommentStream:!0}):(Object(He.i)()||Object(ga.a)())&&va&&rs?Vt(Object(Va.a)(Object(Ye.R)(k,et))):yt?yt():Vt(Object(Tn.a)({fileId:k,shouldIncludeBack:!1}))},show:!va&&(Bn&&Object(f.Wb)(Ja)||!Bn)||va&&(Object(He.i)()||Object(ga.a)()),autoClogProps:Wa("show_all_comments")},{label:Te.t("View version history"),key:Sa.a,click:hn,show:as&&Object(f.Wb)(Ja)&&(!va||va&&Hs&&(Object(He.i)()||Object(ga.a)())),autoClogProps:Wa("view_version_history")},{label:Qa?Te.t("Manage automations"):"Manage automations",key:"automation",badgeLabel:Te.t("NEW"),show:Qa&&As&&!va,click:ao,autoClogProps:Wa("manage_automations")},{label:On?Te.t("Print canvas"):"",key:"print",click:tn,show:On,autoClogProps:Wa("print")},{type:we.b.separator,key:"separator-main-menu",show:!va&&(!xe||kn||fa||ra)},{label:Fs?Te.rt("Make a copy",{fallbackHashNs:"e9e80facccaeeed63ca7fabb58200c7ac4054d31"}):"",key:"clone",click:Ns,show:kn&&!Bn,autoClogProps:Wa("make_copy")},{label:Te.t("Create a new canvas"),key:"create-new-canvas",click:()=>{Vt(Object(Zn.a)({source:Xt.a.HEADER_OVERFLOW_MENU,forceNewWindow:!0}))},shortcut:!Object(He.c)()&&(Object(He.p)()?Te.t("\u2318 Shift N"):Te.t("Ctrl Shift N")),show:!fs&&!va&&!os&&!Bn,autoClogProps:Wa("create_new")},{label:Te.t("Convert to a template"),key:"save-as-template",click:uo,show:fa,badgeLabel:js?void 0:Te.t("NEW"),badgeClassName:"p-quip_overflow_actions__canvas_templates_callout"},{label:Te.t("Revert template to a canvas"),key:"revert-to-canvas",click:Io,show:ra,badgeClassName:"p-quip_overflow_actions__canvas_templates_callout"},{label:Te.t("Share this canvas"),key:"share-space",click:st==null?void 0:st.onShare,show:!va&&!!st},{label:Te.t("Toggle dark mode"),key:"toggle-dark-mode",click:Vn,show:!va&&Re},{label:an(),key:"app-notifications",click:()=>{Vt(Object(Ia.a)({fileId:k}))},show:Ca},{type:we.b.separator,key:"separator-channel-canvas",show:_s&&va&&Hs},{label:vr?Te.t("Unlock edits"):Te.t("Lock edits"),key:"channel-canvas-lock",click:Ir,show:va&&Hs,autoClogProps:Wa("lock_edits")},{label:eo?Te.t("Forward channel canvas"):"",key:"channel-canvas-forward",click:An,show:eo&&va},{label:Te.t("Show by default"),description:qn(),key:"channel-canvas-auto-open",click:Ms,show:_s&&va,type:we.b.checkbox,checked:_o,disabled:!Hs||go,className:"p-quip_overflow_actions__auto_open_item",autoClogProps:Wa("show_by_default")},{type:we.b.separator,key:"separator-open-in-new-window",show:!Object(Je.b)()&&!va},{label:zn?Te.t("Add cover image"):"",key:"add-cover-image",show:Ta&&!to,click:ls,badgeLabel:!io&&va?Te.t("NEW"):void 0,badgeClassName:"p-quip_overflow_actions__canvas_header_image_callout",autoClogProps:Wa("add_cover_image")},{label:zn?Te.t("Cover image"):"",type:we.b.submenu,key:"submenu-cover-image",show:Ta&&to,template:[{label:zn?Te.t("Replace"):"",key:"replace-cover-image",click:Ht,autoClogProps:Wa("replace_cover_image")},{label:Te.t("Reposition",{fallbackHash:"3259cd5cf08a21d35e2a58a5be9a5df3529b8562",fallbackHashNs:"lists"}),key:"reposition-cover-image",click:Ua,autoClogProps:Wa("reposition_cover_image")},{label:zn?Te.t("Remove"):"",key:"remove-cover-image",click:Ra,autoClogProps:Wa("remove_cover_image")}]},{label:Te.t("Accessibility"),type:we.b.submenu,key:"submenu-accessibility",show:!0,template:[{label:Te.t("Keyboard Shortcuts"),key:"keyboard-shortcuts",click:()=>Vt(Object(xs.a)()),shortcut:Object(He.p)()?Te.t("\u2318 /"):Te.t("Ctrl /"),autoClogProps:Wa("toggle_keyboard_shortcuts")},{label:Te.t("Read only view"),key:"toggle-a11y-read-only-mode",click:Pn,type:we.b.checkbox,checked:Ue,disabled:!Object(f.Wb)(Ja)||Ue===void 0,shortcut:yn(),autoClogProps:Wa("toggle_a11y_read_only_mode")}]},{type:we.b.separator,key:"separator-report",show:Kn},{label:Te.t("Report to Slack",{fallbackHash:"fed452c545e1032d4d547bc6b1fe8e6404917dfa"}),key:"report",click:()=>{Object(Y.X)(La,`/help/requests/report-content?u=${co}&type=canvas`)},show:Kn,autoClogProps:Wa("report_to_slack")},...wn&&xo?[{label:Te.t("Move to channel sidebar"),type:we.b.submenu,key:"submenu-sidebar-section-select",show:!va,renderSubmenu:Bo}]:[],{type:we.b.separator,key:"separator-delete",show:ss},{label:Bn?Te.t("Copy template ID"):Te.t("Copy canvas ID"),key:"copy-canvas-id",show:ss,click:()=>Object(Ka.e)(k),autoClogProps:Wa("copy_id")},{type:we.b.separator,key:"separator-delete",show:!va},{label:Bn&&Gn?Te.t("Delete template"):Te.t("Delete canvas"),show:lo.delete_file&&!va,danger:!0,dataQa:qt.QUIP_OVERFLOW_ACTIONS_DELETE_CANVAS_BUTTON,click:()=>Vt(Object(Bt.a)({fileId:k,channelId:pn==null?void 0:pn.channelId,threadTs:pn==null?void 0:pn.threadTs,msgFileTs:pn==null?void 0:pn.ts,viewContext:pn==null?void 0:pn.viewContext,isStackable:!0,onSuccessfulDelete:xa})),autoClogProps:Wa("delete")}].filter(Fe=>Fe.show),Rs=s(Fe=>t.a.createElement(fn.a,{eventId:S.EventId.CANVAS_OVERFLOW_MENU,clogImpression:!0,elementName:S.UiComponentName.CANVAS_OVERFLOW_MENU,fileId:k,isChannelCanvas:va},t.a.createElement(Be.a,ut({},Fe,{"aria-label":Te.t("More options"),menuClassNames:"p-quip_overflow_actions__menu",template:wo,stripTerminalSeparators:!0,width:"max-content"}))),"renderMenu");return Rs.displayName="renderMenu",Object(f.Yb)(Ja)?t.a.createElement(t.a.Fragment,null,wo.length>0&&t.a.createElement(aa.a,{renderMenu:Rs,position:"bottom"},Qe||t.a.createElement(qe.d,{tip:$e,position:"bottom-right"},t.a.createElement(xt.a,{size:"small",icon:"vertical-ellipsis",className:pt,"aria-label":$e,"data-qa":"quip-overflow-menu"})))):null},"QuipOverflowActions");z.displayName="QuipOverflowActions";var K=z,$=e("pFNT"),pe=e("j4mf"),Ce=e("+tZp"),Pe=e("xwCZ"),Me=e("UYKR");function Lt(){return Lt=Object.assign||function(_e){for(var k=1;k<arguments.length;k++){var ke=arguments[k];for(var Re in ke)Object.prototype.hasOwnProperty.call(ke,Re)&&(_e[Re]=ke[Re])}return _e},Lt.apply(this,arguments)}s(Lt,"quip_presence_facepile_extends");const Wt=new j.b("slack-docs"),ya=4,sa=50,pa=99,ea={size:26,isInteractive:!1},ba=s(_e=>{let{memberId:k,fileId:ke}=_e;const Re=Object(i.d)(yt=>Object(Pe.g)(yt,k)),Qe=Object(i.d)(yt=>Object(Ce.a)(yt,Re)),pt=Object(i.d)(yt=>Object(Me.a)(yt,k,ke)),st=t.a.createElement("span",{className:"p-quip_presence_facepile__face__tooltip"},t.a.createElement("div",{className:"p-quip_presence_facepile__face__tooltip__name"},Qe),t.a.createElement("div",{className:"c-tooltip__subtitle"},pt?Wt.t("Editing"):Wt.t("Viewing")));return t.a.createElement(qe.d,{tip:st},t.a.createElement("div",{className:"p-quip_presence_facepile__face","data-qa":"quip-presence-facepile-face","data-mode":`${pt?"editing":"viewing"}`},t.a.createElement($.c,Lt({userId:k},ea))))},"Face");ba.displayName="Face";const Rn=s(_e=>{let{memberIds:k,maxNumFaces:ke,fileId:Re}=_e;if(!k.length)return null;const Qe=k.slice(0,ke);return t.a.createElement("div",{className:"p-quip_presence_facepile__faces"},Qe.map(pt=>t.a.createElement(ba,{key:pt,memberId:pt,fileId:Re})).reverse())},"Faces");Rn.displayName="Faces";const $a=s(_e=>{let{memberId:k}=_e;const ke=Object(i.d)(Qe=>Object(Pe.g)(Qe,k)),Re=Object(i.d)(Qe=>Object(Ce.a)(Qe,ke));return t.a.createElement(t.a.Fragment,null,Re)},"OtherTooltipUserName"),ha=s(_e=>{let{memberIds:k,maxNumFaces:ke}=_e;if(k.length<=ke)return null;const Re=k.slice(ke,sa+ke).map(yt=>t.a.createElement($a,{key:yt,memberId:yt})),Qe=k.length-ke;Qe>sa&&Re.push(Wt.rt("others"));const pt=Object(j.h)(Re,{react:!0}),st=t.a.createElement("span",{className:"p-quip_presence_facepile__count__tooltip"},t.a.createElement("div",null,Wt.t("Other members are in here")),t.a.createElement("div",{className:"c-tooltip__subtitle"},Wt.rt("Includes {names}",{names:pt})));return t.a.createElement(qe.d,{tip:st},t.a.createElement("div",{className:Object(O.default)("p-quip_presence_facepile__count",{"p-quip_presence_facepile__count--wide":Qe>9}),"data-qa":"quip-presence-facepile-count"},Qe>pa?Wt.t("{count}+",{count:Object(pe.a)(pa)}):Object(pe.a)(Qe)))},"OtherCount");ha.displayName="OtherCount";const Ln=s(_e=>{let{fileId:k,className:ke,maxNumFaces:Re=ya,round:Qe=!0}=_e;const pt=Object(i.d)(st=>Object(Me.b)(st,k));return!pt||!pt.length?null:t.a.createElement("div",{className:Object(O.default)("p-quip_presence_facepile",ke,{"p-quip_presence_facepile--round":Qe})},t.a.createElement(Rn,{memberIds:pt,maxNumFaces:Re,fileId:k}),t.a.createElement(ha,{memberIds:pt,maxNumFaces:Re}))},"QuipPresenceFacepile");Ln.displayName="QuipPresenceFacepile";var Js=Ln,Zs=e("82u4"),Xs=e("E97Y"),jn=e("2VFn"),ps=e("9068");function Ts(_e){const k=Object(i.d)(ke=>_e&&Object(T.e)(ke,_e));return k&&Object(ps.a)(k)&&k.updated&&k.created?k.updated.toString().slice(0,9)!==k.created.toString().slice(0,9):!1}s(Ts,"useHasFileBeenEdited");var Bs=e("F1HR"),Ko=e("D+av"),ko=e("eWGC"),$s=e("uVZW"),bo=e("03PU"),cr=e("N0zA"),Zo=e("b3Gm"),dr=e.n(Zo),mr=e("0PqH"),ur=e("pu3F");const Mo=new j.b("slack-docs"),oo=s(_e=>{let{children:k,fileId:ke}=_e;const Re=Object(m.useDispatch)(),Qe=Object(i.d)(oa=>Object(v.d)(oa,"canvas_user_created_templates",!1)==="on"),pt=Object(i.d)(oa=>Object(T.e)(oa,ke)),st=Object(i.d)(oa=>Object(f.wb)(pt,oa)),yt=Object(i.d)(oa=>Object(mr.a)(oa,pt)),{isOpen:ca,closeCoachmark:Ht,renderCoachmark:Ra}=Object(cr.a)($s.h.USER_CREATED_TEMPLATE_COACHMARK,$s.g.CANVAS_TEMPLATE),Ua=Object(i.d)(E.d)===ur.Y,tn=yt&&!st&&ca&&!Ua;Object(a.useEffect)(()=>{Qe&&tn&&Re(Object(ko.a)({action:$s.f.IMPRESSION,notificationName:$s.h.USER_CREATED_TEMPLATE_COACHMARK}))},[Re,Qe,tn]);const Ha=Object(a.useCallback)(()=>{Ht()},[Ht]);if(!Qe||!tn)return t.a.createElement(t.a.Fragment,null,k);const dn=Ra({arrowPosition:95,className:"p-user_created_template_coachmark",hero:t.a.createElement("div",{className:"p-user_created_template_coachmark__hero"},t.a.createElement("img",{src:dr.a,alt:Mo.t("Guide for converting canvas to template"),className:"p-user_created_template_coachmark__hero__image"})),title:Mo.t("Create custom templates for your team"),bodyText:Mo.t("Now you can make it easy for people to use consistent formats for things like reports, newsletters, or briefs."),primaryCallToActionText:Mo.t("Done"),onClickPrimaryButton:Ha,closeCoachmark:Ha,alignActionsRight:!0,offsetX:-8,isMegaphoneCoachmark:!0});return t.a.createElement(bo.b,{coachmarkElement:dn,orientation:bo.a.BottomLeft,coachmarkAnchorClassNames:"p-user_created_template_coachmark__anchor"},k)},"UserCreatedTemplateCoachmark");oo.displayName="UserCreatedTemplateCoachmark";var Xo=e("Zw6N"),pr=e("SwdH"),hr=e("afXM");const Ho=new j.b("slack-docs"),Co=400,No=function(){var _e=Object(ct.coroutine)(function*(k){let ke=0;return new Ba.a((Re,Qe)=>{k||Qe(new Error("converting a template to a canvas - no editor was passed in"));const pt=setInterval(Object(ct.coroutine)(function*(){(yield Ba.a.all([k==null?void 0:k.getIsDirty(),k==null?void 0:k.getIsPending()])).every(yt=>yt===!1)?(clearInterval(pt),Re(!0)):ke+=1,ke>=Co&&(clearInterval(pt),Qe(new Error("converting a template to a canvas - exceeded max attempts for clean document check")))}),300)})});return s(function(ke){return _e.apply(this,arguments)},"waitTillClean")}(),ro=s(_e=>{let{file:k,innerRef:ke,editor:Re,isCannedTemplate:Qe,setIsTemplateInEditMode:pt,experimentCanvaseTemplatesViewModeGroupOn:st,setIsLoadingUseTemplate:yt}=_e;const ca=Object(m.useDispatch)(),Ht=Object(N.a)(),Ra=Object(pr.a)(),Ua=k==null?void 0:k.id,tn=Object(O.default)("p-quip_flexpane__share_button",{margin_left_50:!Object(f.Wb)(k)}),dn=Object(i.d)(Vt=>Object(v.d)(Vt,"canvas_user_created_templates",!1)==="on")?Ho.t("There was a problem converting the canvas to a template. Try again in a few minutes."):"",oa=Object(a.useCallback)(Object(ct.coroutine)(function*(){yt==null||yt(!0),Ht.track(S.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:S.UiAction.CLICK,ui_step:"use_template_action_items"}},canvas_type:"standalone",canvas_template_type:Qe?"canned":"custom",...Qe&&(k!=null&&k.template_name)?{canvas_template_label:k==null?void 0:k.template_name}:{},file_id:Ua});try{yield No(Re),yield ca(Object(Xo.a)({templateFileId:Ua,isStandaloneCanvas:!0})),pt&&st&&pt(!0)}catch(Vt){Ra.error(new Error(Vt)),ca(Object(ua.a)({element:t.a.createElement(hr.a,{message:dn,icon:"warning"})}))}finally{yt==null||yt(!1)}}),[yt,Ht,Qe,k==null?void 0:k.template_name,Ua,Re,ca,pt,st,Ra,dn]);return t.a.createElement(V.a,{size:"small",onClick:oa,"aria-label":Ho.t("Use template"),className:tn,ref:ke,type:"outline","data-qa":"use_template"},t.a.createElement("span",null,Ho.t("Use template")))},"UseTemplateButton");ro.displayName="UseTemplateButton";var Tr=ro,Vo=e("ME/4"),Go=e("7Tv/");function To(){return To=Object.assign||function(_e){for(var k=1;k<arguments.length;k++){var ke=arguments[k];for(var Re in ke)Object.prototype.hasOwnProperty.call(ke,Re)&&(_e[Re]=ke[Re])}return _e},To.apply(this,arguments)}s(To,"quip_action_items_extends");const ys=new j.b("slack-docs"),Us=310;var Is;(function(_e){_e.VIEW_ONLY="view-only",_e.SHARE="share",_e.OVERFLOW="overflow",_e.COMMENT_STREAM="comment_stream",_e.OPEN_IN_NEW_WINDOW="open-in-new-window",_e.USE_TEMPLATE="use-template",_e.EDIT_TEMPLATE="edit-template"})(Is||(Is={}));const yo=s(_e=>{let{fileId:k,fromPrimaryView:ke,shouldTruncate:Re,onCommentStreamClick:Qe,onEditTemplate:pt,isTemplateInEditMode:st,setIsTemplateInEditMode:yt,columnWidth:ca,docEmbed:Ht,lastReadTs:Ra,setIsLoadingUseTemplate:Ua,titleRef:tn}=_e;const Ha=Object(m.useDispatch)(),dn=Object(a.useCallback)(()=>Ha(Object(I.b)({fileId:k,isStackable:!0})),[Ha,k]),oa=Object(i.d)(Nt=>Object(T.e)(Nt,k)),Vt=Object(i.d)(Nt=>Object(f.wb)(oa,Nt)),sn=Object(i.d)(Nt=>Object(f.vb)(oa,Nt)),{isChannelSpace:Xn,spaceIsEmpty:Sn}=Object(G.a)({fileId:k}),[qs,_s]=Object(a.useState)(!1),Fs=Object(N.a)(),Gn=Object(i.d)(Le.a),eo=Object(i.d)(rt.o),wn=Object(i.d)(g.m),xn=Object(i.d)(Nt=>Object(v.d)(Nt,"channel_canvas_updates_m2")==="on"||Object(v.d)(Nt,"channel_canvas_highlights_badging")==="on"),hs=Object(i.d)(Nt=>Object(v.d)(Nt,"canvas_header_image")==="on"),Qa=Object(i.d)(Nt=>Object(v.d)(Nt,"canvas_collection_prototype")==="on"),Kn=Object(i.d)(Nt=>Object(v.d)(Nt,"canvas_printing")==="on"),zn=Object(i.d)(Nt=>Object(un.b)(Nt,k)),On=Object(i.d)(Fn.a),{windowId:kn,activeTab:Ws,closeView:as}=Object(a.useContext)(nn.a),ns=Object(y.b)(kn.toString()),js=Object(i.d)(A.g),vs=Object(Y.G)(js),io=Object(i.d)(E.i),Ks=oa==null?void 0:oa.user_team,Ss=Object(i.d)(Nt=>Ks?Object(A.s)(Nt,Ks):null);var ss;const os=((ss=Object(Y.k)(Ss??void 0))!==null&&ss!==void 0?ss:Ks)!==io,{isChildWindow:Ja,container:Bn}=Object(a.useContext)(nn.a),{window:lo}=Object(a.useContext)(Ze.a),pn=Object(a.useRef)(null);let rs=Is.SHARE,Hn;Object(a.useEffect)(()=>{if(qs)return;let Nt=!0;return Ha(Object(Pa.d)({fileId:k,reason:"quip-action-item-file"})).finally(()=>{Nt&&_s(!0)}),()=>{Nt=!1}},[qs,k,Ha]),Object(a.useEffect)(()=>{Qa&&Ha(Object(Ko.a)())},[Ha,Qa]);const co=vs&&ke,mo=oa&&!!oa.access&&!Object(f.Wb)(oa),to=s(()=>oa&&Vt&&!vs&&!os,"shouldShowUseTemplateButton");mo?rs=Is.VIEW_ONLY:to()&&(rs=Is.USE_TEMPLATE);const Do=Object(i.d)(Nt=>Object(f.X)(oa).filter(fs=>{const As=Object(ne.d)(Nt,fs);return Object(Xs.k)(As)}).length>0),Ro=s(()=>{if(co)return null;const fs=!Object(f.C)(oa).filter(As=>As.user_id!==oa.user).length&&!Object(f.Y)(oa).length&&!Do&&!Object(f.gb)(oa)&&!Object(f.Ab)(oa);return t.a.createElement(V.f,{size:"small",onClick:dn,"aria-label":ys.t("Share"),className:"p-quip_flexpane__share_button","aria-description":fs?ys.t("Private to only you"):null,ref:rs===Is.SHARE?pn:null,type:"outline","data-qa":"share_file"},fs&&t.a.createElement(l.a,{name:"lock",size:"16",inline:!0}),t.a.createElement("span",{className:Object(O.default)({margin_left_25:fs})},ys.t("Share")))},"renderSharePrimaryButton");Ro.displayName="renderSharePrimaryButton";const uo=s(()=>{const Nt=Object(f.Wb)(oa);return!wn||st||!to()||!Nt?null:t.a.createElement(V.f,{size:"small",onClick:pt,"aria-label":ys.t("Edit template"),className:"p-quip_flexpane__share_button",ref:rs===Is.EDIT_TEMPLATE?pn:null,type:"outline","data-qa":"edit_template"},t.a.createElement("span",null,ys.t("Edit template")))},"renderEditTemplateButton");uo.displayName="renderEditTemplateButton";const ao=s(()=>!mo||to()?null:t.a.createElement(ta,{fileId:k,className:"margin_right_50 margin_left_50",ref:rs===Is.VIEW_ONLY?pn:null}),"renderViewOnlyButton");ao.displayName="renderViewOnlyButton";const Io=s(()=>t.a.createElement(Js,{className:"margin_right_75",fileId:k}),"renderPresence");Io.displayName="renderPresence";const po=Ts(k),va=s(()=>sn||!po||co?null:t.a.createElement(Zs.a,{fileId:k,className:"margin_right_125"}),"renderLastUpdatedText");va.displayName="renderLastUpdatedText";const ks=s(()=>{const Nt=!!ao();return!xn||!Xn||Nt||Sn||ns?null:t.a.createElement(Zs.a,{className:"p-quip_flexpane__channel_canvas_last_updated",fileId:k,showEditors:!!ca&&ca>Us,editorAvatarSize:16,shouldTruncate:!0,shouldOpenVersionHistory:!0,onlyShowIfRecent:!0})},"renderChannelCanvasLastUpdated");ks.displayName="renderChannelCanvasLastUpdated";const _o=Object(a.useCallback)(()=>{Fs.track(S.EventId.QUIP_DOC_OPEN,{contexts:{ui_context:{ui_properties:{element_name:"popout_window"},ui_component_name:S.UiComponentName.QUIP_NEW_WINDOW_EMBED,ui_step:S.UiStep.QUIP_OPEN_STEP},core:{quip_file_id:k,file_id:k}}})},[k,Fs]),Ps=s(()=>!Gn||!Object(Le.b)()?null:!eo||Ja&&!ns||Xn?!1:t.a.createElement(J.a,{view:Object(_.h)({id:k}),containerOrigin:"primary",onOpen:_o,size:"small"}),"renderOpenInNewWindowButton");Ps.displayName="renderOpenInNewWindowButton";const Hs=Object(a.useCallback)(()=>{as&&as()},[as]),Lo=s(()=>{const Nt=ys.t("Close",{fallbackHash:"a61d76800617da013fea727ad237bb7942e1601c",fallbackHashNs:"view-header"});return as&&Bn===jn.h.Primary&&Ws===jn.d.Search?t.a.createElement(qe.d,{tip:Nt,position:"bottom-right",delay:qe.a,hideFromScreenReader:!0},t.a.createElement(xt.a,{onClick:Hs,"aria-label":Nt},t.a.createElement(l.a,{name:"close",size:"18"}))):null},"renderCloseViewButton");Lo.displayName="renderCloseViewButton";const Vs=s(()=>{if(!Qa||Bn===jn.h.Secondary)return null;const Nt=zn?ys.t("Unstar canvas",{fallbackHash:"93e94f724aa0b422a907e5fb9bebd8af63552e18"}):ys.t("Add to starred",{fallbackHash:"cb10094b81decc742ca8ff781bba6eccf7dc607e"}),fs=zn?()=>{Ha(Object(ce.c)({fileId:k})),Ha(Object(ze.a)({fileId:k,userId:On}))}:()=>{Ha(Object(ce.b)({fileId:k})),Ha(Object(Un.a)({fileId:k,userId:On}))},As=zn?t.a.createElement(l.a,{name:"star",size:"18",variation:"filled",color:"#F2C744"}):t.a.createElement(l.a,{name:"star",size:"18"});return t.a.createElement(qe.d,{tip:Nt,position:"bottom-right"},t.a.createElement(xt.a,{size:"small","aria-label":Nt,"data-qa":"quip-overflow-menu",onClick:fs},As))},"renderFavoriteCanvasButton");Vs.displayName="renderFavoriteCanvasButton";const xo=Object(Bs.g)(),Gs=s(()=>{hs&&Ht!=null&&Ht.docEditor&&Object(Bs.c)(Ht.docEditor,xo,Bs.a.CANVAS_OVERFLOW_MENU)},"onAddHeaderImage"),jo=s(()=>{var Nt;hs&&(Ht==null||(Nt=Ht.docEditor)===null||Nt===void 0||Nt.openHeaderImagePicker())},"onReplaceHeaderImage"),ho=s(()=>{hs&&Ht!=null&&Ht.docEditor&&Object(Bs.f)(Ht.docEditor,Bs.a.CANVAS_OVERFLOW_MENU)},"onRemoveHeaderImage"),vo=s(()=>{var Nt;hs&&(Ht==null||(Nt=Ht.docEditor)===null||Nt===void 0||Nt.repositionHeaderImage())},"onRepositionHeaderImage"),[fo,go]=Object(a.useState)(!1);Object(a.useEffect)(()=>{!fo||!Kn||!Ht||(Ha(Object(Vo.a)({docEmbed:Ht,window:lo})),go(!1))},[fo,Kn,Ha,Ht,lo]);const no=Object(a.useCallback)(()=>{go(!0),Fs.track(S.EventId.CANVAS_PRINTING,{contexts:{ui_context:{action:S.UiAction.CLICK,ui_step:"print_canvas"}},file_id:k})},[Fs,k]);if(Object(r.e)(oa)||!Object(f.Yb)(oa))return null;const ws={onCommentStreamClick:Qe,onAddHeaderImage:Gs,onRemoveHeaderImage:ho,onReplaceHeaderImage:jo,onRepositionHeaderImage:vo,onPrint:no,lastReadTs:Ra,docEmbed:Ht};return ke&&(ws.fromPrimaryView=ke),Xn?Hn=t.a.createElement(t.a.Fragment,null,ks(),ao(),Vs(),t.a.createElement(K,To({fileId:k},ws,{triggerClassName:"p-quip_flexpane__menu_trigger"}))):(Hn=t.a.createElement(t.a.Fragment,null,va(),Io(),ao(),to()&&t.a.createElement(Tr,{file:oa,editor:Ht==null?void 0:Ht.docEditor,isCannedTemplate:sn,setIsTemplateInEditMode:yt,experimentCanvaseTemplatesViewModeGroupOn:wn,innerRef:rs===Is.USE_TEMPLATE?pn:null,setIsLoadingUseTemplate:Ua}),Ro(),uo(),Vs(),Ps(),t.a.createElement(oo,{fileId:k},t.a.createElement(K,To({fileId:k},ws,{triggerClassName:"p-quip_flexpane__menu_trigger"}))),Lo()),Re&&(ws.truncatedActions={onShare:dn,hasAccessIndicator:!!ao()},Hn=t.a.createElement(t.a.Fragment,null,t.a.createElement(oo,{fileId:k},t.a.createElement(K,To({fileId:k},ws,{triggerClassName:"p-quip_flexpane__menu_trigger"}))),Ps()))),t.a.createElement("div",{className:Object(O.default)("p-quip_flexpane__action_items",{"p-quip_flexpane__action_items--max-width":xn&&(!ca||ca>Us),"p-quip_flexpane__action_items--smaller-max-width":xn&&ca&&ca<=Us}),ref:tn},Hn)},"QuipActionItems");yo.displayName="QuipActionItems";var yr=p.a=Object(C.a)(yo)},j0Mw:function(w,p,e){"use strict";e.d(p,"a",function(){return v});var a=e("mQiU"),t=e("mLC8"),m=e("QKxg"),O=e("q1tI"),i=e.n(O);function v(T){let{visible:I,upToDate:r,remove:E,viewName:y,requiredSync:f}=T;const{activeTab:l,view:g,navigationTraceId:j}=Object(O.useContext)(a.a),_=g==null?void 0:g.viewType;return!l||!_||!j?null:i.a.createElement(m.a,{label:t.a.Navigation,id:j,visible:I,upToDate:r,remove:E,viewName:y,requiredSync:f})}s(v,"TraceNavigation")},"jK/K":function(w,p,e){"use strict";e.d(p,"a",function(){return t});var a=e("Kmpi");const t=s(m=>Object(a.b)(m)?m.isStale:!1,"isViewStale")},k7gI:function(w,p,e){"use strict"},lIpX:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("Trx9"),i=e("ktUG"),v=e("zxER"),T=e("swlc"),I=e("CnKg"),r=e("HKlo"),E=e("K5hs"),y=e("kBd7"),f=e("qMw6"),l=e("2IFS"),g=e("tx5B"),j=e("iODX"),_=e("mQiU"),A=e("RVJP"),Y=e("E3dU"),N=e("uSwR"),S=e("Z6bF"),V=e("nNoG"),J=e("Wn1n"),G=e("gfjo"),C=e("Zbwg"),u=e("9rW7"),d=e("HYuG"),h=e("68qM"),D=e("LK2A"),F=e("WEtB"),x=e("3iY/"),te=e("7ibc"),H=e("Zw6N"),X=e("qbnm"),re=e("somW"),je=e("BHdc"),ie=e("D9/R"),ve=e("XsY3"),ne=e("JcUk"),Z=e("AArn"),ae=e("4eGI"),se=e("dmdh"),fe=e("gast"),Ie=e("c+5m"),ye=e("AQdx"),De=e("l1I1");function Ae(){return Ae=Object.assign||function(He){for(var me=1;me<arguments.length;me++){var wt=arguments[me];for(var zt in wt)Object.prototype.hasOwnProperty.call(wt,zt)&&(He[zt]=wt[zt])}return He},Ae.apply(this,arguments)}s(Ae,"_extends");function qe(He){let{entityId:me,transitionFocusTo:wt,hideToolbar:zt,uiComponentName:It,refToForward:_t,getCommentsUiProvider:jt,inFlexpane:nt,versionId:Ea,sequence:dt,isTemplateInEditMode:Je,lastReadTs:we,onQuipRender:ot}=He;const Yt=Object(m.useDispatch)(),Ee=Object(v.d)(te.l),[Dt,St]=Object(a.useState)(null),[W,ee]=Object(a.useState)(!1),[le,We]=Object(a.useState)(!1),[Ze,Pt]=Object(a.useState)(!1),[bt,la]=Object(a.useState)(!0),[Ia,Fa]=Object(a.useState)(!1),[_a,ja]=Object(a.useState)(!1),[Sa,ga]=Object(a.useState)(!1),[Qt,nn]=Object(a.useState)(null),{fileIdOrQuipThreadId:Va}=Object(I.i)(me),{channelId:Ye,isChannelSpace:Jt,isDeletedChannelCanvas:q}=Object(E.a)({fileId:Va}),ma=Object(v.d)(J.a),cn=Object(v.d)(Ke=>Ye?Object(Y.d)(Ke,Ye):Object(C.a)(ma)?Object(Y.d)(Ke,ma):null),Ga=Object(S.a)(cn),wa=Ga==null?void 0:Ga.fileId,{channelCanvasHasContent:At,isLoaded:qa}=Object(F.a)({channelId:Ye}),Nn=Object(a.useContext)(Z.a),fn=Object(ae.a)(Qt==null?void 0:Qt.textSectionOverlayShowing),ka=Object(v.d)(Ke=>Object(se.e)(Ke,Va)),za=Object(v.d)(fe.a),[In,Xa]=Object(a.useState)(null),[Ya,Oa]=Object(a.useState)(null),Os=s(Ke=>Object.values(x.a).includes(Ke),"isCannedTemplateTriggerType");Object(a.useEffect)(()=>{typeof fn=="boolean"&&la(fn)},[fn]),Object(ve.a)(Qt,()=>{Qt&&(At&&ee(!0),Pt(!0))}),Object(a.useEffect)(()=>{Jt&&!At&&Ze&&!W&&(Qt==null||Qt.docEditor.focusEditor(),ee(!0))},[Jt,Nn,At,Ze,W,Qt]),Object(a.useEffect)(()=>{(q||qa&&At||In)&&St(null)},[qa,At,q,In]);const Dn=Object(a.useCallback)(Ke=>{if(Ee&&Ye){Ke==null||Ke.focusEditor();const at=Object(ne.a)(Ye);Ke==null||Ke.insertSlackObject(at)}},[Ye,Ee]),bn=Object(a.useCallback)((Ke,at,ua)=>{const Pa=Ke==null?void 0:Ke.docEditor;let Ba=at;Ee&&at==="smart-cards"&&(Ba=D.TemplateTriggerType.BLANK_PAGE),Pa==null||Pa.insertContentFromTemplate(Ba,ua),wt({focusKey:r.c.QUIP_EMBED,forceFocus:!0}),Ee&&at==="smart-cards"&&Dn(Pa)},[wt,Dn,Ee]),_n=Object(a.useCallback)((Ke,at)=>{if(Ke===D.TemplateTriggerType.BLANK_PAGE&&We(!0),Os(Ke)){const ua=za.find(Pa=>Pa.template_name===Ke);if(ua){if(Fa(!0),ja(!0),!wa||Object(De.b)(wa)){Oa({templateTriggerType:Ke,templateTriggerOptions:at});return}Yt(Object(H.a)({templateFileId:ua.id,targetFileId:wa,isStandaloneCanvas:!1})).finally(()=>{ja(!1)})}}else Qt?bn(Qt,Ke,at):St({templateTriggerType:Ke,templateTriggerOptions:at});Ye&&(Yt(Object(ie.b)({channelId:Ye,template:Ke})),la(!1))},[Ye,Yt,Qt,za,bn,wa]),mn=Object(a.useCallback)(()=>{Xa(ka),ja(!0),Ye&&(Yt(Object(ie.b)({channelId:Ye,template:Ie.b.USER_CREATED})),ja(!1),la(!1))},[Ye,Yt,ka]),un=Object(a.useCallback)(Ke=>{ot&&ot(Ke),nn(Ke),Dt&&bn(Ke,Dt.templateTriggerType,Dt.templateTriggerOptions)},[bn,Dt,ot]),Un=Sa&&Jt&&W&&bt&&!le&&!_a&&!Ia;Object(a.useEffect)(()=>{Sa&&!bt&&le&&We(!1)},[Sa,le,bt]),Object(a.useEffect)(()=>{!bt&&Ia&&Fa(!1)},[bt,Ia]),Object(h.a)(()=>{ga(Jt&&!At)},[]),Object(a.useEffect)(()=>{wa&&!Object(De.b)(wa)&&Ya&&(_n(Ya.templateTriggerType,Ya.templateTriggerOptions),Oa(null))},[wa,_n,Ya]);const{sectionIndex:ze,enableSectionNavigation:ce}=Object(d.c)(d.b.EmptyCanvasTemplateOptions,!!nt),Le=Object(a.useMemo)(()=>{if(Un)return t.a.createElement(re.a,{id:d.a.EmptyCanvasTemplateOptions,index:ze,enableSectionNavigation:ce},t.a.createElement(x.b,{onTemplateSelection:_n,channel:cn,fileId:Va,isStandaloneCanvas:!1,onTemplateFromGallerySelection:mn,docEmbed:Qt}))},[cn,Va,mn,_n,Un,ce,ze,Qt]);return t.a.createElement(t.a.Fragment,null,Le,_a&&t.a.createElement(ye.a,null),!_a&&t.a.createElement("div",{className:Object(je.default)("p-quip_embed_channel_canvas",{"p-quip_embed_channel_canvas--hidden-embedded-border":Ee})},t.a.createElement(O.a,{uiComponentName:It},t.a.createElement(X.a,{ref:_t,entityId:me,hideToolbar:zt,getCommentsUiProvider:jt,onQuipRender:un,inFlexpane:nt,versionId:Ea,sequence:dt,isFromTypeToStartTemplateOverlayState:Sa,isTemplateOverlayShowing:Un,isTemplateInEditMode:Je,lastReadTs:we}))))}s(qe,"QuipEmbedChannelCanvas"),qe.displayName="QuipEmbedChannelCanvas";var Et=Object(y.a)(t.a.forwardRef((He,me)=>t.a.createElement(qe,Ae({refToForward:me},He)))),Ne=e("zP2k"),tt=e("LDoU"),ta=e("u+Mq"),ct=e("rq2v"),kt=e("uVZW");const xt=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"7njD")));var Bt={spaceName:kt.g.CHANNEL_CANVAS_FOOTER,notifications:{[kt.h.CHANNEL_CANVAS_NUX_FREEMIUM_BANNER]:{component:xt}}},Zt=e("2VFn"),Ut=e("b7PF"),Da=e("rZ8V"),ia=e("X1Cl");function da(){return da=Object.assign||function(He){for(var me=1;me<arguments.length;me++){var wt=arguments[me];for(var zt in wt)Object.prototype.hasOwnProperty.call(wt,zt)&&(He[zt]=wt[zt])}return He},da.apply(this,arguments)}s(da,"quip_channel_canvas_view_extends");const Xt=new V.b("slack-docs"),Ka=425,aa={display:"contents"},vt=s(He=>{let{id:me,isTile:wt,transitionFocusTo:zt,columnWidth:It,lastReadTs:_t}=He;const jt=Object(a.useRef)(null),[nt,Ea]=Object(a.useState)(null),dt=Object(m.useDispatch)(),[Je,we]=Object(a.useState)(!1),{fileIdOrQuipThreadId:ot}=Object(I.i)(me),Yt=Object(I.h)({id:ot}),Ee=Object(v.d)(At=>Object(A.d)(At,"canvas_new_edits_pill")==="on"),Dt=Object(v.d)(At=>Object(A.d)(At,"canvas_header_image")==="on"),St=Object(v.d)(Da.o),W=Object(T.a)(me),{isChannelSpace:ee,channelId:le}=Object(E.a)({fileId:ot}),{windowId:We,getSiblingView:Ze}=Object(a.useContext)(_.a),Pt=Object(v.d)(J.a),bt=Object(v.d)(At=>{var qa;return(qa=Ze(At,{container:Zt.h.Primary}))===null||qa===void 0?void 0:qa.id}),la=St?bt:Pt,Ia=Object(v.d)(At=>le?Object(Y.d)(At,le):Object(C.a)(la)?Object(Y.d)(At,la):null),Fa=Object(S.a)(Ia),{isLinkedCanvasDeleted:_a}=Fa,ja=ee||_a,Sa=le?Object(N.a)(le,We):void 0,{enableSectionNavigation:ga,sectionIndex:Qt}=Object(d.c)(d.b.Header,!0),{sectionIndex:nn}=Object(d.c)(d.b.Banner,!0),Va=Object(a.useCallback)(At=>new Ne.a({...At,shouldIncludeBack:!0}),[]),Ye=Object(a.useCallback)(()=>dt(Object(ta.b)({uiState:{reason:tt.a.ShowDocFlexpane},params:{entityId:Yt}})),[dt,Yt]);if(!ja)return null;const Jt=s(()=>le?t.a.createElement(Ut.a,{channelId:le}):null,"renderSubtitle");Jt.displayName="renderSubtitle";const q=Object(G.a)(),ma=s(()=>t.a.createElement("div",{className:"p-quip_flexpane--quip_canvas_sideview__body"},_a?t.a.createElement(O.a,{uiComponentName:i.UiComponentName.QUIP_HARD_DELETED_CHANNEL_CANVAS},t.a.createElement(u.a,{file:q,isChannelLinkedCanvasDeleted:_a})):t.a.createElement(Et,{entityId:me,hideToolbar:!Je,uiComponentName:wt?i.UiComponentName.QUIP_TILE_EMBED:i.UiComponentName.QUIP_FLEXPANE_EMBED,onQuipRender:Ee||Dt?At=>Ea(At):void 0,getCommentsUiProvider:Va,inFlexpane:!0,lastReadTs:_t})),"renderBody");ma.displayName="renderBody";const cn=s(()=>t.a.createElement(j.a,{id:me,shouldTruncate:!!It&&It<Ka,columnWidth:It,docEmbed:Ee||Dt?nt:void 0,lastReadTs:_t}),"renderActionIcons");cn.displayName="renderActionIcons";const Ga={quipEntityId:Yt,viewIdForTileContents:f.a.DOCS,viewParamsForTileContents:{quipDocId:Yt},afterFlexpaneClosed:()=>{var At;(At=jt.current)===null||At===void 0||At.track({action:i.UiAction.CLICK}),zt({focusKey:r.c.MESSAGE_PANE_MESSAGE_INPUT,forceFocus:!0})},sectionNavigationProps:{id:"QuipHeaderView",index:Qt,enableSectionNavigation:ga}},wa=t.a.createElement(re.a,{id:d.a.Footer,index:nn,enableSectionNavigation:!0},t.a.createElement(ct.c,da({},Bt)));return t.a.createElement("div",{style:aa,onFocus:()=>we(!0),onBlur:()=>we(!1)},t.a.createElement(O.a,{eventId:i.EventId.QUIP_CHANNEL_SPACE_CLOSE,clogImpression:!1,channelId:le||"",trackClogRef:At=>{jt.current={track:At}}},t.a.createElement(g.a,{id:Sa,focusKey:r.c.QUIP_DOCS,dataQa:"quip_flexpane",className:"p-quip_flexpane p-quip_flexpane--quip_canvas_sideview","aria-label":`${W}, ${Xt.t("Channel canvas")}`,bodyContent:ma(),titleContent:Xt.t("Canvas"),footerContent:wa,footerClassName:"p-quip_flexpane__megaphone_footer",additionalButtonsContent:cn(),viewId:f.a.DOCS,subtitleContent:Jt(),headerProps:Ga,focus:Ye,footerTabIndex:0})))},"QuipFlexpane");vt.displayName="QuipFlexpane";var Ge=p.a=Object(y.a)(Object(l.b)(vt))},mpbA:function(w,p,e){"use strict";e.d(p,"a",function(){return v});var a=e("SQ0V"),t=e("Yi49"),m=e("8gAR"),O=e("3bak"),i=e("u2ZK");const v=Object(a.c)("Fetches the details of the pending shared channel invite",(T,I,r)=>T(Object(i.a)(r)).then(E=>{var y;const f=E.invite,{channel:l,inviting_user:g,inviting_team:j}=f,_=(y=f.visibility)===null||y===void 0?void 0:y.team;if(_&&_.id!==f.inviting_team.id){const A={id:_.id,name:_.name,enterprise_id:f.inviting_team.id};T(Object(t.a)({team:A,isExternal:!0}))}return T(Object(m.a)({channels:[l]})),T(Object(O.a)({members:[g]})),T(Object(t.a)({team:j,isExternal:!0})),E}));v.meta={name:"createThunk",key:"createThunkgetSharedInviteInfo",description:"Fetches the details of the pending shared channel invite"}},nMOw:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-de-DE-02c7477.gif"},nZ5K:function(w,p,e){"use strict";e.r(p),e.d(p,"BaseThreeDaysLeftTrialBanner",function(){return G});var a=e("q1tI"),t=e.n(a),m=e("Cfcg"),O=e("ifKl"),i=e("nNoG"),v=e("ktUG"),T=e("G0eX"),I=e("beVI"),r=e("ohbk"),E=e("uVZW"),y=e("/0Xg"),f=e("TiPP"),l=e("Trx9"),g=e("Sid4"),j=e("vDCl"),_=e("I0j/"),A=e("37+L"),Y=e("BfA7"),N=e("UmHn"),S=e("JSZ7");const V=new i.b("trial_expiration_banners"),J={notification:E.h.TRIAL_THREE_DAYS_LEFT};let G=s(class extends a.PureComponent{getButtonProps(){const{isAdmin:h,isTeamOnStandardPlan:D,goToPaidBenefitsPage:F,navigateToPaidBenefitsPage:x,shouldUseNavigate:te,upgradeActionUrl:H}=this.props,X=V.t("Upgrade Now"),re=V.t("Learn More"),je=H,ie=D?void 0:Object(y.u)({planLevel:y.i.plus.id}),ve=O.a,Z=D?te?x:F:O.a,ae={elementName:"upgrade_now"},se={elementName:"find_out_more"},fe=!1,Ie=!0;return h?{primaryCTAText:X,primaryCTAHref:je,onPrimaryCTAClick:ve,primaryCTAClogProps:ae,closeOnPrimaryCTAClick:fe,secondaryCTAText:re,secondaryCTAHref:ie,onSecondaryCTAClick:Z,secondaryCTAClogProps:se,closeOnSecondaryCTAClick:Ie}:{primaryCTAText:re,primaryCTAHref:ie,onPrimaryCTAClick:Z,primaryCTAClogProps:se,closeOnPrimaryCTAClick:Ie,secondaryCTAText:X,secondaryCTAHref:je,onSecondaryCTAClick:ve,secondaryCTAClogProps:ae,closeOnSecondaryCTAClick:fe}}getPropsForPlan(){const{isTeamOnStandardPlan:h,numDaysLeft:D}=this.props;return h?{headingText:D===1?V.t("It\u2019s the last day of your Slack Pro free trial"):V.t("Your trial of Slack Pro ends in {numDaysLeft} days",{numDaysLeft:D}),bodyText:V.t("Add your payment details to keep features like Slack Connect channels, unlimited huddles, and an unlimited message and file history.")}:{headingText:D===1?V.t("It\u2019s the last day of your Slack Business+ free trial"):V.t("Your trial of Slack Business+ ends in {numDaysLeft} days",{numDaysLeft:D}),bodyText:V.t("Add your payment details to keep features like Slack Connect channels, unlimited huddles, SAML-based SSO, and an unlimited message and file history.")}}render(){const{isTeamOnStandardPlan:h}=this.props,{headingText:D,bodyText:F}=this.getPropsForPlan(),{primaryCTAText:x,primaryCTAHref:te,onPrimaryCTAClick:H,primaryCTAClogProps:X,secondaryCTAText:re,closeOnPrimaryCTAClick:je,secondaryCTAHref:ie,onSecondaryCTAClick:ve,secondaryCTAClogProps:ne,closeOnSecondaryCTAClick:Z}=this.getButtonProps();return t.a.createElement(l.a,{clogImpression:!0,eventId:v.EventId.UPGRDEXP_TRIAL,uiComponentName:v.UiComponentName.TRIAL_THREE_DAY_REMINDER_BANNER,uiComponentVariant:h?"standard_trial":"plus_trial"},t.a.createElement(g.b,{headingText:D,iconType:"clock-o",theme:j.b.LIGHT_PURPLE,bodyText:F,primaryCTAText:x,primaryCTAHref:te,primaryCTAClogProps:X,onPrimaryCTAClick:H,secondaryCTAClogProps:ne,closeOnPrimaryCTAClick:je,secondaryCTAText:re,secondaryCTAHref:ie,onSecondaryCTAClick:ve,closeOnSecondaryCTAClick:Z,notificationPrefs:J,bannerContainerClass:"p-trials_notification"}))}},"ThreeDaysLeftTrialBanner");G.displayName="ThreeDaysLeftTrialBanner";const C=s(d=>{const h=Object(I.g)(d),D=Object(T.J)(h);return{isTeamOnStandardPlan:D,upgradeActionUrl:Object(y.x)(d,{action:y.r.CHECKOUT,productLevel:D?y.i.standard.id:y.i.plus.id})}},"mapStateToProps"),u=s(d=>({goToPaidBenefitsPage:()=>d(Object(r.a)({id:f.a})),navigateToPaidBenefitsPage:()=>d(Object(_.a)(Object(A.N)(N.a.PaidBenefits)))}),"mapDispatchToProps");p.default=Object(Y.a)(Object(m.a)(C,u)(G))},o1uv:function(w,p,e){w.exports=e.p+"best-in-class-msg-limit-day-83-banner-illo-light-122bebf.png"},o5x5:function(w,p,e){w.exports=e.p+"animation-hide-51275d8.png"},o9mU:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-en-IN-3551638.gif"},oHyA:function(w,p,e){"use strict";e.d(p,"a",function(){return J});var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("YUBf"),i=e("SQ0V"),v=e("3l96"),T=e("eBYm"),I=e("3K9K"),r=e("nNoG"),E=e("Lgge"),y=e("zxER"),f=e("beVI"),l=e("+kJ4"),g=e("3S9f"),j=e("9+Yh"),_=e("rarT"),A=e("i454"),Y=e("EN2b");function N(){return N=Object.assign||function(C){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(C[h]=d[h])}return C},N.apply(this,arguments)}s(N,"_extends");const S=new r.b("shared_workspaces"),V=s(C=>{let{id:u}=C;const d=Object(m.useDispatch)(),h=Object(y.d)(f.g),D=Object(a.useCallback)(()=>{d(Object(l.a)())},[d]),[F,x]=Object(a.useState)([]),[te,H]=Object(a.useState)(!1),[X,re]=Object(a.useState)(null);var je;const ie=(je=u||(h==null?void 0:h.id))!==null&&je!==void 0?je:"",ve=Object(y.d)(ae=>Object(g.a)(ae,ie)),ne=Object(a.useCallback)(()=>{H(!0),re(null),E.a.all(F.map(se=>{var fe,Ie;if(!(se==null||(fe=se.entity)===null||fe===void 0)&&fe.isEmail){var ye;return d(Object(j.a)({reason:"invite-to-shared-workspace",workspaceId:ie,email:se==null||(ye=se.entity)===null||ye===void 0?void 0:ye.id}))}return d(Object(_.a)({reason:"invite-to-shared-workspace",workspaceId:ie,userId:se==null||(Ie=se.entity)===null||Ie===void 0?void 0:Ie.id}))})).then(()=>{d(Object(Y.a)({workspaceId:ie,entities:F}))}).catch(se=>re({name:(se==null?void 0:se.name)||null,method:(se==null?void 0:se.method)||null})).finally(()=>{H(!1)})},[F,d,ie]),Z=Object(a.useCallback)(ae=>{x(ae),X&&F.length>ae.length&&re(null)},[X,F.length]);return ve?t.a.createElement(O.a,{isOpen:!0,centered:!0,showCloseButton:!0,shouldCloseOnOverlayClick:!0,closeModal:D},t.a.createElement(O.i,null,t.a.createElement(O.l,{title:S.t("Add people to this shared workspace")})),t.a.createElement(O.d,null,t.a.createElement(O.e,null,X&&t.a.createElement(A.b,{error:X}),t.a.createElement("div",{className:"padding_top_50 padding_bottom_50"},t.a.createElement(I.a,{selectedEntities:F,onSelectedItemsChange:Z})))),t.a.createElement(O.g,null,t.a.createElement(O.h,null,t.a.createElement(O.c,{type:"outline",onClick:D},S.t("Close")),t.a.createElement(T.a,{type:"primary",onClick:ne,disabled:F.length===0||!!X,loading:te},S.t("Add People To This Workspace"))))):null},"InviteToSharedWorkspaceModal");V.displayName="InviteToSharedWorkspaceModal";const J=Object(i.c)("Opens the Slack Connect Workspace Invite Modal",(C,u,d)=>{C(Object(v.a)({element:t.a.createElement(V,N({},d)),isStackable:!1}))});J.meta={name:"createThunk",key:"createThunkopenInviteToSharedWorkspaceModal",description:"Opens the Slack Connect Workspace Invite Modal"};var G=V},"oe+B":function(w,p,e){"use strict";e.r(p),e.d(p,"BaseMobileAwarenessDmPromo",function(){return te});var a=e("q1tI"),t=e.n(a),m=e("nNoG"),O=e("WIr4"),i=e("Cfcg"),v=e("+tZp"),T=e("qDEp"),I=e("nFQW"),r=e("E3dU"),E=e("xwCZ"),y=e("gVOt"),f=e("XZo2"),l=e("Trx9"),g=e("uVZW"),j=e("eWGC"),_=e("2XL1"),A=e("DEph"),Y=e("z5hj"),N=e("ktUG"),S=e("E97Y"),V=e("kBd7"),J=e("HKlo"),G=e("As5R"),C=e("3l96"),u=e("8Wv3"),d=e("UQe9"),h=e.n(d);const D=new m.b("mobile_awareness_dm_promo"),F={elementName:"submit",action:N.UiAction.OPEN,onClick:{enableClogAction:!0}},x={elementName:"close_x",elementType:N.ElementType.X,action:N.UiAction.CLOSE,onClick:{enableClogAction:!0}};let te=s(class extends a.PureComponent{componentDidUpdate(){if(this.shouldRender()){var ie,ve;this.props.recordMegaphoneEvent(g.f.IMPRESSION),(ie=this.mobileAwarenessDmPromoRef)===null||ie===void 0||(ve=ie.current)===null||ve===void 0||ve.focus()}}componentDidMount(){this.shouldRender()&&this.props.recordMegaphoneEvent(g.f.IMPRESSION)}shouldRender(){const{channelId:ie,channelIsIm:ve,mobileAwarenessDmPromoChannelId:ne}=this.props;return!(!ve||ie!==ne)}openDownloadMobileAppModal(){const{sendFallbackEmail:ie,openModal:ve,dismissPromo:ne}=this.props;ve({element:t.a.createElement(u.a,{eventId:N.EventId.EDUCATION_MOBILE_AWARENESS_DM_PROMO})}),ie({reason:Y.b.TRIGGER_MOBILE_FALLBACK_EMAIL,eventHandler:Y.a.MOBILE_PROMO_FALLBACK_EVENT_HANDLER,subtype:Y.c.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO}),ne()}handleDismiss(){const{recordMegaphoneEvent:ie,dismissPromo:ve,transitionFocusTo:ne}=this.props;ie(g.f.DISMISS),ve(),ne({focusKey:J.c.MESSAGE_PANE_MESSAGE_INPUT})}render(){const{offlineMemberName:ie}=this.props;if(!this.shouldRender())return null;const ve=D.t("Hands holding a mobile phone"),ne=D.t("Stay connected, on the go"),Z=D.rt("It looks like {offlineMemberName} is away right now. Get a ping as soon as they respond \u2014 no matter where you are \u2014 with the Slack mobile app.",{offlineMemberName:ie}),ae=D.t("Get Slack for Mobile");return t.a.createElement(l.a,{eventId:N.EventId.EDUCATION_MOBILE_AWARENESS_DM_PROMO,uiStep:N.UiStep.DOWNLOAD_MOBILE_DM_PROMO,clogImpression:!0},t.a.createElement("div",{className:"p-mobile_awareness_dm_promo","data-qa":"mobile-awareness-dm_promo__banner"},t.a.createElement("img",{alt:ve,src:h.a}),t.a.createElement("div",{className:"p-mobile_awareness_dm_promo__copy"},t.a.createElement("h3",null,ne),t.a.createElement("p",null,Z),t.a.createElement(T.f,{"data-qa":"mobile-awareness-dm__download",onClick:this.openDownloadMobileAppModal,autoClogProps:F,ref:this.mobileAwarenessDmPromoRef},ae),t.a.createElement(G.a,{onSkipAllTips:this.handleDismiss})),t.a.createElement(I.a,{"data-qa":"mobile-awareness-dm__x-dismiss","aria-label":D.t("Close",{fallbackHash:"58c4b41d2ebda1fea125db2cfbbf5c2e1db07152",fallbackHashNs:"download_ssb_banner"}),autoClogProps:x,icon:"times",className:"p-mobile_awareness_dm_promo__close",onClick:this.handleDismiss})))}constructor(ie){super(ie),this.mobileAwarenessDmPromoRef=t.a.createRef(),Object(O.a)(this,["openDownloadMobileAppModal","handleDismiss"])}},"MobileAwarenessDmPromo");te.displayName="MobileAwarenessDmPromo";const H=s((je,ie)=>{let{channelId:ve}=ie;const ne=Object(r.d)(je,ve),Z=Object(y.a)(ne),ae=Object(E.g)(je,Z),se=Object(f.n)(je),fe=Object(v.a)(je,ae),Ie=ne&&Object(S.g)(ne);return{offlineMemberName:fe,mobileAwarenessDmPromoChannelId:se,channelIsIm:Ie}},"mapStateToProps"),X=s(je=>({recordMegaphoneEvent:ie=>je(Object(j.b)({notificationName:g.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO,action:ie})),dismissPromo:()=>je(Object(_.r)("not a channel")),sendFallbackEmail:function(){for(var ie=arguments.length,ve=new Array(ie),ne=0;ne<ie;ne++)ve[ne]=arguments[ne];return je(Object(A.a)(...ve))},openModal:function(){for(var ie=arguments.length,ve=new Array(ie),ne=0;ne<ie;ne++)ve[ne]=arguments[ne];return je(Object(C.a)(...ve))}}),"mapDispatchToProps");var re=p.default=Object(i.a)(H,X)(Object(V.a)(te))},ogsn:function(w,p,e){w.exports=e.p+"success-illustration-5d23825.png"},py4k:function(w,p,e){"use strict";var a=e("1wEm"),t=e("bPB8"),m=e("zmn3"),O=e("CpTu"),i=e("vPIQ"),v=e("qAkX"),T=e("fujP"),I=e("Cfcg"),r=e("G4qV"),E=e("EsgF"),y=e("i5Ig"),f=e("Pw4T"),l=e("s4P+"),g=e("5IZy"),j=e("RVJP"),_=e("XZo2"),A=e("ZqOP"),Y=e("60Ys"),N=e("jB41"),S=e("2XL1"),V=e("3mmX"),J=e("SQ0V"),G=e("RV0M"),C=e("QKJg"),u=e("2VFn");const d=Object(J.c)("clear the highlight timestamp from the redux store",(b,n,o,c)=>{let{channelId:P,container:U}=o;const{container:R,windowId:Q,activeTab:oe,shouldUseNavigate:de}=c(G.a);if(de){if(!P||!R||R!==U)return;Q===u.c?b(Object(C.h)({windowId:u.c,tab:oe,container:R,uiState:{[P]:{highlightTs:null,highlightLazy:null}}})):b(Object(C.h)({windowId:Q,container:R,uiState:{[P]:{highlightTs:null,highlightLazy:null}}}));return}b(Object(S.b)())});d.meta={name:"createThunk",key:"createThunkclearMessagePaneHighlightTs",description:"clear the highlight timestamp from the redux store"};var h=d,D=e("Xf7J"),F=e("NK7x"),x=e("6CnZ"),te=e("S1JE"),H=e("B1/X"),X=e("E3dU"),re=e("UIhb"),je=e("ciPa"),ie=e("9Gfp"),ve=e("Wn1n"),ne=e("JGaU"),Z=e("W/Or"),ae=e("HPAj"),se=e("34VX"),fe=e("I27i"),Ie=e("W29z"),ye=e("zm5I"),De=e("YBS9"),Ae=e("2IFS"),qe=e("+l5E"),Et=e("9068"),Ne=e("ivZv"),tt=e("TA7N"),ta=e("B+uu"),ct=e("XXd4"),kt=e("ISSR"),xt=e("vfvl"),Be=e("Yauy"),Bt=e("y/Pn"),Zt=e("G0eX"),Ut=e("beVI"),Da=e("E97Y");const ia=s((b,n)=>{const o="1612310400";return!!(Object(Be.f)(n)>o&&Object(Bt.a)(n)&&!Object(Da.h)(n)&&!Object(Bt.b)(n)&&!Object(kt.a)(n)&&!Object(xt.a)(n)&&Object(Zt.J)(Object(Ut.g)(b))&&Object(ct.a)(b,n))},"maybeShowUnfurledJoiners");var da=e("BfA7"),Xt=e("fLNI"),Ka=e("ko5w"),aa=e("g05w"),vt=e("pZC0"),Ge=e("j7fZ"),He=e("xcHN"),me=e("mzZe"),wt=e("yxNq"),zt=e("O86Y"),It=e("GlHf"),_t=e("2um6"),jt=e("ZKjC");const nt=Object(jt.b)((b,n)=>{var o,c;return(b==null||(o=b.channelsMeta)===null||o===void 0||(c=o.convertToPrivateChannel)===null||c===void 0?void 0:c[n])||!1});nt.meta={name:"createSelector",key:"createSelectorgetIsChannelConversionInProgress",description:(b,n)=>{var o,c;return(b==null||(o=b.channelsMeta)===null||o===void 0||(c=o.convertToPrivateChannel)===null||c===void 0?void 0:c[n])||!1}};var Ea=e("HJPt");function dt(b){let{state:n,rolledMessages:o,channelId:c,currentUserId:P}=b;const U=Object(i.a)(o,R=>{if(Object(Ne.a)(n,{ts:R.ts,channelId:c})){const Q=Object(qe.n)(R),oe=Q&&Q.hasLink;return!Object(qe.eb)(R,P)&&(Object(qe.Q)(R)||Object(qe.P)(R)||oe)}return!1});return U?U.ts:null}s(dt,"getLatestThreadableMessageTsWithAttachmentOrLink");var Je=e("ccuj");function we(b){let{rolledMessages:n}=b;const o=Object(i.a)(n,c=>!!Object(Je.a)(c));return o?o.ts:null}s(we,"getLatestMessageTsWithThread");function ot(b){let{state:n,rolledMessages:o,channelId:c}=b;const P=Object(i.a)(o,U=>Object(Ne.a)(n,{ts:U.ts,channelId:c}));return P?P.ts:null}s(ot,"getLatestMessageTsEligibleForThread");var Yt=e("USm0");function Ee(b){let{rolledMessages:n,currentUserId:o,teamId:c,experimentRichTextGroupOn:P}=b;const U=Object(i.a)(n,R=>Object(qe.eb)(R,o)||R.subtype?!1:Object(Yt.a)(R,o,[],c,{ignoreAtHereMentions:!0,ignoreHighlightWords:!0,ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0},P));return U?U.ts:null}s(Ee,"getLatestUserMessageTsWithMention");var Dt=e("6Mvn");function St(b){let{state:n,rolledMessages:o,currentUserId:c}=b;const P=Object(i.a)(o,U=>Object(qe.eb)(U,c)||U.subtype?!1:Object(Dt.a)(n,U));return P?P.ts:null}s(St,"getLatestMessageTsEligibleForReaction");var W=e("IaLB"),ee=e("v5z3"),le=e("QbPB"),We=e("9oTK"),Ze=e("FcR8"),Pt=e("oUrV"),bt=e("hjzp"),la=e("Ybt4");const Ia=Object(J.c)("Open doc instead of message pane",function(){var b=Object(We.coroutine)(function*(n,o,c){let{channelId:P}=c;const U=o();Object(la.b)({state:U}).error(new Error("A user attempted to open a document file channel and got redirected"));const R=Object(bt.b)(P);return n(Object(Ze.a)({fileId:R,replaceHistoryState:!0,source:Pt.a.MESSAGE_PANE_REDIRECT}))});return function(n,o,c){return b.apply(this,arguments)}}());Ia.meta={name:"createThunk",key:"createThunkredirectMessagePane",description:"Open doc instead of message pane"};var Fa=Ia,_a=e("qLhO"),ja=e("n0Pp"),Sa=e("ytio"),ga=e("dmdh"),Qt=e("tUtw"),nn=e("4YJR"),Va=e("Muja"),Ye=e("ifKl"),Jt=e("q1tI"),q=e.n(Jt),ma=e("BHdc"),cn=e("mYQK"),Ga=e.n(cn),wa=e("lhZz"),At=e("uVZW");const qa=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"dELU"))),Nn=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"cuvd"))),fn=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"u0ou"))),ka=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"HPr9"))),za=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"J17o"))),In=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"Zi3E"))),Xa=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"oe+B"))),Ya=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"ALk5"))),Oa=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"nZ5K")));var Dn={spaceName:At.g.MESSAGE_PANE,notifications:{[At.h.EDUCATION_TEAM_DISCOUNT]:{component:qa},[At.h.ESC_TRIAL]:{component:Nn},[At.h.JAPAN_SEND_BUTTON]:{component:fn},[At.h.LOCAL_DISCOUNT_AWARENESS]:{component:ka},[At.h.MESSAGE_LIMIT_APPROACHING]:{component:za},[At.h.MESSAGE_LIMIT_JUST_REACHED]:{component:In},[At.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO]:{component:Xa},[At.h.REPACKAGING_ANNOUNCEMENT_BANNER]:{component:Ya},[At.h.TRIAL_THREE_DAYS_LEFT]:{component:Oa}}};const bn=q.a.lazy(()=>Promise.resolve().then(e.bind(null,"Y40X")));var _n={spaceName:At.g.WELCOME_SPACE,notifications:{[At.h.IA4_NFX_EDUCATION]:{component:bn}}},mn=e("DmfU"),un=e("tstp"),Un=e("SpyO"),ze=e("rCFu"),ce=e("uKXT"),Le=e("U28S");const Ke=100,at=1e3,ua=300,Pa=1e3,Ba=500,Mt=60;let $t=s(class{isEnabled(){return this.isEnabledForClientStats()||this.isEnabledForPRQMetrics()}rafHandler(){this.isEnabledForClientStats()&&this.rafHandlerForClientStats(),this.isEnabledForPRQMetrics()&&this.rafHandlerForPRQMetrics(),this.isEnabled()&&window.requestAnimationFrame(this.rafHandler)}resetCountersForClientStats(){this.beachballs=0,this.frameRates=[],this.stutters=0,this.lastRafHandlerTimeForClientStats=window.performance.now(),this.fpsIndex=0,this.fpsStartTime=null}rafHandlerForClientStats(){if(!this.isEnabledForClientStats())return;const n=window.performance.now(),o=n-this.lastRafHandlerTimeForClientStats;if(this.lastRafHandlerTimeForClientStats=n,o>at?(this.beachballs+=1,this.beachballsTotal+=1):o>Ke&&(this.stutters+=1,this.stuttersTotal+=1),this.fpsIndex===0&&(this.fpsStartTime=n),this.fpsIndex+=1,this.fpsIndex===ua){const c=(n-this.fpsStartTime)/1e3,P=Math.floor(this.fpsIndex/c);this.fpsIndex=0,this.frameRates.push(P)}}startClientStats(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler),this.enabledForClientStats=!0,this.resetCountersForClientStats()}stopClientStats(){this.enabledForClientStats=!1}storeClientStats(){const n=Object(f.a)();if(n.count("stutters",this.stutters),n.count("beachballs",this.beachballs),!Object(T.a)(this.frameRates)){const o=Object(ce.a)(this.frameRates);let c;const P=this.frameRates.sort(),U=Math.floor(P.length/2);P.length%2===1?c=P[U]:c=(P[U-1]+P[U])/2,n.store("fps_min",o),n.store("fps_median",c)}this.stutters=void 0,this.beachballs=void 0,this.frameRates=void 0}isEnabledForClientStats(){return!!this.enabledForClientStats}getTotalBeachballCount(){return this.beachballsTotal}getTotalStutterCount(){return this.stuttersTotal}resetCountersForPRQMetrics(){this.histJankyWindows={},this.histFrameRenderTime={},this.durationMs=0,this.lastRafHandlerTimeForPRQMetrics=void 0,this.nextJankyWindowSampleIntervalNumber=1,this.framesInPreviousJankyWindowSample=0,this.framesInCurrentJankyWindowSample=0}recordJankyWindows(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(o<1)return;const c=Math.max(Mt-n,0);this.histJankyWindows[c]=(this.histJankyWindows[c]||0)+o}sampleJankyWindows(){const n=Object(Le.d)(this.durationMs,9)>Ba*this.nextJankyWindowSampleIntervalNumber,o=Math.floor(this.durationMs/Ba),c=o-this.nextJankyWindowSampleIntervalNumber;n&&(this.durationMs>=Pa&&(this.recordJankyWindows(0,c-1),this.recordJankyWindows(this.framesInCurrentJankyWindowSample,c>0?1:0),this.recordJankyWindows(this.framesInCurrentJankyWindowSample+this.framesInPreviousJankyWindowSample)),this.nextJankyWindowSampleIntervalNumber=o+1,this.framesInPreviousJankyWindowSample=c>0?0:this.framesInCurrentJankyWindowSample,this.framesInCurrentJankyWindowSample=0),this.framesInCurrentJankyWindowSample+=1}rafHandlerForPRQMetrics(){if(!this.isEnabledForPRQMetrics())return;const n=window.performance.now();if(typeof this.lastRafHandlerTimeForPRQMetrics>"u"){this.lastRafHandlerTimeForPRQMetrics=n;return}const o=n-this.lastRafHandlerTimeForPRQMetrics,c=Object(Le.d)(Math.round(o,0),2);this.histFrameRenderTime[c]=(this.histFrameRenderTime[c]||0)+1,this.lastRafHandlerTimeForPRQMetrics=n,this.durationMs+=o,this.sampleJankyWindows()}startPRQMetrics(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler),this.enabledForPRQMetrics=!0,this.resetCountersForPRQMetrics()}stopPRQMetrics(){this.enabledForPRQMetrics=!1}isEnabledForPRQMetrics(){return!!this.enabledForPRQMetrics}getPRQMetrics(){return{durationMs:Math.round(this.durationMs),histJankyWindows:this.histJankyWindows,histFrameRenderTime:this.histFrameRenderTime}}constructor(){this.enabledForPRQMetrics=!1,this.enabledForClientStats=!1,this.resetCountersForClientStats(),this.resetCountersForPRQMetrics(),this.beachballsTotal=0,this.stuttersTotal=0,this.rafHandler=this.rafHandler.bind(this)}},"ResponsivenessMetrics");$t.instance=null;function Rt(){return $t.instance===null&&($t.instance=new $t),$t.instance}s(Rt,"getDefaultInstance");const Cn=Rt().startClientStats.bind($t.instance),Qn=Rt().stopClientStats.bind($t.instance),gn=Rt().storeClientStats.bind($t.instance),cs=Rt().isEnabledForClientStats.bind($t.instance),Es=Rt().getTotalBeachballCount.bind($t.instance),ds=Rt().getTotalStutterCount.bind($t.instance),bs=Rt().startPRQMetrics.bind($t.instance),es=Rt().stopPRQMetrics.bind($t.instance),Fn=Rt().isEnabledForPRQMetrics.bind($t.instance),Jn=Rt().getPRQMetrics.bind($t.instance);var rn=e("ktUG"),Wn=e("qMw6"),en=e("AkM1"),Zn=e("vJtL"),ms=e("mkut"),Tn=e("F294"),xs=e("OZf9"),us=e("yIs4"),ts=e("NFsq"),Cs=e("Fsnq"),ge=e("RQuH"),be=e("F2y5"),Se=e("h5+L"),he=e("pHS2"),mt=e("ukIz"),rt=e("UXvI"),Ct=e("hbEN"),Tt=e("wd/R"),ft=e.n(Tt),gt=e("oSkh"),na=e("NBUf"),Xe=e("rEgV"),it=e("A/mR"),ut=e("xXOU"),Te=e("mLC8"),qt=e("j0Mw"),z=e("QKxg"),K=e("haNl"),$=e("Lgge"),pe=e("KQ0X"),Ce=e("IsIP"),Pe=e("LpvA"),Me=e("rIJ2"),Lt=e("cqtq"),Wt=e("38Ns"),ya=e("HmUJ"),sa=e("WxSN"),pa=e("nNoG"),Aa=e("/0Xg"),ea=e("Trx9"),ba=e("/qcS"),Rn=e("Tevt");const $a=new pa.b("message_pane_foreword"),ha={onClick:{enableClogAction:!0},elementName:"learn_more",isPrimaryCTA:!0};let Ln=s(class extends Jt.PureComponent{render(){const{clientTheme:n,withBookmarksBar:o}=this.props,c=Object(Aa.u)({entryPoint:"limited_history_alert",feature:Aa.h.UNLIMITED_MESSAGES}),P=Object(ma.default)("p-message_pane__limited_history_alert",{[`p-message_pane__limited_history_alert--${n}`]:n!=="light","p-message_pane__limited_history_alert--with-bookmarks-bar":o});return q.a.createElement(ea.a,{eventId:rn.EventId.GROWTH_PRICING,uiComponentName:rn.UiComponentName.LIMITED_HISTORY_ALERT,clogImpression:!0},q.a.createElement("div",{className:P},q.a.createElement(ba.b,{text:":speech_balloon:",emojiSize:ba.a.MEDIUM,className:"p-message_pane__limited_history_speech_emoji"}),"\xA0",$a.rt("<b>There\u2019s more to this conversation.</b> To see and search this conversation\u2019s full history, upgrade to one of our paid plans."),"\xA0",q.a.createElement(Rn.a,{href:c,target:"_blank",rel:"noopener noreferrer",autoClogProps:ha},$a.t("Learn More"))))}},"LimitedHistoryAlert");Ln.displayName="LimitedHistoryAlert",Ln.defaultProps={clientTheme:"light",withBookmarksBar:!1};var Js=Ln,Zs=e("kumq"),Xs=e("ttFx"),jn=e("8HS2"),ps=e("k1/1"),Ts=e("+RFF"),Bs=e("K7S6"),Ko=e("kBd7"),ko=e("orxu"),$s=e("gz6s"),bo=e("HKlo"),cr=e("j3hA"),Zo=e("I0j/"),dr=e("37+L"),mr=e("lo9x"),ur=e("MoKx"),Mo=e("LvvF");function oo(){return oo=Object.assign||function(b){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(b[c]=o[c])}return b},oo.apply(this,arguments)}s(oo,"_extends");let Xo=s(class extends Jt.Component{markMsgUnread(n){const{channel:o,ts:c}=n;this.props.setUnreadPoint({channelId:o,unreadTs:c})}render(){return q.a.createElement(ur.a,oo({},this.props,{markMsgUnread:this.markMsgUnread}))}constructor(n){super(n),this.markMsgUnread=this.markMsgUnread.bind(this)}},"MessageWrapper");Xo.displayName="MessageWrapper";function pr(b){return{setUnreadPoint:n=>{let{channelId:o,unreadTs:c}=n;return b(Object(H.a)({channelId:o,unreadTs:c}))}}}s(pr,"mapDispatchToProps");function hr(b,n){return{isSenderHidden:Object(Mo.b)(b,n.msg.user)}}s(hr,"mapStateToProps");var Ho=Object(mr.a)(Object(I.a)(hr,pr)(Xo)),Co=e("UnJt"),No=e("JoAr"),ro=e("FWtP"),Tr=e("Yqz7"),Vo=e("kRU7"),Go=e("icpA"),To=e("psHO"),ys=e("6R8Z"),Us=e("c+dP"),Is=e("cVbZ"),yo=e("YUBf"),yr=e("+kJ4");const _e=new pa.b("message-list");let k=s(class extends Jt.Component{onDateChange(n){var o,c,P,U;const R=ft()(n,"YYYY-MM-DD").format("X");(c=(o=this.props).jumpToTimestamp)===null||c===void 0||c.call(o,R),(U=(P=this.props).closeModal)===null||U===void 0||U.call(P)}render(){const n=this.props.channel&&this.props.channel.created?ft()(this.props.channel.created,"X").format("YYYY-MM-DD"):void 0;return q.a.createElement(yo.a,{maxWidth:358,closeModal:this.props.closeModal,contentLabel:_e.t("Jump to a specific date")},q.a.createElement(yo.i,null,q.a.createElement(yo.l,{title:_e.t("Jump to a specific date")})),q.a.createElement(yo.d,{className:"p-jump_to_date_modal__content"},q.a.createElement(Is.a,{key:"date-picker",disableDatesBefore:n,disableDatesAfter:ft()().format("YYYY-MM-DD"),onDateChange:this.onDateChange})))}constructor(n){super(n),this.onDateChange=this.onDateChange.bind(this)}},"JumpToDateModal");k.displayName="JumpToDateModal";const ke=s((b,n)=>{let{channelId:o}=n;return{channel:Object(X.d)(b,o)}},"jump_to_date_modal_mapStateToProps"),Re=s(b=>({closeModal:()=>b(Object(yr.a)())}),"jump_to_date_modal_mapDispatchToProps");var Qe=Object(I.a)(ke,Re)(k),pt=e("3l96"),st=e("ZobM"),yt=e("3kjJ");const ca=new pa.b("message-list"),Ht="MOST_RECENT";function Ra(b){let{dividerDate:n,channelLatestMessageDate:o,channelCreatedDate:c,channelHasYesterday:P}=b;const U=ft()(),R=ft()().subtract(1,"day"),Q=Object(yt.a)(n,R),oe=Object(yt.a)(n,c),de=Object(yt.a)(U,o),Oe=Object(yt.a)(o,R),Ve=ft()().subtract(1,"week").startOf("week"),Gt=ft()().subtract(1,"month").startOf("month"),Ft=ft()(o).isAfter(Ve),Ma=ft()(o).isAfter(Gt);let Na=ca.t("Most recent"),vn=Ht;de&&(Na=ca.t("Today"),vn=ft()().startOf("day").format("X")),Oe&&(vn=ft()().subtract(1,"days").startOf("day").format("X"),Na=ca.t("Yesterday"));const Mn=[];return Mn.push({label:Na,timestamp:vn}),!Q&&!Oe&&P&&Mn.push({label:ca.t("Yesterday"),timestamp:R.startOf("day").format("X")}),Ft&&Mn.push({label:ca.t("Last week"),timestamp:Ve.format("X")}),Ma&&Mn.push({label:ca.t("Last month"),timestamp:Gt.format("X")}),oe||Mn.push({label:ca.t("The very beginning"),timestamp:c.unix().toFixed(6)}),Mn}s(Ra,"dayDividerJumperMenuOptions");function Ua(){return Ua=Object.assign||function(b){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(b[c]=o[c])}return b},Ua.apply(this,arguments)}s(Ua,"day_divider_jumper_extends");const tn=new pa.b("message-list"),Ha=s(b=>{let{date:n,channelId:o,sticky:c=!0,jumpToTimestamp:P=Ye.a,channelCreatedTime:U,latestMessage:R="",hasYesterday:Q,openModal:oe=Ye.a,isDisabled:de}=b;const Oe=s(vn=>{const Mn=Ra({dividerDate:ft()(n),channelLatestMessageDate:ft.a.unix(parseInt(R,10)),channelCreatedDate:ft.a.unix(U),channelHasYesterday:Q}),ln=[q.a.createElement(Us.c,{key:"menu-item-header",label:tn.t("Jump to\u2026")})];return Mn.forEach(Yn=>{ln.push(q.a.createElement(Us.b,{label:Yn.label,onSelected:()=>{P(Yn.timestamp)}}))}),q.a.createElement(Us.f,Ua({},vn),ln,q.a.createElement(Us.d,null),q.a.createElement(Us.b,{label:tn.t("Jump to a specific date"),onSelected:()=>{oe({element:q.a.createElement(Qe,{channelId:o,jumpToTimestamp:P})})}}))},"renderMenu");Oe.displayName="renderMenu";const Ve=n/1e3,Gt=Object(No.a)(Ve,"{day_divider_pretty}"),Ft=Object(ma.default)("c-message_list__day_divider__label","c-message_list__day_divider__label--jump_to_date",{"c-message_list__day_divider__label--non_sticky":!c,"c-message_list__day_divider__label--disabled":de}),Ma=Object(ma.default)("margin_left_25",{display_none:de}),Na=tn.t("Jump to date",{fallbackHash:"288a688737367ddf02810e053e4385e5be1fde70",fallbackHashNs:"classic_nav"});return q.a.createElement("div",{className:Ft,"data-qa":"day-divider-label"},q.a.createElement(Us.e,{position:"bottom-left",renderMenu:Oe,offsetY:5,isDisabled:de},q.a.createElement(ys.a,{className:"c-message_list__day_divider__label__pill","aria-label":Na},Gt,q.a.createElement("span",{className:Ma},q.a.createElement(st.a,{name:"caret-down",inline:!0})))))},"DayDividerJumper");Ha.displayName="DayDividerJumper";const dn=s(b=>({openModal:function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return b(Object(pt.a)(...o))}}),"day_divider_jumper_mapDispatchToProps");var oa=Object(I.a)(null,dn)(Ha),Vt=e("VS5W"),sn=e("KVJU"),Xn=e("Cr5z"),Sn=e("Yv4i"),qs=e("QcWC"),_s=e("9MPI"),Fs=e("c1EY");const Gn=Object(ro.a)(function(b){for(var n=arguments.length,o=new Array(n>1?n-1:0),c=1;c<n;c++)o[c-1]=arguments[c];const P=Object(O.a)(o,R=>R.type==="message"&&(R.ts||"")>b);if(P)return P.ts;const U=Object(i.a)(o,R=>R.type==="message"&&(R.ts||"")<b);return U?U.ts:null},2),eo=ps.b,wn=Ts.a,xn=new pa.b("message-list"),hs=40,Qa=28,Kn="MESSAGE-LIST",zn=24*60*60*1e3,On={ABOVE:1,VISIBLE:2,BELOW:3},kn="0000000000.000001",Ws=s(b=>`${Math.floor(b/1e3)}.000000`,"formatTimestampForRequest"),as=Object(ro.a)(b=>b.reduce((n,o)=>{const{ts:c,type:P}=o;return P!=="message"||!c||(n[c]=!0),n},{}));let ns=s(class extends Pe.a{getInstantSlackChannelPrefs(){const{channelId:n,experimentAdoptionInstantSlackGroupTreatment:o,isInstantSlackInviteeSession:c,instantSlackChannelPrefs:P,fetchAndUpsertInstantSlackChannelPrefThunk:U}=this.props;(o||c)&&!P&&n&&U(n)}componentDidMount(){const{hasKeyboardFocus:n,highlightTs:o,doneHighlighting:c}=this.props;n&&o&&c&&c(),this.getInstantSlackChannelPrefs()}componentDidUpdate(n){const{channelId:o,timestamps:c}=this.props;c!==n.timestamps&&(this.hasYesterday=this.getHasYesterday()),this.keyToScrollTo&&this.list&&(this.list.scrollToKey(this.keyToScrollTo,{lazy:this.lazyScroll}),this.keyToScrollTo=null),this.maybeFocusOnTimestamp(),this.props.focusRequestedTs&&this.props.setFocusRequestedTs&&this.props.setFocusRequestedTs();const P=this.props.isLoading||this.props.isLoadingOlder;Object(Zn.a)(this.onJump)&&!P&&this.props.timestamps&&this.props.timestamps.length&&(this.onJump(),this.onJump=null),!!n.isFileExpanding&&!this.props.isFileExpanding?this.layout.setStickToBottom(!1):this.layout.setStickToBottom(!!(this.props.reachedEnd||this.props.prevReachedEnd)),this.onListScrolled(),o!==n.channelId&&this.props.clearPersistentKeys&&(this.props.clearPersistentKeys(),this.getInstantSlackChannelPrefs()),this.switchingChannels&&o===n.channelId&&(this.switchingChannels=!1)}shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved(){return!this.switchingChannels}getFocusTransitionListeners(n,o){for(var c=arguments.length,P=new Array(c>2?c-2:0),U=2;U<c;U++)P[U-2]=arguments[U];return{[bo.c.MESSAGE_PANE_MESSAGE_LIST]:R=>{const{id:Q}=R||{},{focusNearestSurroundingMessage:oe,focusOnlyIfWasRecentlyFocused:de,ts:Oe,focusHistoryState:Ve,focusLastVisibleMessageInView:Gt,focusMostRecentMessage:Ft}=(R==null?void 0:R.uiState)||{};if(Q!==o)return!1;const Ma=(Ve==null?void 0:Ve.lastFocusTs)||Oe;return!Ma&&!Gt&&!Ft||oe&&!Gn(Ma,...P)||de&&Ma!==n.getInitialActiveItem()?!1:(this.transitionFocusToMessage(R),!0)}}}getListProps(n,o,c,P,U,R,Q,oe,de,Oe,Ve,Gt,Ft,Ma,Na){const vn=this.groupTimestampsByDay(P),Mn=Object(ms.a)(vn).sort(),ln=[],Yn=[],zo=[],Yo=this.findTimestampClosestToStartTs(),Po=U;let Qo=Yo,nr=null;Q&&(Yn.push(kn),ln.push({type:"foreword",ts:kn}),this.shouldShowLimitedHistoryAlert()&&(Yn.push("limited_history"),ln.push({type:"limited_history"})));const Nr=(Object(Tn.a)(P)||"")<=R||Q;return Object(xs.a)(Mn,(sr,Dr)=>{const so=parseInt(sr,10),Cr=vn[sr],Jo=`${sr}.${oe}`,Eo=Nr&&Object(Tn.a)(Cr)===Po;Eo&&(nr=ln.length,c===R&&(Qo=Jo)),ln.push({type:"dayDividerLabel",day:so,showDayDividerAsUnread:Eo}),de&&zo.push({key:Jo,index:Yn.length}),Yn.push(Jo),(Dr>0||Q||Gt)&&(ln.push({type:"dayDivider",day:so,showDayDividerAsUnread:Eo,...Eo&&{firstUnreadTs:Po},channelId:oe}),Yn.push(`${sr}divider`)),!Gt&&!Ft&&Dr===0&&Na&&(Yn.push("loading"),ln.push({type:"loading"}));let or;Object(xs.a)(Cr,(Ao,rr)=>{if(Nr&&rr!==0&&Ao===Po){nr=ln.length;const ni="unreadDivider";Yn.push(ni),ln.push({type:"unread",day:so,firstUnreadTs:Po,channelId:oe}),c===R&&(Qo=Po)}ln.push({type:"message",ts:Ao,previousMessageTs:or,day:{ts:so}}),Yn.push(Ao),or=Ao})}),Q&&c&&c<(Object(Tn.a)(P)||"")&&(Qo=kn),Ma&&!Na&&!Oe&&!Ve&&(Yn.push("loadingSpinner"),ln.push({type:"loadingSpinner"})),{keys:Yn,rows:ln,stickyItems:zo,anchor:Qo,unreadIndex:nr,firstVisibleUnreadTs:Po,startTs:Yo}}getUnrelatedUpdateProps(n,o,c,P,U,R,Q){for(var oe=arguments.length,de=new Array(oe>7?oe-7:0),Oe=7;Oe<oe;Oe++)de[Oe-7]=arguments[Oe];return{firstVisibleUnreadTs:n,isGhostLastRead:o,highlightTs:c,lastTimestamp:Object(v.a)(de),reachedEnd:P,isLimited:U,isSlackbotIm:R,useStickyDayDividers:Q}}transitionFocusToMessage(n){const{isBannerVisible:o}=this.props,{ts:c,focusHistoryState:P,focusLastVisibleMessageInView:U,focusNearestSurroundingMessage:R,focusMostRecentMessage:Q}=(n==null?void 0:n.uiState)||{},oe=(P==null?void 0:P.lastFocusTs)||c;if(Q){this.scrollToMostRecentMessage(!0);return}if(U){this.list.focusLastItemInView(!0);return}if(R){this.list.focusOnKey(Gn(oe,...this.rows));return}const de=o?this.ANCHOR_OFFSET:0;this.jumpToTimestamp({ts:oe,offset:de,onJump:()=>{this.list.setActiveItem(oe),this.list.scrollToKey(oe,{lazy:this.lazyScroll})}})}maybeFocusOnTimestamp(){const{timestampToJumpTo:n}=this.state;if(!n)return;const{channelId:o,latest:c,transitionFocusTo:P}=this.props;let U=!1,R=n===c?n:this.getTimestampOfFirstMessageForDay(`${n*1e3}`);R||(R=`${n*1e3}`,U=!0),P&&P({focusKey:bo.c.MESSAGE_PANE_MESSAGE_LIST,focusMetadata:{id:o,uiState:{ts:R,focusNearestSurroundingMessage:U}}}),this.setState(()=>({timestampToJumpTo:null}))}maybeFocusOnLastVisibleMessage(n){const{focusLastVisibleMessageInChannel:o}=this.props;o&&n.focusLastVisibleMessageInChannel!==o&&(this.list.focusLastItemInView(),this.props.setFocusLastVisibleMessageInChannel(!1))}findTimestampClosestToStartTs(){const{startTs:n,timestamps:o}=this.props;return!o||!o.length?!1:n?Object(O.a)(o,c=>c>=n):null}focus(){this.list.focus()}blur(){this.list.blur()}setListRef(n){this.list=n}jumpToUnread(n){const{lastReadTs:o,firstUnreadTs:c,hasKeyboardFocus:P}=this.props,U=n&&n.type==="keydown"&&P,R=Object(us.a)(this.unreadIndex)&&this.keys[this.unreadIndex];if(R){U?this.list.focusOnKey(c):this.list.scrollToKey(R);return}this.jumpToTimestamp({ts:o||"",onJump:()=>{this.props.hasKeyboardFocus&&this.list.setActiveItem(this.props.firstUnreadTs)}})}jumpToDate(n){const o=n||this.props.latest;this.jumpToTimestamp({ts:o||"",offset:0,onJump:()=>{this.setState(()=>({timestampToJumpTo:o}))}})}isAtBottom(){if(!this.list)return!1;const n=this.list.getScrollTop(),o=this.layout.getTotalHeight(),c=this.height;return n+c>=Math.floor(o)-(this.STICKY_EPSILON||0)}getUnreadLinePlacement(){var n;if(typeof this.unreadIndex!="number")return this.props.latest&&this.props.lastReadTs&&this.props.lastReadTs>this.props.latest?On.BELOW:On.ABOVE;if(!this.list)return On.ABOVE;let o;((n=this.rows[this.unreadIndex])===null||n===void 0?void 0:n.type)==="dayDividerLabel"&&(o=this.list.getScrollTop()-hs/2);const{start:c,end:P}=this.list.getVisibleRange(o);return this.unreadIndex<c?On.ABOVE:this.unreadIndex<P?On.VISIBLE:On.BELOW}getVisibleRows(n){if(!this.list)return[];const{start:o,end:c}=this.list.getVisibleRange(void 0,n);return this.rows.slice(o,c)}getScrollmarkForFocusedItem(n){const o=n===kn?(this.props.timestamps||[])[0]:n;return{mark:n,offset:this.layout.getTop(o)-this.list.getScrollTop()}}getScrollmark(n){let{force:o=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.list||!this.layout)return null;const c=this.state.hasKeyboardFocus?this.list.getActiveItem():this.previouslyActiveItem;if(this.previouslyActiveItem=null,c){const{mark:oe,offset:de}=this.getScrollmarkForFocusedItem(c);return Object(l.a)({teamId:this.props.teamId}).info(Kn,`getScrollmark reason:${n} channelId:${this.props.channelId} state.hasKeyboardFocus:${this.state.hasKeyboardFocus} props.hasKeyboardFocus:${this.props.hasKeyboardFocus} initialActiveItem:${c} mark:${oe} offset:${de}`),{mark:oe,offset:de}}const P=this.list.getScrollTop();if(!o&&this.layout.shouldStickToBottom(P))return Object(l.a)({teamId:this.props.teamId}).info(Kn,`getScrollmark reason:${n} channelId:${this.props.channelId} at end`),null;const U=this.props.timestamps,R=this.layout.findAnchor(U||[],U||[],P+this.ANCHOR_OFFSET),Q=this.layout.getTop(R||"")-P;return Object(l.a)({teamId:this.props.teamId}).info(Kn,`getScrollmark reason:${n} channelId:${this.props.channelId} mark:${R} offset:${Q}`),{mark:R,offset:Q}}getInputFocusKey(){return Object(Ce.d)({focusKey:bo.c.MESSAGE_PANE_MESSAGE_INPUT})}onScroll(){this.useAnchor=!1,this.layout.setAnchor(!1),this.debouncedOnListScrolled(),this.props.onScroll&&this.props.onScroll()}onSelectionChange(n){this.node&&this.setState(()=>({isSelecting:n}))}isFocusableItem(n){const o=this.rows[n.index];return o?!!{message:!0,foreword:!0,dayDividerLabel:!0,unread:!0}[o.type]:!1}onListScrolled(){const n=this.getVisibleRows(!1),o=this.getVisibleRows(!0);Object(Va.a)(n,this.visibleRows)&&Object(Va.a)(o,this.partiallyVisibleRows)||(this.visibleRows=n,this.partiallyVisibleRows=o,this.props.onVisibleRowsChanged&&this.props.onVisibleRowsChanged(n,o))}onShiftPageUp(){const n=this.getTimestampOfPrevDay();if(!n)return;const{hasKeyboardFocus:o}=this.state;if(this.list.isScrolledToTop()&&this.props.reachedStart&&o){this.list.setActiveItem(this.getTimestampOfFirstMessageForDay(n));return}const c=Ws(n),P=this.props.isBannerVisible?this.ANCHOR_OFFSET:Qa;this.jumpToTimestamp({ts:c,offset:P,onJump:()=>{const U=this.getTimestampOfFirstMessageForDay(n);o&&this.list.setActiveItem(U),this.list.scrollToKey(U,{lazy:this.lazyScroll})}})}onShiftPageDown(){const n=this.getTimestampOfNextDay();if(!n)return;const{hasKeyboardFocus:o}=this.state;if(this.list.isScrolledToBottom()&&this.props.reachedEnd&&o){this.list.setActiveItem(this.getTimestampOfFirstMessageForDay(n));return}const c=Ws(n),P=this.props.isBannerVisible?this.ANCHOR_OFFSET:Qa;this.jumpToTimestamp({ts:c,offset:P,onJump:()=>{const U=this.getTimestampOfFirstMessageForDay(n);o&&this.list.setActiveItem(U),this.list.scrollToKey(U,{lazy:this.lazyScroll})}})}onEnd(){const n=this.state.hasKeyboardFocus;return this.scrollToMostRecentMessage(n),!1}onArrowKeyRight(){const{channelId:n,shouldUseNavigate:o,timestamps:c,transitionFocusTo:P,showThreadIfThreadable:U,blurredMessages:R}=this.props;if(!this.state.hasKeyboardFocus)return;const Q=this.list.getActiveItem();if(!(!Q||Object(ts.a)(R,Q)||!Object(ts.a)(c,Q))){if(n&&o){this.props.navigate(Object(dr.gb)({channelId:n,threadTs:Q,replyTs:Q}));return}P({focusKey:bo.c.THREAD_MESSAGE_LIST,focusMetadata:{id:"thread",params:{threadId:n&&Object(sn.a)({channel:n,ts:Q}),replyTs:Q}}}),U==null||U({channelId:n||"",threadTs:Q,highlightTs:Q})}}onItemArrowKeyDown(n){const o=n.id,c=this.rows[this.rows.length-1];if(!(c&&o===c.ts))return;const{transitionFocusTo:P}=this.props,U={focusKey:this.getInputFocusKey()};n.preventDefault(),P&&P(U)}onItemEnterKeyDown(n){let{id:o,target:c}=n;const P=this.keys.indexOf(o),U=this.rows[P];if(!(U&&U.type==="dayDividerLabel"))return;const Q=c.querySelector("button");Q&&(Q.focus(),Q.click())}onItemContextMenu(n,o,c){let{hasKeyboardFocus:P}=c;const{clogger:U}=this.props;Object(Vo.a)(n)&&this.isMessageRow(o)&&(n.preventDefault(),U.track(rn.EventId.MSG_ACTIONS_CONTEXT_MENU,{contexts:{ui_context:{action:rn.UiAction.CONTEXT_MENU,ui_properties:{view_context:Wn.a.MESSAGE_PANE,client_has_keyboard_focus:P}}}}))}onItemFocusEnter(n){let{id:o}=n;this.props.updateFocusHistoryState({lastFocusTs:o})}renderContextMenuForItem(n,o){const{rollups:c,channelId:P,blurredMessages:U}=this.props,R=c?c[n||""]:void 0,{targetBounds:Q,onCloseRequested:oe}=o;return Object(ts.a)(U,n)?(oe(),null):q.a.createElement(Tr.a,{ts:n,channelId:P||"",messageContainerType:Wn.a.MESSAGE_PANE,rollup:R,targetBounds:Q,onCloseRequested:oe})}onItemKeyDown(n){const{key:o}=n;if(o==="ArrowDown"){this.onItemArrowKeyDown(n);return}o==="Enter"&&this.onItemEnterKeyDown(n)}onFocusEnter(n){this.setState(()=>({hasKeyboardFocus:n.isKeyboardFocus}),()=>{this.props.onFocusEnter&&this.props.onFocusEnter(n)})}onFocusLeave(n){this.state.hasKeyboardFocus&&(this.previouslyActiveItem=n.activeItem),this.setState(()=>({hasKeyboardFocus:!1}),()=>{this.props.onFocusLeave&&this.props.onFocusLeave(n)})}onMessageMount(n){Object(K.i)(n)}scrollToMostRecentMessage(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{reachedEnd:o,timestamps:c}=this.props,P=o?(c||[])[(c?c.length:0)-1]:"",U=this.rows,R=U[U.length-1];if((R&&R.type)==="foreword"){var oe;(oe=this.list)===null||oe===void 0||oe.focusLastItemInView();return}this.jumpToTimestamp({ts:P,onJump:()=>{if(!n)return;const de=this.rows,Oe=de[de.length-1];(Oe&&Oe.type)==="message"&&(this.list.setActiveItem(Oe.ts),this.list.scrollToKey(Oe.ts,{lazy:this.lazyScroll}))}})}scrollToOffset(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];this.list&&this.list.scrollToOffset(...o)}shouldShowLimitedHistoryAlert(){const{isLimited:n,isSlackbotIm:o}=this.props;return n&&o}requestHistory(){let{oldest:n,latest:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=this.viewLoadLastChannelId!==this.props.channelId,P=this.props.requestHistory?this.props.requestHistory({oldest:n,latest:o}):$.a.resolve();P&&c&&(this.viewLoadLastChannelId=this.props.channelId,this.viewLoadFetchStatus=ze.b,P.tap(()=>{this.viewLoadFetchStatus=ze.a}).tapCatch(()=>{this.viewLoadFetchStatus=ze.c}))}requestAround(){if(this.state.isLoading)return!1;if(this.props.reachedEnd)return this.requestOlder();if(this.props.reachedStart)return this.requestNewer();Object(l.a)({teamId:this.props.teamId}).info(Kn,`requestAround channelId: ${this.props.channelId} isLoading: ${this.state.isLoading} timestamps: ${Object(Cs.a)(this.props.timestamps)} reachedStart: ${this.props.reachedStart} reachedEnd: ${this.props.reachedEnd}`);const{oldest:n,latest:o,timestamps:c,startTs:P}=this.props;if(Object(T.a)(c)&&!P)return this.requestHistory({});const U=n||c&&Object(Tn.a)(c)||P,R=o||c&&Object(v.a)(c)||P,Q=this.requestHistory({latest:U,oldest:R});return Q&&this.setState(()=>({isLoading:!0,isLoadingOlder:!1})),Q}requestOlder(){if(this.state.isLoading)return!1;const{oldest:n,timestamps:o,startTs:c}=this.props,P=n||o&&Object(Tn.a)(o)||c,U=this.requestHistory({latest:P});return U&&this.setState(()=>({isLoading:!0,isLoadingOlder:!0})),U}requestNewer(){if(this.state.isLoading)return!1;const{latest:n,timestamps:o,startTs:c}=this.props,P=n||o&&Object(v.a)(o)||c,U=this.requestHistory({oldest:P});return U&&this.setState(()=>({isLoading:!0,isLoadingOlder:!1})),U}renderMessage(n,o){let{key:c,hasFocus:P,itemId:U,isInView:R,hasContextMenu:Q}=o;const{ts:oe,previousMessageTs:de}=n;Object(Co.d)(oe||"")&&this.props.closeAndReportNotificationReadSpan({timestamp:oe||""}),Object(Co.d)(oe||"")&&this.props.closeAndReportNotificationReadSpan({timestamp:oe||""});const Oe=Object(v.a)(this.props.timestamps),Ve=!this.props.hasKeyboardFocus&&oe&&oe===this.props.highlightTs,Gt=R&&this.props.hasKeyboardFocus,Ma=oe&&oe===this.props.ariaAnnounceMessageTs&&this.props.makeMessageSummary?this.props.makeMessageSummary({ts:oe,channelId:this.props.channelId,hideTimestamp:!0}):null;if(this.scrollMetricsGatheringEnabled){this.messagesRendered[n.ts||""]=!0;const Na=Object(ms.a)(this.messagesRendered).length;Na%this.loadingHistoriesPerHowManyMessages===0&&this.debounceBatchMessagesSeen(),Na%this.loadingHistoriesPerHowManyMessagesHighEnd===0&&this.debounceBatchMessagesSeenHighEnd()}return q.a.createElement(Xn.a,{listKey:c||"",setPersistentKey:this.props.setPersistentKey},Na=>{let{setRowPersistence:vn}=Na;return q.a.createElement(Ho,{channelId:this.props.channelId,teamId:this.props.teamId,ts:oe,key:oe,prevTs:de,focused:P,renderActionsOffscreen:Gt,theme:this.props.theme,rollup:this.props.rollups?this.props.rollups[oe||""]:void 0,parentId:U,isLast:oe===Oe,showingContextBar:this.props.showingContextBar,highlight:Ve,clearHighlight:this.props.doneHighlighting,ariaAnnounceText:Ma,clearAriaAnnounceMessageTs:this.props.clearAriaAnnounceMessageTs,onMediaPlaybackInProgressChanged:vn,onMount:this.onMessageMount,isInView:R,hasContextMenu:Q,shouldFadeInOnTrialStart:this.props.unlockMessages,onMessageLimitTrialStart:this.props.onMessageLimitTrialStart})})}renderForeword(){const{canPostInChannel:n,isLimited:o,onMessageLimitTrialStart:c,isFloatingTrialStartBannerVisible:P}=this.props;return q.a.createElement(sa.a,{key:"message-list-foreword",channelType:this.props.channelType,channelId:this.props.channelId||"",clientTheme:this.props.clientTheme,isLimited:o,showUnfurledJoiners:this.props.showUnfurledJoiners,canPostInChannel:n,onMessageLimitTrialStart:c,isFloatingTrialStartBannerVisible:P})}renderRow(n){let{key:o,hasFocus:c,itemId:P,isInView:U,hasContextMenu:R}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Q=this.rows[n];if(!Q||!Q.type)return null;switch(Q.type){case"message":return this.renderMessage(Q,{key:o,hasFocus:c,itemId:P,isInView:U,hasContextMenu:R});case"dayDividerLabel":return q.a.createElement(oa,{key:Q.day,date:Q.day,sticky:this.props.useStickyDayDividers,channelId:this.props.channelId,jumpToTimestamp:this.jumpToDate,getTimestampOfFirstMessageForDay:this.getTimestampOfFirstMessageForDay,channelCreatedTime:this.props.channelCreatedTime||0,hasYesterday:this.hasYesterday,latestMessage:this.props.latest,isUnread:Q.showDayDividerAsUnread});case"dayDivider":return q.a.createElement(To.a,{key:Q.day,date:Q.day,isUnread:Q.showDayDividerAsUnread,ghost:this.props.isGhostLastRead,unreadMarkerKey:this.props.channelId,unreadTs:Q==null?void 0:Q.firstUnreadTs,channelId:Q.channelId});case"unread":return q.a.createElement(Go.a,{key:`unread=${this.props.lastReadTs}`,ghost:this.props.isGhostLastRead,unreadMarkerKey:this.props.channelId});case"loading":return this.debounceCountHistoryLoadSeen(),q.a.createElement(jn.a,{channelId:this.props.channelId||""});case"loadingSpinner":return q.a.createElement(Xs.a,null);case"foreword":return this.renderForeword();case"limited_history":var oe;return q.a.createElement(Js,{clientTheme:this.props.clientTheme,withBookmarksBar:(oe=this.props)===null||oe===void 0?void 0:oe.experimentIaBookmarksHideShowGroupTreatment});default:return null}}getAriaLabelForRow(n){let{index:o,includeDate:c}=n;const{channelId:P,makeMessageSummary:U,hasKeyboardFocus:R}=this.props;if(!R||!U)return;const Q=this.rows[o];if(!Q||!Q.type||Q.type!=="message")return;const{ts:oe,previousMessageTs:de,day:Oe}=Q,Ve=this.props.rollups?this.props.rollups[oe]:void 0;return U({channelId:P,ts:oe,previousMessageTs:de,day:Oe,rollup:Ve,viewContext:Wn.a.MESSAGE_PANE,includeDate:c})}isMessageRow(n){return as(this.rows)[n||""]}UNSAFE_componentWillReceiveProps(n){if(n.channelId!==this.props.channelId&&(this.viewLoadFetchStatus=ze.c),this.setState(o=>n.isLoading===o.isLoading&&n.isLoadingOlder===o.isLoadingOlder?null:(Object(l.a)({teamId:this.props.teamId}).info(Kn,`componentWillReceiveProps isLoading: ${n.isLoading} isLoadingOlder: ${n.isLoadingOlder} timestamps: ${Object(Cs.a)(n.timestamps)}`),{isLoading:n.isLoading,isLoadingOlder:n.isLoadingOlder})),n.channelId!==this.props.channelId||n.startTs!==this.props.startTs||n.highlightTs&&n.highlightTs!==this.props.highlightTs||(n.timestamps||[]).length&&!(this.props.timestamps||[]).length){this.useAnchor=!0;const o=n.startTs,c=this.props.timestamps,P=n.timestamps,U=ft.a.unix(this.props.channelCreatedTime||0).unix().toFixed(6);if((Object(ge.a)(o,Object(be.a)(Object(Tn.a)(c)),Object(Se.a)(Object(v.a)(c)))||o===U)&&n.channelId===this.props.channelId){const R=Object(i.a)(P,Q=>Q<=(n.startTs||""));this.keyToScrollTo=R||o,this.lazyScroll=n.highlightLazy,this.useAnchor=!1}}n.channelId!==this.props.channelId&&(this.heightCache&&this.heightCache.invalidate(),this.list&&this.list.resetRendered&&this.list.resetRendered(),Object(l.a)({teamId:this.props.teamId}).info(Kn,`Switching channels: ${n.channelId} timestamps: ${Object(Cs.a)(n.timestamps)}`),this.switchingChannels=!0),n.lastReadTs!==this.props.lastReadTs&&(this.unreadIndex=null)}groupTimestampsByDay(n){return Object(he.a)(n,o=>Object(Wt.a)(o))}getTimestampsForDays(n){return Object(ms.a)(this.groupTimestampsByDay(n)).sort()}getTimestampOfDayClosestToTop(){const{start:n}=this.list.getVisibleRange(),o=this.rows[n];if(o){if(o.type==="dayDivider"||o.type==="dayDividerLabel")return o.day.toString();if(o.type==="message")return o.day.ts.toString()}}getStartTimestampForDayNavigation(){return this.state.hasKeyboardFocus?Object(Wt.a)(this.list.getInitialActiveItem()):this.getTimestampOfDayClosestToTop()}getTimestampOfPrevDay(){const n=this.getStartTimestampForDayNavigation(),o=this.getTimestampOfFirstMessageForDay(n);if(!o||o&&!this.list.isItemInView(o))return n;const c=this.getTimestampsForDays(this.props.timestamps||[]),U=Object(mt.a)(c,n)-1;return c[U]}getTimestampOfNextDay(){const n=this.getStartTimestampForDayNavigation(),o=this.getTimestampsForDays(this.props.timestamps||[]),c=Object(mt.a)(o,n),P=o[c+1];return P||(parseInt(n,10)+zn).toString()}getTimestampOfFirstMessageForDay(n){const o=this.getTimestampsForDays(this.props.timestamps||[]),c=Object(mt.a)(o,n);if(c<0||c===0&&!this.props.reachedStart)return;const U=this.groupTimestampsByDay(this.props.timestamps||[])[n];return U?U[0]:void 0}getHasYesterday(){const{timestamps:n}=this.props;if(!n||n.length===0)return!1;const o=Object(it.r)(Object(v.a)(n),{returnMoment:!0});if(Object(na.a)(o))return!0;if(!Object(Xe.a)(o))return!1;const c=Object(it.r)(Object(Tn.a)(n),{returnMoment:!0});return!Object(Xe.a)(c)}jumpToTimestamp(n){let{ts:o,offset:c,onJump:P}=n;Object(Zn.a)(P)&&(this.onJump=P),this.props.jumpToTimestamp&&this.props.jumpToTimestamp({ts:o,offset:c}),this.props.setFocusRequestedTs&&this.props.setFocusRequestedTs(o)}getSeparatorLabel(n){let{rowType:o,showDayDividerAsUnread:c,date:P}=n;if(o==="unread")return xn.t("Start of unread messages.",{fallbackHash:"12062cb2685ccc8bba0f778ab3ebe9b4db056a5b"});const U=Object(No.a)(P/1e3,"{day_divider_pretty}");return c?xn.t("{date} Start of unread messages. Press enter to select a date to jump to.",{date:U,fallbackHash:"89fbf7e22ea495b603f376338a72541f346409a0"}):xn.t("{date} Press enter to select a date to jump to.",{date:U})}getPropsForItem(n){let{index:o,isInitialFocusInRange:c}=n;const P=this.rows[o],U=P&&P.type;if(!U)return;const R=U==="dayDividerLabel",Q=U==="dayDivider",de=R||U==="unread",Oe=de?this.getSeparatorLabel({rowType:U,showDayDividerAsUnread:P.showDayDividerAsUnread,date:P.day}):this.getAriaLabelForRow({index:o,includeDate:!!c});return{...Q&&{role:"presentation"},...de&&{"aria-roledescription":xn.t("separator")},"aria-label":Oe}}render(){if(this.props.isOffline&&Object(T.a)(this.props.timestamps))return q.a.createElement(Zs.a,null);let n,o,c,P;({keys:this.keys,rows:this.rows,stickyItems:o,anchor:n,unreadIndex:this.unreadIndex,firstVisibleUnreadTs:c,startTs:P}=this.getListProps(!!this.props.isLimited,!!this.props.isSlackbotIm,this.props.startTs||"",this.props.timestamps||[],this.props.firstUnreadTs||"",this.props.lastReadTs||"",!!this.props.reachedStart,this.props.channelId||"",!!this.props.useStickyDayDividers,!!this.props.reachedEnd,!!this.props.prevReachedEnd,this.state.degraded,this.state.isSelecting,!!this.state.isLoading,!!this.state.isLoadingOlder)),this.layout.setAnchor(this.useAnchor&&n,this.useAnchor&&this.props.startTsOffset),!this.useAnchor&&this.keyToScrollTo&&Object(us.a)(this.props.startTsOffset)&&(this.layout.anchorOffset=this.props.startTsOffset);const U=this.props.hasKeyboardFocus?void 0:this.props.highlightTs,R=this.getUnrelatedUpdateProps(c,!!this.props.isGhostLastRead,U||"",!!this.props.reachedEnd,!!this.props.isLimited,!!this.props.isSlackbotIm,!!this.props.useStickyDayDividers,...this.props.timestamps||[]),Q=this.state.degraded?wn:eo,oe=(()=>{if(this.state.isLoading)return null;const Oe=this.rows[this.rows.length-1],Ve=Oe&&Oe.type;return this.props.startTs===kn||P===!1&&Ve==="foreword"?kn:P===null&&Ve==="message"?Oe.ts:c||P||null})(),de=!!this.props.timestamps&&!!this.props.timestamps.length;return q.a.createElement(ko.a,{listeners:this.getFocusTransitionListeners(this.list,this.props.channelId||"",...this.rows)},q.a.createElement(z.a,{label:Te.a.ChannelSwitch,id:Object(pe.a)({teamId:this.props.teamId,channelId:this.props.channelId||""}),visible:de,upToDate:de&&(this.viewLoadFetchStatus!==ze.b||this.viewLoadFetchStatus===ze.a),requiredSync:this.viewLoadFetchStatus===ze.b,viewName:"chat"}),q.a.createElement(qt.a,{visible:de,upToDate:de&&(this.viewLoadFetchStatus!==ze.b||this.viewLoadFetchStatus===ze.a),requiredSync:this.viewLoadFetchStatus===ze.b,viewName:"chat"}),q.a.createElement(gt.a,null,Oe=>{let{width:Ve,height:Gt}=Oe;if(Ve===0||Gt===0){if(this.list){const Na=this.getScrollmark();Na?this.layout.setAnchor(Na.mark,Na.offset):this.layout.setAnchor(null)}return null}Ve!==this.width&&(this.heightCache&&this.heightCache.invalidate(),this.width=Ve),this.height=Gt;const Ft=Object(ma.default)("c-message_list c-message_list--floating",{"c-message_list--context_bar_showing":this.props.showingContextBar,"c-message_list--dark":this.props.clientTheme==="dark"});let Ma=0;return this.props.experimentIaBookmarksHideShowGroupTreatment&&this.props.isBookmarksVisible&&(Ma=cr.a),q.a.createElement(Q,{ref:this.setListRef,className:Ft,id:this.listId,"aria-label":this.props["aria-label"],height:Gt,width:Ve,keys:this.keys,persistentKeys:this.props.persistentKeys,rowRenderer:this.renderRow,layout:this.layout,stickyItems:o,stickyOffsetTop:Ma,stickyOffsetTopAnimated:this.props.experimentIaBookmarksHideShowGroupTreatment,stickyZIndex:199,loadAround:this.requestAround,loadPre:this.requestOlder,loadPost:this.requestNewer,isLoading:this.state.isLoading,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd||this.props.prevReachedEnd,fadeScrollbar:!0,onScroll:this.onScroll,onSelectionChange:this.onSelectionChange,onEnd:this.onEnd,onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave,keyCommands:this.keyCommands,useGlobalKeyboardShortcuts:this.props.useGlobalKeyboardShortcuts,disableKeyboardShortcuts:this.props.overlayIsOpen,isFocusableItem:this.isFocusableItem,unrelatedUpdateProps:R,initialActiveItem:oe,getPropsForItem:this.getPropsForItem,isOffline:this.props.isOffline,onItemKeyDown:this.onItemKeyDown,onItemContextMenu:this.onItemContextMenu,onItemFocusEnter:this.onItemFocusEnter,renderContextMenuForItem:this.renderContextMenuForItem,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved,onOverflow:this.props.onOverflow})}))}constructor(n){super(n);const o=Object(Bs.a)();this.state={degraded:o,isLoading:!!n.isLoading,isLoadingOlder:!!n.isLoadingOlder,isSelecting:!1,hasKeyboardFocus:!1,isFileExpanding:!1,timestampToJumpTo:null};const{ANCHOR_OFFSET:c,STICKY_EPSILON:P,heightCache:U,layout:R}=Object(Vt.a)({clientTheme:n.theme||"",shouldExcludeFirstItemFromGravity:()=>!1,shouldStickToBottom:!!(!n.isFileExpanding||n.reachedEnd||n.prevReachedEnd),shouldUseDegradedList:o});if(this.ANCHOR_OFFSET=c,this.STICKY_EPSILON=P,this.heightCache=U,this.layout=R,this.keys=[],this.rows=[],this.visibleRows=[],this.partiallyVisibleRows=[],this.unreadIndex=null,this.list=null,this.useAnchor=!0,this.keyToScrollTo=null,this.width=0,this.hasRenderedOneMessage=!1,this.hasYesterday=this.getHasYesterday(),this.getListProps=Object(ro.a)(this.getListProps,2),this.getUnrelatedUpdateProps=Object(ro.a)(this.getUnrelatedUpdateProps),this.requestAround=this.requestAround.bind(this),this.requestOlder=this.requestOlder.bind(this),this.requestNewer=this.requestNewer.bind(this),this.requestHistory=this.requestHistory.bind(this),this.renderRow=this.renderRow.bind(this),this.setListRef=this.setListRef.bind(this),this.getAriaLabelForRow=this.getAriaLabelForRow.bind(this),this.getPropsForItem=this.getPropsForItem.bind(this),this.getInputFocusKey=this.getInputFocusKey.bind(this),this.onScroll=this.onScroll.bind(this),this.onListScrolled=this.onListScrolled.bind(this),this.onFocusEnter=this.onFocusEnter.bind(this),this.onFocusLeave=this.onFocusLeave.bind(this),this.onItemKeyDown=this.onItemKeyDown.bind(this),this.onItemFocusEnter=this.onItemFocusEnter.bind(this),this.debouncedOnListScrolled=Object(Lt.a)(this.onListScrolled,150),this.isFocusableItem=this.isFocusableItem.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.focus=this.focus.bind(this),this.transitionFocusToMessage=this.transitionFocusToMessage.bind(this),this.maybeFocusOnTimestamp=this.maybeFocusOnTimestamp.bind(this),this.getFocusTransitionListeners=Object(ro.a)(this.getFocusTransitionListeners.bind(this),2),this.onShiftPageUp=this.onShiftPageUp.bind(this),this.onShiftPageDown=this.onShiftPageDown.bind(this),this.onEnd=this.onEnd.bind(this),this.onArrowKeyRight=this.onArrowKeyRight.bind(this),this.onMessageMount=this.onMessageMount.bind(this),this.jumpToDate=this.jumpToDate.bind(this),this.scrollToOffset=Object(rt.a)(this.scrollToOffset.bind(this),200),this.onItemContextMenu=this.onItemContextMenu.bind(this),this.renderContextMenuForItem=this.renderContextMenuForItem.bind(this),this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved=this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved.bind(this),this.switchingChannels=!1,this.messagesRendered={},this.loadingHistoriesSeen=0,this.loadingHistoriesSeenHighEnd=0,this.loadingHistoriesPerHowManyMessages=84,this.loadingHistoriesPerHowManyMessagesHighEnd=500,this.scrollMetricsGatheringEnabled=Object(Me.a)(1)||this.props.featureTinyspeck,this.scrollMetricsGatheringEnabled){const Q=Object(wa.getStateByTeamId)(n.teamId),oe=Object(f.d)({state:Q});this.debounceBatchMessagesSeen=Object(Ct.a)(()=>{oe.store("modern_history_load_seen_per_84_messages",this.loadingHistoriesSeen,{allow_zero:!0}),this.loadingHistoriesSeen=0},1e3),this.debounceBatchMessagesSeenHighEnd=Object(Ct.a)(()=>{oe.store("modern_history_load_seen_per_500_messages",this.loadingHistoriesSeenHighEnd,{allow_zero:!0}),this.loadingHistoriesSeenHighEnd=0},1e3)}this.keyCommands=[{keys:["shift+pagedown"],handler:this.onShiftPageDown},{keys:["shift+pageup"],handler:this.onShiftPageUp},{keys:["right"],handler:this.onArrowKeyRight}],this.debounceCountHistoryLoadSeen=Object(Ct.a)(()=>{this.loadingHistoriesSeen+=1,this.loadingHistoriesSeenHighEnd+=1},1e3),this.viewLoadFetchStatus=ze.c,this.viewLoadLastChannelId=null}},"MessageList");ns.displayName="MessageList",ns.defaultProps={timestamps:[],requestHistory:()=>$.a.resolve(),isGhostLastRead:!1,setUnreadPoint:Ye.a,isFileExpanding:!1,isLoading:!1,isLoadingOlder:!1,reachedStart:!1,reachedEnd:!1,prevReachedEnd:!1,onScroll:Ye.a,onVisibleRowsChanged:Ye.a,doneHighlighting:Ye.a,clearAriaAnnounceMessageTs:Ye.a,closeAndReportNotificationReadSpan:Ye.a,isLimited:!1,isSlackbotIm:!1,useStickyDayDividers:!0,theme:"light",featureTinyspeck:!1,jumpToTimestamp:Ye.a,isScreenReaderEnabled:!1,onFocusEnter:Ye.a,onFocusLeave:Ye.a,isBannerVisible:!1,setFocusRequestedTs:Ye.a,showThreadIfThreadable:Ye.a,canStartOrOpenThread:Ye.a,telemeter:{store:Ye.a,measure:Ye.a},isOffline:!1,clientTheme:"light",focusLastVisibleMessageInChannel:!1,setFocusLastVisibleMessageInChannel:Ye.a,setFocusMessageInput:Ye.a,showingContextBar:!1,channelCreatedTime:null,hasKeyboardFocus:!1,canPostInChannel:!0,persistentKeys:[],setPersistentKey:Ye.a,clearPersistentKeys:Ye.a,showUnfurledJoiners:!1,overlayIsOpen:!1,useGlobalKeyboardShortcuts:!0,onMessageLimitTrialStart:Ye.a,unlockMessages:!1};const js=s((b,n)=>{let{channelId:o}=n;return{focusLastVisibleMessageInChannel:!!Object(_.c)(b),showingContextBar:!!Object(ya.a)(b,o),channelCreatedTime:Object(Be.f)(Object(X.d)(b,o)),isBookmarksVisible:Object(Ka.g)(b,o),experimentIaBookmarksHideShowGroupTreatment:o?!!Object(Xt.c)(b,o):!1,overlayIsOpen:Object(Ie.g)(b),experimentAdoptionInstantSlackGroupTreatment:Object(j.d)(b,"adoption_instant_slack")==="treatment",isInstantSlackInviteeSession:Object(qs.a)(b),instantSlackChannelPrefs:o?!!Object(_s.a)(b,o,Sn.a):void 0,clogger:Object(g.a)({state:b})}},"message_list_mapStateToProps"),vs=s(b=>({setFocusLastVisibleMessageInChannel:n=>b(Object(S.j)(n)),setFocusMessageInput:n=>b(Object(S.k)(n)),closeAndReportNotificationReadSpan:n=>b((o,c)=>Object(Co.a)(c(),n)),fetchAndUpsertInstantSlackChannelPrefThunk:n=>b(Object(Sn.b)({channelId:n})),navigate:n=>b(Object(Zo.a)(n)),updateFocusHistoryState:n=>b(Object(Fs.b)(n))}),"message_list_mapDispatchToProps"),io={FOREWORD_TS:kn},Ks=ns,Ss=Object(da.a)(Ks),ss=Object(Xn.b)(Ss),La=Object(Ko.a)(Object($s.a)(ss)),os=Object(ut.b)(La,{name:"MessageList"});var Bn=Object(I.a)(js,vs,null,{forwardRef:!0})(os),lo=Bn,pn=e("rq2v"),rs=e("/MKj"),Hn=e("zxER"),co=e("s9Q6"),mo=e("sK3r"),to=e("beWg"),Do=e("u0LO"),Ro=e("dHXs"),uo=e("iUFw"),ao=e("cj00"),Io=e.n(ao),po=e("PA8C"),va=e.n(po),ks=e("BZp1"),_o=e("tVK8");const Ps=new pa.b("trial_slack_connect_awareness"),Hs={onClick:{enableClogAction:!0},elementName:"learn_more"},Lo={onClick:{enableClogAction:!0},elementName:"start_free_trial",isPrimaryCTA:!0},Vs=s(b=>{let{channelId:n}=b;const o=Do.c.SlackConnectDmTrialOfferBanner;if(!Object(ks.b)(n,o))return null;const P=q.a.createElement("img",{alt:"",srcSet:`${Io.a} 1x, ${va.a} 2x`}),U=Ps.rt("With a free, {trialDuration}-day trial of a Slack\u2019s Pro plan, you can work with external people not just one-on-one, but also as a team in channels. Give it a go \u2014 no credit card required.",{trialDuration:30,fallbackHash:"4ea3867685721a2fd4e82c793f920f8b43182716"}),R=q.a.createElement(Ro.a,{"data-qa":"slack_connect_dm_trial_offer_banner-start_trial",autoClogProps:Lo,reason:"slack_connect_dm_trial_offer_banner",context:to.a.scdmFreeStartTrialBanner,promoType:Aa.o.PaidFeatureTrial,promoSubtype:Aa.n.SharedChannels},Ps.t("Start Trial")),Q=q.a.createElement(uo.a,{type:"outline","data-qa":"slack_connect_dm_trial_offer_banner-learn_more",href:"/connect",autoClogProps:Hs},Ps.t("Learn More"));return q.a.createElement(ea.a,{eventId:rn.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:rn.UiComponentName.SLACK_CONNECT_DM_TRIAL_OFFER_BANNER,clogImpression:!0},q.a.createElement(_o.a,{uiComponent:o,heading:Ps.t("Bring both your teams into the same room"),image:P,bodyContent:U,"data-qa":"slack_connect_dm_trial_offer_banner",primaryCTA:R,secondaryCTA:Q}))},"SlackConnectDMTrialOfferBanner");Vs.displayName="SlackConnectDMTrialOfferBanner";var xo=Vs,Gs=e("GVvR"),jo=e("/cL/");const ho=new pa.b("trial_slack_connect_awareness"),vo={onClick:{enableClogAction:!0},elementName:"learn_more"},fo={onClick:{enableClogAction:!0},elementName:"upgrade",isPrimaryCTA:!0},go=s(b=>{let{channelId:n}=b;const o=Object(ks.b)(n,Do.c.SlackConnectDmTrialIneligibleBanner),c=Object(Hn.d)(Ut.g);if(!o)return null;const P=q.a.createElement("img",{alt:"",srcSet:`${Io.a} 1x, ${va.a} 2x`}),U=ho.rt("On a paid plan, you can add as many people as you need to a channel, even if they\u2019re not from {teamName}.",{teamName:Object(Zt.h)(c)}),R=q.a.createElement(jo.a,{"data-qa":"slack_connect_dm_trial_ineligible_banner-upgrade",autoClogProps:fo},ho.t("See Upgrade Options")),Q=q.a.createElement(uo.a,{type:"outline","data-qa":"slack_connect_dm_trial_ineligible_banner-learn_more",href:"/connect",autoClogProps:vo},ho.t("Learn More"));return q.a.createElement(ea.a,{eventId:rn.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:rn.UiComponentName.SLACK_CONNECT_DM_TRIAL_INELIGIBLE_BANNER,clogImpression:!0},q.a.createElement(_o.a,{uiComponent:Do.c.SlackConnectDmTrialIneligibleBanner,heading:ho.t("Loop in the rest of your team \u2014 and theirs, too"),image:P,bodyContent:U,"data-qa":"slack_connect_dm_trial_ineligible_banner",primaryCTA:R,secondaryCTA:Q}))},"SlackConnectDMTrialIneligibleBanner");go.displayName="SlackConnectDMTrialIneligibleBanner";var no=go,ws=e("stkM");const Nt=s(b=>{let{channelId:n}=b;const o=Object(rs.useDispatch)(),c=Aa.o.PaidFeatureTrial,P=Aa.n.SharedChannels,U=Object(Hn.d)(Ve=>Object(Zt.G)(Object(Ut.g)(Ve))),R=Object(Hn.d)(Ve=>Object(co.c)(Ve,c,P)),Q=Object(Hn.d)(Ve=>Object(co.b)(Ve,c,P)),[oe,de]=Object(Jt.useState)(!1);Object(Jt.useEffect)(()=>{o(Object(ws.a)({campaignType:c,campaignSubType:P,context:mo.b.slackConnectDMBanner,reason:"slack_connect_dm_banner"}))},[o,c,P]),Object(Jt.useEffect)(()=>{U||de(!0)},[U]),Object(Jt.useEffect)(()=>{de(!1)},[n]);let Oe=null;return U?Q||(R?Oe=q.a.createElement(xo,{channelId:n}):Oe=q.a.createElement(no,{channelId:n})):Oe=q.a.createElement(Gs.b,{channelId:n,showTrialStartedVersion:oe}),Oe},"SlackConnectDMBannerContainer");Nt.displayName="SlackConnectDMBannerContainer";var fs=Nt,As=e("cvlP"),vr=e("DneB"),Ir=e("Kcy5"),M=e("+CZ0"),L=e("gj2Z"),B=e("GNR7");const ue=Object(jt.b)((b,n,o,c,P,U,R)=>{const Q=Object(W.h)(b);return(Q==null?void 0:Q.tip)!==ee.f.Huddles||Object(Qt.b)(b,c)?!1:Object(B.a)(b,c)!==null&&!o&&Q.state!==ee.g.Success?!0:R===c?!1:Q.state===ee.g.Success?!0:Q.state===ee.g.Explainer?!n:!Object(L.a)(b,{channelId:c,getSiblingView:P,shouldUseNavigate:U,wasUserEverInActiveHuddleInCurrentChannel:o})||n});ue.meta={name:"createSelector",key:"createSelectorshouldDismissHuddlesTip",description:(b,n,o,c,P,U,R)=>{const Q=Object(W.h)(b);return(Q==null?void 0:Q.tip)!==ee.f.Huddles||Object(Qt.b)(b,c)?!1:Object(B.a)(b,c)!==null&&!o&&Q.state!==ee.g.Success?!0:R===c?!1:Q.state===ee.g.Success?!0:Q.state===ee.g.Explainer?!n:!Object(L.a)(b,{channelId:c,getSiblingView:P,shouldUseNavigate:U,wasUserEverInActiveHuddleInCurrentChannel:o})||n}};var xe=e("7s2w"),$e=e("xO6X"),Ue=e("3vtZ"),et=e("mQiU");function lt(){return lt=Object.assign||function(b){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(b[c]=o[c])}return b},lt.apply(this,arguments)}s(lt,"with_huddles_tip_extends");const ht=s(b=>{const n=Object(Jt.memo)(Object(Jt.forwardRef)((o,c)=>{const{getSiblingView:P,shouldUseNavigate:U}=Object(Jt.useContext)(et.a),R=Object(rs.useDispatch)(),Q=Object(Ir.a)(o.channelId),oe=Object(vr.b)(M.g),de=Object(Ue.E)(oe);var Oe;const Ve=Object(xe.a)((Oe=o.channelId)!==null&&Oe!==void 0?Oe:""),Gt=Object(Hn.d)(ln=>Object(L.a)(ln,{channelId:o.channelId,getSiblingView:P,shouldUseNavigate:U,wasUserEverInActiveHuddleInCurrentChannel:Ve})),Ft=Object(Hn.d)(ln=>Object(W.d)(ln,{tip:ee.f.Huddles})),Ma=Object(Hn.d)(W.X);var Na;const vn=Object(Hn.d)(ln=>ue(ln,de,Ve,(Na=o.channelId)!==null&&Na!==void 0?Na:"",P,U,Q)),Mn=Gt&&Ft;return Object(Jt.useEffect)(()=>{Ma&&(Mn?R(Object(le.a)({tip:ee.f.Huddles,tipState:ee.g.Flag})):vn&&(R(Object(nn.k)(null)),R(Object($e.a)({delay:As.b}))))},[R,Ma,vn,Mn]),q.a.createElement(b,lt({},o,{ref:c}))}));return n.displayName=`withHuddlesTip(${b.displayName})`,n},"withHuddlesTip");ht.displayName="withHuddlesTip";var Ot=e("wuDf"),Ca=e("Ph7z"),fa=e("TZ1i"),ra=e("rm53"),Ta=e("OvM9"),an=e("ax9K"),on=e("khjP"),xa=e("P1uz"),Pn=e("xisU"),Vn=e("WIr4"),An=e("kBpe"),Ms=e("RB1+"),is=e("U3SE"),hn=e("cYXZ"),Ns=e("gPPH"),En=e("qDEp");const $n=new pa.b("messages");function yn(b){let{jumpToRecent:n}=b;return q.a.createElement("div",{className:"p-archives_banner"},q.a.createElement(En.d,{className:"p-archives_banner__jump",onClick:n,"data-qa":"archives_banner"},q.a.createElement("span",{className:"margin_right_25"},q.a.createElement(st.a,{inline:!0,name:"arrow-down"})),$n.t("Latest messages",{fallbackHash:"f7b7a48cdb86656094ebbba2551928988e3630d4"})))}s(yn,"ArchivesBanner");var qn=e("gSGL"),Za=e("C59p"),ls=e("pu3F"),Bo=e("gpLM"),Wa=e("nWdO"),Ds=e("DPHH"),wo=e("khnw");const Rs=new pa.b("messages");let Fe=s(class extends Jt.Component{onKeyDown(n){const o=[wo.e,wo.p];Object(ts.a)(o,n.keyCode)&&this.props.jumpOrMark(n)}render(){const{known:n,displayCount:o,opacity:c,unreadPlacement:P,jumpOrMark:U,markAsRead:R}=this.props,Q=n?"":"+";let oe=o;!n&&oe>10&&(oe=Math.floor(oe/10)*10);let de=Rs.t("{count, plural, =1 {#{certainty} new message} other {#{certainty} new messages}}",{certainty:Q,count:oe});(!oe||oe===1&&!n)&&(de=Rs.t("New messages"));let Oe="",Ve=q.a.createElement(q.a.Fragment,null);Object(An.i)()&&(Object(An.p)()?Oe=Rs.t("\u2318J"):Oe=Rs.t("Ctrl+J"),Ve=q.a.createElement(q.a.Fragment,null,q.a.createElement(Ds.a,{label:Ds.b.CmdOrCtrl,tooltip:!0,className:"margin_left_25"}),q.a.createElement(Ds.a,{label:"J",tooltip:!0})));const Gt=q.a.createElement(q.a.Fragment,null,q.a.createElement("br",null),q.a.createElement(Ds.a,{label:"esc",tooltip:!0})),Ft=P===On.ABOVE?"arrow-up":"arrow-down",Ma=Object(ma.default)("p-message_pane__unread_banner p-message_pane__banner");return q.a.createElement("div",{className:Ma},q.a.createElement("div",{className:"p-message_pane__unread_banner__banner"},q.a.createElement(Wa.c,{tip:Rs.rt("Jump {jumpShortcutKeys}",{jumpShortcutKeys:Ve}),position:"bottom",delay:Wa.a},q.a.createElement(En.d,{className:"p-message_pane__unread_banner__msg",onMouseDown:U,onKeyDown:this.onKeyDown,style:{opacity:c},"aria-label":Rs.t("Jump to first unread message ({jumpShortcut})",{jumpShortcut:Oe})},q.a.createElement("span",{className:"margin_right_25"},q.a.createElement(st.a,{inline:!0,name:Ft})),de)),q.a.createElement(Wa.c,{tip:Rs.rt("Mark as read {markAsReadShorcutKeys}",{markAsReadShorcutKeys:Gt}),position:"bottom",delay:Wa.a},q.a.createElement(En.d,{className:"p-message_pane__unread_banner__close_icon",onClick:R,"aria-label":Rs.t("Mark as read (esc)")},q.a.createElement(st.a,{inline:!0,name:"close"})))))}constructor(n){super(n),this.onKeyDown=this.onKeyDown.bind(this)}},"UnreadBannerButtons");Fe.displayName="UnreadBannerButtons";var So=Fe;const zs=1e3,Br=80,Ls={ABOVE:1,VISIBLE:2,BELOW:3};let Uo=s(class extends Jt.PureComponent{UNSAFE_componentWillReceiveProps(n){if(n.channelId!==this.props.channelId&&this.animation&&this.animation.cancel(),this.state.hasUnreads&&!n.hasUnreads){const o=zs,c=n.ghost?o:0;this.startFade(c);return}this.setState(()=>({hasUnreads:n.hasUnreads,displayCount:n.displayCount,since:n.since,unreadPlacement:n.unreadPlacement,opacity:1}))}componentWillUnmount(){this.animation&&this.animation.cancel()}onAnimationEnd(){this.setState(()=>({hasUnreads:!1,opacity:1}),()=>{this.props.onHide&&this.props.onHide()})}onAnimationTick(n){let{value:o,nextTick:c}=n;this.animation&&(this.setState(()=>({opacity:o})),c())}jumpOrMark(n){this.state.unreadPlacement===Ls.VISIBLE?this.markAsRead(n):(this.props.jumpToUnread&&this.props.jumpToUnread(n),this.props.transitionFocusToPrimaryView&&this.props.transitionFocusToPrimaryView(),n.preventDefault())}markAsRead(n){n.stopPropagation(),Object(l.b)().action("UNREAD-BANNER",`Mark ${this.props.channelId} read`),this.props.markMostRecentMsgRead&&this.props.channelId&&this.props.markMostRecentMsgRead({channelId:this.props.channelId,reason:ls.N.CLICKED}),this.animation&&this.animation.cancel(),this.onAnimationEnd(),this.props.transitionFocusToPrimaryView&&this.props.transitionFocusToPrimaryView()}startFade(n){this.animation=Object(Za.a)({delay:n,fromValue:1,toValue:0,duration:Br,easing:"easeInQuad",onTick:this.onAnimationTick,onComplete:this.onAnimationEnd})}render(){const{hasUnreads:n,since:o,displayCount:c,unreadPlacement:P,opacity:U}=this.state,{known:R,channelId:Q}=this.props;return!n||!o||!(Object(qn.a)(o)?Math.floor(parseFloat(o)):Math.floor(o))||P===Ls.VISIBLE?null:q.a.createElement(So,{known:R,displayCount:c,opacity:U,unreadPlacement:P,jumpOrMark:this.jumpOrMark,markAsRead:this.markAsRead,channelId:Q})}constructor(n){super(n),this.startFade=this.startFade.bind(this),this.onAnimationTick=this.onAnimationTick.bind(this),this.onAnimationEnd=this.onAnimationEnd.bind(this),this.jumpOrMark=this.jumpOrMark.bind(this),this.markAsRead=this.markAsRead.bind(this),this.animation=null,this.state={hasUnreads:n.hasUnreads,displayCount:n.displayCount,since:n.since,unreadPlacement:n.unreadPlacement,opacity:1}}},"UnreadBanner");Uo.displayName="UnreadBanner",Uo.defaultProps={displayCount:0,unreadPlacement:Ls.VISIBLE};const Ur={transitionFocusToPrimaryView:()=>Object(Bo.d)()};var Fr=Object(I.a)(null,Ur)(Uo),Wr=e("aha9"),gs=e("oEDn"),Kr=e("n3Fi");const Fo=Object(J.c)("User has dismissed search in-product education",b=>{b(Object(Kr.b)())});Fo.meta={name:"createThunk",key:"createThunksearchInProductEducationDismiss",description:"User has dismissed search in-product education"};var fr=e("ZE3X"),Ys=e("blur");const Oo=new pa.b("search");let _r=s(class extends Jt.PureComponent{isVisible(){return this.props.showSearchScrollbackTip}onClickBannerContent(n){const{channelForCurrentInFilterQuery:o,openFromScrollSearchTipBanner:c,clogger:P}=this.props;n.stopPropagation(),n.preventDefault(),P.track(rn.EventId.SEARCH_SCROLL_TIP_CLICK,{channel_id:o==null?void 0:o.id}),c()}onClose(n){const{channelForCurrentInFilterQuery:o,recordLastDismissedScrollSearchTooltipTimestamp:c,incrementScrollerSearchInProductEducationDismissalCount:P,searchInProductEducationDismiss:U,clogger:R,refocusList:Q}=this.props;n.stopPropagation(),n.preventDefault(),R.track(rn.EventId.SEARCH_SCROLL_TIP_DISMISS,{channel_id:o==null?void 0:o.id}),c(),P(),U(),Q==null||Q()}onEscape(n){n.key==="Escape"&&this.onClose(n)}focus(){var n,o;(n=this.searchTipButtonRef)===null||n===void 0||(o=n.current)===null||o===void 0||o.focus()}render(){const{showSearchScrollbackTip:n}=this.props;return n&&q.a.createElement("div",{className:"p-message_pane__search_tip_banner",role:"dialog",onKeyDown:this.onEscape,"aria-label":Oo.t("Tip",{fallbackHash:"9713cc83f3030948afaff535d9c5e6e77ea1a83f",fallbackHashNs:"slack-docs"})},q.a.createElement(En.d,{ref:this.searchTipButtonRef,className:"p-message_pane__search_tip_banner_content",onClick:this.onClickBannerContent,"aria-label":Oo.t("Try {command} f to search this channel",{command:Ds.b.CmdOrCtrl,fallbackHash:"0e225cdd2f07078969c6226d1587e3ba3957da36"})},Oo.rt("<strong>Tip</strong>: Try {command} {f} to search this channel",{command:q.a.createElement(Ds.a,{label:Ds.b.CmdOrCtrl,slim:!0}),f:q.a.createElement(Ds.a,{label:"F",slim:!0})})),q.a.createElement(Wa.c,{tip:Oo.t("Close"),position:"bottom"},q.a.createElement(En.d,{className:"p-message_pane__search_tip_banner_action","aria-label":Oo.t("Close"),onClick:this.onClose},q.a.createElement(gs.a,{inline:!0,type:"times-small"}))))}constructor(n){super(n),Object(Vn.a)(this,["onClose","onEscape","onClickBannerContent","focus"]),this.searchTipButtonRef=q.a.createRef()}},"SearchTipBanner");_r.displayName="SearchTipBanner";const gr=s(b=>({showSearchScrollbackTip:Object(A.b)(b),clogger:Object(g.a)({state:b}),channelForCurrentInFilterQuery:Object(Wr.a)(b)}),"search_tip_banner_mapStateToProps"),jr={searchInProductEducationDismiss:Fo,openFromScrollSearchTipBanner:fr.h,incrementScrollerSearchInProductEducationDismissalCount:Ys.f,recordLastDismissedScrollSearchTooltipTimestamp:Ys.l};var Or=Object(I.a)(gr,jr,null,{forwardRef:!0})(_r),Qs=e("i9y5");const Sr=new pa.b("mpdm_audience_expansion");var Er=Object(Jt.memo)(()=>Object(Hn.d)(Ea.a)?q.a.createElement("div",{className:"c-message_list__pill_banner"},q.a.createElement("div",{className:"c-message_list__pill_banner__label"},q.a.createElement(Qs.a,{className:"c-message_list__pill_banner__label_icon",color:"blue",size:"medium"}),q.a.createElement("span",{className:"c-message_list__pill_banner__label_text"},Sr.t("Converting, this might take awhile\u2026")))):null),kr=e("cu33"),Hr=e("jTDL"),br=e("u4cD"),ei=e("k7gI");const qo=s(b=>{let{onMessageLimitTrialStart:n}=b;Object(rs.useDispatch)()(Object(br.b)({spaceName:At.g.MESSAGE_PANE}));const c=Object(Jt.useCallback)(P=>{P.animationName==="fade"&&n({showFloatingTrialStartBanner:!1})},[n]);return q.a.createElement("div",{className:"p-message_pane_banner__container",onAnimationEnd:c},q.a.createElement(Hr.a,{className:Object(ma.default)("p-message_pane_banner","p-message_limit_floating_trial_banner"),margins:!1,uiStep:rn.UiStep.LIMITED_HISTORY_TRIAL_START}))},"LimitedHistoryFloatingTrialStartBanner");qo.displayName="LimitedHistoryFloatingTrialStartBanner";var Pr=qo;function er(){return er=Object.assign||function(b){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(b[c]=o[c])}return b},er.apply(this,arguments)}s(er,"message_pane_extends");const Vr=new pa.b("message-list");class tr extends Jt.PureComponent{componentDidMount(){this.recordAndTrackTimeToVisible(),this.bindKeyEventListeners(),document.hasFocus()?this.recordSessionFrameStats():window.addEventListener("focus",this.recordSessionFrameStats)}UNSAFE_componentWillReceiveProps(n){const o=this.props.channelId;if(this.setState(oe=>{const de=this.getUnreadLinePlacement();if(!n.isLoading&&!Object(T.a)(n.timestamps)){const Oe=n.reachedEnd===!1&&!n.prevReachedEnd;if(Oe!==oe.showingArchiveBanner)return{...oe,unreadPlacement:de,showingArchiveBanner:Oe}}return oe.unreadPlacement!==de?{...oe,unreadPlacement:de}:oe}),this.setState(oe=>{const de=this.getUnreadBannerDisplayCount(),Oe=!!(de&&de>0);return{...oe,showingUnreadBanner:Oe}}),n.isSpaceshipFileChannel&&(!this.props.isSpaceshipFileChannel||this.props.channelId!==n.channelId)){var c;(c=n.redirectMessagePane)===null||c===void 0||c.call(n,{channelId:o||""})}if(o&&n.channelId!==o){try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(de){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",de)}const oe=this.list&&this.list.getScrollmark("channel_change");if(!this.props.isChildWindow){var P,U;(U=(P=this.props).saveScrollmark)===null||U===void 0||U.call(P,{channelId:o,scrollmark:oe})}if(this.props.isConversationViewsEnabled&&this.props.isChildWindow&&this.props.windowId!==u.c&&oe){var R,Q;(Q=(R=this.props).maybeSaveChildWindowScrollmark)===null||Q===void 0||Q.call(R,{windowId:this.props.windowId||"",container:this.props.container,channelId:o,scrollmark:oe})}this.historyRateLimiter.reset(),this.recordAndTrackTimeToUsable(rn.TimingStatus.ABANDONED),this.state.caughtError&&this.setState(()=>({caughtError:!1}))}n.teamId!==this.props.teamId&&this.attachMessageImpressionsLogger(n.teamId,n.clogger)}componentDidUpdate(n){if(this.props.isProgressiveDisclosureEnabled&&this.props.latest&&this.props.latest!==n.latest){if(this.props.latestMessageTsForProgressiveDisclosureReacjiFlag&&this.props.isEligibleToUpdateReacjiAnchoredMessageTs){var o,c;(c=(o=this.props).setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip)===null||c===void 0||c.call(o,this.props.latestMessageTsForProgressiveDisclosureReacjiFlag)}else if(this.props.latestMessageTsForProgressiveDisclosureThreadsFlag&&this.props.isEligibleToUpdateThreadsAnchoredMessageTs){var P,U;(U=(P=this.props).setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip)===null||U===void 0||U.call(P,this.props.latestMessageTsForProgressiveDisclosureThreadsFlag)}}if(this.list){var R,Q;const Ft=this.isUnreadLineVisible();(Q=(R=this.props).setUnreadLineVisibility)===null||Q===void 0||Q.call(R,Ft)}(this.props.reachedStart===!0&&this.props.reachedEnd===!0||this.props.timestamps&&this.props.timestamps.length>0)&&this.recordAndTrackTimeToUsable(rn.TimingStatus.COMPLETED);const{channelId:oe,experimentCheckChannelConnectivityForDmsGroupOn:de,isShared:Oe,teamId:Ve,type:Gt}=this.props;de&&oe&&Ve&&oe!==n.channelId&&Oe&&(Gt==="im"||Gt==="mpim")&&Object(mn.a)(Ve,oe)}componentDidCatch(n){this.setState(()=>({caughtError:!0})),this.props.logger.error("MessagePane componentDidCatch:",n,"message_pane_componentDidCatch")}componentWillUnmount(){var n,o;const c=this.list&&this.list.getScrollmark("unmount"),P=this.props.channelId;if(!this.props.isChildWindow){var U,R;(R=(U=this.props).saveScrollmark)===null||R===void 0||R.call(U,{channelId:P||"",scrollmark:c})}if(this.props.isConversationViewsEnabled&&this.props.isChildWindow&&this.props.windowId!==u.c&&c){var Q,oe;(oe=(Q=this.props).maybeSaveChildWindowScrollmark)===null||oe===void 0||oe.call(Q,{windowId:this.props.windowId||"",container:this.props.container,channelId:P||"",scrollmark:c})}this.sendSessionFrameStats(),window.removeEventListener("focus",this.recordSessionFrameStats),this.unbindKeyEventListeners(),(o=(n=this.props).setMessagePaneHasUnmounted)===null||o===void 0||o.call(n,!0);try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(de){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",de)}}onKeyDown(n){var o;const{key:c,shiftKey:P}=n,{overlayIsOpen:U,channelId:R,hasKeyboardFocus:Q,firstUnreadTs:oe,sendMessageToAnnouncerAPI:de}=this.props;if(U)return;const Oe=this.list,Ve=this.list.list,Gt=Vr.t("No unread messages",{fallbackHash:"dd7561b8a510f9c5ea7f80eba593dbaa668fbf72",fallbackHashNs:"reminders"});if(c==="j"&&Object(An.i)()&&Object(is.a)(n)){!oe&&de&&de({assertive:!0,message:Gt,uuid:Object(Ns.a)()});const Mn=Ve==null?void 0:Ve.getActiveItem();Q&&!Mn&&this.focus(),this.list.jumpToUnread(n);return}const Ft=(o=this.searchTipBannerRef)===null||o===void 0?void 0:o.current;if(c==="ArrowUp"&&(Ft!=null&&Ft.isVisible())){Ft==null||Ft.focus();return}if(Q)return;const Ma=Wn.a.MESSAGE_PANE,Na=Object(Ms.a)({viewContext:Ma,channelId:R});if(Na&&Na.hasFocus()&&Na.isEmpty()){if(c==="PageUp"){P?Oe.onShiftPageUp(n):Ve.onKeyDownPageUp(n);return}if(c==="PageDown"){P?Oe.onShiftPageDown(n):Ve.onKeyDownPageDown(n);return}if(c==="Home"){Ve.onKeyDownHome(n);return}c==="End"&&Ve.onKeyDownEnd(n)}}onUnreadBannerHide(){this.setState(()=>({showingUnreadBanner:!1}))}onVisibleRowsChanged(n,o){var c,P;if(!this.list)return;const U=this.getUnreadLinePlacement();this.setState(()=>({unreadPlacement:U}));const R=this.isUnreadLineVisible();(P=(c=this.props).setUnreadLineVisibility)===null||P===void 0||P.call(c,R);try{this.messageImpressionLogger.setCurrentlyVisibleMessages((o||[]).filter(Ve=>Ve.type==="message").map(Ve=>({ts:Ve.ts,channel:this.props.channelId})))}catch(Ve){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",Ve)}if(this.list.isAtBottom()){var Q,oe;(oe=(Q=this.props).searchInProductEducationReset)===null||oe===void 0||oe.call(Q)}if(this.props.showUnfurledJoiners&&!this.props.hasSeenUnfurledJoinersForeword&&((o||[]).some(Ve=>Ve.type==="foreword")||n.some(Ve=>Ve.type==="foreword"))){var de,Oe;(Oe=(de=this.props).setHasSeenUnfurledJoinersForeword)===null||Oe===void 0||Oe.call(de,!0)}}getUnreadBannerDisplayCount(){const{timestamps:n,lastReadTs:o,unreadCount:c,reachedEnd:P}=this.props;return n&&n.length&&P?n.filter(U=>U>(o||0)).length:c||void 0}getUnreadLinePlacement(){var n;return!(!((n=this.props.timestamps)===null||n===void 0)&&n.length)&&!this.props.unreadCountKnown||!this.list?On.VISIBLE:this.list.getUnreadLinePlacement()}setListRef(n){this.list=n}attachMessageImpressionsLogger(n,o){if(this.messageImpressionLogger)try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(c){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",c)}this.messageImpressionLogger=new on.a({teamId:n,clogger:o,messageViewLocation:xa.a.CHANNEL})}bindKeyEventListeners(){document.addEventListener("keydown",this.onKeyDown,!1)}unbindKeyEventListeners(){document.removeEventListener("keydown",this.onKeyDown,!1)}blur(){this.list.blur()}focus(){this.list.focus()}isUnreadLineVisible(){const{isGhostLastRead:n,unreadCount:o,reachedEnd:c,isLoading:P}=this.props;return P?!1:!!(!n&&this.list.getUnreadLinePlacement()===On.VISIBLE||!o&&c&&this.list.isAtBottom())}jumpToMostRecent(){var n,o;(o=(n=this.props).jumpToTimestamp)===null||o===void 0||o.call(n,{ts:null})}jumpToUnread(n){this.list.jumpToUnread(n)}recordAndTrackTimeToUsable(n){if(this.props.bootInFlight){this.staleTimestamps||(this.staleTimestamps=this.props.timestamps);return}if(Object.keys(this.prqMetrics.usableVisible).length===0)return;if(this.props.windowLastBlurEvent!==0){this.prqMetrics.usableVisible={};return}if(!Object(Un.b)(Object(wa.getStateForClientStore)()))return;Object(wa.dispatchForClientStore)(Object(un.b)(!1));const o=this.props.telemeter.measure("navigationStart","prq_time_to_usable",null,{return_unprocessed:!0}).unprocessed;this.props.telemeter.store(`prq_time_to_usable_${this.props.bootType}`,o),(this.staleTimestamps?!Object(Va.a)((this.props.timestamps||[]).sort(),this.staleTimestamps.sort()):!1)&&this.props.telemeter.count("prq_time_to_usable_required_sync"),Object(ze.g)(o,"APP_ICON",!0,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,n),this.prqMetrics.usableVisible={},this.props.logger.info("PERF",`Logged time to usable (TTU): ${o}`)}recordAndTrackTimeToVisible(){var n,o;if(this.props.hasMessagePaneUnmounted&&!this.props.bootInFlight)return;if(this.props.windowLastBlurEvent!==0){this.prqMetrics.usableVisible={};return}if(!Object(Un.c)(Object(wa.getStateForClientStore)()))return;Object(wa.dispatchForClientStore)(Object(un.c)(!1));const c=this.props.telemeter.measure("navigationStart","prq_time_to_visible",null,{return_unprocessed:!0}).unprocessed;this.props.telemeter.store(`prq_time_to_visible_${this.props.bootType}`,c),this.prqMetrics.usableVisible={[this.props.channelId||""]:c},Object(ze.h)(c,"APP_ICON",!1,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId),(o=(n=this.props).setMessagePaneHasUnmounted)===null||o===void 0||o.call(n,!0),this.props.logger.info("PERF",`Logged time to visible (TTV): ${c}`)}recordSessionFrameStats(){window.removeEventListener("focus",this.recordSessionFrameStats),window.addEventListener("blur",this.sendSessionFrameStats),window.addEventListener("beforeunload",this.sendSessionFrameStats),Object(ze.e)(this.props.teamId,this.props.enterpriseId,rn.EventId.PRQ_SESSION_FRAME_STATS)&&bs()}requestHistory(n){let{oldest:o,latest:c}=n;var P,U;const{channelId:R,type:Q,reachedStart:oe,reachedEnd:de,logger:Oe}=this.props;if(oe&&de)return!1;let Ve=o,Gt=c;if(Gt&&oe){if(!Ve)return!1;Gt=null}if(Ve&&de){if(!Gt)return!1;Ve=null}if(this.historyRateLimiter.isRequestPending({oldest:o,latest:c}))return!1;if(this.historyRateLimiter.shouldPreventHistoryRequest({oldest:o,latest:c}))return this.beaconedRateLimit?Oe.warn("MESSAGE_PANE",`message_pane_request_rate_limited ${R} ${o}_${c}`):(Oe.error({channelId:R,latestTs:Gt,oldestTs:Ve},"message_pane_request_rate_limited"),this.beaconedRateLimit=!0),!1;this.beaconedRateLimit=!1;const Ft="message-pane/requestHistory",Ma=(U=(P=this.props).fetchHistory)===null||U===void 0?void 0:U.call(P,{channelId:R||"",type:Q||"",oldest:Ve,latest:Gt,reason:Ft});return Ma&&this.historyRateLimiter.logHistoryRequest({oldest:Ve,latest:Gt,promise:Ma}),Ma}sendSessionFrameStats(){if(window.addEventListener("focus",this.recordSessionFrameStats),window.removeEventListener("blur",this.sendSessionFrameStats),window.removeEventListener("beforeunload",this.sendSessionFrameStats),!Fn())return;es();const n=Jn();n.durationMs!==0&&Object(ze.f)(n.durationMs,n.histFrameRenderTime,n.histJankyWindows,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId)}renderArchivesBanner(){return this.state.showingArchiveBanner?q.a.createElement(yn,{jumpToRecent:this.jumpToMostRecent}):null}renderDegradedBanner(){return q.a.createElement(en.a,null,q.a.createElement(kr.a,null))}renderMessagePaneBanner(){const{channelId:n,isExternalIm:o,isWelcomeDmTipOpen:c}=this.props,P=o?q.a.createElement(fs,{channelId:n||""}):null;return this.state.showFloatingTrialStartBanner?q.a.createElement(Pr,{onMessageLimitTrialStart:this.onMessageLimitTrialStart}):P||!c&&q.a.createElement(pn.c,er({},Dn,{channelId:n||"",onTrialStart:this.onMessageLimitTrialStart}))}renderWelcomeSpace(){return this.props.isChildWindow?null:q.a.createElement(pn.c,er({},_n))}renderSearchScrollbackTip(){return q.a.createElement(Or,{ref:this.searchTipBannerRef,refocusList:this.focus})}renderUnreadBanner(){const{unreadCount:n,unreadCountKnown:o,lastReadTs:c,channelId:P,isGhostLastRead:U,markMostRecentMsgRead:R,isArchived:Q,showSearchScrollbackTip:oe,isChannelConversionInProgress:de}=this.props;return Q||oe||de?null:q.a.createElement(Fr,{channelId:P||void 0,hasUnreads:!!(n&&n>0),displayCount:this.getUnreadBannerDisplayCount(),known:o,since:c,ghost:U,unreadPlacement:this.state.unreadPlacement,jumpToUnread:this.jumpToUnread,markMostRecentMsgRead:R,onHide:this.onUnreadBannerHide})}renderConvertingBanner(){const{isChannelConversionInProgress:n}=this.props;return n?q.a.createElement(Er,null):null}renderMessageList(){const{type:n,channelDisplayName:o,isShared:c,isOrgShared:P,isYou:U,isMuted:R,hasUnreads:Q,hasDraft:oe,isArchived:de,unreadCount:Oe,badgeCount:Ve,canPostInChannel:Gt,isFileExpanding:Ft,clientTheme:Ma,showSearchScrollbackTip:Na,isDegradedMode:vn,isChannelConversionInProgress:Mn,showUnfurledJoiners:ln}=this.props,Yn=(!Q||this.state.unreadPlacement===On.VISIBLE)&&!this.ieOrEdge&&!Na&&!vn&&!Mn,zo=Object(Ta.a)({type:n,displayName:o,isShared:c,isOrgShared:P,isYou:U,isMuted:R,hasUnreads:Q,hasDraft:oe,isArchived:de,unreadCount:Oe,badgeCount:Ve,canPost:Gt,isSelected:!1,userActive:!1,isTyping:!1}),Yo=Object(He.f)(this.props.currentThreadKey||void 0,Wn.a.THREAD);return q.a.createElement(lo,{ref:this.setListRef,channelId:this.props.channelId||void 0,"aria-label":zo,timestamps:this.props.timestamps,startTs:this.props.startTs||void 0,startTsOffset:this.props.startTsOffset||void 0,highlightTs:this.props.highlightTs||void 0,highlightLazy:this.props.highlightLazy,ariaAnnounceMessageTs:this.props.ariaAnnounceMessageTs||void 0,focusRequestedTs:this.props.focusRequestedTs,requestHistory:this.requestHistory,lastReadTs:this.props.lastReadTs,isGhostLastRead:this.props.isGhostLastRead,rollups:this.props.rollups||void 0,isLoading:this.props.isLoading,isLoadingOlder:this.props.isLoadingOlder,setUnreadPoint:this.props.setUnreadPoint,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd,prevReachedEnd:this.props.prevReachedEnd,oldest:this.props.oldest,latest:this.props.latest,onVisibleRowsChanged:this.onVisibleRowsChanged,doneHighlighting:this.props.clearHighlightTs,clearAriaAnnounceMessageTs:this.props.clearAriaAnnounceMessageTs,channelType:this.props.type,isLimited:this.props.isLimited,blurredMessages:this.props.blurredMessages,isSlackbotIm:this.props.isSlackbotIm,useStickyDayDividers:Yn,theme:this.props.theme,channelSessionId:this.props.channelSessionId||void 0,firstUnreadTs:this.props.firstUnreadTs||void 0,messageContainerType:Wn.a.MESSAGE_PANE,featureTinyspeck:this.props.featureTinyspeck,teamId:this.props.teamId||void 0,enterpriseId:this.props.enterpriseId||void 0,sessionId:this.props.sessionId||void 0,windowLastFocusEvent:this.props.windowLastFocusEvent||void 0,currentUserId:this.props.currentUserId||void 0,jumpToTimestamp:this.props.jumpToTimestamp,makeMessageSummary:this.props.makeMessageSummary,isScreenReaderEnabled:this.props.isScreenReaderEnabled,isBannerVisible:this.state.showingUnreadBanner,setFocusRequestedTs:this.props.setFocusRequestedTs,showThreadIfThreadable:this.props.isPerKeyThreadMetadataOn?this.props.metadataShowThreadIfThreadable:this.props.showThreadIfThreadable,currentThreadKey:this.props.currentThreadKey||void 0,canStartOrOpenThread:this.props.canStartOrOpenThread,threadListId:Yo,isFileExpanding:Ft,isOffline:this.props.isOffline,clientTheme:Ma,canPostInChannel:Gt,showUnfurledJoiners:ln,useGlobalKeyboardShortcuts:!0,onMessageLimitTrialStart:this.onMessageLimitTrialStart,unlockMessages:this.state.unlockMessages,isFloatingTrialStartBannerVisible:this.state.showFloatingTrialStartBanner,onOverflow:this.props.onOverflow})}onMessageLimitTrialStart(n){let{showFloatingTrialStartBanner:o,unlockMessages:c}=n;this.setState(P=>({...P,showFloatingTrialStartBanner:o,unlockMessages:c}))}render(){if(this.state.caughtError)return null;if(this.props.unavailableTeamId)return q.a.createElement(an.a,{channelId:this.props.channelId,unavailableTeamId:this.props.unavailableTeamId});if(!this.props.channelId||this.props.isSpaceshipFileChannel||this.props.isListFileChannel)return null;const{experimentIaBookmarksHideShowGroupTreatment:n,isBookmarksVisible:o}=this.props,c=Object(ma.default)("p-message_pane p-message_pane--classic-nav","p-message_pane--scrollbar-float-adjustment",{"p-message_pane--ie":this.ieOrEdge,"p-message_pane--with-bookmarks-bar":n,"p-message_pane--with-bookmarks-bar-open":n&&o}),P=Object(ma.default)("p-message_pane__top_banners",{"p-message_pane__top_banners--with-bookmarks-bar":n,"p-message_pane__top_banners--with-bookmarks-bar-open":n&&o}),U=Object(ma.default)("p-message_pane__banners_with_bookmarks_bar",{"p-message_pane__banners_with_bookmarks_bar--open":o});return q.a.createElement("div",{ref:this.messagePaneRef,className:c,"data-qa":"message_pane"},q.a.createElement("div",{className:P},q.a.createElement(Ot.a,null),q.a.createElement(Ca.a,{destinationId:this.props.channelId}),this.renderDegradedBanner(),this.renderUnreadBanner(),this.renderConvertingBanner(),this.renderSearchScrollbackTip()),n?q.a.createElement("div",{className:U},this.renderMessagePaneBanner()):this.renderMessagePaneBanner(),this.renderWelcomeSpace(),this.renderMessageList(),this.renderArchivesBanner())}constructor(n){super(n),this.list=null,Object(Vn.a)(this,["onKeyDown","onVisibleRowsChanged","onUnreadBannerHide","setListRef","requestHistory","jumpToMostRecent","jumpToUnread","focus","renderSearchScrollbackTip","sendSessionFrameStats","recordSessionFrameStats","onMessageLimitTrialStart"]),this.messagePaneRef=q.a.createRef(),this.searchTipBannerRef=q.a.createRef(),this.state={showingArchiveBanner:!1,showingUnreadBanner:!1,unreadPlacement:On.VISIBLE,showFloatingTrialStartBanner:!1,unlockMessages:!1},this.historyRateLimiter=new Pn.a,this.prqMetrics={usableVisible:{}},this.ieOrEdge=Ga.a.msie||Ga.a.msedge,this.attachMessageImpressionsLogger(n.teamId,n.clogger)}}s(tr,"message_pane_BaseMessagePane"),tr.displayName="BaseMessagePane",tr.defaultProps={logger:{error:Ye.a},clogger:{track:Ye.a},channelDisplayName:void 0,type:"channel",isExternalIm:!1,theme:"light",timestamps:[],reachedStart:!1,reachedEnd:!1,prevReachedEnd:!1,oldest:void 0,latest:void 0,fetchHistory:Ye.a,lastReadTs:void 0,isGhostLastRead:!1,unreadCount:0,unreadCountKnown:!1,startTs:null,startTsOffset:null,highlightTs:null,ariaAnnounceMessageTs:null,highlightLazy:void 0,focusRequestedTs:void 0,rollups:null,isLoading:!1,isLoadingOlder:!1,setUnreadPoint:Ye.a,markMostRecentMsgRead:Ye.a,setUnreadLineVisibility:Ye.a,clearHighlightTs:Ye.a,clearAriaAnnounceMessageTs:Ye.a,jumpToTimestamp:Ye.a,saveScrollmark:Ye.a,maybeSaveChildWindowScrollmark:Ye.a,isArchived:!1,isLimited:!1,isSlackbotIm:!1,overlayIsOpen:!1,channelSessionId:null,firstUnreadTs:null,featureTinyspeck:!1,teamId:null,enterpriseId:null,sessionId:null,hasMessagePaneUnmounted:!1,setMessagePaneHasUnmounted:Ye.a,currentUserId:null,isShared:!1,isOrgShared:!1,isYou:!1,isMuted:!1,hasUnreads:!1,hasDraft:!1,badgeCount:0,windowLastBlurEvent:null,windowLastFocusEvent:null,makeMessageSummary:void 0,isScreenReaderEnabled:!1,setFocusRequestedTs:Ye.a,showThreadIfThreadable:Ye.a,metadataShowThreadIfThreadable:Ye.a,currentThreadKey:void 0,canStartOrOpenThread:Ye.a,unavailableTeamId:"",canPostInChannel:!0,searchInProductEducationReset:Ye.a,bootInFlight:!1,bootType:null,isFileExpanding:!1,isOffline:!1,clientTheme:"light",isProgressiveDisclosureEnabled:!1,latestMessageTsForProgressiveDisclosureReacjiFlag:void 0,isEligibleToUpdateReacjiAnchoredMessageTs:!0,latestMessageTsForProgressiveDisclosureThreadsFlag:void 0,isEligibleToUpdateThreadsAnchoredMessageTs:!0,showSearchScrollbackTip:!1,isDegradedMode:!1,isChannelConversionInProgress:!1,showUnfurledJoiners:!1,hasSeenUnfurledJoinersForeword:!1,setHasSeenUnfurledJoinersForeword:Ye.a,isBookmarksVisible:!1,isSpaceshipFileChannel:!1,isListFileChannel:!1,redirectMessagePane:Ye.a,experimentIaBookmarksHideShowGroupTreatment:!1,isConversationViewsEnabled:!1,maybeShowProgressiveDisclosureTip:Ye.a,setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip:Ye.a,hasKeyboardFocus:!1,sendMessageToAnnouncerAPI:Ye.a,isChildWindow:!1,windowId:u.c,container:null,isWelcomeDmTipOpen:!1,experimentCheckChannelConnectivityForDmsGroupOn:!1};var Ar=Object(hn.a)(Object($s.a)(Object(ra.a)(ht(Object(fa.a)(tr,{updateStore:b=>{let{instance:n,dispatch:o}=b;const c=n.list&&n.list.getScrollmark("with_serialization");o(Object(D.a)({channelId:n.props.channelId,scrollmark:c}))}}))))),Mr=e("y8dB"),Gr=e("i9jZ"),Kt=e("LrWZ"),ar=e("l2Je"),Wo=e("XnQF");const ti=Object(J.c)("Save the child window scrollmark when the user moves away from the view",(b,n,o)=>{let{windowId:c,container:P,channelId:U,scrollmark:R}=o;var Q,oe;const de=n(),Oe=Object(Wo.b)(de,{windowId:c}),Ve=Object(Wo.c)(de,{windowId:c}),Gt=Object(Wo.a)(de,{windowId:c});if(Oe>0){var Ft;if(Object(Kt.a)(Ve))return;const vn=Gt[Ve];if((vn==null||(Ft=vn.primary)===null||Ft===void 0?void 0:Ft.id)!==U)return;b(Object(ar.g)({windowId:c,index:Ve,viewParams:{startTs:R==null?void 0:R.mark,startTsOffset:R==null?void 0:R.offset}}));return}const Ma=Gt[0],Na=Gt[1];if((Ma==null||(Q=Ma.primary)===null||Q===void 0?void 0:Q.id)===U){b(Object(C.g)({windowId:c,container:P,params:{startTs:R==null?void 0:R.mark,startTsOffset:R==null?void 0:R.offset}}));return}(Na==null||(oe=Na.primary)===null||oe===void 0?void 0:oe.id)===U&&b(Object(ar.g)({windowId:c,index:1,viewParams:{startTs:R==null?void 0:R.mark,startTsOffset:R==null?void 0:R.offset}}))});ti.meta={name:"createThunk",key:"createThunkmaybeSaveChildWindowScrollmark",description:"Save the child window scrollmark when the user moves away from the view"};var di=e("HVk8"),mi=e("uVdA"),ai=e("v7mh"),ui=e("lLIM"),pi=e("OaiI");const hi=Object(r.b)(E.a,wt.a),vi=17,fi=hi([b=>b,(b,n)=>n,(b,n,o)=>o],(b,n,o)=>{let{timestamps:c,start:P,end:U,reachedStart:R,reachedEnd:Q,prevReachedEnd:oe}=b;if(!Q&&!oe&&c&&c.length-Object(a.a)(c,o)<vi)return{messages:[],rollups:{},reachedStart:!1,reachedEnd:!1};var de;const Oe=c.map(Ft=>(de=n[Ft])!==null&&de!==void 0?de:{ts:Ft,isUnknown:!0}).filter(Ft=>!Object(Et.b)(Ft)&&!Object(qe.fb)(Ft)),{rollups:Ve,messages:Gt}=Object(Mr.a)(Oe);return{messages:Gt,timestamps:Object(t.a)(Object(m.a)(Gt,Ft=>Ft==null?void 0:Ft.ts)),rollups:Ve,reachedStart:R,reachedEnd:Q,prevReachedEnd:oe,oldest:P,latest:U}});function gi(b){let{state:n,channelId:o,timestamps:c,rollups:P,lastReadTs:U}=b;const R=Object(ie.a)(n);return Object(O.a)(c,Q=>{const de=Object(re.b)(n,o,Q,!1);return de?P[Q]?Object.values(P[Q]).map(Ft=>Ft.ts).filter(di.a).map(Ft=>Object(re.b)(n,o,Ft)).some(Ft=>Object(tt.a)(Ft,U,R)):Object(tt.a)(de,U,R):!1})}s(gi,"getFirstUnreadTs");function Oi(b){let{state:n,rolledMessages:o}=b;const c=Object(i.a)(o,P=>{if(P!=null&&P.isUnknown)return!1;const U=Object(ta.a)(P),R=Object(De.a)(n,U);return R?!!R.length:!1});return c?c.ts:null}s(Oi,"getLatestMessageTsWithReactions");const Ei=s((b,n)=>{var o,c;const{shouldUseNavigate:P,container:U,getSiblingView:R,isChildWindow:Q}=n,oe=P?R(b,{container:U??u.h.Primary}):void 0,de=P&&oe?oe.id:n.channelId||Object(ve.a)(b),Oe=Object(X.d)(b,de),Ve=Object(ie.i)(b,"feature_tinyspeck"),Gt=Object(ie.a)(b),Ft=Object(zt.g)(b),Ma=Object(zt.d)(b),Na=Object(_.b)(b),vn=Object(_.f)(b),Mn=Object(It.i)(b),ln=Object(It.j)(b),Yn=Object(He.b)(b,{shouldUseNavigate:P,getSiblingView:R}),zo=Object(f.d)({state:b}),Yo=Object(l.a)({state:b}),Po=Object(g.a)({state:b}),Qo=Object(_a.a)(b),nr=Object(It.c)(b),Nr=Object(mi.a)(b);if(!Oe)return{featureTinyspeck:Ve,currentUserId:Gt,teamId:Ft,enterpriseId:Ma,sessionId:Na,hasMessagePaneUnmounted:vn,windowLastBlurEvent:Mn,windowLastFocusEvent:ln,telemeter:zo,logger:Yo,clogger:Po,bootInFlight:Qo,bootType:nr};const sr=Object(Qt.b)(b,de),Dr=!!(de&&Object(Qt.c)(b,de));let so=Object(Be.z)(b,Oe),Cr=!1;const Jo=P&&U?(o=R(b,{container:U}))===null||o===void 0||(c=o.uiState)===null||c===void 0?void 0:c.ghostLastRead:Object(_.e)(b);Jo&&Jo!==so&&(so=Jo,Cr=!0);let Eo,or,Ao,rr;if(n.columnIdentifier==="inspector"||n.shouldUseNavigate){var wr,zr;if(Eo=Q?n.startTs:n.startTs||((wr=Object(_.r)(b,de))===null||wr===void 0?void 0:wr.mark),or=Q?n.startTsOffset:n.startTsOffset||((zr=Object(_.r)(b,de))===null||zr===void 0?void 0:zr.offset),n.shouldUseNavigate){var Yr,Qr,Jr,Zr;Ao=oe==null||(Yr=oe.uiState)===null||Yr===void 0||(Qr=Yr[de])===null||Qr===void 0?void 0:Qr.highlightTs,rr=oe==null||(Jr=oe.uiState)===null||Jr===void 0||(Zr=Jr[de])===null||Zr===void 0?void 0:Zr.highlightLazy}else Ao=n.highlightTs,rr=n.highlightLazy}else Eo=Object(_.l)(b),or=Object(_.m)(b),Ao=Object(_.k)(b),rr=Object(_.j)(b);const Ii=Object(_.i)(b),_i=Object(Be.R)(Oe),si=Object(x.j)(b,de,so),ji=si&&si.reachedEnd,Si=Object(_.b)(b),Pi=Object(je.a)(b),Rr=Object(x.h)(b,de,Eo||void 0),Ai=!1,Mi=Object(re.d)(b,de||"",Rr&&Rr.timestamps?Rr.timestamps:[],Ai),{timestamps:Xr,messages:ir,rollups:$r,reachedStart:Ni,reachedEnd:Di,prevReachedEnd:Ri,oldest:Li,latest:xi}=fi(Rr,Mi,Eo);(Object(Da.l)(Oe)&&!Object(Be.db)(Oe)||Object(kt.a)(Oe))&&(so=Object(v.a)(Xr));const Bi=gi({state:b,channelId:de||"",timestamps:Xr||[],rollups:$r,lastReadTs:so||""}),Ui=Object(_t.j)(b);let oi;Object(Be.tb)(b,Oe)&&(oi=Object(Be.Q)(b,Oe));const Fi=Object(vt.a)(Oe)&&!!Object(ga.i)(b,Oe,!0),Wi=Object(pi.isListsEnabled)(b)&&Object(vt.a)(Oe)&&!!Object(ga.h)(b,Oe,!0),Ki=Object(Sa.a)(b);let ri,ii=!0,li,ci=!0;if(Object(W.X)(b)&&Object(Be.db)(Oe)){if(Object(W.d)(b,{tip:ee.f.Threads})){const lr=we({rolledMessages:ir}),Lr=lr?null:dt({state:b,rolledMessages:ir,channelId:de||"",currentUserId:Gt});let xr;Object(W.ib)(b)===ee.f.Threads&&(xr=ot({state:b,rolledMessages:ir,channelId:de||""})),ri=lr||Lr||xr}if(Object(W.rb)(b,{tip:ee.f.Threads})&&(ii=!1),Object(W.d)(b,{tip:ee.f.Reacji})){const lr=Ee({rolledMessages:ir,currentUserId:Gt,teamId:Ft||"",experimentRichTextGroupOn:Nr}),Lr=lr?null:Oi({state:b,rolledMessages:ir}),xr=!lr&&!Lr?St({state:b,rolledMessages:ir,currentUserId:Gt}):null;li=lr||Lr||xr}}Object(W.rb)(b,{tip:ee.f.Reacji})&&(ci=!1);const ki=Object(Ka.g)(b,de),Hi=Object(Xt.c)(b,de||"");return{isFileExpanding:Ki,channelId:de,type:Object(Da.d)(Oe),isExternalIm:Object(Ge.a)(Oe),channelDisplayName:Object(Be.t)(b,Oe,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),timestamps:Xr,reachedStart:Ni,reachedEnd:Di,prevReachedEnd:Ri,oldest:Li,latest:xi,lastReadTs:so,isGhostLastRead:Cr,unreadCount:_i,unreadCountKnown:ji,startTs:Eo,startTsOffset:or,highlightTs:Ao,ariaAnnounceMessageTs:Ii,highlightLazy:rr,focusRequestedTs:Object(_.d)(b),rollups:Object(T.a)($r)?y.b:$r,isArchived:Object(kt.a)(Oe),isLoading:sr,isLoadingOlder:Dr,isLimited:!!(de&&Object(x.g)(b,de)),blurredMessages:Object(x.d)(b,de),isSlackbotIm:Object(Be.pb)(Oe),overlayIsOpen:Object(Ie.g)(b),channelSessionId:Si,theme:Pi,firstUnreadTs:Bi,featureTinyspeck:Ve,teamId:Ft,enterpriseId:Ma,sessionId:Na,hasMessagePaneUnmounted:vn,windowLastBlurEvent:Mn,windowLastFocusEvent:ln,currentUserId:Gt,badgeCount:Object(X.c)(b,Oe),isShared:Object(Bt.a)(Oe),isOrgShared:Object(aa.a)(Oe),isMuted:!!(de&&Object(F.b)(b,de)),hasUnreads:!!Object(Be.R)(Oe),hasDraft:!!(de&&Object(Be.v)(b,de)),isScreenReaderEnabled:Ui,currentThreadKey:Yn,unavailableTeamId:oi,canPostInChannel:!!(de&&Object(me.b)(b,de)),telemeter:zo,logger:Yo,clogger:Po,bootInFlight:Qo,bootType:nr,isOffline:!Object(fe.d)(b),clientTheme:Object(ye.a)(b),isProgressiveDisclosureEnabled:Object(W.X)(b),latestMessageTsForProgressiveDisclosureReacjiFlag:li,isEligibleToUpdateReacjiAnchoredMessageTs:ci,latestMessageTsForProgressiveDisclosureThreadsFlag:ri,isEligibleToUpdateThreadsAnchoredMessageTs:ii,showSearchScrollbackTip:Object(A.b)(b),isDegradedMode:Object(ja.l)(b),isChannelConversionInProgress:!!(de&&Object(Ea.a)(b)&&nt(b,de)),showUnfurledJoiners:ia(b,Oe),hasSeenUnfurledJoinersForeword:Object(_.g)(b),isBookmarksVisible:ki,isSpaceshipFileChannel:Fi,isListFileChannel:Wi,experimentIaBookmarksHideShowGroupTreatment:Hi,isConversationViewsEnabled:Object(Gr.a)(b),isPerKeyThreadMetadataOn:Object(ae.a)(b),isWelcomeDmTipOpen:Object(ui.b)(b),experimentCheckChannelConnectivityForDmsGroupOn:Object(j.d)(b,"check_channel_connectivity_for_dms")==="on"}},"connected_message_pane_mapStateToProps");function bi(b,n){let{shouldUseNavigate:o,windowId:c,container:P,activeTab:U}=b;return(R,Q)=>{if(o&&P)if(c===u.c){var oe;const Oe=Object(ai.g)(Q(),{tab:U,container:P}),Ve=Oe==null||(oe=Oe.uiState)===null||oe===void 0?void 0:oe.unreadLineVisible;Ve!==n&&(Object(l.a)({getState:Q}).info("CHECK-UNREADS",`unreadLineVisible updated in main window container ${P}: ${Ve} -> ${n}`),R(Object(C.h)({windowId:u.c,tab:U,container:P,uiState:{unreadLineVisible:n}})))}else{var de;const Oe=Object(ai.d)(Q(),{windowId:c,container:P}),Ve=Oe==null||(de=Oe.uiState)===null||de===void 0?void 0:de.unreadLineVisible;Ve!==n&&(Object(l.a)({getState:Q}).info("CHECK-UNREADS",`unreadLineVisible updated in child window ${c} container ${P}: ${Ve} -> ${n}`),R(Object(C.h)({windowId:c,container:P,uiState:{unreadLineVisible:n}})))}else{const Oe=Object(_.u)(Q());Oe!==n&&(Object(l.a)({getState:Q}).info("CHECK-UNREADS",`unreadLineVisible updated: ${Oe} -> ${n}`),R(Object(S.u)(n)))}}}s(bi,"checkAndSetUnreadLineVisibility");const Ci=s(b=>(n,o)=>Object(Ne.a)(o(),b),"canStartOrOpenThreadStateWrapper"),Ti=Object(r.a)(b=>b,(b,n)=>n.shouldUseNavigate,(b,n)=>n.windowId,(b,n)=>n.container,(b,n)=>n.activeTab,(b,n)=>n.view,(b,n,o,c,P,U)=>({redirectMessagePane:R=>b(Fa(R)),fetchHistory:R=>b(Object(N.a)(R)),setUnreadPoint:R=>b(Object(H.a)(R)),markMostRecentMsgRead:R=>b(Object(te.a)(R)),setUnreadLineVisibility:R=>b(bi({shouldUseNavigate:n,windowId:o,container:c,activeTab:P},R)),clearHighlightTs:()=>b(h({channelId:U==null?void 0:U.id,container:c})),clearAriaAnnounceMessageTs:()=>b(Object(S.a)()),jumpToTimestamp:R=>b(Object(V.a)({...R})),saveScrollmark:R=>b(Object(D.a)(R)),setMessagePaneHasUnmounted:R=>b(Object(S.q)(R)),makeMessageSummary:R=>b(Object(se.a)(R)),setFocusRequestedTs:R=>b(Object(S.l)(R)),canStartOrOpenThread:R=>b(Ci(R)),showThreadIfThreadable:R=>b(Object(ne.a)(R)),metadataShowThreadIfThreadable:R=>b(Object(Z.a)(R)),searchInProductEducationReset:()=>b(Object(Y.a)()),setHasSeenUnfurledJoinersForeword:R=>b(Object(S.n)(R)),maybeShowProgressiveDisclosureTip:R=>b(Object(le.a)(R)),setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip:R=>b(Object(nn.G)(R)),maybeSaveChildWindowScrollmark:R=>b(ti(R))}));var yi=Object(Ae.b)(Object(da.a)(Object(I.a)(Ei,Ti)(Ar))),Gi=p.a=yi},rCFu:function(w,p,e){"use strict";e.d(p,"c",function(){return y}),e.d(p,"b",function(){return f}),e.d(p,"a",function(){return l}),e.d(p,"g",function(){return _}),e.d(p,"h",function(){return A}),e.d(p,"f",function(){return Y}),e.d(p,"d",function(){return V}),e.d(p,"e",function(){return G});var a=e("5IZy"),t=e("G5NC"),m=e("vfQU"),O=e("Pw4T"),i=e("lhZz"),v=e("U28S"),T=e("Z7Ay"),I=e("rIJ2"),r=e("ktUG"),E=e("nNoG");const y=0,f=1,l=2;function g(C,u,d,h,D,F,x,te){if(!G(D,F,r.EventId.PRQ_CHANNEL_SWITCH_USABLE))return;let H,X;switch(h){case y:default:H=r.TimingStatus.COMPLETED,X=!1;break;case f:H=r.TimingStatus.ABANDONED,X=!0;break;case l:H=r.TimingStatus.COMPLETED,X=!0;break}const je={elapsed_time:Object(v.b)(C*1e3*1e3,0),target_channel_id:d,required_sync:X,end_state:H,...N(x,u,te)},ie={userId:te,teamId:D,enterpriseId:F,locale:Object(E.m)()};Object(a.a)(ie).track(r.EventId.PRQ_CHANNEL_SWITCH_USABLE,je);const ve=Object(i.getStoreInstanceByTeamId)(D),ne=ve&&ve.getState(),Z=Object(t.a)()?"channel_switch_usable_sonic":"channel_switch_usable_legacy";Object(O.d)({state:ne}).store(Z,Math.round(C))}s(g,"trackChannelSwitchUsable");function j(C,u,d,h,D,F,x,te){if(!G(D,F,r.EventId.PRQ_CHANNEL_SWITCH_VISIBLE))return;let H,X;switch(h){case y:default:H=r.TimingStatus.COMPLETED,X=!1;break;case f:H=r.TimingStatus.ABANDONED,X=!0;break;case l:H=r.TimingStatus.COMPLETED,X=!1;break}const je={elapsed_time:Object(v.b)(C*1e3*1e3,0),target_channel_id:d,required_sync:X,end_state:H,...N(x,u,te)},ie={userId:te,teamId:D,enterpriseId:F,locale:Object(E.m)()};Object(a.a)(ie).track(r.EventId.PRQ_CHANNEL_SWITCH_VISIBLE,je);const ve=Object(i.getStoreInstanceByTeamId)(D),ne=ve&&ve.getState(),Z=Object(t.a)()?"channel_switch_visible_sonic":"channel_switch_visible_legacy";Object(O.d)({state:ne}).store(Z,Math.round(C))}s(j,"trackChannelSwitchVisible");function _(C,u,d,h,D,F,x,te){if(!G(h,D,r.EventId.PRQ_TIME_TO_USABLE))return;const H=Object(v.b)(C*1e3*1e3,0),X=S(),re={elapsed_time:H+X,desktop_elapsed_time:X,required_sync:d,end_state:te,start_type:r.MetricStartType.COLD,target_type:r.MetricTargetType.CHANNEL,...N(F,u,x)},je={userId:x,teamId:h,enterpriseId:D,locale:Object(E.m)()};Object(a.a)(je).track(r.EventId.PRQ_TIME_TO_USABLE,re)}s(_,"trackTimeToUsable");function A(C,u,d,h,D,F,x){if(!G(h,D,r.EventId.PRQ_TIME_TO_VISIBLE))return;const te=Object(v.b)(C*1e3*1e3,0),H=S(),X={elapsed_time:te+H,desktop_elapsed_time:H,required_sync:d,end_state:r.TimingStatus.COMPLETED,start_type:r.MetricStartType.COLD,target_type:r.MetricTargetType.CHANNEL,...N(F,u,x)},re={userId:x,teamId:h,enterpriseId:D,locale:Object(E.m)()};Object(a.a)(re).track(r.EventId.PRQ_TIME_TO_VISIBLE,X)}s(A,"trackTimeToVisible");function Y(C,u,d,h,D,F,x){if(!G(h,D,r.EventId.PRQ_SESSION_FRAME_STATS))return;const te={duration_ms:C,sample_filter:"entire_session",hist_frame_render_time:u,hist_janky_windows:d,...N(F,void 0,x)},H={userId:x,teamId:h,enterpriseId:D,locale:Object(E.m)()};Object(a.a)(H).track(r.EventId.PRQ_SESSION_FRAME_STATS,te)}s(Y,"trackSessionFrameStats");function N(C,u,d){const h=typeof d=="string"&&d.startsWith("W"),D={device:{id:"",make:navigator.platform,model:navigator.platform,os:Object(m.fb)()?"electron":"webapp",os_version:m.bc||""}};let F;if(u)switch(D.ui_context={action:u==="QUICK_SWITCH"?"keydown":"click",ui_component:u},u.toUpperCase()){case"APP_ICON":F=r.MetricTrigger.APP_ICON;break;case"MSG_PANE":F=r.MetricTrigger.MSG_PANE;break;case"SIDE_BAR":F=r.MetricTrigger.SIDE_BAR;break;case"QUICK_SWITCH":F=r.MetricTrigger.QUICK_SWITCH;break;default:F=r.MetricTrigger.UNKNOWN;break}const x={contexts:D,session_id:C,time:Date.now(),app_id:Object(t.a)()?"web_sonic":"web",is_tablet:!1,user_id:h?void 0:d,external_id:h?d:void 0,...J()};return u&&(x.trigger=F),x}s(N,"getCommonMetadata");function S(){if(Object(m.fb)()){const C=Object(m.Jc)();if(C!==void 0)return C*1e6;const u=Object(m.l)();if(u&&u.numTeamsAtLaunch!==void 0&&u.isInitialTeamBooted!==void 0&&u.numTeamsAtLaunch>0&&u.isInitialTeamBooted){const d=u.BOOT,h=u.PRELOAD_READY,D=Object(m.j)(d,h);return D>0?D*1e6:0}}return 0}s(S,"getDesktopElapsedTime");function V(){if(Object(m.fb)()){const C=Object(m.Ic)();if(C!==void 0)return C;const u=Object(m.l)();if(u&&u.numTeamsAtLaunch!==void 0&&u.isInitialTeamBooted!==void 0&&u.numTeamsAtLaunch>0){const d=u.PRELOAD_STARTED,h=u.PRELOAD_READY,D=Object(m.j)(d,h);return Math.floor(D)}}return 0}s(V,"getDesktopPreloadTime");function J(){if(Object(m.fb)()){const C=Object(m.D)();if(C){const u=C.prerelease?` (${C.prerelease})`:"",d=typeof C.prerelease=="string"?C.prerelease.match(/(alpha|beta|electron3|sonic)/i)&&C.prerelease.match(/(alpha|beta|electron3|sonic)/i)[1]:"production";let h;switch(d){case"alpha":case"electron3":h=r.ClientBuildType.ALPHA;break;case"beta":h=r.ClientBuildType.BETA;break;default:h=r.ClientBuildType.PRODUCTION;break}return{app_version:`${C.major}.${C.minor}.${C.patch}${u}`,release_version:`${C.major}.${C.minor}.${C.patch}`,build_type:h}}}return{app_version:"",release_version:"",build_type:r.ClientBuildType.PRODUCTION}}s(J,"getElectronInfo");function G(C,u,d){return["E12KS1G65"].includes(u)||["T024BE7LD","T5J4Q04QG"].includes(C)||["E27SFGS2W","E655JKQRX","E7RBBBXHB","E23RHNDU5","E5BRU6WAE","E4XV0NYS0","E7AN7J5RP","E3T9KQULR","E23RE8G4F","E46RWAPHC","E6GDLMBCM","E3U2DUYG4","E783C7HT4","E8YCM8N9L","E30MTJF0C","E4BGDDU1H","E56KHGV6G","E7U335QS3","E8RLKB40H","E61V1AN6R","E7SV3P9PU","E3ZLD3D42"].includes(u)&&Object(I.a)(10)||["E27SFGS2W"].includes(u)&&[r.EventId.PRQ_TIME_TO_USABLE,r.EventId.PRQ_TIME_TO_VISIBLE].includes(d)||[r.EventId.PRQ_TIME_TO_USABLE,r.EventId.PRQ_TIME_TO_VISIBLE].includes(d)?!0:(d===r.EventId.PRQ_SESSION_FRAME_STATS,Object(I.a)(10))}s(G,"isPRQEnabled"),Object(T.a)("prq",{getDesktopElapsedTime:S,getDesktopPreloadTime:V,getElectronInfo:J})},rarT:function(w,p,e){"use strict";e.d(p,"a",function(){return r});var a=e("9oTK"),t=e.n(a),m=e("m8R6"),O=e("2XU3"),i=e("WCk1"),v=e("s4P+"),T=e("pjW8");const I={FeatureNotEnabled:"feature_not_enabled",WorkspaceNotFound:"workspace_not_found",UserNotFound:"user_not_found",OperationNotAllowed:"operation_not_allowed",ActiveInvite:"active_invite",AlreadyInWorkspace:"already_in_workspace",CouldNotCreateInvite:"could_not_create_invite",RestrictedAction:"restricted_action"},r=Object(i.a)("externalWorkspaces.invites.sendByUser generated fetcher",function(){var E=Object(a.coroutine)(function*(y,f,l){try{const g=["reason"],j=Object(m.a)(l,g),_=Object(T.b)(j);return yield y(Object(O.apiCall)({method:"externalWorkspaces.invites.sendByUser",args:_,reason:l.reason}))}catch(g){throw Object(v.a)({getState:f}).error(`API call to externalWorkspaces.invites.sendByUser
				with reason ${l.reason} failed, initiated by generated fetcher`),g}});return function(y,f,l){return E.apply(this,arguments)}}());r.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesSendByUserFetcher",description:"externalWorkspaces.invites.sendByUser generated fetcher"}},rlyZ:function(w,p,e){w.exports=e.p+"home-illustration-d969130.png"},sGEr:function(w,p,e){w.exports=e.p+"external-workspace-envelope-success-a5b43fa.png"},sKvQ:function(w,p,e){"use strict";var a=e("SQ0V"),t=e("+ZQ6"),m=e("O86Y"),O=e("S8Va");const i=Object(a.c)("Reload view",(v,T,I)=>{let{id:r}=I;const E=T(),y=Object(m.g)(E);Object(t.a)(r)&&y&&Object(O.b)().fetchObjectWithId(y,r)});i.meta={name:"createThunk",key:"createThunkreloadView",description:"Reload view"},p.a=i},sqfg:function(w,p,e){"use strict";var a=e("Vfgr"),t=e("ifKl"),m=e("zmn3"),O=e("wd/R"),i=e.n(O),v=e("BHdc"),T=e("WIr4"),I=e("q1tI"),r=e.n(I),E=e("Cfcg"),y=e("mM05"),f=e.n(y),l=e("s4P+"),g=e("nNoG"),j=e("7nxQ"),_=e("FWtP"),A=e("ltL2"),Y=e("Y/OQ"),N=e("/JQq"),S=e("Yauy"),V=e("miM7"),J=e("m7Aw"),G=e("Kn+X"),C=e("BBdC"),u=e("vUys"),d=e("xJda"),h=e("9e9D"),D=e("EzPs"),F=e("Wn1n"),x=e("E3dU"),te=e("f7Y4"),H=e("SQ0V"),X=e("+ox6"),re=e("5Uwk"),je=e("FaiB"),ie=e("beVI"),ve=e("j77i");const ne=Object(H.c)("Adds an offline sent message to the queue for sending when back online",(z,K,$)=>{z(Object(re.a)($));const pe=K(),Ce=Object(ie.g)(pe),Pe=Object(je.a)(pe);Object(ve.x)(Ce==null?void 0:Ce.id,X.a,Pe)});ne.meta={name:"createThunk",key:"createThunkaddPendingOnlineMessage",description:"Adds an offline sent message to the queue for sending when back online"};var Z=ne,ae=e("I27i"),se=e("OJZy"),fe=e("ZXTy"),Ie=e("2/KV"),ye=e("45TD"),De=e("i79n"),Ae=e("DnI3"),qe=e("gTpg"),Et=e("xwCZ"),Ne=e("gCYc"),tt=e("62K+"),ta=e("m5fH"),ct=e("fPvm"),kt=e("Z9Pi"),xt=e("O2qk"),Be=e("NgZ7"),Bt=e("fMrX"),Zt=e("vrU2"),Ut=e("O86Y"),Da=e("Be/4"),ia=e("xHh6"),da=e("c+dP"),Xt=e("+tZp"),Ka=e("W29z"),aa=e("EfZz"),vt=e("K93O"),Ge=e("7/SY"),He=e("k9qy"),me=e("PPXB"),wt=e("5jHt"),zt=e("/MKj"),It=e("zxER"),_t=e("oEDn"),jt=e("6R8Z"),nt=e("u0LO"),Ea=e("MRve"),dt=e("68qM"),Je=e("wKGu"),we=e("ktUG"),ot=e("2Wms"),Yt=e("71eM"),Ee=e("ap5V"),Dt=e("77xR");const St=new g.b("stories_av"),W=s(z=>{let{channelId:K}=z;const $=Object(zt.useDispatch)(),pe=Object(It.d)(Lt=>Object(Zt.c)(Lt,{channelId:K})),Ce=Object(Je.a)();Object(ot.a)();const Pe=Object(I.useCallback)(()=>{$(Object(Ea.b)({component:nt.c.ClipsNux,type:nt.a.Dismiss,reason:"ClipsNuxPillDismiss"})),$(Object(Ea.b)({component:nt.c.ClipsNuxEntrypointVideo,type:nt.a.Dismiss,reason:"ClipsNuxPillDismiss"})),$(Object(Ea.b)({component:nt.c.ClipsNuxEntrypointAudio,type:nt.a.Dismiss,reason:"ClipsNuxPillDismiss"})),$(Object(Yt.a)({component:nt.c.ClipsNux,override:!1})),$(Object(Yt.a)({component:nt.c.ClipsNuxEntrypointVideo,override:!1})),$(Object(Yt.a)({component:nt.c.ClipsNuxEntrypointAudio,override:!1})),Ce.track(we.EventId.AV_CAPTURE,{contexts:{ui_context:{ui_step:"nux",action:"click",ui_properties:{element_type:we.ElementType.X,element_name:"nux_pill_dismiss"}}}})},[$,Ce]),Me=Object(I.useCallback)(()=>{$(Object(Ee.a)({articleId:4406611622163})),$(Object(Ea.b)({component:nt.c.ClipsNux,type:nt.a.Click,reason:"ClipsNuxPillClick"})),$(Object(Yt.a)({component:nt.c.ClipsNux,override:!1})),Ce.track(we.EventId.AV_CAPTURE,{contexts:{ui_context:{ui_step:"nux",action:"click",ui_properties:{element_type:we.ElementType.BUTTON,element_name:"nux_pill"}}}})},[$,Ce]);return Object(dt.a)(()=>{pe&&Ce.track(we.EventId.AV_CAPTURE,{contexts:{ui_context:{ui_step:"nux",action:"impression",ui_properties:{element_type:we.ElementType.BUTTON,element_name:"nux_pill"}}}})},[pe]),pe?r.a.createElement("div",{className:"p-clips_nux_pill"},r.a.createElement(jt.a,{className:"p-clips_nux_pill__button","aria-label":St.t("See how video clips work"),onClick:Me},r.a.createElement(_t.a,{type:"play-filled",className:"p-clips_nux_pill__play_icon",size:"inherit"}),r.a.createElement("span",{className:"p-clips_nux_pill_text"},St.t("See video clips in action"))),r.a.createElement(jt.a,{className:"p-clips_nux_pill__dismiss","aria-label":St.t("Dismiss"),onClick:Pe},r.a.createElement(_t.a,{type:"times-small"}))):null},"ClipsNuxPill");W.displayName="ClipsNuxPill";var ee=W,le=e("n3tL"),We=e("zlyu");const Ze=new g.b("coachmarks"),Pt={anchorElement:le.default.instanceOf(Element),setTractorMessageCoachmarkVisibility:le.default.func},bt={anchorElement:null,setTractorMessageCoachmarkVisibility:t.a};let la=s(class extends I.PureComponent{render(){const{anchorElement:K,setTractorMessageCoachmarkVisibility:$}=this.props;return r.a.createElement("div",{className:"position_relative"},r.a.createElement(We.a,{anchorElement:K,"data-qa":"coachmark",isOpen:!0,orientation:"top",offsetX:30,offsetY:45,arrowPosition:10,closeCoachmark:()=>$(!1),isMegaphoneCoachmark:!1},r.a.createElement("h3",null,Ze.t("Just type and press Enter")),r.a.createElement("p",null,Ze.t("Your coworkers will see your messages when they join. Feel free to use your own words instead!",{fallbackHash:"42140df99551a7fd3cb06821a78dbce3f03dfa70"}))))}},"TractorSendMessageCoachmark");la.displayName="TractorSendMessageCoachmark",la.propTypes=Pt,la.defaultProps=bt;var Ia=e("RUo5"),Fa=e("pu3F"),_a=e("qMw6"),ja=e("RB1+"),Sa=e("5U8P"),ga=e("fwfO"),Qt=e("FZE2"),nn=e("gPPH"),Va=e("U3SE"),Ye=e("kBd7"),Jt=e("orxu"),q=e("HKlo"),ma=e("IsIP"),cn=e("c1EY"),Ga=e("rZ8V"),wa=e("V+Kh");const At=Object(H.c)("Update keyboard focus history",(z,K,$,pe)=>{const Ce=K();if(!Object(Ga.o)(Ce))return;const{updateFocusHistory:Pe}=Object(wa.b)(Ce,pe);Pe($)});At.meta={name:"createThunk",key:"createThunkupdateFocusHistoryThunk",description:"Update keyboard focus history"};var qa=e("mjhc"),Nn=e("SvP2"),fn=e("VijU"),ka=e("28Q5"),za=e("IaLB"),In=e("zcRq"),Xa=e("v5z3"),Ya=e("5IZy"),Oa=e("uVZW"),Os=e("eWGC");const Dn=Object(H.c)("handle updating first message flag to explainer and tracking clog",(z,K)=>{const $=K(),pe=Object(Ya.a)({state:$});!Object(za.X)($)||!Object(za.pb)($,{tip:Xa.f.FirstMessage})||(z(Object(Os.a)({notificationName:Oa.h.PD_FIRST_MESSAGE,action:Oa.f.CLICK,step:Xa.g.Flag})),pe.track(we.EventId.NEWXP_TEAM_CREATE,{contexts:{ui_context:{action:we.UiAction.CLICK,action_status:we.UiActionStatus.BYPASS_CLICK,step:we.UiStep.PROG_DISC_TIP,step_variant:Xa.f.FirstMessage,ui_properties:{element_name:Xa.g.Flag}}}}))});Dn.meta={name:"createThunk",key:"createThunkhandleFirstMessageFlagToExplainerAndClog",description:"handle updating first message flag to explainer and tracking clog"};var bn=e("mGaQ"),_n=e("QcWC"),mn=e("w5j6"),un=e("7+Lm"),Un=s(z=>Object(un.c)(z,Oa.g.IN_PRODUCT_COACHMARK)===Oa.h.CLIPS_REPACKAGING_COACHMARK,"use_clips_repackaging_coachmark"),ze=e("9gjj"),ce=e("jBIF"),Le=e("kDB5"),Ke=e("RMWS"),at=e("xP5H"),ua=e("JoR1"),Pa=e("rq2v"),Ba=e("RVJP"),Mt=e("BfA7");const $t={[Oa.h.SUGGEST_MESSAGE_TIP]:{component:r.a.lazy(()=>Promise.resolve().then(e.bind(null,"xP5H")))}};let Rt=s(class extends I.Component{render(){const{children:K,onboardingTipOptOut:$,experimentNewxp7778GroupOn:pe,suggestMessageIsVisible:Ce,channelId:Pe}=this.props;return r.a.createElement(r.a.Fragment,null,pe?this.props.isMegaphoneLoaded&&!this.props.hasMegaphoneNotifications&&Pe&&Ce&&r.a.createElement(Pa.c,{spaceName:Oa.g.MESSAGE_PANE,notifications:$t,channelId:this.props.channelId}):!this.props.isProgressiveDisclosureEnabled&&!this.props.isEligibleForProgressiveDisclosure&&!this.props.isSetupCoachmarkShowing&&this.props.isMegaphoneLoaded&&!this.props.hasMegaphoneNotifications&&Pe&&!$&&Ce&&r.a.createElement(at.default,{channelId:this.props.channelId}),K)}constructor(K){super(K)}},"OnboardingMessageWrapper");Rt.displayName="OnboardingMessageWrapper";const Cn=s((z,K)=>{let{channelId:$}=K;const pe=Object(x.d)(z,$),Ce=Object(S.r)(z,pe);return{hasMegaphoneNotifications:!!(Object(un.c)(z,Oa.g.WELCOME_SPACE)||Object(un.c)(z,Oa.g.PROGRESSIVE_DISCLOSURE)),isMegaphoneLoaded:Object(un.d)(z,Oa.g.WELCOME_SPACE)&&Object(un.d)(z,Oa.g.PROGRESSIVE_DISCLOSURE),isSetupCoachmarkShowing:Object(za.t)(z),clogger:Object(Ya.a)({state:z}),isProgressiveDisclosureEnabled:Object(za.X)(z),isEligibleForProgressiveDisclosure:Object(za.O)(z),suggestMessageIsVisible:Object(Ke.c)({state:z,channel:pe,channelOnboardingType:Ce}),onboardingTipOptOut:Object(ua.t)(z,"onboarding_tip_opt_out"),experimentNewxp7778GroupOn:Object(Ba.d)(z,"newxp_7778",!1)==="on"}},"mapStateToProps");var Qn=Object(Mt.a)(Object(E.a)(Cn)(Rt)),gn=e("tutL"),cs=e("THtN"),Es=e("Z9Nv"),ds=e("ohbk"),bs=e("FFIf"),es=e("m40f"),Fn=e("htvf"),Jn=e("I0j/"),rn=e("37+L"),Wn=e("UmHn"),en=e("0Xjs");function Zn(){return Zn=Object.assign||function(z){for(var K=1;K<arguments.length;K++){var $=arguments[K];for(var pe in $)Object.prototype.hasOwnProperty.call($,pe)&&(z[pe]=$[pe])}return z},Zn.apply(this,arguments)}s(Zn,"_extends");const ms=new g.b("archives");let Tn=s(class extends I.Component{render(){const{channel:K,channelId:$,previewedChannelPrevRoute:pe,refToForward:Ce}=this.props;return r.a.createElement(Fn.a,{channelId:$,channel:K,onJoinButtonClicked:this.onJoinButtonClicked,joinButtonRef:Ce,previewedChannelPrevRoute:pe},pe===en.q.CHANNELS&&r.a.createElement(es.a,{className:"p-message_pane_input__preview_back_to_channel_browser","aria-label":ms.t("Back to All channels"),onClick:this.handleBackToChannelBrowserClick,"data-qa":"message-pane-input-preview-channel-back-to-channel-browser"},ms.t("Back to All channels")))}constructor(...K){super(...K),this.onJoinButtonClicked=$=>{const{transitionFocusTo:pe,channelId:Ce,clogger:Pe}=this.props;this.props.joinConversationApi({channelId:Ce,reason:"message_pane_input_preview"}).then(()=>{pe({focusKey:q.c.MESSAGE_PANE_MESSAGE_INPUT,forceFocus:!0})});const Me=$?we.UiStep.JOIN_CHANNEL_PANE_WITH_JOIN_CONTEXT:we.UiStep.JOIN_CHANNEL_PANE;Pe.track(we.EventId.RIMETO_JOIN_CONTEXT_JOIN_CHANNEL_CLICK,{contexts:{ui_context:{entry_point:"join-channel-pane",action:we.UiAction.CLICK,ui_step:Me}},channel_id:Ce})},this.handleBackToChannelBrowserClick=()=>{this.props.shouldUseNavigate?this.props.navigate(Object(rn.N)(Wn.a.BrowseChannels)):this.props.setPrimaryView({id:"Pbrowse-channels"})}}},"MessagePaneInputPreview");Tn.displayName="MessagePaneInputPreview",Tn.defaultProps={previewedChannelPrevRoute:null};const xs=s((z,K)=>{let{channelId:$}=K;const pe=Object(x.d)(z,$),Ce=Object(bs.i)(z)===$;return{channel:pe,previewedChannelPrevRoute:Ce?Object(bs.j)(z):null,clogger:Object(Ya.a)({state:z})}},"message_pane_input_preview_mapStateToProps"),us={joinConversationApi:cs.a,displayModelOrViewById:Es.a,setPrimaryView:ds.a,navigate:Jn.a},ts=Object(E.a)(xs,us)(Object(Ye.a)(Object(Mt.a)(Tn)));var Cs=r.a.forwardRef((z,K)=>r.a.createElement(ts,Zn({},z,{refToForward:K??r.a.createRef()}))),ge=e("Q+ye"),be=e("qH0c"),Se=e("2VFn"),he=e("DuRM"),mt=e("BoKH"),rt=e("KVhq"),Ct=e("nwIl");function Tt(){return Tt=Object.assign||function(z){for(var K=1;K<arguments.length;K++){var $=arguments[K];for(var pe in $)Object.prototype.hasOwnProperty.call($,pe)&&(z[pe]=$[pe])}return z},Tt.apply(this,arguments)}s(Tt,"message_pane_input_extends");const ft={display:"contents"},gt={width:"100%"};let na=s(class extends I.Component{componentDidMount(){const{channelId:K,getChannelPref:$,overlayIsOpen:pe}=this.props;pe||this.startListeningToKeydown(),this.registerInput(),K&&$&&$({channelId:K,prefName:"enable_at_channel",reason:"message-pane-input"})}componentDidUpdate(K){const{overlayIsOpen:$,channelId:pe,draftWasSent:Ce,logger:Pe,skipInitialFocusForProgressiveDisclosure:Me}=this.props,Lt=$&&!K.overlayIsOpen,Wt=!$&&K.overlayIsOpen;Lt&&this.stopListeningToKeydown(),Wt&&this.startListeningToKeydown(),pe&&K.channelId!==pe&&this.registerInput(),Ce&&Ce!==K.draftWasSent&&Pe.error("DRAFTS","Sent draft still in message pane input"),Me&&!K.skipInitialFocusForProgressiveDisclosure&&this.blur()}componentWillUnmount(){var K,$;this.stopListeningToKeydown(),($=(K=this).unregisterInput)===null||$===void 0||$.call(K),this.shouldNotListenToKeyDownAgain=!0,this.textyRef.current=null,this.disabledBarRef.current=null}get document(){var K;const{windowId:$}=this.props;return($!==Se.c&&((K=Object(he.c)($))===null||K===void 0?void 0:K.childWindowRef)||window).document}setTextyRef(K){this.setState(()=>({textyRefAvailable:!!K})),this.textyRef.current=K}setDisabledBarRef(K){this.setState(()=>({disabledBarRefAvailable:!!K})),this.disabledBarRef.current=K}onBlur(){this.startListeningToKeydown(),this.getInputRef()&&this.setState(()=>({hasKeyboardFocus:!1})),this.props.removeMessageEligibleForUnsending()}onFocus(){const{showProgressiveDisclosureFirstMessageFlag:K,container:$}=this.props;this.stopListeningToKeydown(),K&&this.props.handleFirstMessageFlagToExplainerAndClog(),this.props.updateFocusHistoryState({lastFocusTs:null}),$&&[Se.h.Primary,Se.h.Secondary].includes($)&&this.props.updateFocusHistory($)}onSelectionChange(){const{cursorInCodeBlock:K}=this.state,$=this.getInputRef();if($){const pe=$.getFormat(),Ce=pe&&pe["code-block"];K!==Ce&&this.setState(()=>({cursorInCodeBlock:Ce}))}}onTextChange(K,$){const{channelId:pe,draft:Ce}=this.props,Pe=this.getInputRef();let Me=!1;if(Pe){const Wt=Pe.getFormat();Me=Wt&&Wt["code-block"]}this.setState(()=>({textyValue:K,textyWysiwygLength:Object(Qt.a)(new f.a($)),cursorInCodeBlock:Me}));const Lt=Object(Y.a)(Object(G.n)(Ce));this.props.currentUserStartedTyping&&K&&K.indexOf("/")!==0&&Object(a.a)(K).length&&K!==Lt.trim()?this.props.currentUserStartedTyping({channelId:pe}):this.props.currentUserEndedTyping&&this.props.currentUserEndedTyping({channelId:pe})}onUpArrow(K){let{cmdKey:$=!1}=K;const{transitionFocusTo:pe,channelId:Ce}=this.props;if($)return!0;const Pe={id:Ce,uiState:{focusMostRecentMessage:!0}};return pe({focusKey:Object(ma.d)({focusKey:q.c.MESSAGE_PANE_MESSAGE_LIST}),focusMetadata:Pe,forceFocus:!0}),!1}onFocusTransition(){const K=this.getInputRef(),$=this.disabledBarRef.current,pe=this.isMessageInputEnabled();return this.props.skipInitialFocusForProgressiveDisclosure&&!this.skippedInitialFocusForProgressiveDisclosure&&(this.skippedInitialFocusForProgressiveDisclosure=!0,pe)?!0:pe&&K?K.hasFocus()?{isNoop:!0}:(K.focus(),!0):!pe&&$?$===this.document.activeElement?{isNoop:!0}:($.focus(),!0):!1}getFocusTransitionListeners(K,$,pe){return{[q.c.MESSAGE_PANE_MESSAGE_INPUT]:Ce=>Ce!=null&&Ce.id&&(Ce==null?void 0:Ce.id)!==K||!$&&!pe?!1:this.onFocusTransition()}}getCoachmarkElement(){const{shouldShowTractorMessageCoachmark:K,setTractorMessageCoachmarkVisibility:$,isGovSlackWorkspace:pe,isInstantSlackInviteeSession:Ce}=this.props;return pe||Ce?null:K?r.a.createElement(la,{setTractorMessageCoachmarkVisibility:$}):null}getPlaceholder(K,$,pe){return r.a.createElement(ge.a,{channelId:K||"",inputRef:pe,isSelfDm:$})}getInputRef(){return this.textyRef.current}getViewContext(){return _a.a.MESSAGE_PANE}isMessageInputEnabled(){return this.props.userCanPost&&!this.props.channelIsPreview}blur(){const K=this.getInputRef();K&&K.blur(),this.onBlur()}editLastMessage(K){let{keyboardShortcut:$,hasKeyboardFocus:pe}=K;this.props.editLastMessageInChannel({channelId:this.props.channelId,keyboardShortcut:$,hasKeyboardFocus:pe})}focus(){const K=this.getInputRef();K&&(K.setCursorAtEnd(),this.setState(()=>({hasKeyboardFocus:!0})))}handleKeyDown(K){if(!Object(ga.a)({e:K,isMenuVisible:Object(da.g)(),enableShortcuts:this.props.experimentFocusThreadOnKeydownAndRespectShortcutsGroupOn})||Object(Sa.a)(K.target,Ce=>Ce.classList.contains("p-threads_flexpane")))return;const pe=this.getInputRef();Object(j.e)()?setTimeout(()=>{var Ce;return(Ce=this.getInputRef())===null||Ce===void 0?void 0:Ce.focus()},0):pe&&pe.focus()}registerInput(){var K=this,$,pe;const{channelId:Ce}=this.props;Ce&&((pe=($=this).unregisterInput)===null||pe===void 0||pe.call($),this.unregisterInput=Object(ja.d)({viewContext:this.getViewContext(),channelId:Ce,functions:{getContainer:()=>{const Pe=this.getInputRef();return Pe?Pe.container:null},focus:()=>{const Pe=this.getInputRef();Pe&&Pe.setCursorAtEnd()},focusWithoutSettingCursor:()=>{const Pe=this.getInputRef();Pe&&Pe.focus()},maybeTriggerMentionAutocomplete:()=>{const Pe=this.getInputRef();Pe&&Pe.maybeTriggerMentionAutocomplete()},getContentsForCurrentSelection:()=>{const Pe=this.getInputRef();if(!Pe)return null;const Me=Pe.getSelection();return Me?Pe.getContentsForRange(Me.index,Me.length):null},openReactionPopoverForLastMessage:function(){let{returnFocusToMessage:Pe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(K.reactionPopoverRef.current){const Me=K.reactionPopoverRef.current;Me!=null&&Me.startReactionPopoverForLastMessage&&Me.startReactionPopoverForLastMessage({returnFocusToMessage:Pe})}},isCursorAtBeginning:()=>{const Pe=this.getInputRef();if(!Pe)return!1;const Me=Pe.getSelection();return Me&&Me.index===0},isCursorAtEnd:()=>{const Pe=this.getInputRef();if(!Pe)return!1;const Me=Pe.getSelection();return Me&&Me.index===Pe.getLength()},openPlusMenuShortcut:()=>{var Pe;const Me=this.getInputRef();Me&&(Me==null||(Pe=Me.instance)===null||Pe===void 0||Pe.openPlusMenuShortcut())}},getInputInstance:()=>this.getInputRef()}))}isSendingDisabled(){const{hasFiles:K,hasTooManyFiles:$,hasGifUnfurls:pe,experimentNativeGifPickerGroupOn:Ce}=this.props,{textyValue:Pe,textyWysiwygLength:Me}=this.state;if(Me>Fa.C||$)return!0;const Lt=!!Object(a.a)(Pe);return Ce?!Lt&&!K&&!pe:!Lt&&!K}sendMessage(){const{channelId:K,draft:$,pendingFileIds:pe,hasFiles:Ce,onExpand:Pe,logger:Me,getGifUnfurlsReadyForSending:Lt,hasGifUnfurls:Wt,experimentNativeGifPickerGroupOn:ya}=this.props,sa=this.getInputRef(),pa=sa==null?void 0:sa.getContents(),Aa=new f.a(pa.contents),ea=Object(C.a)($);let ba=Object(G.e)($);ya&&Wt&&!ba&&(ba=Object(kt.b)({channelId:K}));const Rn=Object(se.a)($),$a=Object(mt.a)($),ha=Object(Ge.a)(pa);if(!ha&&!Ce&&!ya||ya&&!ha&&!Ce&&!Wt)return null;if(this.props.isOfflineOutboxEnabled&&!this.props.isClientOnline)return this.props.addPendingOnlineMessage({channelId:K||"",delta:Aa,ts:i()().unix()}),sa==null||sa.clear(),null;const Ln=this.props.getDraftUnfurlsForMessageSend({draftId:ba||Object(kt.b)({channelId:K}),ops:pa.contents}),Js=this.props.getDataForDraftUnfurls({unfurls:Ln,draftId:ba}),Zs=this.props.getContactUnfurlsForMessageSend({draftId:ba||Object(kt.b)({channelId:K})}),Xs=this.props.getFilePermissionsForMessageSend({draftId:ba||Object(kt.b)({channelId:K})});if($){const jn=Object(A.a)(Aa);Me.debug("DRAFTS","Calling clearDrafts on send from MessagePaneInput"),ba&&this.props.clearDrafts({ids:[ba],reason:"MessagePaneInput:sendMessage",syncDelete:jn,disableFilePermissionsDraftClearing:!0,disableGifUnfurlClearing:!0})}return Wt&&Lt({draftId:ba}),sa==null||sa.clear(),this.setState(()=>({cursorInCodeBlock:!1})),sa==null||sa.focus(),this.props.prepareAndSendMessage({channelId:K||"",delta:Aa,fileIds:ea,unfurls:Ln,unfurlsWithData:Js,contactUnfurls:Zs,filePermissions:Xs,includeBroadcastKeywordWarning:!0,includeAtMentionInviteWarning:!0,includePrivateFileReshareWarning:!0,includeLoginInitiateRedirectLinkWarning:!0,pendingFileIds:pe,draftId:ba,draftUniqueId:Object(G.s)($),xArgs:Rn,shouldProcessEventForProgressiveDisclosure:this.props.isProgressiveDisclosureEnabled,inputRef:sa,slashCommandApplicableTeamId:$a}).then(()=>{const jn=this.getInputRef();jn&&jn.clearHistory(),Pe&&Pe(!1),ba&&(this.props.bulkClearDraftFilePermissions({draftIds:[ba]}),this.props.bulkClearGifUnfurls({draftIds:[ba]}))}).catch(jn=>{this.props.logger.info("MESSAGE-PANE-INPUT",jn),sa!=null&&sa.isEmpty()&&(sa==null||sa.setContents(pa),this.props.setComposerDraft({...$,ops:pa.contents}))})}startListeningToKeydown(){this.shouldNotListenToKeyDownAgain||this.props.overlayIsOpen||this.document.addEventListener("keydown",this.handleKeyDown)}stopListeningToKeydown(){this.document.removeEventListener("keydown",this.handleKeyDown)}handleContextBarClick(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.props.openAboutChannelModal({id:this.props.channelId,...K})}renderContextBar(){const{channelId:K,draft:$,showProgressiveDisclosureFirstMessageFlag:pe,hasFiles:Ce}=this.props,Pe=Object(G.e)($)||Object(kt.b)({channelId:K});return pe?r.a.createElement(fn.b,null):r.a.createElement(Nn.a,{key:K,channelId:K,draftId:Pe,viewContext:this.getViewContext(),ariaId:this.contextBarAriaId,inputHasFiles:!!Ce})}renderInput(){const{channelId:K,isSelfDm:$,draft:pe,isMessageInputCtaVisible:Ce,isStoriesButtonEnabled:Pe,isAudioButtonEnabled:Me,isSlidesButtonEnabled:Lt,isProgressiveDisclosureEnabled:Wt,showProgressiveDisclosureFirstMessageFlag:ya,showProgressiveDisclosureFirstMessageExplainer:sa,showProgressiveDisclosureAtMentionFlag:pa,shouldShowTractorMessageCoachmark:Aa,broadcastKeywordsEnabled:ea,onExpand:ba,isExpanded:Rn,isExpandEnabled:$a,shouldShowClipsRepackagingCoachmark:ha,experimentNativeGifPickerGroupOn:Ln}=this.props,{hasKeyboardFocus:Js}=this.state,Zs=this.getInputRef(),ps=!Aa&&!Wt&&Pe&&Me&&ha,Ts=r.a.createElement(me.b,{subtype:"message_input"},r.a.createElement(aa.a,{channelId:K,viewContext:this.getViewContext(),className:"p-workspace__input",sendMessage:this.sendMessage,editLastMessage:this.editLastMessage,ref:this.setTextyRef,enableStoryButton:Pe,enableAudioButton:Me,enableSlidesButton:Lt,enableEmojiButton:!0,enableGifPicker:Ln,enableEmojiButtonBadge:!0,enableMentionButton:!0,enableComposerButton:!0,enableSlashCommandsButton:!0,enableSendButton:!0,enableScheduleSendButton:!0,enableClipsRepackagingCoachmark:ps,isSendingDisabled:this.isSendingDisabled(),focusOnPaste:!0,onTextChange:this.onTextChange,onSelectionChange:this.onSelectionChange,onFocus:this.onFocus,onBlur:this.onBlur,placeholder:this.getPlaceholder(K,$,Zs),maxLines:void 0,maxLength:Fa.C,showFocusOutline:Js,ariaDescribedBy:this.contextBarAriaId,onUpArrow:this.onUpArrow,draft:pe,isMessageInputCtaVisible:Ce,isProgressiveDisclosureTipVisible:ya||sa,showProgressiveDisclosureFirstMessageFlag:ya,showProgressiveDisclosureAtMentionFlag:pa,enableBroadcastKeywords:ea,onExpand:ba,isExpanded:Rn,enableExpandButton:$a}));return r.a.createElement(vt.a,{ref:this.reactionPopoverRef,channelId:K},Ts)}render(){const{firstTyper:K,secondTyper:$,severalPeopleAreTyping:pe,userCanPost:Ce,channelIsPreview:Pe,channelId:Me,teamId:Lt,isExpanded:Wt,shouldShowNUXPill:ya,isInstantSlackInviteeSession:sa}=this.props,{textyWysiwygLength:pa,cursorInCodeBlock:Aa}=this.state;if(this.props.isUnavailable)return null;const ea=this.getFocusTransitionListeners(Me||"",this.state.textyRefAvailable,this.state.disabledBarRefAvailable);if(Me&&Pe)return r.a.createElement(Jt.a,{listeners:ea},r.a.createElement("div",{role:"none",style:ft,onKeyDown:this.handleKeyDownForDisabledBar},r.a.createElement(Cs,{channelId:Me||"",ref:this.setDisabledBarRef})));if(Me&&!Ce)return r.a.createElement(Jt.a,{listeners:ea},r.a.createElement("div",{role:"none",style:ft,onKeyDown:this.handleKeyDownForDisabledBar},r.a.createElement(gn.a,{teamId:Lt,channelId:Me||"",ref:this.setDisabledBarRef})));const ba=r.a.createElement(Jt.a,{listeners:ea},r.a.createElement(Qn,{channelId:Me||""},r.a.createElement("div",{className:Object(v.default)("p-message_pane_input"),"data-qa":"message_input_container"},r.a.createElement("div",{className:"p-message_pane_input_inner"},!sa&&r.a.createElement("div",{className:"p-message_pane_input_inner_top"},ya&&Me&&r.a.createElement(ee,{channelId:Me}),this.renderContextBar()),r.a.createElement("div",{className:"p-message_pane_input_inner_main"},this.renderInput()),r.a.createElement(He.a,{isInputExpanded:!!Wt,firstTyper:K,secondTyper:$,severalPeopleAreTyping:pe,hasMoreThanTwoCharacters:pa>2,cursorInCodeBlock:!!Aa}))))),Rn=this.getCoachmarkElement();return Rn?r.a.createElement(Ia.b,{coachmarkElement:Rn,orientation:"top",style:gt},ba):ba}constructor(K){super(K),this.handleKeyDownForDisabledBar=$=>{$.key==="ArrowUp"&&this.onUpArrow({cmdKey:Object(Va.a)($)})},Object(T.a)(this,["handleKeyDown","onTextChange","onSelectionChange","sendMessage","editLastMessage","startListeningToKeydown","stopListeningToKeydown","registerInput","focus","blur","onFocus","onBlur","onUpArrow","handleContextBarClick","onFocusTransition","getFocusTransitionListeners","handleKeyDownForDisabledBar","setTextyRef","setDisabledBarRef"]),this.getFocusTransitionListeners=Object(_.a)(this.getFocusTransitionListeners,2),this.textyRef=r.a.createRef(),this.disabledBarRef=r.a.createRef(),this.reactionPopoverRef=r.a.createRef(),this.unregisterInput=t.a,this.state={textyValue:"",textyWysiwygLength:0,hasKeyboardFocus:!1,textyRefAvailable:!1,disabledBarRefAvailable:!1},this.contextBarAriaId=qa.b.concat(Object(nn.a)().slice(-8)),this.getPlaceholder=Object(_.a)(this.getPlaceholder),this.skippedInitialFocusForProgressiveDisclosure=!1}},"MessagePaneInput");na.displayName="MessagePaneInput",na.defaultProps={userCanPost:!0,broadcastKeywordsEnabled:!0,onExpand:t.a,isClientOnline:!0};const Xe=s((z,K)=>{let $=K.channelId||Object(F.a)(z);if(K.shouldUseNavigate&&!(K!=null&&K.channelId)){var pe;$=(pe=K.getSiblingView(z,{container:Se.h.Primary}))===null||pe===void 0?void 0:pe.id}const Ce=Object(x.d)(z,$),Pe=Object(Ie.c)(z,$);let Me=[],Lt=[];Pe.length>0&&Pe.length<3&&(Me=Object(m.a)(Pe,ea=>Object(Et.g)(z,ea)),Me.sort((ea,ba)=>Object(g.l)(Object(Xt.b)(z,ea),Object(Xt.b)(z,ba))),Lt=Me.map(ea=>Object(Xt.a)(z,ea)));const Wt=Object(h.a)(z,$||"")||Object(kt.b)({channelId:$}),ya=Object(Ne.k)(z,Wt),sa=Object(u.a)(z,Wt),pa=Object(za.pb)(z,{tip:Xa.f.FirstMessage}),Aa=!!(Ce&&Object(za.X)(z)&&pa&&(Object(S.hb)(z,Ce)||Object(V.a)(Ce)));return{channelId:$,isSelfDm:Object(N.a)(z,Ce),userCanPost:Object(J.a)(z,$),firstTyper:Lt[0]||void 0,secondTyper:Lt[1]||void 0,severalPeopleAreTyping:Pe.length>2,overlayIsOpen:Object(Ka.g)(z),teamId:Object(Ut.g)(z),isUnavailable:Object(S.tb)(z,Ce),shouldShowClipsRepackagingCoachmark:Un(z),shouldShowTractorMessageCoachmark:!!Object(Be.c)(z),draft:ya,draftWasSent:!!(ya&&Object(xt.d)(z,{draftId:Object(G.s)(ya)})),pendingFileIds:sa,hasFiles:Object(D.a)(z,ya),hasTooManyFiles:!!(ya&&Object(d.a)(z,ya)),hasGifUnfurls:Object(Ct.a)(z,{draftId:Wt}),isMessageInputCtaVisible:Object(ka.f)(z)&&!Object(ka.c)(z)&&Object(za.O)(z),isProgressiveDisclosureEnabled:Object(za.X)(z),showProgressiveDisclosureFirstMessageFlag:pa,showProgressiveDisclosureFirstMessageExplainer:Object(za.ob)(z,{tip:Xa.f.FirstMessage}),showProgressiveDisclosureAtMentionFlag:Object(za.pb)(z,{tip:Xa.f.AtMention}),skipInitialFocusForProgressiveDisclosure:Aa,isStoriesButtonEnabled:Object(wt.r)(z,$),isAudioButtonEnabled:Object(wt.q)(z,$),isSlidesButtonEnabled:Object(ze.b)(z),logger:Object(l.a)({state:z}),broadcastKeywordsEnabled:!!($&&Object(qe.a)(z,$)),isGovSlackWorkspace:Object(bn.c)(z),channelIsPreview:!!(Ce&&Object(S.lb)(Ce)),isOfflineOutboxEnabled:Object(Ae.a)(z),isClientOnline:Object(ae.d)(z),shouldShowNUXPill:!!Object(Zt.c)(z,{channelId:$}),isInstantSlackInviteeSession:Object(_n.a)(z),experimentNativeGifPickerGroupOn:Object(Ct.e)(z),experimentFocusThreadOnKeydownAndRespectShortcutsGroupOn:Object(Ba.d)(z,"focus_thread_on_keydown_and_respect_shortcuts")==="on"}},"message_pane_input_mapStateToProps"),it={getDraftUnfurlsForMessageSend:z=>Object(In.a)(z),getContactUnfurlsForMessageSend:z=>Object(tt.a)(z),getFilePermissionsForMessageSend:z=>Object(ce.a)(z),prepareAndSendMessage:z=>Object(te.c)(z),currentUserStartedTyping:z=>Object(ye.a)(z),currentUserEndedTyping:z=>Object(De.a)(z),editLastMessageInChannel:z=>Object(Da.a)(z),setTractorMessageCoachmarkVisibility:z=>Object(Bt.e)(z),setComposerDraft:z=>Object(ta.h)(z),clearDrafts:z=>Object(ct.a)(z),handleFirstMessageFlagToExplainerAndClog:()=>Dn(),getChannelPref:z=>Object(fe.a)(z),openAboutChannelModal:z=>Object(ia.a)(z),removeMessageEligibleForUnsending:()=>Object(mn.b)(),addPendingOnlineMessage:z=>Z(z),bulkClearDraftFilePermissions:z=>Object(be.a)(z),getDataForDraftUnfurls:z=>Object(Le.a)(z),updateFocusHistoryState:z=>Object(cn.b)(z),updateFocusHistory:z=>At(z),getGifUnfurlsReadyForSending:z=>Object(rt.b)(z),bulkClearGifUnfurls:z=>Object(rt.a)(z)},ut=Object(Ye.a)(na),Te=Object(Mt.a)(Object(E.a)(Xe,it)(ut));var qt=p.a=r.a.forwardRef((z,K)=>r.a.createElement(Te,Tt({},z,{refToForward:K})))},"tBN+":function(w,p,e){"use strict";var a=e("9oTK"),t=e.n(a),m=e("JfJV"),O=e("SQ0V"),i=e("KtMe"),v=e("PJXs"),T=e("2VFn"),I=e("25cE"),r=e("WUSA"),E=e("nNoG"),y=e("gPPH"),f=e("xcHN"),l=e("n2bd"),g=e("bczA");const j=new E.b("client"),_=Object(O.c)("Restore the detail view for an entity",function(){var A=Object(a.coroutine)(function*(Y,N,S){let{entityId:V,windowId:J=T.c,nextRouteParams:G}=S;var C,u;const d=N(),h=Object(v.b)(d,{entityId:V,windowId:J});var D;const F=(D=h==null?void 0:h.params)!==null&&D!==void 0?D:{};if(!h||J!==T.c)return;const x=Object(v.a)(d,{entityId:V,windowId:J});if(h.routeName!==I.o&&x&&Date.now()>x)return Y(Object(l.a)({entityId:V,windowId:J})),{entityId:V,expired:!0};const H=Object(g.a)(d);H===I.b?Y(Object(r.a)({message:j.t("Secondary view has opened"),uuid:Object(y.a)()})):H!=null&&H.includes("FLEX")&&Y(Object(r.a)({message:j.t("Secondary view has changed"),uuid:Object(y.a)()}));let X={...F};return((C=Object(f.a)(G==null?void 0:G.threadId))===null||C===void 0?void 0:C.channelId)===((u=Object(f.a)(F==null?void 0:F.threadId))===null||u===void 0?void 0:u.channelId)&&(X={...h.params,...G}),Object(m.h)(h.routeName,X,{reason:i.c,shouldReplaceState:!0})});return function(Y,N,S){return A.apply(this,arguments)}}());_.meta={name:"createThunk",key:"createThunkopenDetailViewForEntityId",description:"Restore the detail view for an entity"},p.a=_},tVK8:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("zEKE"),O=e("BZp1");const i=s(T=>{let{uiComponent:I,image:r,heading:E,bodyContent:y,"data-qa":f,primaryCTA:l,secondaryCTA:g}=T;const j=Object(O.a)(I);return t.a.createElement("div",{className:"p-slack_connect_dm_trial_base_banner"},t.a.createElement(m.a,{image:r,heading:E,useRoundedCorners:!1,onDismiss:j,"data-qa":f,primaryCTA:l,secondaryCTA:g},y))},"SlackConnectDMTrialBaseBanner");i.displayName="SlackConnectDMTrialBaseBanner";var v=p.a=i},tWSa:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("CnKg"),i=e("P9LH"),v=e("ktUG"),T=e("jPvs"),I=e("qbnm"),r=e("DuRM"),E=e("mQiU"),y=e("2VFn"),f=e("dmdh"),l=e("lxlr"),g=e("Trx9"),j=e("G6BK"),_=e("CH+M"),A=e("TVHa"),Y=e("/MKj"),N=e("qDEp"),S=e("FcR8"),V=e("CD4m"),J=e("aBhT"),G=e("oEDn"),C=e("oUrV");const u=6;function d(Z){return Z==="https://www.google.com/docs/about/favicon.ico"?"gdoc":Z==="https://www.google.com/slides/about/favicon.ico"?"gpres":Z==="https://www.google.com/sheets/about/favicon.ico"?"gsheet":"html"}s(d,"getExternalLinkDetails");function h(Z){let{linkEmbed:ae,iconType:se}=Z;return t.a.createElement("div",null,t.a.createElement(N.d,{key:ae.url,href:ae.url},t.a.createElement("div",{className:"p-toggle_channel_space_cabinet_preview-link"},t.a.createElement("div",{className:"p-toggle_channel_space_cabinet_preview-link_icon"},t.a.createElement(G.a,{file:"svgicon",type:se})),t.a.createElement("div",{className:"p-toggle_channel_space_cabinet_preview-link_title"},t.a.createElement(V.c,{className:"c-file_entity__text"},t.a.createElement(J.a,{lines:1},ae.title||ae.url))))))}s(h,"LinkCollectionSectionItem"),h.displayName="LinkCollectionSectionItem";function D(Z){let{fileId:ae}=Z;var se,fe;const Ie=Object(Y.useDispatch)(),ye=Object(m.d)(Ne=>Object(_.a)(Ne,ae)),De=s(Ne=>Ie(Object(S.a)({fileId:Ne,source:C.a.PROTOTYPE})),"onEmbeddedCanvasClicked"),Ae=s(()=>{if(ye){var Ne,tt,ta;return((Ne=ye.canvasFileEmbeds)===null||Ne===void 0?void 0:Ne.length)===0&&((tt=ye.canvasLinkEmbeds)===null||tt===void 0?void 0:tt.length)===0&&((ta=ye.canvasWorkflowEmbeds)===null||ta===void 0?void 0:ta.length)===0}return!0},"isCabinetDataEmpty"),qe="In this canvas";let Et=0;return t.a.createElement("div",{className:"p-toggle_channel_space_cabinet_preview__container"},!Ae()&&t.a.createElement("div",{className:"p-toggle_channel_space_cabinet_preview__heading"},qe),t.a.createElement("div",{className:"p-toggle_channel_space_cabinet_preview__files"},ye==null||(se=ye.canvasFileEmbeds)===null||se===void 0?void 0:se.map(Ne=>(Et+=1,Et>u?null:t.a.createElement(N.d,{key:Ne.id,onClick:()=>De(Ne.id)},t.a.createElement(A.a,{id:Ne.id,key:Ne.id,shouldShowDetailText:!1,shouldShowHighlight:!1})))),ye==null||(fe=ye.canvasLinkEmbeds)===null||fe===void 0?void 0:fe.map(Ne=>{if(Et+=1,Et>u)return null;const tt=d(Ne.iconUrl);return t.a.createElement(h,{key:Ne.url,linkEmbed:Ne,iconType:tt})})))}s(D,"ChannelCanvasCabinetPreview"),D.displayName="ChannelCanvasCabinetPreview";var F=D,x=e("82u4"),te=e("RVJP");const H=93,X=20,re={inChannelCanvasPreview:!0},je={small:"90%",medium:"95%",large:"100%"},ie="220px";function ve(Z){let{channelId:ae,fileId:se,onOpen:fe,isChannelSidebarCabinetEnabled:Ie=!1,lastReadTs:ye}=Z;var De;const Ae=Object(a.useRef)(null),qe=Object(O.h)({id:se}),Et=Object(m.d)(ia=>Object(f.e)(ia,se)),[Ne,tt]=Object(a.useState)(!0),{windowId:ta}=Object(a.useContext)(E.a),ct=ta!==y.c&&((De=Object(r.c)(ta))===null||De===void 0?void 0:De.childWindowRef)||window,kt=Object(m.d)(ia=>Object(te.d)(ia,"channel_canvas_updates_m2")==="on"||Object(te.d)(ia,"channel_canvas_highlights_badging")==="on"),xt=Object(a.useMemo)(()=>{const ia='[data-qa="message_input_container"]',da=ct.document.querySelector(ia);let Xt=ct.innerHeight-H-X;return da&&(Xt-=da.offsetHeight),Xt},[ct]),Be=Ie?ie:xt,Bt=Object(a.useCallback)(()=>{tt(!1)},[]),Zt=Object(a.useCallback)(ia=>{const da=ia.target;!da.getAttribute("href")&&!da.closest("button")&&!Object(j.a)(da)?fe(ia):ia.stopPropagation()},[fe]),Ut=Object(a.useCallback)(()=>Ie?{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"}:{borderRadius:"8px"},[Ie]),Da=Et&&!!Et.access&&!Object(i.Wb)(Et);return t.a.createElement("div",null,t.a.createElement(T.a.Provider,{value:re},t.a.createElement("div",{ref:Ae,className:"p-toggle_channel_space_preview",style:{height:Be,...Ut()}},Ne?t.a.createElement("div",{className:"p-toggle_channel_space_preview__loading"},t.a.createElement("p",null,t.a.createElement(l.a,{size:"random",sizes:je}),t.a.createElement(l.a,{size:"random",sizes:je}),t.a.createElement(l.a,{size:"random",sizes:je})),t.a.createElement("p",null,t.a.createElement(l.a,{size:"random",sizes:je}),t.a.createElement(l.a,{size:"random",sizes:je}),t.a.createElement(l.a,{size:"random",sizes:je}))):t.a.createElement(g.a,{clogImpression:!0,eventId:v.EventId.QUIP_CHANNEL_CANVAS_PREVIEW,clogImpressionDuration:36e5,elementType:v.ElementType.POPOVER,channelId:ae,fileId:se,action:v.UiAction.HOVER},t.a.createElement("div",null)),t.a.createElement("div",{"data-qa":"channel_canvas_hover_preview",className:"p-toggle_channel_space_preview__content",onClick:Zt,role:"menu",tabIndex:0,style:{opacity:Ne?0:1,position:Ne?"absolute":"relative"}},kt&&!Da&&t.a.createElement(x.a,{className:"p-canvas_recent_editors margin_bottom_50",fileId:se,showEditors:!0,shouldOpenVersionHistory:!1,onlyShowIfRecent:!0}),t.a.createElement(I.a,{entityId:qe,onQuipRender:Bt,isPreview:!0,lastReadTs:ye})))),Ie&&t.a.createElement(F,{fileId:se}))}s(ve,"ChannelCanvasPreview"),ve.displayName="ChannelCanvasPreview";var ne=p.a=ve},tstp:function(w,p,e){"use strict";e.d(p,"a",function(){return t}),e.d(p,"d",function(){return m}),e.d(p,"c",function(){return O}),e.d(p,"b",function(){return i});var a=e("DwFS");const t=Object(a.a)("Have we already sent boot metrics");t.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const m=Object(a.a)("Should we log team switch metrics");m.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const O=Object(a.a)("Set whether we should continue logging time to visible metrics");O.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const i=Object(a.a)("Set whether we should continue logging time to usable metrics");i.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},u0IL:function(w,p,e){w.exports=e.p+"nfx-welcome-modal-es-LA-cff2817.gif"},u0ou:function(w,p,e){"use strict";e.r(p),e.d(p,"test",function(){return V}),e.d(p,"BaseI18nJapanBetaSendBtnBanner",function(){return N});var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("zxER"),i=e("kBpe"),v=e("nNoG"),T=e("ktUG"),I=e("Ei7s"),r=e("JoR1"),E=e("uVZW"),y=e("qN/r"),f=e("Trx9"),l=e("Tevt"),g=e("Sid4");const j=new v.b("send_btn"),_={elementName:"got_it"},A={elementName:"preferences",onClick:{enableClogAction:!0}},Y={notification:E.h.JAPAN_SEND_BUTTON},N=s(J=>{let{onPrefLinkClick:G}=J;const C=s(()=>t.a.createElement("div",null,j.rt("Send a message with a quick click, or by pressing <Keys>keys</Keys>",{},()=>t.a.createElement("div",{className:"inline_block"},t.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(i.p)()?"\u2318":"Ctrl"),t.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"Enter"))),t.a.createElement("br",null),j.rt("Don\u2018t like the change? You can always switch back in <Link>your preferences</Link>.",{},u=>{let{text:d}=u;return t.a.createElement(l.a,{"data-qa":"i18n_japan_beta_send_btn_banner_pref_link",onClick:G,autoClogProps:A},d)})),"renderBodyText");return t.a.createElement(f.a,{clogImpression:!0,eventId:T.EventId.UPGRDEXP_I18N_BANNER,uiComponentName:T.UiComponentName.JAPAN_BETA_SEND_BTN_BANNER},t.a.createElement(g.b,{headingText:j.t("Just for Japan: a button for sending"),bodyText:C(),primaryCTAText:j.t("Got It"),primaryCTAClogProps:_,notificationPrefs:Y}))},"I18nJapanBetaSendBtnBanner");N.displayName="I18nJapanBetaSendBtnBanner";const S=s(()=>{const J=Object(m.useDispatch)(),G=Object(a.useRef)(!1),C=Object(O.d)(F=>!!Object(r.t)(F,"msg_input_send_btn")),u=Object(O.d)(F=>!!Object(r.t)(F,"msg_input_send_btn_auto_set")),d=Object(a.useCallback)(()=>{J(Object(I.a)(Y))},[J]),h=Object(a.useCallback)(()=>{J(Object(y.a)({activeSection:"advanced",activeSubsection:"input-options"}))},[J]),D=Object(a.useCallback)(()=>{h(),d()},[d,h]);return Object(a.useEffect)(()=>{G.current?d():G.current=!0},[d,C,u]),t.a.createElement(N,{onPrefLinkClick:D})},"ConnectedI18nJapanBetaSendBtnBanner");S.displayName="ConnectedI18nJapanBetaSendBtnBanner";const V={NOTIFICATION_PREFS:Y};p.default=S},uSwR:function(w,p,e){"use strict";e.d(p,"a",function(){return t});var a=e("2VFn");function t(m){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.c;return O===a.c?`channel-canvas-main-${m}`:`channel-canvas-${O}-${m}`}s(t,"getChannelCanvasElementId")},usGY:function(w,p,e){"use strict"},"v/8X":function(w,p,e){"use strict";e.r(p);var a=e("q1tI"),t=e.n(a),m=e("zxER"),O=e("RWAF"),i=e("BfA7"),v=e("hLOS"),T=e("CopC");const I=s(r=>{let{view:E}=r;var y,f,l,g;const j=Object(m.d)(_=>Object(O.a)(_,E&&E.id));return E?j?t.a.createElement(T.a,null):t.a.createElement(v.a,{channelId:E.id,startTs:(y=E.params)===null||y===void 0?void 0:y.startTs,startTsOffset:(f=E.params)===null||f===void 0?void 0:f.startTsOffset,highlightTs:(l=E.params)===null||l===void 0?void 0:l.highlightTs,highlightLazy:(g=E.params)===null||g===void 0?void 0:g.highlightLazy}):null},"ChannelView");I.displayName="ChannelView",p.default=t.a.memo(Object(i.a)(I))},v4p4:function(w,p,e){w.exports=e.p+"best-in-class-msg-limit-just-reached-banner-illo-dark-0be747a.png"},vMmh:function(w,p,e){"use strict";e.d(p,"a",function(){return m});var a=e("nNoG");const t=new a.b("countries"),m={Afghanistan:{name:t.t("Afghanistan"),code:"93",examplePhoneNumbers:["701234567"],shortCode:"AF"},Albania:{name:t.t("Albania"),code:"355",examplePhoneNumbers:["661234567"],shortCode:"AL"},Algeria:{name:t.t("Algeria"),code:"213",examplePhoneNumbers:["561234567"],shortCode:"DZ"},"American Samoa":{name:t.t("American Samoa"),code:"1684",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AS"},Andorra:{name:t.t("Andorra"),code:"376",examplePhoneNumbers:["312 345"],shortCode:"AD"},Angola:{name:t.t("Angola"),code:"244",examplePhoneNumbers:["923 123 456"],shortCode:"AO"},Anguilla:{name:t.t("Anguilla"),code:"1264",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AI"},Antarctica:{name:t.t("Antarctica"),code:"672",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AQ"},"Antigua and Barbuda":{name:t.t("Antigua and Barbuda"),code:"1268",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AG"},Argentina:{name:t.t("Argentina"),code:"54",examplePhoneNumbers:["91123456789"],shortCode:"AR"},Armenia:{name:t.t("Armenia"),code:"374",examplePhoneNumbers:["77123456"],shortCode:"AM"},Aruba:{name:t.t("Aruba"),code:"297",examplePhoneNumbers:["560 1234"],shortCode:"AW"},Australia:{name:t.t("Australia"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"AU"},Austria:{name:t.t("Austria"),code:"43",examplePhoneNumbers:["664123456"],shortCode:"AT"},Azerbaijan:{name:t.t("Azerbaijan"),code:"994",examplePhoneNumbers:["401234567"],shortCode:"AZ"},Bahamas:{name:t.t("Bahamas"),code:"1242",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BS"},Bahrain:{name:t.t("Bahrain"),code:"973",examplePhoneNumbers:["3600 1234"],shortCode:"BH"},Bangladesh:{name:t.t("Bangladesh"),code:"880",examplePhoneNumbers:["1812345678"],shortCode:"BD"},Barbados:{name:t.t("Barbados"),code:"1246",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BB"},Belarus:{name:t.t("Belarus"),code:"375",examplePhoneNumbers:["294911911"],shortCode:"BY"},Belgium:{name:t.t("Belgium"),code:"32",examplePhoneNumbers:["470123456"],shortCode:"BE"},Belize:{name:t.t("Belize"),code:"501",examplePhoneNumbers:["622-1234"],shortCode:"BZ"},Benin:{name:t.t("Benin"),code:"229",examplePhoneNumbers:["90 01 12 34"],shortCode:"BJ"},Bermuda:{name:t.t("Bermuda"),code:"1441",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BM"},Bhutan:{name:t.t("Bhutan"),code:"975",examplePhoneNumbers:["17 12 23 56"],shortCode:"BT"},Bolivia:{name:t.t("Bolivia"),code:"591",examplePhoneNumbers:["71234567"],shortCode:"BO"},"Bonaire, Sint Eustatius and Saba":{name:t.t("Bonaire, Sint Eustatius and Saba"),code:"599",examplePhoneNumbers:["9 518 1234"],shortCode:"BQ"},"Bosnia and Herzegovina":{name:t.t("Bosnia and Herzegovina"),code:"387",examplePhoneNumbers:["61123456"],shortCode:"BA"},Botswana:{name:t.t("Botswana"),code:"267",examplePhoneNumbers:["71123456"],shortCode:"BW"},"Bouvet Island":{name:t.t("Bouvet Island"),code:"55",examplePhoneNumbers:["71123456"],shortCode:"BV"},Brazil:{name:t.t("Brazil"),code:"55",examplePhoneNumbers:["1196123-4567"],shortCode:"BR"},"British Virgin Islands":{name:t.t("British Virgin Islands"),code:"1284",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VG"},Brunei:{name:t.t("Brunei"),code:"673",examplePhoneNumbers:["7123456"],shortCode:"BN"},Bulgaria:{name:t.t("Bulgaria"),code:"359",examplePhoneNumbers:["48123456"],shortCode:"BG"},"Burkina Faso":{name:t.t("Burkina Faso"),code:"226",examplePhoneNumbers:["70123456"],shortCode:"BF"},Burundi:{name:t.t("Burundi"),code:"257",examplePhoneNumbers:["79 56 12 34"],shortCode:"BI"},Cambodia:{name:t.t("Cambodia"),code:"855",examplePhoneNumbers:["91234567"],shortCode:"KH"},Cameroon:{name:t.t("Cameroon"),code:"237",examplePhoneNumbers:["6 71 23 45 67"],shortCode:"CM"},Canada:{name:t.t("Canada"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"CA"},"Cape Verde":{name:t.t("Cape Verde"),code:"238",examplePhoneNumbers:["991 12 34"],shortCode:"CV"},"Cayman Islands":{name:t.t("Cayman Islands"),code:"1345",examplePhoneNumbers:["(201) 555-5555"],shortCode:"KY"},"Central African Republic":{name:t.t("Central African Republic"),code:"236",examplePhoneNumbers:["70 01 23 45"],shortCode:"CF"},Chad:{name:t.t("Chad"),code:"235",examplePhoneNumbers:["63 01 23 45"],shortCode:"TD"},Chile:{name:t.t("Chile"),code:"56",examplePhoneNumbers:["961234567"],shortCode:"CL"},China:{name:t.t("China"),code:"86",examplePhoneNumbers:["131 2345 6789"],shortCode:"CN"},"Christmas Island":{name:t.t("Christmas Island"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"CX"},"Cocos [Keeling] Islands":{name:t.t("Cocos [Keeling] Islands"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"CC"},Colombia:{name:t.t("Colombia"),code:"57",examplePhoneNumbers:["321 1234567"],shortCode:"CO"},Comoros:{name:t.t("Comoros"),code:"269",examplePhoneNumbers:["321 23 45"],shortCode:"KM"},"Republic of the Congo":{name:t.t("Republic of the Congo"),code:"242",examplePhoneNumbers:["61234567"],shortCode:"CG"},"Democratic Republic of the Congo":{name:t.t("Democratic Republic of the Congo"),code:"243",examplePhoneNumbers:["991234567"],shortCode:"CD"},"Cook Islands":{name:t.t("Cook Islands"),code:"682",examplePhoneNumbers:["71 234"],shortCode:"CK"},"Costa Rica":{name:t.t("Costa Rica"),code:"506",examplePhoneNumbers:["8312 3456"],shortCode:"CR"},"C\xF4te d'Ivoire":{name:t.t("C\xF4te d'Ivoire"),code:"225",examplePhoneNumbers:["12 34 56 7"],shortCode:"CI"},Croatia:{name:t.t("Croatia"),code:"385",examplePhoneNumbers:["912345678"],shortCode:"HR"},Cura\u00E7ao:{name:t.t("Cura\xE7ao"),code:"5999",examplePhoneNumbers:["9 518 1234"],shortCode:"CW"},Cyprus:{name:t.t("Cyprus"),code:"357",examplePhoneNumbers:["96 123456"],shortCode:"CY"},"Czech Republic":{name:t.t("Czech Republic"),code:"420",examplePhoneNumbers:["601 123 456"],shortCode:"CZ"},Denmark:{name:t.t("Denmark"),code:"45",examplePhoneNumbers:["20 12 34 56"],shortCode:"DK"},Djibouti:{name:t.t("Djibouti"),code:"253",examplePhoneNumbers:["77 83 10 01"],shortCode:"DJ"},Dominica:{name:t.t("Dominica"),code:"1767",examplePhoneNumbers:["(201) 555-5555"],shortCode:"DM"},"Dominican Republic":{name:t.t("Dominican Republic"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"DO"},Ecuador:{name:t.t("Ecuador"),code:"593",examplePhoneNumbers:["991234567"],shortCode:"EC"},Egypt:{name:t.t("Egypt"),code:"20",examplePhoneNumbers:["1001234567"],shortCode:"EG"},"El Salvador":{name:t.t("El Salvador"),code:"503",examplePhoneNumbers:["7012 3456"],shortCode:"SV"},"Equatorial Guinea":{name:t.t("Equatorial Guinea"),code:"240",examplePhoneNumbers:["222 123 456"],shortCode:"GQ"},Eritrea:{name:t.t("Eritrea"),code:"291",examplePhoneNumbers:["7123456"],shortCode:"ER"},Estonia:{name:t.t("Estonia"),code:"372",examplePhoneNumbers:["512 3456","5123 4567"],shortCode:"EE"},Ethiopia:{name:t.t("Ethiopia"),code:"251",examplePhoneNumbers:["911234567"],shortCode:"ET"},"Falkland Islands":{name:t.t("Falkland Islands"),code:"500",examplePhoneNumbers:["51234"],shortCode:"FK"},"Faroe Islands":{name:t.t("Faroe Islands"),code:"298",examplePhoneNumbers:["211234"],shortCode:"FO"},Fiji:{name:t.t("Fiji"),code:"679",examplePhoneNumbers:["701 2345"],shortCode:"FJ"},Finland:{name:t.t("Finland"),code:"358",examplePhoneNumbers:["412345678"],shortCode:"FI"},France:{name:t.t("France"),code:"33",examplePhoneNumbers:["612345678"],shortCode:"FR"},"French Guiana":{name:t.t("French Guiana"),code:"594",examplePhoneNumbers:["694201234"],shortCode:"GF"},"French Polynesia":{name:t.t("French Polynesia"),code:"689",examplePhoneNumbers:["87 12 34 56"],shortCode:"PF"},Gabon:{name:t.t("Gabon"),code:"241",examplePhoneNumbers:["6 03 12 34"],shortCode:"GA"},Gambia:{name:t.t("Gambia"),code:"220",examplePhoneNumbers:["301 2345"],shortCode:"GM"},Georgia:{name:t.t("Georgia"),code:"995",examplePhoneNumbers:["550 12 34 56"],shortCode:"GE"},Germany:{name:t.t("Germany"),code:"49",examplePhoneNumbers:["15123456789"],shortCode:"DE"},Ghana:{name:t.t("Ghana"),code:"233",examplePhoneNumbers:["231234567"],shortCode:"GH"},Gibraltar:{name:t.t("Gibraltar"),code:"350",examplePhoneNumbers:["57123456"],shortCode:"GI"},Greece:{name:t.t("Greece"),code:"30",examplePhoneNumbers:["691 234 5678"],shortCode:"GR"},Greenland:{name:t.t("Greenland"),code:"299",examplePhoneNumbers:["22 12 34"],shortCode:"GL"},Grenada:{name:t.t("Grenada"),code:"1473",examplePhoneNumbers:["(201) 555-5555"],shortCode:"GD"},Guadeloupe:{name:t.t("Guadeloupe"),code:"590",examplePhoneNumbers:["690301234"],shortCode:"GP"},Guam:{name:t.t("Guam"),code:"1671",examplePhoneNumbers:["(201) 555-5555"],shortCode:"GU"},Guatemala:{name:t.t("Guatemala"),code:"502",examplePhoneNumbers:["5123 4567"],shortCode:"GT"},Guinea:{name:t.t("Guinea"),code:"224",examplePhoneNumbers:["601 12 34 56"],shortCode:"GN"},"Guinea-Bissau":{name:t.t("Guinea-Bissau"),code:"245",examplePhoneNumbers:["955 012 345"],shortCode:"GW"},Guyana:{name:t.t("Guyana"),code:"592",examplePhoneNumbers:["609 1234"],shortCode:"GY"},Haiti:{name:t.t("Haiti"),code:"509",examplePhoneNumbers:["34 10 1234"],shortCode:"HT"},Honduras:{name:t.t("Honduras"),code:"504",examplePhoneNumbers:["9123-4567"],shortCode:"HN"},"Hong Kong":{name:t.t("Hong Kong"),code:"852",examplePhoneNumbers:["5123 4567"],shortCode:"HK"},Hungary:{name:t.t("Hungary"),code:"36",examplePhoneNumbers:["20 123 4567"],shortCode:"HU"},Iceland:{name:t.t("Iceland"),code:"354",examplePhoneNumbers:["611 1234"],shortCode:"IS"},India:{name:t.t("India"),code:"91",examplePhoneNumbers:["91234 56789"],shortCode:"IN"},Indonesia:{name:t.t("Indonesia"),code:"62",examplePhoneNumbers:["812345678"],shortCode:"ID"},Iran:{name:t.t("Iran"),code:"98",examplePhoneNumbers:["9123456789"],shortCode:"IR"},Iraq:{name:t.t("Iraq"),code:"964",examplePhoneNumbers:["7912345678"],shortCode:"IQ"},Ireland:{name:t.t("Ireland"),code:"353",examplePhoneNumbers:["850123456"],shortCode:"IE"},"Isle of Man":{name:t.t("Isle of Man"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"IM"},Israel:{name:t.t("Israel"),code:"972",examplePhoneNumbers:["501234567"],shortCode:"IL"},Italy:{name:t.t("Italy"),code:"39",examplePhoneNumbers:["312 345 6789"],shortCode:"IT"},Jamaica:{name:t.t("Jamaica"),code:"1876",examplePhoneNumbers:["(201) 555-5555"],shortCode:"JM"},Japan:{name:t.t("Japan"),code:"81",examplePhoneNumbers:["9012345678"],shortCode:"JP"},Jersey:{name:t.t("Jersey"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"JE"},Jordan:{name:t.t("Jordan"),code:"962",examplePhoneNumbers:["790123456"],shortCode:"JO"},Kazakhstan:{name:t.t("Kazakhstan"),code:"7",examplePhoneNumbers:["912 345-67-89"],shortCode:"KZ"},Kenya:{name:t.t("Kenya"),code:"254",examplePhoneNumbers:["712123456"],shortCode:"KE"},Kiribati:{name:t.t("Kiribati"),code:"686",examplePhoneNumbers:["72012345"],shortCode:"KI"},Kosovo:{name:t.t("Kosovo"),code:"383",examplePhoneNumbers:["500 12345"],shortCode:"XK"},Kuwait:{name:t.t("Kuwait"),code:"965",examplePhoneNumbers:["500 12345"],shortCode:"KW"},Kyrgyzstan:{name:t.t("Kyrgyzstan"),code:"996",examplePhoneNumbers:["700123456"],shortCode:"KG"},"Lao People's Democratic Republic":{name:t.t("Lao People's Democratic Republic"),code:"856",examplePhoneNumbers:["2023123456"],shortCode:"LA"},Latvia:{name:t.t("Latvia"),code:"371",examplePhoneNumbers:["21 234 567"],shortCode:"LV"},Lebanon:{name:t.t("Lebanon"),code:"961",examplePhoneNumbers:["71 123 456"],shortCode:"LB"},Lesotho:{name:t.t("Lesotho"),code:"266",examplePhoneNumbers:["5012 3456"],shortCode:"LS"},Liberia:{name:t.t("Liberia"),code:"231",examplePhoneNumbers:["770123456"],shortCode:"LR"},Libya:{name:t.t("Libya"),code:"218",examplePhoneNumbers:["912345678"],shortCode:"LY"},Liechtenstein:{name:t.t("Liechtenstein"),code:"423",examplePhoneNumbers:["660 234 567"],shortCode:"LI"},Lithuania:{name:t.t("Lithuania"),code:"370",examplePhoneNumbers:["612 34567"],shortCode:"LT"},Luxembourg:{name:t.t("Luxembourg"),code:"352",examplePhoneNumbers:["628 123 456"],shortCode:"LU"},Macau:{name:t.t("Macau"),code:"853",examplePhoneNumbers:["66123456"],shortCode:"MO"},Macedonia:{name:t.t("Macedonia"),code:"389",examplePhoneNumbers:["72345678"],shortCode:"MK"},Madagascar:{name:t.t("Madagascar"),code:"261",examplePhoneNumbers:["321234567"],shortCode:"MG"},Malawi:{name:t.t("Malawi"),code:"265",examplePhoneNumbers:["991234567"],shortCode:"MW"},Malaysia:{name:t.t("Malaysia"),code:"60",examplePhoneNumbers:["123456789"],shortCode:"MY"},Maldives:{name:t.t("Maldives"),code:"960",examplePhoneNumbers:["771-2345"],shortCode:"MV"},Mali:{name:t.t("Mali"),code:"223",examplePhoneNumbers:["65 01 23 45"],shortCode:"ML"},Malta:{name:t.t("Malta"),code:"356",examplePhoneNumbers:["9696 1234"],shortCode:"MT"},"Marshall Islands":{name:t.t("Marshall Islands"),code:"692",examplePhoneNumbers:["235-1234"],shortCode:"MH"},Martinique:{name:t.t("Martinique"),code:"596",examplePhoneNumbers:["696201234"],shortCode:"MQ"},Mauritania:{name:t.t("Mauritania"),code:"222",examplePhoneNumbers:["22 12 34 56"],shortCode:"MR"},Mauritius:{name:t.t("Mauritius"),code:"230",examplePhoneNumbers:["5251 2345"],shortCode:"MU"},Mayotte:{name:t.t("Mayotte"),code:"262",examplePhoneNumbers:["692123456"],shortCode:"YT"},Mexico:{name:t.t("Mexico"),code:"52",examplePhoneNumbers:["12221234567"],shortCode:"MX"},Micronesia:{name:t.t("Micronesia"),code:"691",examplePhoneNumbers:["350 1234"],shortCode:"FM"},"Republic of Moldova":{name:t.t("Republic of Moldova"),code:"373",examplePhoneNumbers:["62112345"],shortCode:"MD"},Monaco:{name:t.t("Monaco"),code:"377",examplePhoneNumbers:["612345678"],shortCode:"MC"},Mongolia:{name:t.t("Mongolia"),code:"976",examplePhoneNumbers:["8812 3456"],shortCode:"MN"},Montenegro:{name:t.t("Montenegro"),code:"382",examplePhoneNumbers:["067 222 123"],shortCode:"ME"},Montserrat:{name:t.t("Montserrat"),code:"1664",examplePhoneNumbers:["(201) 555-5555"],shortCode:"MS"},Morocco:{name:t.t("Morocco"),code:"212",examplePhoneNumbers:["650123456"],shortCode:"MA"},Mozambique:{name:t.t("Mozambique"),code:"258",examplePhoneNumbers:["82 123 4567"],shortCode:"MZ"},Myanmar:{name:t.t("Myanmar"),code:"95",examplePhoneNumbers:["92123456"],shortCode:"MM"},Namibia:{name:t.t("Namibia"),code:"264",examplePhoneNumbers:["811234567"],shortCode:"NA"},Nauru:{name:t.t("Nauru"),code:"674",examplePhoneNumbers:["555 1234"],shortCode:"NR"},Nepal:{name:t.t("Nepal"),code:"977",examplePhoneNumbers:["984-1234567"],shortCode:"NP"},Netherlands:{name:t.t("Netherlands"),code:"31",examplePhoneNumbers:["612345678"],shortCode:"NL"},"New Caledonia":{name:t.t("New Caledonia"),code:"687",examplePhoneNumbers:["75.12.34"],shortCode:"NC"},"New Zealand":{name:t.t("New Zealand"),code:"64",examplePhoneNumbers:["211234567"],shortCode:"NZ"},Nicaragua:{name:t.t("Nicaragua"),code:"505",examplePhoneNumbers:["8123 4567"],shortCode:"NI"},Niger:{name:t.t("Niger"),code:"227",examplePhoneNumbers:["93 12 34 45"],shortCode:"NE"},Nigeria:{name:t.t("Nigeria"),code:"234",examplePhoneNumbers:["8021234567"],shortCode:"NG"},Niue:{name:t.t("Niue"),code:"683",examplePhoneNumbers:["1234"],shortCode:"NU"},"Norfolk Island":{name:t.t("Norfolk Island"),code:"672",examplePhoneNumbers:["3 81234"],shortCode:"NF"},"Northern Mariana Islands":{name:t.t("Northern Mariana Islands"),code:"1670",examplePhoneNumbers:["(201) 555-5555"],shortCode:"MP"},Norway:{name:t.t("Norway"),code:"47",examplePhoneNumbers:["406 12 345"],shortCode:"NO"},Oman:{name:t.t("Oman"),code:"968",examplePhoneNumbers:["9212 3456"],shortCode:"OM"},Pakistan:{name:t.t("Pakistan"),code:"92",examplePhoneNumbers:["3012345678"],shortCode:"PK"},Palau:{name:t.t("Palau"),code:"680",examplePhoneNumbers:["620 1234"],shortCode:"PW"},"State of Palestine":{name:t.t("State of Palestine"),code:"970",examplePhoneNumbers:["599123456"],shortCode:"PS"},Panama:{name:t.t("Panama"),code:"507",examplePhoneNumbers:["6001-2345"],shortCode:"PA"},"Papua New Guinea":{name:t.t("Papua New Guinea"),code:"675",examplePhoneNumbers:["681 2345"],shortCode:"PG"},Paraguay:{name:t.t("Paraguay"),code:"595",examplePhoneNumbers:["961345678"],shortCode:"PY"},Peru:{name:t.t("Peru"),code:"51",examplePhoneNumbers:["912 345 678"],shortCode:"PE"},Philippines:{name:t.t("Philippines"),code:"63",examplePhoneNumbers:["9051234567"],shortCode:"PH"},"Pitcairn Islands":{name:t.t("Pitcairn Islands"),code:"64",examplePhoneNumbers:["712345678"],shortCode:"PN"},Poland:{name:t.t("Poland"),code:"48",examplePhoneNumbers:["512 345 678"],shortCode:"PL"},Portugal:{name:t.t("Portugal"),code:"351",examplePhoneNumbers:["912 345 678"],shortCode:"PT"},"Puerto Rico":{name:t.t("Puerto Rico"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"PR"},Qatar:{name:t.t("Qatar"),code:"974",examplePhoneNumbers:["3312 3456"],shortCode:"QA"},R\u00E9union:{name:t.t("R\xE9union"),code:"974",examplePhoneNumbers:["692123456"],shortCode:"RE"},Romania:{name:t.t("Romania"),code:"40",examplePhoneNumbers:["712345678"],shortCode:"RO"},"Russian Federation":{name:t.t("Russian Federation"),code:"7",examplePhoneNumbers:["912 345-67-89"],shortCode:"RU"},Rwanda:{name:t.t("Rwanda"),code:"250",examplePhoneNumbers:["720123456"],shortCode:"RW"},"Saint Barth\xE9lemy":{name:t.t("Saint Barth\xE9lemy"),code:"590",examplePhoneNumbers:["690301234"],shortCode:"BL"},"Saint Helena":{name:t.t("Saint Helena"),code:"290",examplePhoneNumbers:["21234"],shortCode:"SH"},"Saint Kitts and Nevis":{name:t.t("Saint Kitts and Nevis"),code:"1869",examplePhoneNumbers:["(201) 555-5555"],shortCode:"KN"},"Saint Lucia":{name:t.t("Saint Lucia"),code:"1758",examplePhoneNumbers:["(201) 555-5555"],shortCode:"LC"},"Saint Martin":{name:t.t("Saint Martin"),code:"599",examplePhoneNumbers:["690301234"],shortCode:"MF"},"Saint Pierre and Miquelon":{name:t.t("Saint Pierre and Miquelon"),code:"508",examplePhoneNumbers:["551234"],shortCode:"PM"},"Saint Vincent and the Grenadines":{name:t.t("Saint Vincent and the Grenadines"),code:"1784",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VC"},Samoa:{name:t.t("Samoa"),code:"685",examplePhoneNumbers:["601234"],shortCode:"WS"},"San Marino":{name:t.t("San Marino"),code:"378",examplePhoneNumbers:["66 66 12 12"],shortCode:"SM"},"S\xE3o Tom\xE9 and Pr\xEDncipe":{name:t.t("S\xE3o Tom\xE9 and Pr\xEDncipe"),code:"239",examplePhoneNumbers:["981 2345"],shortCode:"ST"},"Saudi Arabia":{name:t.t("Saudi Arabia"),code:"966",examplePhoneNumbers:["512345678"],shortCode:"SA"},Senegal:{name:t.t("Senegal"),code:"221",examplePhoneNumbers:["70 123 45 67"],shortCode:"SN"},Serbia:{name:t.t("Serbia"),code:"381",examplePhoneNumbers:["601234567"],shortCode:"RS"},Seychelles:{name:t.t("Seychelles"),code:"248",examplePhoneNumbers:["2 510 123"],shortCode:"SC"},"Sierra Leone":{name:t.t("Sierra Leone"),code:"232",examplePhoneNumbers:["25123456"],shortCode:"SL"},Singapore:{name:t.t("Singapore"),code:"65",examplePhoneNumbers:["8123 4567"],shortCode:"SG"},"Sint Maarten":{name:t.t("Sint Maarten"),code:"1721",examplePhoneNumbers:["(201) 555-5555"],shortCode:"SX"},Slovakia:{name:t.t("Slovakia"),code:"421",examplePhoneNumbers:["912123456"],shortCode:"SK"},Slovenia:{name:t.t("Slovenia"),code:"386",examplePhoneNumbers:["31234567"],shortCode:"SI"},"Solomon Islands":{name:t.t("Solomon Islands"),code:"386",examplePhoneNumbers:["74 21234"],shortCode:"SB"},Somalia:{name:t.t("Somalia"),code:"252",examplePhoneNumbers:["7 1123456"],shortCode:"SO"},"South Africa":{name:t.t("South Africa"),code:"27",examplePhoneNumbers:["711234567"],shortCode:"ZA"},"Republic of Korea":{name:t.t("Republic of Korea"),code:"82",examplePhoneNumbers:["1000000000"],shortCode:"KR"},"South Sudan":{name:t.t("South Sudan"),code:"211",examplePhoneNumbers:["977123456"],shortCode:"SS"},Spain:{name:t.t("Spain"),code:"34",examplePhoneNumbers:["612 34 56 78"],shortCode:"ES"},"Sri Lanka":{name:t.t("Sri Lanka"),code:"94",examplePhoneNumbers:["712345678"],shortCode:"LK"},Suriname:{name:t.t("Suriname"),code:"597",examplePhoneNumbers:["741-2345"],shortCode:"SR"},"Svalbard and Jan Mayen":{name:t.t("Svalbard and Jan Mayen"),code:"47",examplePhoneNumbers:["406 12 345"],shortCode:"SJ"},Swaziland:{name:t.t("Swaziland"),code:"268",examplePhoneNumbers:["7612 3456"],shortCode:"SZ"},Sweden:{name:t.t("Sweden"),code:"46",examplePhoneNumbers:["701234567"],shortCode:"SE"},Switzerland:{name:t.t("Switzerland"),code:"41",examplePhoneNumbers:["781234567"],shortCode:"CH"},Taiwan:{name:t.t("Taiwan"),code:"886",examplePhoneNumbers:["912345678"],shortCode:"TW"},Tajikistan:{name:t.t("Tajikistan"),code:"992",examplePhoneNumbers:["917 12 3456"],shortCode:"TJ"},Tanzania:{name:t.t("Tanzania"),code:"255",examplePhoneNumbers:["621234567"],shortCode:"TZ"},Thailand:{name:t.t("Thailand"),code:"66",examplePhoneNumbers:["812345678"],shortCode:"TH"},"Timor-Leste":{name:t.t("Timor-Leste"),code:"670",examplePhoneNumbers:["7721 2345"],shortCode:"TL"},Togo:{name:t.t("Togo"),code:"228",examplePhoneNumbers:["90 11 23 45"],shortCode:"TG"},Tokelau:{name:t.t("Tokelau"),code:"690",examplePhoneNumbers:["7290"],shortCode:"TK"},Tonga:{name:t.t("Tonga"),code:"676",examplePhoneNumbers:["771 5123"],shortCode:"TO"},"Trinidad and Tobago":{name:t.t("Trinidad and Tobago"),code:"1868",examplePhoneNumbers:["(201) 555-5555"],shortCode:"TT"},Tunisia:{name:t.t("Tunisia"),code:"216",examplePhoneNumbers:["20 123 456"],shortCode:"TN"},Turkey:{name:t.t("Turkey"),code:"90",examplePhoneNumbers:["501 234 5678"],shortCode:"TR"},Turkmenistan:{name:t.t("Turkmenistan"),code:"993",examplePhoneNumbers:["66123456"],shortCode:"TM"},"Turks and Caicos Islands":{name:t.t("Turks and Caicos Islands"),code:"1649",examplePhoneNumbers:["(201) 555-5555"],shortCode:"TC"},Tuvalu:{name:t.t("Tuvalu"),code:"688",examplePhoneNumbers:["901234"],shortCode:"TV"},"U.S. Virgin Islands":{name:t.t("U.S. Virgin Islands"),code:"1340",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VI"},Uganda:{name:t.t("Uganda"),code:"256",examplePhoneNumbers:["712345678"],shortCode:"UG"},Ukraine:{name:t.t("Ukraine"),code:"380",examplePhoneNumbers:["391234567"],shortCode:"UA"},"United Arab Emirates":{name:t.t("United Arab Emirates"),code:"971",examplePhoneNumbers:["501234567"],shortCode:"AE"},"United Kingdom":{name:t.t("United Kingdom"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"GB"},"United States":{name:t.t("United States"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"US",rawName:"United States"},Uruguay:{name:t.t("Uruguay"),code:"598",examplePhoneNumbers:["94231234"],shortCode:"UY"},Uzbekistan:{name:t.t("Uzbekistan"),code:"998",examplePhoneNumbers:["912345678"],shortCode:"UZ"},Vanuatu:{name:t.t("Vanuatu"),code:"678",examplePhoneNumbers:["591 2345"],shortCode:"VU"},"Vatican City":{name:t.t("Vatican City"),code:"39",examplePhoneNumbers:["312 345 6789"],shortCode:"VA"},Venezuela:{name:t.t("Venezuela"),code:"58",examplePhoneNumbers:["4121234567"],shortCode:"VE"},Vietnam:{name:t.t("Vietnam"),code:"84",examplePhoneNumbers:["91 234 56 78"],shortCode:"VN"},"Wallis and Futuna":{name:t.t("Wallis and Futuna"),code:"681",examplePhoneNumbers:["50 12 34"],shortCode:"WF"},"Western Sahara":{name:t.t("Western Sahara"),code:"212",examplePhoneNumbers:["650123456"],shortCode:"EH"},Yemen:{name:t.t("Yemen"),code:"967",examplePhoneNumbers:["712345678"],shortCode:"YE"},Zambia:{name:t.t("Zambia"),code:"260",examplePhoneNumbers:["955123456"],shortCode:"ZM"},Zimbabwe:{name:t.t("Zimbabwe"),code:"263",examplePhoneNumbers:["711234567"],shortCode:"ZW"}},O=m["United States"]},"wE+N":function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("Cfcg"),O=e("BHdc"),i=e("ifKl"),v=e("x/ke"),T=e("Wn1n"),I=e("Kmpi"),r=e("RWAF"),E=e("XZo2"),y=e("+KEP"),f=e("APZB"),l=e("+GhL"),g=e("5IZy"),j=e("G5NC"),_=e("nNoG"),A=e("7EGn"),Y=e("iUFw"),N=e("Tevt"),S=e("V/As");function V(W){let{appProfile:ee}=W;if(!ee)return null;const le=Object(S.b)(ee.profile,512);return t.a.createElement("div",{className:"p-app_space_profile__side__avatar"},t.a.createElement("img",{className:"rounded",src:le,alt:"app avatar","data-qa":"app_profile_avatar"}))}s(V,"AppSpaceProfileSideAvatar"),V.displayName="AppSpaceProfileSideAvatar";var J=V,G=e("wKGu"),C=e("zxER"),u=e("ktUG");const d=new _.b("app_space");function h(W){let{appProfile:ee,viewContextTeamId:le}=W;const We=Object(G.a)(),Ze=Object(C.d)(ga=>Object(l.J)(ga,ee)),Pt=Object(C.d)(ga=>Object(l.u)(ga,ee,le)),bt=Object(a.useMemo)(()=>Object(l.f)(ee),[ee]),la=d.t("Configuration",{fallbackHash:"c7f73bb54d928922c3838bb789ee9fb8a5b1eb37",fallbackHashNs:"app_profile"}),Ia=d.t("App Homepage",{fallbackHash:"ee2dbe71c27837ecd0a10d866992e1b3ff0d9b2f",fallbackHashNs:"app_profile"}),Fa=Object(a.useCallback)(()=>{We.track(u.EventId.APP_CLICK_LINK_APP_SETTINGS_IN_APP_SPACE_ABOUT_TAB,{contexts:{ui_context:{step:u.UiStep.APP_SPACE_ABOUT_TAB,action:u.UiAction.CLICK,ui_element:u.UiElement.LINK_APP_SETTINGS}}})},[We]),_a=Object(a.useCallback)(()=>{We.track(u.EventId.APP_CLICK_LINK_APP_HOMEPAGE_IN_APP_SPACE_ABOUT_TAB,{contexts:{ui_context:{step:u.UiStep.APP_SPACE_ABOUT_TAB,action:u.UiAction.CLICK,ui_element:u.UiElement.LINK_APP_HOMEPAGE}}})},[We]),ja=Object(a.useCallback)(()=>Ze?t.a.createElement(Y.a,{type:"outline",size:"medium",href:Pt,"data-qa":"app_profile_settings_link",onClick:Fa,className:"p-app_space_profile__side_link",title:la},la):null,[la,Ze,Pt,Fa]),Sa=Object(a.useCallback)(()=>bt?t.a.createElement(Y.a,{type:"outline",size:"medium",href:bt,"data-qa":"app_profile_homepage_link",className:"p-app_space_profile__side_link",title:Ia,onClick:_a},Ia):null,[Ia,bt,_a]);return t.a.createElement("div",{className:"p-app_space_profile__side__links"},ja(),Sa())}s(h,"BaseAppSpaceProfileSideLinksFunction");var D=e("AwEi"),F=e("Owxj"),x=e("O86Y");const te=new _.b("app_space"),H={truncatedDescription:"",appDescription:""};function X(W){let{appProfile:ee,appDescription:le,truncatedDescription:We}=W;const[Ze,Pt]=Object(a.useState)(!1);if(!ee||!le)return null;const bt=Object(l.D)(ee);return t.a.createElement("section",null,t.a.createElement("div",{className:"p-app_space_profile__description","data-qa":"app_profile_desc"},bt?t.a.createElement(D.a,{text:le}):t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-app_space_profile__description__collapsed"},Ze?t.a.createElement(D.a,{text:le}):t.a.createElement(D.a,{text:We}))," ",t.a.createElement(N.a,{onClick:()=>Pt(!Ze),"data-qa":"toggle-app-description-expansion"},Ze?te.t("Show less"):te.t("Read more")))))}s(X,"AppSpaceProfileDescription"),X.displayName="AppSpaceProfileDescription",X.defaultProps=H;const re=s((W,ee)=>{let{appProfile:le}=ee;return{truncatedDescription:Object(F.a)(W,{messageText:Object(l.m)(le),teamId:Object(x.g)(W)}),appDescription:Object(F.a)(W,{messageText:Object(l.b)(le),teamId:Object(x.g)(W)})}},"mapStateToProps");var je=Object(m.a)(re)(X),ie=e("Pl1I");const ve=new _.b("app_space"),ne={isApproved:!1,isDistributed:!1,appType:void 0,installedUserId:"",installerIsYou:!1,appName:"",appHomeTeamDisplayName:""};function Z(W){let{isApproved:ee,isDistributed:le,appType:We,installedUserId:Ze,installerIsYou:Pt,appName:bt,appHomeTeamDisplayName:la}=W;return ee?null:t.a.createElement("section",null,t.a.createElement("div",{className:"p-app_space_profile__disclaimer","data-qa":"app_space_profile_disclaimer"},le?t.a.createElement(t.a.Fragment,null,ve.t("This app is not approved by Slack.",{fallbackHash:"14a0f0dd6168d0ba20d5d59541d13a50eb535d7c"})," ",t.a.createElement(N.a,{href:"https://slack.com/blog/developers/slack-app-directory-review-process"},ve.t("Learn more",{fallbackHash:"824d76b124e6289f372e2ff6bcba91e8939343bd"})),"."):t.a.createElement(ie.a,{isError:!1,appType:We,memberId:Ze,installerIsYou:Pt,appName:bt,appHomeTeamDisplayName:la})))}s(Z,"BaseAppSpaceProfileDisclaimer"),Z.displayName="BaseAppSpaceProfileDisclaimer",Z.defaultProps=ne;function ae(W,ee){let{appProfile:le}=ee;return{isApproved:Object(l.y)(le),isDistributed:Object(l.A)(le),appType:Object(l.n)(le),installedUserId:Object(l.r)(le),installerIsYou:Object(l.s)(W,le),appName:Object(l.h)(le),appHomeTeamDisplayName:Object(l.d)(W,le)}}s(ae,"app_space_profile_disclaimer_mapStateToProps");var se=Object(m.a)(ae)(Z),fe=e("xwCZ"),Ie=e("Lts7"),ye=e("YBXM"),De=e("itAW"),Ae=e("CWPp"),qe=e("Rthn");const Et=new _.b("app_space"),Ne={appName:"",isCustomIntegration:!1,manageUrl:"",viewContextTeamId:"",currentUserId:"",launchWorkflowBuilderLinkForApp:i.a,launchWorkflowBuilder:i.a,trigger:void 0,userCanLaunchWorkflowBuilder:!1};function tt(W){let{appProfile:ee,appName:le,isCustomIntegration:We,manageUrl:Ze,viewContextTeamId:Pt,currentUserId:bt,launchWorkflowBuilderLinkForApp:la,launchWorkflowBuilder:Ia,trigger:Fa,userCanLaunchWorkflowBuilder:_a}=W;const ja=Object(a.useCallback)(()=>la({appId:ee.app_id,source:"app-space-profile"}),[la,ee.app_id]),Sa=Object(a.useCallback)(()=>Ia({source:"app-space-profile"}),[Ia]),ga=ee==null?void 0:ee.is_workflow_app,Qt=Object(A.a)(ee,"legacy_app.owner_ids",[]),Va=Object(a.useMemo)(()=>new Set(Qt),[Qt]).has(bt),Ye=Object(Ae.a)(Fa),Jt=Va&&Ye,q=_a&&ga&&Jt,ma=_a&&ga&&!Jt;return t.a.createElement("div",{className:"p-app_space_profile__info"},t.a.createElement("div",{className:"p-app_space_profile__side"},t.a.createElement(J,{appProfile:ee}),!ga&&t.a.createElement(h,{appProfile:ee,viewContextTeamId:Pt}),q&&t.a.createElement(Y.a,{type:"outline",size:"medium","data-qa":"app_profile_settings_link",onClick:ja,className:"p-app_space_profile__side_link"},Et.t("Open in Workflow Builder",{fallbackHash:"1fbd24acf21fb48b1ac19b039d6a0c25bbb801d5",fallbackHashNs:"app_card"})),ma&&t.a.createElement(t.a.Fragment,null,Et.rt("Created with <a>Workflow Builder</a>.",{fallbackHash:"bb97f973bc4adfcf27416393edf1e6ab9412ed2d",fallbackHashNs:"app_card"},cn=>{let{text:Ga}=cn;return t.a.createElement(N.a,{onClick:Sa},Ga)}))),t.a.createElement("div",{className:"p-app_space_profile__about"},!!le&&t.a.createElement("h2",{className:"p-app_space__header","data-qa":"app_profile_name"},le),t.a.createElement(je,{appProfile:ee}),t.a.createElement(se,{appProfile:ee}),We&&t.a.createElement(Y.a,{type:"outline",href:Ze||void 0},Et.t("Manage"))))}s(tt,"AppSpaceProfileInfo"),tt.displayName="AppSpaceProfileInfo",tt.defaultProps=Ne;const ta=s((W,ee)=>{let{appProfile:le}=ee;return{appName:Object(l.h)(le),isCustomIntegration:Object(l.z)(le),manageUrl:Object(l.t)(W,le),currentUserId:Object(fe.c)(W).id,trigger:Object(De.h)(W,{appId:le.app_id}),userCanLaunchWorkflowBuilder:Object(qe.c)(W)}},"app_space_profile_info_mapStateToProps"),ct=s(W=>({launchWorkflowBuilderLinkForApp:ee=>W(Object(ye.a)(ee)),launchWorkflowBuilder:ee=>W(Object(Ie.a)(ee))}),"mapDispatchToProps");var kt=Object(m.a)(ta,ct)(tt),xt=e("/o10"),Be=e("qDEp"),Bt=e("oEDn");const Zt=new _.b("app_space");let Ut=s(class extends a.PureComponent{getImages(){const{appProfile:ee}=this.props,le=Object(l.h)(ee);return Object(l.i)(ee).map(Ze=>({title:le,image:{src:Ze.image_1600,altText:le,thumbnailUrl:Ze.image_440,height:1e3,width:1600}}))}getYoutube(){const{appProfile:ee}=this.props,le=Object(l.h)(ee),We=Object(l.p)(ee);return We?{title:le,youtube:{src:We}}:null}generateThumbnailUrl(ee){const le=Object(l.w)(ee);return le===""?!1:`https://i.ytimg.com/vi/${le}/hqdefault.jpg`}handleImageClick(ee){const le=this.getYoutube(),We=this.getImages();this.props.openFileViewer({...We[ee],images:le?[le,...We]:We})}handleYoutubeClick(){const ee=this.getYoutube();if(!ee)return;const le=this.getImages();this.props.openFileViewer({...ee,images:[ee,...le]})}renderScreenshots(){const{appProfile:ee}=this.props,le=Object(l.i)(ee),We=Object(l.h)(ee);if(!le||!le.length)return null;const Ze=Zt.t("Screenshot of {appName}",{appName:We});return le.map((Pt,bt)=>t.a.createElement(Be.d,{key:Pt.id,onClick:()=>this.handleImageClick(bt),className:"p-app_space_profile__screenshots_item","data-qa":"app_space_screenshot_button"},t.a.createElement("img",{src:Pt.image_440,alt:Ze})))}renderYoutubeVideo(){const{appProfile:ee}=this.props,le=Object(l.p)(ee),We=Object(l.h)(ee);if(!le)return null;const Ze=this.generateThumbnailUrl(le);if(!Ze)return null;const Pt=Zt.t("Video of {appName}",{appName:We});return t.a.createElement(Be.d,{onClick:this.handleYoutubeClick,className:"p-app_space_profile__screenshots_item","data-qa":"app_space_youtube_button"},t.a.createElement("img",{src:Ze,alt:Pt,className:"p-app_space_profile__youtube_thumbnail"}),t.a.createElement("div",{className:"p-app_space_profile__youtube_play_button"},t.a.createElement(Bt.a,{type:"play",size:"inherit"})))}render(){const{appProfile:ee}=this.props,le=Object(l.p)(ee),We=Object(l.i)(ee);return(!We||!We.length)&&(!le||le==="")?null:t.a.createElement("div",{className:"p-app_space__screenshots"},t.a.createElement("h3",{className:"p-app_space__subheader"},Zt.t("Screenshots")),t.a.createElement("div",{className:"p-app_space_profile__screenshots","data-qa":"app_profile_screenshots"},this.renderYoutubeVideo(),this.renderScreenshots()))}constructor(ee){super(ee),this.handleYoutubeClick=this.handleYoutubeClick.bind(this),this.handleImageClick=this.handleImageClick.bind(this)}},"AppSpaceScreenshots");Ut.displayName="AppSpaceScreenshots",Ut.displayName="AppSpaceScreenshots",Ut.defaultProps={openFileViewer:i.a};const Da=Ut,ia=s(W=>({openFileViewer:function(){for(var ee=arguments.length,le=new Array(ee),We=0;We<ee;We++)le[We]=arguments[We];return W(Object(xt.a)(...le))}}),"app_space_screenshots_mapDispatchToProps");var da=Object(m.a)(null,ia)(Da),Xt=e("KPXh"),Ka=e("bXjY");const aa=new _.b("app_space"),vt={autoFillSlashCommand:i.a,clogger:{track:i.a},appId:"",botId:"",disabled:!1};function Ge(W){let{autoFillSlashCommand:ee,clogger:le,appId:We,botId:Ze,command:Pt,disabled:bt}=W;const la=Object(Xt.g)(Pt),Ia=Object(Xt.j)(Pt),Fa=Object(Xt.f)(Pt),_a=Object(a.useCallback)(()=>{ee({commandName:la}),le.track(u.EventId.APP_SPACE_ABOUT_SLASH_COMMAND_CLICK,{app_id:We,bot_id:Ze,contexts:{core:{app_id:We,bot_id:Ze}}})},[ee,la,le,We,Ze]);return t.a.createElement("div",{className:"p-app_space_profile__slash_command","data-qa":"app_space_profile_slash_command"},t.a.createElement("div",null,t.a.createElement("div",null,t.a.createElement("strong",null,la),t.a.createElement("span",null,Ia)),t.a.createElement("div",{className:"p-app_space_profile__slash_command_desc"},Fa)),!bt&&t.a.createElement("div",null,t.a.createElement(Be.f,{type:"outline","data-qa":la,onClick:_a},aa.t("Start command"))))}s(Ge,"AppSpaceSlashCommand"),Ge.displayName="AppSpaceSlashCommand",Ge.defaultProps=vt;const He=s(W=>({clogger:Object(g.a)({state:W})}),"app_space_slash_command_mapStateToProps"),me=s(W=>({autoFillSlashCommand:function(){for(var ee=arguments.length,le=new Array(ee),We=0;We<ee;We++)le[We]=arguments[We];return W(Object(Ka.a)(...le))}}),"app_space_slash_command_mapDispatchToProps");var wt=Object(m.a)(He,me)(Ge);const zt=new _.b("app_space"),It={disabled:!1};function _t(W){let{appProfile:ee,disabled:le}=W;const We=Object(l.a)(ee),Ze=Object(l.g)(ee),Pt=Object(l.j)(ee);return!We||!We.length?null:t.a.createElement(t.a.Fragment,null,t.a.createElement("h3",{className:"p-app_space__subheader"},t.a.createElement("span",null,zt.t("Commands")),t.a.createElement("span",{className:"p-app_space__subheader__helper"},zt.t("Use / to start commands in any conversation"))),t.a.createElement("div",{className:"p-app_space_profile__slash_commands"},t.a.createElement("section",null,We.map(bt=>t.a.createElement(wt,{key:bt.name,command:bt,appId:Ze,botId:Pt,disabled:le})))))}s(_t,"AppSpaceSlashCommands"),_t.displayName="AppSpaceSlashCommands",_t.defaultProps=It;var jt=t.a.memo(_t),nt=e("BfA7"),Ea=e("2VFn"),dt=e("fuYn");function Je(){return Je=Object.assign||function(W){for(var ee=1;ee<arguments.length;ee++){var le=arguments[ee];for(var We in le)Object.prototype.hasOwnProperty.call(le,We)&&(W[We]=le[We])}return W},Je.apply(this,arguments)}s(Je,"_extends");const we=new _.b("app_space"),ot={clogger:{track:i.a},showSlashCommands:!1,shouldShowButDisableSlashCommands:!1,refToForward:void 0,hasKeyboardFocus:!1,onFocus:i.a,onBlur:i.a};function Yt(W){let{clogger:ee,appProfile:le,showSlashCommands:We,shouldShowButDisableSlashCommands:Ze,refToForward:Pt,hasKeyboardFocus:bt,onFocus:la,onBlur:Ia,tabIndex:Fa,role:_a,viewContextTeamId:ja}=W;const Sa=Object(l.g)(le),ga=Object(l.j)(le),Qt=Object(a.useCallback)(()=>{ee.track("APP_SPACE_ABOUT_OPEN",{app_id:Sa,bot_id:ga,contexts:{core:{app_id:Sa,bot_id:ga}}})},[ee,Sa,ga]);if(Object(a.useEffect)(()=>{Sa&&ga&&Qt()},[Sa,ga,Qt]),!le||Object(I.e)(le))return null;const nn=Object(l.h)(le)||"",Va=we.t("About {appName}",{appName:nn,fallbackHash:"f7f9e16e31e93cf02131b1e81ff028152a103a0a",fallbackHashNs:"app_card"}),Ye=Object(O.default)("p-app_space_profile",{"p-app_space_profile--focus":bt});return t.a.createElement("div",{"aria-label":Va,ref:Pt,className:Ye,"data-qa":"app_space_profile",onFocus:la,onBlur:Ia,tabIndex:Fa,role:_a},t.a.createElement(kt,{appProfile:le,viewContextTeamId:ja}),t.a.createElement(da,{appProfile:le}),We?t.a.createElement(jt,{appProfile:le,disabled:Ze}):null)}s(Yt,"BaseAppSpace"),Yt.displayName="BaseAppSpace",Yt.defaultProps=ot;const Ee=s((W,ee)=>{var le;const{shouldUseNavigate:We,getSiblingView:Ze}=ee,Pt=We?(le=Ze(W,{container:Ea.h.Primary}))===null||le===void 0?void 0:le.id:Object(T.a)(W),bt=ee.channelId||Pt,la=Object(r.a)(W,bt);if(!Object(j.a)()&&(!la||!Object(E.t)(W)))return{};const Ia=ee.utaApp?ee.appProfile:Object(v.b)(W,bt),Fa=Object(l.K)(W,Ia),_a=Fa&&Object(y.a)(W,bt)&&Object(f.a)(W,bt),ja=Object(dt.a)(W,{channelId:bt});return{appProfile:Ia,showSlashCommands:Fa,shouldShowButDisableSlashCommands:_a,clogger:Object(g.a)({state:W}),viewContextTeamId:ja}},"app_space_mapStateToProps"),Dt=Object(nt.a)(Object(m.a)(Ee)(Yt));var St=p.a=t.a.forwardRef((W,ee)=>t.a.createElement(Dt,Je({},W,{refToForward:ee})))},xXk5:function(w,p,e){"use strict";e.d(p,"a",function(){return v}),e.d(p,"c",function(){return T});var a=e("ivW5"),t=e("thso");const m=12096e5,O={persistenceEnabled:!0,persistImmediately:!0,storeKey:"recentlyJoinedChannels",afterReadTransform:I=>{const r=Date.now(),E=Object.entries(I).reduce((y,f)=>{let[l,g]=f;return r-g.dateJoined<m&&(y[l]=g),y},{});return Object(t.d)(E)}},{reducer:i,actions:v,selectors:T}=Object(a.a)(O,{transform:I=>{const{id:r,...E}=I;return{id:r,object:E}}});p.b=i},xrKi:function(w,p,e){"use strict";e.d(p,"a",function(){return I});var a=e("9oTK"),t=e.n(a),m=e("SQ0V"),O=e("aTkP"),i=e("Fqb6"),v=e("cz6z"),T=e("UEGZ");const I=Object(m.c)("Open a record channel",function(){var r=Object(a.coroutine)(function*(E,y,f){let{channel:l,reason:g}=f;try{E(Object(T.a)({id:l.id,is_open:!0}));const j=yield E(Object(O.a)({channel:l.id,reason:g}));j.ok&&(E(Object(i.a)({channel:j.channel})),j.counts&&E(Object(v.a)({counts:[j.counts]})))}catch{E(Object(T.a)({id:l.id,is_open:!1}))}});return function(E,y,f){return r.apply(this,arguments)}}());I.meta={name:"createThunk",key:"createThunkopenRecordChannel",description:"Open a record channel"}},zP2k:function(w,p,e){"use strict";e.d(p,"a",function(){return r});var a=e("ztJi"),t=e("3L56"),m=e("25cE"),O=e("JfJV"),i=e("xcHN"),v=e("mLC8"),T=e("gJ67"),I=e("GoiD");let r=s(class extends T.a{tearDown(){this.routeChangeListenerSymbol&&Object(O.i)(this.routeChangeListenerSymbol)}openCommentsThread(y){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focusTarget:l}=f;return v.d.start({label:v.a.SpaceCommentLoad,options:{teamId:this.teamId,tags:{comment_thread_id:y}}}),this.dispatch(Object(t.a)({quipThreadId:this.quipThreadId,reason:"startCommentsThread"})).then(g=>this.dispatch(Object(I.a)({fileId:g,quipCommentThreadId:y,shouldIncludeBack:this.shouldIncludeBack,focusTarget:l}))).then(()=>(this.openCommentThreadId=y,!0)).catch(g=>(this.logger.error(g),!1))}closeCommentsThread(){}constructor({shouldIncludeBack:y,...f}){super(f),this.openCommentThreadId=null,this.shouldIncludeBack=!0,this.onRouteChange=l=>{var g,j;const{prevRouteInfo:_,params:A,routeName:Y}=l;if(!this.openCommentThreadId||_.routeName!==m.w||!(!((g=_.params)===null||g===void 0)&&g.threadId))return;const{threadTs:N,quipCommentThreadId:S}=Object(i.a)(_.params.threadId),V=(j=Object(a.a)(this.getState(),this.openCommentThreadId))===null||j===void 0?void 0:j.threadTs;if(S&&S===this.openCommentThreadId||N&&N===V){if(Y===m.w){const{threadTs:G,quipCommentThreadId:C}=Object(i.a)(A.threadId);if(C&&C===this.openCommentThreadId||G&&G===V)return}this.closeCommentThreadId_(this.openCommentThreadId),this.openCommentThreadId=null}},typeof y=="boolean"&&(this.shouldIncludeBack=y),this.routeChangeListenerSymbol=Object(O.b)(this.onRouteChange)}},"QuipFlexpaneCommentsUiProvider")},zheW:function(w,p,e){"use strict";var a=e("q1tI"),t=e.n(a),m=e("/MKj"),O=e("BHdc"),i=e("nNoG"),v=e("zlyu"),T=e("RUo5"),I=e("oEDn"),r=e("m40f"),E=e("T1zM"),y=e("ktUG"),f=e("Trx9"),l=e("HDM2");const g=new i.b("a11y_prefs_setup"),j=s(A=>{let{closeCoachmark:Y,children:N,offsetX:S}=A;const V=Object(m.useDispatch)();Object(a.useEffect)(()=>{V(Object(E.f)({pref:"seen_a11y_pref_setup_coachmark",value:!0}))},[V]);const J=s(()=>{Y()},"onCloseCoachmark"),G=s(()=>{J(),V(Object(l.a)())},"onClickLink"),C="a11y_onboarding_coachmark_label",u=t.a.createElement(v.a,{orientation:"right",arrowPosition:30,offsetX:S,offsetY:37,coachmarkClassNames:Object(O.default)("p-a11y_prefs_setup_coachmark"),isOpen:!0,closeCoachmark:J,isMegaphoneCoachmark:!1},t.a.createElement("div",{className:"p-a11y_prefs_setup_coachmark__container"},t.a.createElement("div",{className:"p-a11y_prefs_setup_coachmark__emoji"},t.a.createElement("div",{className:"p-a11y_prefs_setup_coachmark__emoji__orange_circle"}),t.a.createElement(I.a,{className:"p-a11y_prefs_setup_coachmark__emoji__icon",type:"lightbulb-o",size:"inherit"})),t.a.createElement("div",{className:"display_flex flex_direction_column"},t.a.createElement("div",{className:"p-a11y_prefs_setup_coachmark__text",id:C},g.rt("<b>Set your preferences to match how you work.</b> You can decide how Slack looks, feels, and sounds.")),t.a.createElement(r.a,{className:"p-a11y_prefs_setup_coachmark__primary_cta_link",onClick:G,autoFocus:!0,"aria-describedby":C,autoClogProps:{elementName:"a11y_prefs_setup_coachmark_open_modal_link",onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:"display_flex p-a11y_prefs_setup_coachmark__cta__container"},t.a.createElement("strong",null,g.rt("Show me how ")),t.a.createElement(I.a,{type:"arrow-right",inline:!0}))))));return t.a.createElement(f.a,{eventId:y.EventId.A11Y_PREFS_SETUP,uiComponentName:y.UiComponentName.A11Y_PREFS_SETUP_COACHMARK,clogImpression:!0},t.a.createElement(T.b,{coachmarkElement:u,orientation:"right",coachmarkAnchorClassNames:"display_flex width_100"},N))},"A11yPrefsSetupCoachmark");j.displayName="A11yPrefsSetupCoachmark";var _=p.a=j},zjLW:function(w,p,e){"use strict";e.d(p,"a",function(){return r});var a=e("9oTK"),t=e.n(a),m=e("m8R6"),O=e("2XU3"),i=e("WCk1"),v=e("s4P+"),T=e("pjW8");const I={NotAllowed:"not_allowed",ChannelNotFound:"channel_not_found",NotOwner:"not_owner",Ratelimited:"ratelimited",MethodNotSupportedForChannelType:"method_not_supported_for_channel_type",InvalidArguments:"invalid_arguments"},r=Object(i.a)("instantSlack.endSession generated fetcher",function(){var E=Object(a.coroutine)(function*(y,f,l){try{const g=["reason"],j=Object(m.a)(l,g),_=Object(T.b)(j);return yield y(Object(O.apiCall)({method:"instantSlack.endSession",args:_,reason:l.reason}))}catch(g){throw Object(v.a)({getState:f}).error(`API call to instantSlack.endSession
				with reason ${l.reason} failed, initiated by generated fetcher`),g}});return function(y,f,l){return E.apply(this,arguments)}}());r.meta={name:"createFetcher",key:"createFetcherinstantSlackEndSessionFetcher",description:"instantSlack.endSession generated fetcher"}}}]);})();
