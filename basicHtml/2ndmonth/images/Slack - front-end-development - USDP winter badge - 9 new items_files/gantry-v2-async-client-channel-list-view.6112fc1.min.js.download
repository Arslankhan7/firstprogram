(()=>{var Ya=Object.defineProperty;var O=(Xe,_)=>Ya(Xe,"name",{value:_,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-channel-list-view"],{"1cSq":function(Xe,_,e){"use strict";e.d(_,"a",function(){return Ta});var n=e("q1tI"),t=e.n(n),a=e("zxER"),U=e("/MKj"),q=e("BHdc"),z=e("nNoG"),x=e("rZ8V"),fe=e("mQiU"),r=e("2VFn"),Qe=e("ifKl"),mt=e("lhZz"),se=e("RVJP"),D=e("Lts7"),Y=e("7+Lm"),X=e("beVI"),H=e("uVZW"),me=e("ptfs"),Je=e("qN/r"),oe=e("vfQU"),Q=e("ktUG"),Oe=e("kBpe"),ee=e("c+dP"),B=e("G0eX"),ve=e("ByMX"),Ze=e("inLP"),de=e("q0lC"),te=e("ITkT"),b=e("tv4y"),_e=e("qDEp"),ke=e("ZobM"),qe=e("lMoG"),ue=e("rq2v"),ge=e("qSBf"),et=e("i5Ig"),Se=e("JoR1"),dt=e("mYQK"),tt=e.n(dt),ut=e("3l96"),pt=e("+kJ4"),bt=e("O0Iw"),ht=e("F+t2"),ft=e("dVyO"),we=e("Qrgz"),Ot=e("G6zW"),vt=e("VYQz"),kt=e("Y96m"),Pe=e("Rthn"),ye=e("nl1t"),gt=e("bJfW"),je=e("Ef49"),yt=e("RaF2"),jt=e("9qjT"),Et=e("PKUD"),Ae=e("nfxS"),Ct=e("+l+1"),Te=e("3ZXp"),xe=e("/SBa"),at=e("u0Q5"),It=e("mGaQ"),nt=e("RCY/"),He=e("DHqQ");function ce(){return ce=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var s=arguments[f];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i])}return h},ce.apply(this,arguments)}O(ce,"_extends");const u=new z.b("ia4"),We=new z.b("classic_nav"),Mt={[H.h.WORKSPACE_MENU_UPGRADE_ITEM]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"5NJT")))}},Ee=O(h=>{let{menuProps:f}=h;const s=Object(U.useDispatch)(),i=Object(a.d)(c=>Object(se.d)(c,"ia4_admin_and_settings_translations")==="on"),v=Object(a.d)(c=>Object(se.d)(c,"idsc_exports_admin_role_fe")==="on"),R=Object(a.d)(c=>Object(se.d)(c,"idsc_exports_admin_role_fe"))==="on",T=Object(a.d)(c=>Object(se.d)(c,"flag_message_admin_dash"))==="on",L=Object(a.d)(x.o),F=Object(a.d)(at.b),G=Object(a.d)(at.a),I=Object(a.d)(X.g);var $;const p=($=Object(B.n)(I))!==null&&$!==void 0?$:void 0,k=Object(B.h)(I),g=Object(B.v)(I),w=Object(a.d)(te.e),j=Object(a.d)(ye.a),J=Object(a.d)(de.b),ct=Object(a.d)(bt.f),rt=Object(a.d)(de.e),lt=Object(a.d)(de.g),ne=Object(a.d)(ht.a),Z=Object(B.z)(I),Me=Object(gt.b)(p),At=Object(a.d)(Pe.c),xa=Object(a.d)(ft.a),Ha=J,Wa=Object(a.d)(vt.a),Ra=Object(a.d)(kt.b),La=Object(a.d)(Ze.a),Fa=Object(a.d)(we.q),Da=Object(a.d)(we.h),Ua=Object(B.K)(I),Ba=Object(a.d)(c=>Object(Se.t)(c,"purchaser")),Tt=Object(a.d)(c=>Object(Ae.b)(c,"stats_only_admins")),xt=Object(a.d)(c=>Object(Ae.b)(c,"emoji_only_admins")),Ht=Object(a.d)(c=>Object(Ae.b)(c,"slackbot_responses_only_admins")),Wt=Z?J:Ua&&(lt||Ba),sa=`https://app.${Object(B.t)(I)}/apps-manage/${I==null?void 0:I.id}/`,Ne=lt&&!Z,oa=Object(a.d)(ve.b),Rt=!oa&&(rt||Tt.length>0),Lt=Object(a.d)(Ot.a),ca=u.rt("Tools & settings"),ra=u.rt("Tools"),la=u.rt("Settings"),Ue=ct.length>0,Be=Ue||Z&&Ha,Ft=!oa&&(Ue||xt.length>0||Ht.length>0),Dt=xa,Ut=ne,Ka=Wa,Bt=Ra,Kt=v&&La,Gt=R&&Fa,zt=T&&Da,Vt=Dt||Ut||Wt||Ka||Bt||Kt||Gt||zt||Lt,ia=Be||Vt,$t=!!Object(a.d)(c=>Object(Y.c)(c,H.g.WORKSPACE_MENU_SECONDARY_PLAN_INFO)),Ga=!!Object(a.d)(c=>Object(Y.c)(c,H.g.WORKSPACE_MENU_PRIMARY_PLAN_INFO)),Yt=!Z&&Ga,Xt=!!Object(a.d)(c=>Object(Y.c)(c,H.g.WORKSPACE_MENU_UPSELL)&&!Object(oe.eb)()),za=Object(a.d)(c=>Object(Y.c)(c,H.g.MAIN_MENU)),Qt=Object(a.d)(c=>Object(Y.b)(c,H.g.MAIN_MENU)),it=za===H.h.PERSISTENT_MOBILE_PROMO,Ke=Qt==null?void 0:Qt.signedInMobileOtherTeam,ma=Object(a.d)(c=>Object(Y.c)(c,H.g.WORKSPACE_MENU_PRIMARY_PLAN_INFO))===H.h.STRAIGHT_TO_PAID_WORKSPACE_MENU_PRIMARY_TIME_LIMIT&&(F||G),da=Object(n.useCallback)(()=>{s(Object(Je.a)())},[s]),ua=Object(n.useCallback)(()=>{s(Object(me.a)({source:Ct.f.TeamMenu}))},[s]),pa=Object(n.useCallback)(()=>{s(Object(pt.a)())},[s]),Va=Object(n.useCallback)((c,Ve,$e)=>()=>{s(Object(ut.a)({element:t.a.createElement(Et.a,{adminRoute:c,closeModal:pa,title:Ve,workspaceIds:$e})}))},[pa,s]),re=Me?Va:Qe.a,le=Object(n.useCallback)(c=>Me?void 0:`${g}${c}`,[g,Me]),ba="customize?utm_source=in-prod&utm_medium=inprod-customize_link-slack_menu-click",ha="apps/manage?utm_source=in-prod&utm_medium=inprod-apps_link-slack_menu-click",he=Object(n.useMemo)(()=>{if(!Ft&&!At&&!Rt)return et.a;const c=u.t("Customize workspace");return[{label:c,show:Ft,click:re(ba,c,[...xt,...Ht]),href:le(ba),key:"customize-workspace",showLinkIndicatorIcon:!1},{click:()=>s(Object(D.a)({source:"workspace_menu"})),label:u.t("Workflow Builder"),key:"launch-workflow-builder",show:At},{key:"analytics",label:We.t("Analytics"),click:re("stats",i?u.t("Workspace analytics"):We.t("Analytics"),Tt),href:le("stats"),show:Rt}].filter(Ve=>"show"in Ve?Ve.show!==!1:!0)},[i,Ft,At,Rt,re,xt,Ht,le,Tt,s]),ie=Object(n.useMemo)(()=>{if(!ia)return et.a;const c=u.rt("Workspace settings");return[{label:c,click:re("admin/settings",c),href:le("admin/settings"),key:"workspace-settings",showLinkIndicatorIcon:!1,show:Ue},{label:u.t("Edit workspace details",{fallbackHash:"77c33adfdac1c3ccaa95abf3a1c1a42c99935e68",fallbackHashNs:"classic_nav"}),show:Ne,click:()=>s(Object(xe.a)()),key:"edit-workspace-details"},{label:u.rt("Organization settings \u2013 {teamDisplayName}",{fallbackHash:"89a2060bc73faa1446542140fe7536e0d41b726b",teamDisplayName:k}),href:`${g}manage`,key:"organization-settings",showLinkIndicatorIcon:!1,show:Me&&J},{type:b.a.separator,key:"settings-administration-separator",show:Be},{type:b.a.header,label:u.t("Administration"),key:"administration",show:Vt},{label:u.t("Manage Slack Connect Invitations"),show:Dt,href:Z&&j?`${g}manage/slack-connect/requests-pending-invites`:`${g}admin/slack-connect-invitations`,key:"manage-slack-connect-invitations",dataQa:"main_menu_settings_submenu_manage_slack_connect_invitations",showLinkIndicatorIcon:!1},{label:u.rt("Manage members"),click:re("admin",i?u.rt("Manage workspace members"):u.rt("Manage members")),href:le("admin"),key:"manage-members",showLinkIndicatorIcon:!1,show:Ue},{label:i?u.rt("Manage roles"):u.rt("Manage Roles"),click:re("admin/roles",i?u.rt("Manage workspace roles"):u.rt("Manage Roles")),href:le("admin/roles"),key:"manage-roles",showLinkIndicatorIcon:!1,show:Bt},{label:u.rt("Manage apps"),click:re(ha,i?u.rt("Manage workspace apps"):u.rt("Manage apps")),href:le(ha),key:"manage-apps",showLinkIndicatorIcon:!1,show:Ut},{label:u.rt("Manage workflows"),href:Z?`${g}manage/integrations/workflows`:`${sa}integrations/workflows`,key:"manage-workflows",showLinkIndicatorIcon:!1,show:Lt},{label:u.rt("Manage legal holds"),href:`${g}manage/security/legal-holds`,key:"manage-legal-holds",showLinkIndicatorIcon:!1,show:Me&&J},{label:v?u.t("Manage exports"):"",href:`${g}manage/security/exports`,key:"manage-exports-admin",showLinkIndicatorIcon:!1,show:Kt},{label:R?u.t("Manage security"):"",href:`${g}manage/security`,key:"manage-security-admin",showLinkIndicatorIcon:!1,show:Gt},{label:T?u.t("Manage content"):"",href:`${g}manage/security/flagged-content`,key:"manage-content-admin",showLinkIndicatorIcon:!1,show:zt},{label:u.rt("Billing"),href:Z?`${g}manage/billing`:`${g}admin/billing`,key:"billing",showLinkIndicatorIcon:!1,show:Wt}]},[ia,re,le,Ue,k,g,Me,J,Be,Vt,Bt,Dt,Z,j,i,Ut,Wt,sa,Lt,Ne,v,Kt,R,Gt,T,zt,s]),Ge=Object(n.useCallback)(()=>{const c="open-desktop-app";return[{type:b.a.custom,ariaHidden:!1,children:t.a.createElement(je.a,{key:c,showMobileEntryPoint:it,teamUrl:g}),show:!Object(Oe.i)()&&!tt.a.chromeBook,key:c}]},[g,it]),Jt=Object(n.useCallback)(()=>{const c=Ke?"sign-in-on-mobile":"get-mobile-app";return[{type:b.a.custom,ariaHidden:!1,children:t.a.createElement(ue.c,{spaceName:H.g.MAIN_MENU,notifications:jt.a,key:c,showExistingHumansMobileEntry:Ke}),show:!0,key:c}]},[Ke]),ze=Object(n.useCallback)(c=>[{type:b.a.custom,ariaHidden:!1,children:t.a.createElement(yt.a,{key:"qr-code-signin-mobile",teamDisplayName:k,showInSubMenu:c}),show:Object(It.a)(p)!==nt.a.GOV,key:"qr-code-signin-mobile"}],[k,p]),fa=Object(n.useCallback)(()=>Ke?[...Ge(),{label:We.rt("Sign in on mobile",{fallbackHash:"648468ff942deda0826e667407776fe77f12f76d",teamDisplayName:k}),type:b.a.submenu,key:"sign-in-mobile-submenu",template:[...ze(!0),...Jt()],show:!0}]:[...Ge(),...Jt(),{type:b.a.separator,show:!0,key:"sign-out-separator"},...ze()],[Ke,k,Ge,Jt,ze]),$a=Object(n.useMemo)(()=>{if(!L)return[];let c=ca;he.length&&!ie.length&&(c=ra),!he.length&&ie.length&&(c=la);const $e=[{children:t.a.createElement(Te.a,{key:"team-blurb-menu-item",isMenuItem:Ne,ariaDescribedById:"team-blurb-text"}),type:Ne?void 0:b.a.custom,key:"team-blurb-menu-item",click:()=>Ne?s(Object(xe.a)()):void 0},{type:b.a.separator,key:"upsell-separator-top",show:Xt},{type:b.a.custom,ariaHidden:!1,children:t.a.createElement(ue.b,{key:"workspace-menu-upsell",uiPage:Q.UiPage.MAIN_MENU,notifications:Mt,spaceName:H.g.WORKSPACE_MENU_UPSELL,showDescription:!0}),key:"workspace-menu-upsell",show:Xt},{type:b.a.separator,key:"primary-plan-info-separator-top"},{type:b.a.custom,ariaHidden:!1,children:t.a.createElement(ue.b,ce({key:"workspace-menu-primary-plan-info"},qe.a)),key:"workspace-menu-primary-plan-info",show:Yt},{type:b.a.separator,key:"primary-plan-info-separator-bottom",show:Yt&&!ma},{type:b.a.custom,ariaHidden:!1,children:t.a.createElement(ue.b,ce({key:"workspace-menu-secondary-plan-info"},ge.a)),key:"workspace-menu-secondary-plan-info",show:$t},{type:b.a.separator,key:"secondary-plan-info-separator-bottom",show:$t},{label:u.rt("Invite people to {teamDisplayName}",{teamDisplayName:k}),click:ua,show:w,key:"invite-people",autoClogProps:{elementName:"team_menu_invite_people",onClick:{enableClogAction:!0}}},{type:b.a.separator,show:w,key:"invite-people-separator"},{label:u.rt("Preferences"),click:da,shortcut:Object(Oe.p)()&&Object(Oe.i)()&&"\u2318,",key:"sidebar-preferences"},{label:c,type:b.a.submenu,show:he.length>0||ie.length>0,key:"tools-and-settings-submenu",template:[{type:b.a.header,label:u.rt("Tools"),show:he.length>0&&ie.length>0,key:"tools-header"},...he,{type:b.a.separator,show:he.length>0&&ie.length>0,key:"tools-bottom-separator"},{type:b.a.header,label:u.rt("Settings"),show:Be&&ie.length>0,key:"settings-header"},...ie].filter(Ye=>"show"in Ye?Ye.show!==!1:!0)}],Oa={label:u.rt("Sign out"),key:"sign-out",shortcut:"",click:()=>Object(mt.dispatchForClientStore)(He.a===null||He.a===void 0?void 0:Object(He.a)({teamId:p}))},va={label:u.rt("Join or leave workspaces",{fallbackHash:"6f729817a58c0cb75dc807b9771f19119fced3cc",fallbackHashNs:"enterprise_dashboard"}),show:Z,key:"join-leave-workspaces",href:g,click:()=>{}};return it?$e.push({type:b.a.separator,show:!0,key:"native-apps-separator"},...fa(),va,Oa):$e.push({type:b.a.separator,key:"workspace-tools-separator",show:!0},...ze(),va,Oa,...Ge()),$e.filter(Ye=>"show"in Ye?Ye.show!==!1:!0)},[L,ca,he,ie,k,Xt,Yt,$t,ua,w,da,Be,it,ra,la,p,fa,ze,Ge,Z,g,Ne,s,ma]);return L?t.a.createElement(ee.a,ce({},f,{menuClassNames:"p-ia4_home_header_menu__menu","aria-label":u.t("{teamDisplayName} Actions",{teamDisplayName:k,fallbackHash:"f0b9c8a7e7825e826adb6a5ac5e29ee7ae2281a2"}),template:$a})):null},"HomeHeaderMenu");Ee.displayName="HomeHeaderMenu";const Re=O(()=>{const h=Object(a.d)(x.o),f=Object(n.useCallback)(v=>t.a.createElement(Ee,{menuProps:v}),[]),s=Object(a.d)(X.g),i=Object(B.h)(s);return h?t.a.createElement(ee.e,{renderMenu:f,position:"bottom-left"},t.a.createElement(_e.d,{className:"p-ia4_home_header_menu__button","aria-label":u.t("{teamDisplayName} Actions",{teamDisplayName:i,fallbackHash:"f0b9c8a7e7825e826adb6a5ac5e29ee7ae2281a2"}),"data-qa":"workspace_actions_button"},t.a.createElement("span",{className:"p-ia4_home_header_menu__team_name"},i),t.a.createElement(ke.a,{name:"caret-down","aria-label":"caret-down"}))):null},"HomeHeaderMenuTrigger");Re.displayName="HomeHeaderMenuTrigger";var Zt=Ee,Nt=e("NfYe"),St=e("1lov"),_t=e("i2Y+"),qt=e("3S9f"),o=e("Cy/8"),l=e("7cRW"),m=e("oHyA"),d=e("Skui"),y=e("TQea");function E(){return E=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var s=arguments[f];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i])}return h},E.apply(this,arguments)}O(E,"event_header_menu_extends");const S=new z.b("events"),M=O(h=>{let{menuProps:f,externalWorkspaceId:s}=h;const i=Object(U.useDispatch)(),v=Object(a.d)(p=>Object(X.s)(p,s)),R=Object(a.d)(p=>Object(X.e)(p,s||"")),T=Object(B.h)(v),L=Object(a.d)(p=>Object(St.b)(p,[s])),F=Object(a.d)(p=>Object(_t.a)(p,s)),G=Object(a.d)(p=>Object(qt.a)(p,s)),I=Object(a.d)(Nt.l),$=Object(n.useMemo)(()=>[{children:t.a.createElement(Te.a,{customTeam:v,key:"team-blurb-menu-item",isMenuItem:F,ariaDescribedById:"team-blurb-text",customSubtitle:I?S.t("Event"):""}),type:F?void 0:b.b.custom,key:"team-blurb-menu-item"},{type:b.b.separator,key:"primary-plan-info-separator-top"},{label:I?S.rt("Create Channel"):"",click:()=>{i(Object(o.a)({entryPoint:l.a.ChannelSidebarSlackConnectSection,initialWorkspaceId:v.id}))},key:"create-channel",showLinkIndicatorIcon:!1,show:L},{label:S.rt("{eventWorkspaceName} Workspace Settings",{eventWorkspaceName:T,fallbackHash:"432fa10a36a60a6f10e4b63a3491f6697488c488",fallbackHashNs:"ia4"}),href:`${R}`,key:"workspace-settings",showLinkIndicatorIcon:!0,show:F},{label:S.rt("Invite to {eventWorkspaceName}",{eventWorkspaceName:T,fallbackHash:"432fa10a36a60a6f10e4b63a3491f6697488c488",fallbackHashNs:"ia4"}),click:()=>i(Object(m.a)({id:s})),key:"invite-to-workspace",showLinkIndicatorIcon:!1,show:G},{type:b.b.separator,key:"leave-workspaces-separator-top",show:L||F||G},{label:S.rt("Leave {eventWorkspaceName}",{eventWorkspaceName:T,fallbackHash:"dc1649a16c1496db3e4073be6a73faf5121aeae7",fallbackHashNs:"ia4"}),key:"sign-out-event-workspace",click:()=>i(Object(d.a)({id:s})),danger:!0}].filter(g=>"show"in g?g.show:!0),[v,F,I,L,T,R,G,i,s]);return t.a.createElement(ee.a,E({},f,{menuClassNames:"p-event_header_menu__menu","aria-label":S.t("{teamDisplayName} Actions",{teamDisplayName:T,fallbackHash:"dde3b41abdc106c7934277e6ce75b7165c603697",fallbackHashNs:"ia4"}),template:$}))},"EventHeaderMenu");M.displayName="EventHeaderMenu";const P=O(()=>{const h=Object(a.d)(y.a);if(!h)throw new Error("Event view workspace id could not be determined");const f=Object(n.useCallback)(i=>t.a.createElement(M,{menuProps:i,externalWorkspaceId:h}),[h]),s=Object(a.d)(i=>Object(B.h)(Object(X.s)(i,h)));return t.a.createElement(ee.e,{renderMenu:f,position:"bottom-left"},t.a.createElement(_e.d,{className:"p-event_header_menu__button","aria-label":S.t("{externalWorkspaceName} Actions",{externalWorkspaceName:s,fallbackHash:"dde3b41abdc106c7934277e6ce75b7165c603697",fallbackHashNs:"ia4"}),"data-qa":"workspace_actions_button"},t.a.createElement("span",{className:"p-event_header_menu__team_name"},s),t.a.createElement(ke.a,{name:"caret-down","aria-label":"caret-down"})))},"EventHeaderMenuTrigger");P.displayName="EventHeaderMenuTrigger";var A=e("T1zM"),C=e("tOT8"),K=e("VqrZ"),pe=e("nFQW"),Le=e("bqbz"),Ce=e("sXqy"),Fe=e("Tsh7");function Ie(){return Ie=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var s=arguments[f];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i])}return h},Ie.apply(this,arguments)}O(Ie,"home_filter_menu_extends");const V=new z.b("ia4"),De=O(h=>{let{autoClogProps:f}=h;const s=Object(U.useDispatch)(),i=Object(a.d)(x.o),v=Object(a.d)(Le.x),R=Object(a.d)(p=>Object(Se.t)(p,"sidebar_behavior")),T=Object(n.useCallback)(p=>{s(Object(A.f)({pref:"sidebar_behavior",value:p}))},[s]),L=Object(n.useCallback)(function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C.a,k=null;switch(p){case C.c:k=V.t("Unreads only",{fallbackHash:"e6ba0dd17a2b35fa6f10d71fd5c9ef05e1c1b74b"});break;case C.b:k=V.t("Mentions only",{fallbackHash:"85e12bc6f2e56024e47cc826a14968247a52dc54"});break;case C.d:k=V.t("Custom by section");break;default:k=V.t("All activity",{fallbackHash:"6a72085653e4c5be8c7640c868ef787cbcf063d1"})}return k},[]),F=Object(n.useCallback)(p=>{s(Object(Ce.u)({peopleFilter:{type:p}}))},[s]),G=Object(n.useCallback)(function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K.a.All,k=null;switch(p){case K.a.Internal:k=V.t("Without external people",{fallbackHash:"ced467140a4bbe093acae9de20da68671c858948"});break;case K.a.External:k=V.t("Including external people",{fallbackHash:"00da205fe2db5521f93eea96c59322197f2f8296"});break;default:k=V.t("Everyone",{fallbackHash:"883ee88345db95dcc44df5b3c399c910950ecb00"})}return k},[]),I=Object(n.useMemo)(()=>{const p=[C.a,C.c,C.b,C.d],k=[K.a.All,K.a.Internal,K.a.External],g=v==null?void 0:v.type;return[...p.map(w=>({label:L(w),type:b.b.checkbox,click:()=>T(w),checked:!R&&w===C.a||R===w})),{type:b.b.separator},...k.map(w=>({label:G(w),type:b.b.checkbox,click:()=>F(w),checked:!g&&w===K.a.All||g===w}))]},[R,T,L,G,F,v]),$=Object(n.useCallback)(p=>t.a.createElement(ee.a,Ie({},p,{template:I})),[I]);return i?t.a.createElement(ee.e,{renderMenu:$,position:"bottom-left"},t.a.createElement(Fe.d,{tip:V.t("Filter conversations",{fallbackHash:"f0616c2d17df6b887f59fe99a1d8f082108cd38a"}),position:"bottom"},t.a.createElement(pe.a,{autoClogProps:f,"data-qa":"home_filter_menu","aria-label":V.t("Home filter")},t.a.createElement(ke.a,{name:"refine","aria-label":"refine"})))):null},"HomeFilterMenu");De.displayName="HomeFilterMenu";var N=De,W=e("4FtF"),st=e("9r2y"),ka=e("Trx9"),ga=e("qcoW"),ya=e("RR6E"),ot=e("Qrj/"),ja=e("U3SE"),Ea=e("i9jZ");const ea=new z.b("drafts"),Ca={clogImpression:!0,elementName:"home_header_filter_menu_button",elementType:Q.ElementType.BUTTON,eventId:Q.EventId.HOME_FILTER_MENU,onClick:{enableClogAction:!0},uiStep:Q.UiStep.HOME_FILTER_MENU};function ta(h){let{isSetupPage:f}=h;const s=Object(U.useDispatch)(),i=Object(n.useRef)(),v=Object(n.useCallback)(w=>{i.current=w},[]),R=Object(a.d)(Ea.b),T=Object(a.d)(ot.a.isAnyTreatment),L=Object(a.d)(ot.a.isTreatmentHome),F=Object(a.d)(ya.d),G=Object(a.d)(w=>Object(Se.t)(w,W.a)),I=Object(a.d)(W.b),$=Object(a.d)(st.c);let p=`ia4_new_teams_v2_${L?ot.a.GROUPS.TREATMENT_HOME:ot.a.GROUPS.TREATMENT_HOME_MORE}`;F&&(p="desktop_ia4_new_teams_v3__treatment_home_more");const k=Object(n.useMemo)(()=>({...Ca,stepVariant:p}),[p]),g=Object(n.useCallback)(w=>{var j;s(Object(ga.a)({shouldOpenInTile:R&&Object(ja.a)(w)})),I&&!G&&s(Object(A.f)({pref:W.a,value:!0})),(j=i.current)===null||j===void 0||j.call(i,{action:Q.UiAction.CLICK})},[R,s,G,I]);return f?null:t.a.createElement(t.a.Fragment,null,$&&t.a.createElement(N,{autoClogProps:T?k:void 0}),t.a.createElement(ka.a,{clogImpression:!0,elementName:"home_header_composer_button",elementType:Q.ElementType.BUTTON,eventId:Q.EventId.COMPOSE_FLOW,stepVariant:p,trackClogRef:v,uiStep:Q.UiStep.COMPOSE_FLOW_CREATE},t.a.createElement(Fe.d,{tip:ea.t("New message"),position:"bottom"},t.a.createElement(pe.a,{"aria-label":ea.t("New message"),className:Object(q.default)("p-home_header_controls__composer_button",{"p-home_header_controls__composer_button--highlight":I}),"data-qa":"composer_button",onClick:g,size:I?"x-small":"medium"},t.a.createElement(ke.a,{name:"compose"})))))}O(ta,"HomeHeaderControls"),ta.displayName="HomeHeaderControls";var Ia=Object(n.memo)(ta),Ma=e("anSg"),wt=e("IaLB"),Na=e("HkGY"),aa=e("MeLy"),ae=e("XDa+"),Sa=e("bhDs"),wa=e("MRve"),na=e("u0LO");function Pt(){return Pt=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var s=arguments[f];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(h[i]=s[i])}return h},Pt.apply(this,arguments)}O(Pt,"sidebar_header_extends");const be=new z.b("ia4"),Pa=[r.d.Home,r.d.DMs,r.d.Activity,r.d.Later,r.d.CRM,r.d.SalesHome],Aa=O(h=>Pa.includes(h),"isTopLevelTab");function Ta(h){let{renderControls:f,isChannelListOverflowing:s}=h;const i=Object(U.useDispatch)(),v=Object(a.d)(x.o),R=Object(a.d)(ne=>Object(se.d)(ne,"view_header_overflow_borders")==="on"),{activeTab:T,getSiblingView:L,shouldUseNavigate:F}=Object(n.useContext)(fe.a),G=Object(a.d)(X.g),I=Object(a.d)(ne=>Object(wt.Y)(ne,{getSiblingView:L,shouldUseNavigate:F})),$=Object(a.d)(ne=>Object(wt.eb)(ne,{getSiblingView:L,shouldUseNavigate:F})),p=Object(a.d)(wt.K),k=$?p:Object(B.h)(G),g=Object(a.d)(ne=>Object(Y.c)(ne,H.g.SIDEBAR_MENU_HEADER)===H.h.SIDEBAR_MENU_HEADER_UPGRADE_CTA&&!Object(oe.eb)()),w=Object(a.d)(Sa.e);if(Object(n.useEffect)(()=>{w&&i(Object(wa.a)({interactions:[{component:na.c.PaidBenefitsPage,type:na.a.Impression}],reason:"benefits-sidebar-link"}))},[i,w]),!v)return null;let j=null,J=f?f():null;switch(T){case r.d.Home:j=I?k:t.a.createElement(aa.a,{subtype:"home-header-menu"},t.a.createElement(Re,null)),J=t.a.createElement(Ia,{isSetupPage:I});break;case r.d.DMs:j=be.t("Direct Messages");break;case r.d.Activity:j=be.t("Activity");break;case r.d.Later:j=be.t("Later");break;case r.d.SalesHome:j=be.t("Sales");break;case r.d.Browse:j=be.t("Browse");break;case r.d.Search:j=Object(ae.a)({tab:r.d.Search,experimentDesktopIa4GroupOn:v});break;case r.d.Files:j=Object(ae.a)({tab:r.d.Files,experimentDesktopIa4GroupOn:v});break;case r.d.Lists:j=Object(ae.a)({tab:r.d.Lists,experimentDesktopIa4GroupOn:v});break;case r.d.ExternalConnections:j=Object(ae.a)({tab:r.d.ExternalConnections,experimentDesktopIa4GroupOn:v});break;case r.d.Channels:j=Object(ae.a)({tab:r.d.Channels,experimentDesktopIa4GroupOn:v});break;case r.d.People:j=Object(ae.a)({tab:r.d.People,experimentDesktopIa4GroupOn:v});break;case r.d.Platform:j=Object(ae.a)({tab:r.d.Platform,experimentDesktopIa4GroupOn:v});break;case r.d.Huddles:j=Object(ae.a)({tab:r.d.Huddles,experimentDesktopIa4GroupOn:v});break;case r.d.Canvases:j=Object(ae.a)({tab:r.d.Canvases,experimentDesktopIa4GroupOn:v});break;case r.d.ExternalWorkspace:j=t.a.createElement(aa.a,{subtype:"event-header-menu"},t.a.createElement(P,null));break;case r.d.CRM:j=be.t("Sales");break;default:j=""}const ct=Object(q.default)("p-ia4_sidebar_header",{"p-ia4_home_header":T===r.d.Home,"p-event_header":T===r.d.ExternalWorkspace,"p-ia4_home_header--setup":I,"p-ia4_home_header--with_upgrade":g,"p-ia4_sidebar_header--withControls":J,"p-ia4_sidebar_header--list_isnt_overflowing":R&&!s}),rt=t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:T===r.d.ExternalWorkspace?"p-ia4_sidebar_header__title__event":"p-ia4_sidebar_header__title","aria-hidden":!0},j),J&&t.a.createElement("div",{className:"p-ia4_sidebar_header__controls"},J)),lt=Aa(T)?t.a.createElement(Na.b,{"aria-label":be.t("Actions"),className:ct},rt):t.a.createElement("div",{className:ct},rt);return t.a.createElement(t.a.Fragment,null,lt,t.a.createElement(ue.c,Pt({},Ma.a)))}O(Ta,"SidebarHeader")},"4FtF":function(Xe,_,e){"use strict";e.d(_,"a",function(){return q}),e.d(_,"b",function(){return z});var n=e("ZKjC"),t=e("Qrj/"),a=e("JoR1"),U=e("SpKr");const q="has_clicked_highlighted_header_compose_button",z=Object(n.b)(x=>!t.a.isAnyTreatment(x)||Object(a.t)(x,q)?!1:Object(U.a)(x)<5);z.meta={name:"createSelector",key:"createSelectorshouldShowHighlightedComposeButton",description:x=>!t.a.isAnyTreatment(x)||Object(a.t)(x,q)?!1:Object(U.a)(x)<5}},rLon:function(Xe,_,e){"use strict";e.r(_);var n=e("q1tI"),t=e.n(n),a=e("xaOx"),U=e("/MKj"),q=e("BHdc"),z=e("c+dP"),x=e("tv4y"),fe=e("ZobM"),r=e("zxER"),Qe=e("beVI"),mt=e("5htK"),se=e("rZ8V"),D=e("VqrZ"),Y=e("bqbz"),X=e("sXqy"),H=e("3l96"),me=e("G0eX"),Je=e("F0YV"),oe=e("nNoG"),Q=e("qDEp"),Oe=e("o3gz"),ee=e("03PU"),B=e("uMnE"),ve=e("sLRC"),Ze=e("Dfh+"),de=e("4YJR"),te=e("ktUG");const b=new oe.b("ia4"),_e={eventId:te.EventId.NEWXP_JOIN_TEAM,uiStep:te.UiStep.NFX_WORKSPACE_FILTER_COACHMARK,elementType:te.ElementType.COACHMARK,clogImpression:!0},ke={zIndex:1054},qe=O(o=>{let{children:l,teamName:m}=o;const d=Object(U.useDispatch)(),{closure:y,currentStep:E,isOpen:S,nextStep:M,totalSteps:P}=Object(Ze.a)(ve.c.WorkspaceFilterCoachmark),A=Object(n.useCallback)(()=>{d(Object(de.i)(M))},[d,M]),C=Object(n.useCallback)(()=>{d(Object(de.i)(y))},[y,d]),K=Object(n.useCallback)(()=>t.a.createElement(B.a,{currentStep:E,totalSteps:P}),[E,P]),pe=Object(n.useMemo)(()=>t.a.createElement(Oe.a,{ariaLabel:b.t("Now you can see all your channels from all your workspaces in Home. Use the filter to choose which channels to see and organize them into sections. {currentStep} of {totalSteps}",{currentStep:E,totalSteps:P}),className:"p-nfx_workspace_filter_coachmark",centerOnArrow:!0,arrowPosition:30,offsetX:-20,offsetY:70,isOpen:S,title:b.rt("Filter channels from your {teamName} workspaces",{teamName:m}),bodyText:b.rt("Now you can see all your channels from all your workspaces in Home. Use the filter to choose which channels to see and organize them into sections.<steps></steps>",{"<steps>":K}),onClickPrimaryButton:A,primaryCallToActionText:b.t("Next"),closeCoachmark:C,overlayStyle:ke,autoClogProps:_e}),[K,E,C,A,S,m,P]);return t.a.createElement(ee.b,{coachmarkElement:pe,orientation:"right-top"},l)},"NFXWorkspaceFilterCoachmark");qe.displayName="NFXWorkspaceFilterCoachmark";var ue=qe;const ge=new oe.b("ia4"),et={eventId:te.EventId.NEWXP_JOIN_TEAM,uiStep:te.UiStep.NFX_WORKSPACE_FILTER_COACHMARK,elementType:te.ElementType.COACHMARK,clogImpression:!0},Se={zIndex:1054};function dt(o){let{children:l,teamName:m}=o;const d=Object(U.useDispatch)(),y=Object(r.d)(se.t),{closure:E,isOpen:S,totalSteps:M}=Object(Ze.a)(ve.a.WorkspaceFilterCoachmarkClosure),P=Object(n.useCallback)(()=>{d(Object(de.i)(E))},[d,E]),A=Object(n.useCallback)(()=>t.a.createElement(B.a,{currentStep:M-1,totalSteps:M}),[M]),C=Object(n.useMemo)(()=>t.a.createElement(Oe.a,{ariaLabel:y?ge.t("Use this filter to show all your {teamName} channels or only channels from specific workspaces. {currentStep} of {totalSteps}",{teamName:m,currentStep:M-1,totalSteps:M}):"",className:"p-nfx_workspace_filter_coachmark",centerOnArrow:!0,arrowPosition:30,offsetX:-20,offsetY:70,isOpen:S,title:y?ge.rt("Before you go: channels from your {teamName} workspaces appear together",{teamName:m}):"",bodyText:y?ge.rt("Use this filter to show all your {teamName} channels or only channels from specific workspaces.<steps></steps>",{"<steps>":A,teamName:m}):"",onClickPrimaryButton:P,primaryCallToActionText:ge.t("Next"),closeCoachmark:P,overlayStyle:Se,autoClogProps:et}),[y,m,M,S,A,P]);return y?t.a.createElement(ee.b,{coachmarkElement:C,orientation:"right-top"},l):l}O(dt,"NFXWorkspaceFilterCoachmarkClosure");var tt=e("qDsB"),ut=e("E3dU"),pt=e("Yauy"),bt=e("Jmua"),ht=e("1Mid");function ft(o){const l=Object(n.useCallback)(M=>Object(ut.b)(M).filter(A=>{var C;return((C=Object(pt.j)(A))===null||C===void 0?void 0:C.includes(o))&&!Object(bt.a)(A)}).map(A=>A.id),[o]),m=Object(r.g)(l),d=Object(r.d)(ht.d),y=Object(n.useMemo)(()=>m.some(M=>{var P;return(P=d[M])===null||P===void 0?void 0:P.unreadCnt}),[m,d]);var E;const S=Object(n.useMemo)(()=>m.reduce((M,P)=>{var A;return M+((E=(A=d[P])===null||A===void 0?void 0:A.unreadHighlightCnt)!==null&&E!==void 0?E:0)},0),[m,d]);return Object(n.useMemo)(()=>({hasUnreads:y,mentionCount:S}),[y,S])}O(ft,"useWorkspaceBadgeCounts");var we=e("4unc");function Ot(o){let{teamId:l}=o;const{hasUnreads:m,mentionCount:d}=ft(l);return d?t.a.createElement(we.b,{count:d,style:we.a.themed,className:"p-workspace_filter_menu__item__badge"}):m?t.a.createElement("div",{className:"p-workspace_filter_menu__item__dot"}):null}O(Ot,"WorkspaceFilterMenuItemBadge");function vt(o){let{teamId:l,icon:m,label:d,checked:y=!1}=o;return t.a.createElement("div",{className:Object(q.default)("p-workspace_filter_menu__item",{"p-workspace_filter_menu__item--selected":y})},m&&t.a.createElement("div",{className:"p-workspace_filter_menu__item__icon"},m),t.a.createElement("span",{className:"overflow_ellipsis"},d),l&&t.a.createElement(Ot,{teamId:l}))}O(vt,"WorkspaceFilterMenuItem");var kt=e("xIgt");function Pe(){return Pe=Object.assign||function(o){for(var l=1;l<arguments.length;l++){var m=arguments[l];for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&(o[d]=m[d])}return o},Pe.apply(this,arguments)}O(Pe,"_extends");const ye=new oe.b("ia4"),gt={backgroundColor:"rgba(0, 0, 0, 0.15)"};function je(o){return o.key===D.b.All||o.key===D.b.AllInternal}O(je,"isStaticMenuItem");function yt(o){return!je(o)}O(yt,"isWorkspaceMenuItem");function jt(o){return Object(D.d)(o)?o.type:o.workspace.id}O(jt,"workspaceFilterToMenuItemKey");function Et(o){return je(o)?{type:o.key}:{type:D.b.Workspace,workspace:{id:o.key,type:o.meta.workspaceType}}}O(Et,"keyedMenuItemToWorkspaceFilter");function Ae(o){let{label:l,key:m,icon:d}=o;return{type:x.b.default,meta:{label:l,icon:d},key:m}}O(Ae,"makeStaticMenuItem");function Ct(o,l){const m=Object(me.h)(o);var d;const y=(d=Object(me.m)(o))!==null&&d!==void 0?d:void 0,E=ye.t("external");return{type:x.b.default,key:Object(me.n)(o),meta:{workspaceType:l,label:`${m}${l===D.c.External?` (${E})`:""}`,icon:y}}}O(Ct,"makeWorkspaceMenuItem");function Te(o){let{className:l,teamIconClassName:m}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return je(o)?null:t.a.createElement(Je.a,{className:l??m,icon:o.meta.icon,size:20,teamName:o.meta.label})}O(Te,"makeMenuItemIcon"),Te.displayName="makeMenuItemIcon";const xe=O(()=>{const o=Object(U.useDispatch)(),l=Object(r.d)(se.o),m=Object(r.d)(Qe.q),d=Object(r.d)(mt.a),y=Object(r.d)(Y.A),E=Object(r.d)(Qe.g),S=Object(tt.a)(ve.c.WorkspaceFilterCoachmark),M=Object(tt.a)(ve.a.WorkspaceFilterCoachmarkClosure),P=Object(n.useCallback)(N=>{o(Object(X.w)({workspaceFilter:Et(N)}))},[o]),A=Object(n.useCallback)(()=>{o(Object(H.a)({element:t.a.createElement(kt.a,null),isStackable:!0}))},[o]),C=Object(n.useMemo)(()=>Ae({label:ye.t("All workspaces",{fallbackHash:"22e3fb740a3a827d03422129963866a10c9f97ee",fallbackHashNs:"enterprise_dashboard"}),key:D.b.All,icon:"workspace"}),[]),{workspacesMenuItems:K,workspacesMenuItemsByKey:pe}=Object(n.useMemo)(()=>{const N=[C,...m.map(W=>Ct(W,D.c.Internal))];return{workspacesMenuItems:N,workspacesMenuItemsByKey:N.reduce((W,st)=>(W[st.key]=st,W),{})}},[m,C]),{selectedKey:Le,selectedItem:Ce}=Object(n.useMemo)(()=>{const N=y?jt(y):void 0,W=N?pe[N]:void 0;return W?{selectedKey:N,selectedItem:W}:(o(Object(X.w)({workspaceFilter:{type:C.key}})),{selectedKey:C.key,selectedItem:C})},[pe,y,C,o]),Fe=Object(n.useCallback)(N=>({type:x.b.checkbox,checked:N.key===Le,key:N.key,click:()=>P(N),className:"p-workspace_filter_menu__item_container",classNameListItem:"p-workspace_filter_menu__item_label",ariaRole:"menuitemradio",children:t.a.createElement(vt,{teamId:yt(N)?N.key:void 0,label:N.meta.label,icon:Te(N),checked:N.key===Le})}),[P,Le]),Ie=Object(n.useMemo)(()=>[...K.map(N=>Fe(N)),{type:x.b.separator,key:"separator"},{type:x.b.default,key:"edit-or-reorder",label:l?ye.t("Edit and reorder workspaces",{fallbackHash:"77c33adfdac1c3ccaa95abf3a1c1a42c99935e68",fallbackHashNs:"ia4"}):"Edit and reorder workspaces",click:()=>A()}],[K,l,Fe,A]),V=Object(n.useCallback)(N=>{var W;return t.a.createElement(dt,{teamName:Object(me.h)(E)},t.a.createElement(ue,{teamName:Object(me.h)(E)},t.a.createElement(z.a,Pe({},N,{width:(W=N.targetBounds)===null||W===void 0?void 0:W.width,isOpen:S||M,menuClassNames:"p-workspace_filter_menu__menu",template:Ie}))))},[S,M,Ie,E]);if(!l||m.length<=1&&!d)return null;const De=je(Ce)?null:t.a.createElement(Je.a,{className:"p-workspace_filter_menu__pill_icon",icon:Ce.meta.icon,size:20,teamName:Ce.meta.label});return t.a.createElement("div",{className:"p-workspace_filter_menu__pill_container"},t.a.createElement(z.e,{renderMenu:V,position:"bottom-left",offsetY:4,isOpen:S||M,overlayStyle:S||M?gt:void 0,ariaHidden:S||M},t.a.createElement(Q.d,{className:"p-workspace_filter_menu__pill","data-qa":"workspace_filter_menu","aria-label":ye.t("Workspace filter",{fallbackHash:"f0616c2d17df6b887f59fe99a1d8f082108cd38a"})},De,t.a.createElement("div",{className:Object(q.default)("p-workspace_filter_menu__pill_name",{"p-workspace_filter_menu__pill_name--no-icon":!De})},Ce.meta.label),t.a.createElement("div",{className:"p-workspace_filter_menu__pill_caret"},t.a.createElement(fe.a,{name:"caret-down",size:"18"})))))},"WorkspaceFilterMenu");xe.displayName="WorkspaceFilterMenu";var at=xe,It=e("pmw5"),nt=e("lYQS");const He=new oe.b("channel_sidebar"),ce=O(o=>{let{onDismiss:l,children:m}=o;const d=`sidebar-filter-label-${Object(nt.a)()}`,y=`sidebar-filter-button-${Object(nt.a)()}`;return t.a.createElement("div",{className:"p-channel_sidebar_filter_pill__container"},t.a.createElement("div",{className:"p-channel_sidebar_filter_pill","data-qa":"channel_sidebar_filter_pill"},t.a.createElement("span",{id:d},m),t.a.createElement(It.a,{id:y,"aria-labelledby":`${d} ${y}`,className:"p-channel_sidebar_filter_pill__dismiss","aria-label":He.t("Remove filter",{fallbackHash:"e963907dac5cd5c017869b4c96c18021c9bd058b",fallbackHashNs:"admin"}),onClick:l,size:"small"},t.a.createElement(fe.a,{name:"close",size:"18"}))))},"ChannelSidebarFilterPill");ce.displayName="ChannelSidebarFilterPill";var u=ce,We=e("HKlo"),Mt=e("g3+L");const Ee=new oe.b("ia4"),Re=O(()=>{const o=Object(U.useDispatch)(),l=Object(r.d)(Y.x),{transitionFocusTo:m}=Object(n.useContext)(Mt.a),d=Object(n.useCallback)(()=>{o(Object(X.u)({peopleFilter:{type:D.a.All}})),m({focusKey:We.c.SIDEBAR_CURRENT_CHANNEL})},[o,m]),y=Object(n.useCallback)(()=>{let E=null;switch(l==null?void 0:l.type){case D.a.Internal:E=Ee.rt("Showing only conversations <strong>without external people</strong>",{fallbackHash:"d1922b3412d99fecd14a0b6fe6125c695a4b0752"});break;case D.a.External:E=Ee.rt("Showing only conversations that <strong>include external people</strong>",{fallbackHash:"8d2ab56bf00500ab1894c40eaa8ec8e147063f63"});break;default:}return E},[l==null?void 0:l.type]);return(l==null?void 0:l.type)!==D.a.Internal&&(l==null?void 0:l.type)!==D.a.External?null:t.a.createElement(u,{onDismiss:d},t.a.createElement("div",{className:"p-people_filter_pill_description"},y()))},"PeopleFilterPill");Re.displayName="PeopleFilterPill";var Zt=Re,Nt=e("1cSq"),St=e("Trx9"),_t=e("MAiY"),qt=_.default=t.a.memo(()=>{const[o,l]=Object(n.useState)(!1),m=Object(n.useCallback)(d=>{l(d)},[]);return t.a.createElement(St.a,{eventId:te.EventId.HOME_VIEW_OPEN,clogImpression:!0,enableClogImpressionOffScreen:!1,clogImpressionDuration:!0},t.a.createElement("div",{className:"p-ia4_channel_list"},t.a.createElement(Nt.a,{isChannelListOverflowing:o}),t.a.createElement(at,null),t.a.createElement(Zt,null),t.a.createElement(a.a,{onOverflow:m})))})}}]);})();
